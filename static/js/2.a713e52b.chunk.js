(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[2],[function(t,e,n){"use strict";var r,i=function(){function t(t,e,n,r){void 0===r&&(r=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,r||0))}return t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.fromHexString=function(e){var n=e.match(t.hexRe);if(n)return new t((r=parseInt(n[1],16))/255,(i=parseInt(n[2],16))/255,(o=parseInt(n[3],16))/255,(s=void 0!==n[4]?parseInt(n[4],16):255)/255);if(n=e.match(t.shortHexRe)){var r=parseInt(n[1],16),i=parseInt(n[2],16),o=parseInt(n[3],16),s=void 0!==n[4]?parseInt(n[4],16):15;return new t((r+=16*r)/255,(i+=16*i)/255,(o+=16*o)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.fromRgbaString=function(e){var n=e.match(t.rgbRe);if(n)return new t(+n[1]/255,+n[2]/255,+n[3]/255);if(n=e.match(t.rgbaRe))return new t(+n[1]/255,+n[2]/255,+n[3]/255,+n[4]);throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,r,i){void 0===i&&(i=1);var o=t.HSBtoRGB(e,n,r);return new t(o[0],o[1],o[2],i)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=NaN;if(r!==i){var s=i-r,a=(i-t)/s,u=(i-e)/s,l=(i-n)/s;o=t===i?l-u:e===i?2+a-l:4+u-a,(o/=6)<0&&(o+=1)}return[360*o,0!==i?(i-r)/i:0,i]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var r=0,i=0,o=0;if(0===e)r=i=o=n;else{var s=6*(t-Math.floor(t)),a=s-Math.floor(s),u=n*(1-e),l=n*(1-e*a),c=n*(1-e*(1-a));switch(s>>0){case 0:r=n,i=c,o=u;break;case 1:r=l,i=n,o=u;break;case 2:r=u,i=n,o=c;break;case 3:r=u,i=l,o=n;break;case 4:r=c,i=u,o=n;break;case 5:r=n,i=u,o=l}}return[r,i,o]},t.prototype.derive=function(e,n,r,i){var o=t.RGBtoHSB(this.r,this.g,this.b),s=o[2];0==s&&r>1&&(s=.05);var a=((o[0]+e)%360+360)%360,u=Math.max(Math.min(o[1]*n,1),0);s=Math.max(Math.min(s*r,1),0);var l=Math.max(Math.min(this.a*i,1),0),c=t.HSBtoRGB(a,u,s);return c.push(l),t.fromArray(c)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,t.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,t.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,t.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}(),o=n(5),s=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,a=/([^\s,]+)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l=/[&<>"']/g,c=function(){function t(){}return t.doOnce=function(t,e){this.doOnceFlags[e]||(t(),this.doOnceFlags[e]=!0)},t.getMaxSafeInteger=function(){return Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:9007199254740991},t.isLeftClick=function(t){return"buttons"in t?1==t.buttons:1==(t.which||t.button)},t.areEventsNear=function(t,e,n){if(0===n)return!1;var r=Math.abs(t.clientX-e.clientX),i=Math.abs(t.clientY-e.clientY);return Math.max(r,i)<=n},t.jsonEquals=function(t,e){return(t?JSON.stringify(t):null)===(e?JSON.stringify(e):null)},t.shallowCompare=function(t,e){if(this.missing(t)&&this.missing(e))return!0;if(this.missing(t)||this.missing(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},t.getNameOfClass=function(t){var e=t.toString(),n=/function (.{1,})\(/.exec(e);return n&&n.length>1?n[1]:""},t.getValueUsingField=function(t,e,n){if(e&&t){if(n){for(var r=e.split("."),i=t,o=0;o<r.length;o++)if(i=i[r[o]],this.missing(i))return null;return i}return t[e]}},t.getElementSize=function(t){var e=window.getComputedStyle(t),n=e.height,r=e.width,i=e.paddingTop,o=e.paddingRight,s=e.paddingBottom,a=e.paddingLeft,u=e.marginTop,l=e.marginRight,c=e.marginBottom,h=e.marginLeft,p=e.boxSizing;return{height:parseFloat(n),width:parseFloat(r),paddingTop:parseFloat(i),paddingRight:parseFloat(o),paddingBottom:parseFloat(s),paddingLeft:parseFloat(a),marginTop:parseFloat(u),marginRight:parseFloat(l),marginBottom:parseFloat(c),marginLeft:parseFloat(h),boxSizing:p}},t.getInnerHeight=function(t){var e=this.getElementSize(t);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height},t.getInnerWidth=function(t){var e=this.getElementSize(t);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width},t.getAbsoluteHeight=function(t){var e=this.getElementSize(t),n=e.marginBottom+e.marginTop;return Math.ceil(t.offsetHeight+n)},t.getAbsoluteWidth=function(t){var e=this.getElementSize(t),n=e.marginLeft+e.marginRight;return Math.ceil(t.offsetWidth+n)},t.getScrollLeft=function(t,e){var n=t.scrollLeft;return e&&(n=Math.abs(n),this.isBrowserChrome()&&(n=t.scrollWidth-t.clientWidth-n)),n},t.cleanNumber=function(t){return"string"===typeof t&&(t=parseInt(t,10)),t="number"===typeof t?Math.floor(t):null},t.setScrollLeft=function(t,e,n){n&&((this.isBrowserSafari()||this.isBrowserChrome())&&(e=t.scrollWidth-t.clientWidth-e),this.isBrowserFirefox()&&(e*=-1)),t.scrollLeft=e},t.iterateNamedNodeMap=function(t,e){if(t)for(var n=0;n<t.length;n++){var r=t[n];e(r.name,r.value)}},t.iterateObject=function(t,e){t&&!this.missing(t)&&(Array.isArray(t)?t.forEach((function(t,n){return e(""+n,t)})):Object.keys(t).forEach((function(n){return e(n,t[n])})))},t.cloneObject=function(t){for(var e={},n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];e[i]=o}return e},t.copyPropertiesIfPresent=function(t,e){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];r.forEach((function(r){return n.copyPropertyIfPresent(t,e,r)}))},t.copyPropertyIfPresent=function(t,e,n,r){var i=this.getProperty(t,n);void 0!==i&&this.setProperty(e,n,r?r(i):i)},t.getAllKeysInObjects=function(t){var e={};return t.forEach((function(t){t&&Object.keys(t).forEach((function(t){return e[t]=null}))})),Object.keys(e)},t.mergeDeep=function(e,n,r){void 0===r&&(r=!0),this.exists(n)&&this.iterateObject(n,(function(n,i){var o=e[n];o!==i&&("object"!==typeof o||"object"!==typeof i||Array.isArray(o)?(r||void 0!==i)&&(e[n]=i):t.mergeDeep(o,i))}))},t.assign=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n.forEach((function(n){e.exists(n)&&e.iterateObject(n,(function(e,n){t[e]=n}))})),t},t.flatten=function(t){return[].concat.apply([],t)},t.parseYyyyMmDdToDate=function(t,e){try{if(!t)return null;if(-1===t.indexOf(e))return null;var n=t.split(e);return 3!=n.length?null:new Date(Number(n[0]),Number(n[1])-1,Number(n[2]))}catch(r){return null}},t.serializeDateToYyyyMmDd=function(t,e){return t?t.getFullYear()+e+this.padStart(t.getMonth()+1,2)+e+this.padStart(t.getDate(),2):null},t.padStart=function(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n},t.pushAll=function(t,e){this.missing(e)||this.missing(t)||e.forEach((function(e){return t.push(e)}))},t.createArrayOfNumbers=function(t,e){for(var n=[],r=t;r<=e;r++)n.push(r);return n},t.getFunctionParameters=function(t){var e=t.toString().replace(s,""),n=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(a);return null===n?[]:n},t.find=function(t,e,n){if(null===t||void 0===t)return null;if(!Array.isArray(t)){var r=this.values(t);return this.find(r,e,n)}for(var i=t,o=null,s=0;s<i.length;s++){var a=i[s];if("string"===typeof e){if(a[e]===n){o=a;break}}else if(e(a)){o=a;break}}return o},t.toStrings=function(t){return t.map((function(t){return void 0!==t&&null!==t&&t.toString?t.toString():null}))},t.findIndex=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1},t.isNode=function(t){return"function"===typeof Node?t instanceof Node:t&&"object"===typeof t&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName},t.isElement=function(t){return"function"===typeof HTMLElement?t instanceof HTMLElement:t&&"object"===typeof t&&null!==t&&1===t.nodeType&&"string"===typeof t.nodeName},t.isNodeOrElement=function(t){return this.isNode(t)||this.isElement(t)},t.copyNodeList=function(t){for(var e=t?t.length:0,n=[],r=0;r<e;r++)n.push(t[r]);return n},t.isEventFromPrintableCharacter=function(e){var n=String.fromCharCode(e.charCode);if(this.isKeyPressed(e,o.a.KEY_NEW_LINE))return!1;if(e.altKey||e.ctrlKey)return!1;if(p.exists(e.key)){var r=1===e.key.length,i=t.isNumpadDelWithNumlockOnForEdgeOrIe(e);return r||i}return t.PRINTABLE_CHARACTERS.indexOf(n)>=0},t.isUserSuppressingKeyboardEvent=function(t,e,n,r,i){var o=t.getSuppressKeyboardEventFunc(),s=r.getColDef().suppressKeyboardEvent;if(!o&&!s)return!1;var a={event:e,editing:i,column:r,api:t.getApi(),node:n,data:n.data,colDef:r.getColDef(),context:t.getContext(),columnApi:t.getColumnApi()};if(s&&s(a))return!0;return!!o&&o(a)},t.getCellCompForEvent=function(t,e){for(var n=this.getTarget(e);n;){var r=t.getDomData(n,"cellComp");if(r)return r;n=n.parentElement}return null},t.addChangeListener=function(t,e){t.addEventListener("changed",e),t.addEventListener("paste",e),t.addEventListener("input",e),t.addEventListener("keydown",e),t.addEventListener("keyup",e)},t.makeNull=function(t){return null===t||void 0===t||""===t?null:t},t.missing=function(t){return!this.exists(t)},t.missingOrEmpty=function(t){return!t||this.missing(t)||0===t.length},t.missingOrEmptyObject=function(t){return this.missing(t)||0===Object.keys(t).length},t.exists=function(t,e){return void 0===e&&(e=!1),null!=t&&(""!==t||e)},t.firstExistingValue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++){var r=t[n];if(p.exists(r))return r}return null},t.anyExists=function(t){if(t)for(var e=0;e<t.length;e++)if(this.exists(t[e]))return!0;return!1},t.existsAndNotEmpty=function(t){return null!=t&&this.exists(t)&&t.length>0},t.clearElement=function(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)},t.removeElement=function(t,e){this.removeFromParent(t.querySelector(e))},t.removeFromParent=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},t.isVisible=function(t){return null!==t.offsetParent},t.callIfPresent=function(t){t&&t()},t.loadTemplate=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild},t.appendHtml=function(t,e){t.lastChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e},t.addOrRemoveCssClass=function(t,e,n){n?this.addCssClass(t,e):this.removeCssClass(t,e)},t.radioCssClass=function(t,e,n){for(var r=t.parentElement.firstChild;r;)p.addOrRemoveCssClass(r,e,n?r!==t:r===t),r=r.nextSibling},t.addCssClass=function(t,e){var n=this;if(e&&0!==e.length)if(e.indexOf(" ")>=0)e.split(" ").forEach((function(e){return n.addCssClass(t,e)}));else if(t.classList)t.classList.add(e);else if(t.className&&t.className.length>0){var r=t.className.split(" ");r.indexOf(e)<0&&(r.push(e),t.setAttribute("class",r.join(" ")))}else t.setAttribute("class",e)},t.removeCssClass=function(t,e){if(t.classList)t.classList.remove(e);else if(t.className&&t.className.length>0){var n=t.className.split(" ").filter((function(t){return t!==e})).join(" ");t.setAttribute("class",n)}},t.containsClass=function(t,e){if(t.classList)return t.classList.contains(e);if(t.className){var n=t.className===e,r=t.className.indexOf(" "+e+" ")>=0,i=0===t.className.indexOf(e+" "),o=t.className.lastIndexOf(" "+e)===t.className.length-e.length-1;return n||r||i||o}return!1},t.getElementAttribute=function(t,e){return t.attributes&&t.attributes[e]?t.attributes[e].value:null},t.offsetHeight=function(t){return t&&t.clientHeight?t.clientHeight:0},t.offsetWidth=function(t){return t&&t.clientWidth?t.clientWidth:0},t.sortNumerically=function(t){return t.sort((function(t,e){return t-e}))},t.removeRepeatsFromArray=function(t,e){if(t)for(var n=t.length-2;n>=0;n--){var r=t[n]===e,i=t[n+1]===e;r&&i&&t.splice(n+1,1)}},t.removeFromArray=function(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)},t.removeAllFromArray=function(t,e){var n=this;e.forEach((function(e){return n.removeFromArray(t,e)}))},t.insertIntoArray=function(t,e,n){t.splice(n,0,e)},t.insertArrayIntoArray=function(t,e,n){if(!this.missing(t)&&!this.missing(e))for(var r=e.length-1;r>=0;r--){var i=e[r];this.insertIntoArray(t,i,n)}},t.moveInArray=function(t,e,n){var r=this;e.forEach((function(e){r.removeFromArray(t,e)})),e.slice().reverse().forEach((function(e){r.insertIntoArray(t,e,n)}))},t.defaultComparator=function(t,e,n){void 0===n&&(n=!1);var r=null===t||void 0===t,i=null===e||void 0===e;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;if("string"===typeof t){if(!n)return o(t,e);try{return t.localeCompare(e)}catch(s){return o(t,e)}}return t<e?-1:t>e?1:0;function o(t,e){return t>e?1:t<e?-1:0}},t.last=function(t){if(t&&t.length)return t[t.length-1]},t.compareArrays=function(t,e){if(this.missing(t)&&this.missing(e))return!0;if(this.missing(t)||this.missing(e)||!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},t.ensureDomOrder=function(t,e,n){n&&n.nextSibling===e||(n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))},t.setDomChildOrder=function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=t.children[n];i!==r&&t.insertBefore(r,i)}},t.insertTemplateWithDomOrder=function(t,e,n){var r;return n?(n.insertAdjacentHTML("afterend",e),r=n.nextSibling):(t.firstChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e,r=t.firstChild),r},t.every=function(t,e){if(!t||0===t.length)return!0;for(var n=0;n<t.length;n++)if(!e(t[n]))return!1;return!0},t.toStringOrNull=function(t){return this.exists(t)&&t.toString?t.toString():null},t.formatSize=function(t){return"number"===typeof t?t+"px":t},t.formatNumberTwoDecimalPlacesAndCommas=function(t){return"number"!==typeof t?"":(Math.round(100*t)/100).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},t.findLineByLeastSquares=function(t){var e=t.length;if(e<=1)return t;for(var n=0,r=0,i=0,o=0,s=0,a=0;a<e;a++)n+=a,r+=s=t[a],o+=a*a,i+=a*s;var u=(e*i-n*r)/(e*o-n*n),l=r/e-u*n/e,c=[];for(a=0;a<=e;a++)c.push(a*u+l);return c},t.formatNumberCommas=function(t){return"number"!==typeof t?"":t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},t.prependDC=function(t,e){this.exists(t.firstChild)?t.insertBefore(e,t.firstChild):t.appendChild(e)},t.createIcon=function(t,e,n){var r=this.createIconNoSpan(t,e,n);if(r.className.indexOf("ag-icon")>-1)return r;var i=document.createElement("span");return i.appendChild(r),i},t.createIconNoSpan=function(t,e,n,r){var i=null,o=n&&n.getColDef().icons;if(o&&(i=o[t]),e&&!i){var s=e.getIcons();s&&(i=s[t])}if(!i){var a=document.createElement("span"),u=this.iconNameClassMap[t];return u||(r?u=t:(console.warn("ag-Grid: Did not find icon "+t),u="")),a.setAttribute("class","ag-icon ag-icon-"+u),a.setAttribute("unselectable","on"),a}var l=void 0;if("function"===typeof i)l=i();else{if("string"!==typeof i)throw new Error("icon from grid options needs to be a string or a function");l=i}return"string"===typeof l?this.loadTemplate(l):this.isNodeOrElement(l)?l:void console.warn("ag-Grid: iconRenderer should return back a string or a dom object")},t.addStylesToElement=function(t,e){var n=this;e&&Object.keys(e).forEach((function(r){var i=n.hyphenToCamelCase(r);i&&(t.style[i]=e[r])}))},t.isHorizontalScrollShowing=function(t){return t.clientWidth<t.scrollWidth},t.isVerticalScrollShowing=function(t){return t.clientHeight<t.scrollHeight},t.getMaxDivHeight=function(){if(!document.body)return-1;var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=this.loadTemplate("<div/>");for(document.body.appendChild(n);;){var r=2*t;if(n.style.height=r+"px",r>e||n.clientHeight!==r)break;t=r}return document.body.removeChild(n),t},t.getScrollbarWidth=function(){var t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);var n=e.offsetWidth-e.clientWidth;return e.parentNode&&e.parentNode.removeChild(e),n},t.hasOverflowScrolling=function(){var t=["webkit","moz","o","ms"],e=document.createElement("div"),n=!1;document.getElementsByTagName("body")[0].appendChild(e),e.setAttribute("style",t.map((function(t){return"-"+t+"-overflow-scrolling: touch"})).concat("overflow-scrolling: touch").join(";"));var r=window.getComputedStyle(e);if("touch"===r.overflowScrolling&&(n=!0),!n)for(var i=0,o=t;i<o.length;i++)if("touch"===r[o[i]+"OverflowScrolling"]){n=!0;break}return e.parentNode&&e.parentNode.removeChild(e),n},t.isKeyPressed=function(t,e){return(t.which||t.keyCode)===e},t.isCharacterKey=function(t){var e=t.which;return"number"===typeof e&&e?!t.ctrlKey&&!t.metaKey&&!t.altKey&&8!==t.which&&16!==t.which:void 0===e},t.setDisplayed=function(t,e){this.addOrRemoveCssClass(t,"ag-hidden",!e)},t.setVisible=function(t,e){this.addOrRemoveCssClass(t,"ag-invisible",!e)},t.setElementWidth=function(t,e){"flex"===e?(t.style.width=null,t.style.minWidth=null,t.style.maxWidth=null,t.style.flex="1 1 auto"):this.setFixedWidth(t,e)},t.setFixedWidth=function(t,e){e=this.formatSize(e),t.style.width=e,t.style.maxWidth=e,t.style.minWidth=e},t.setElementHeight=function(t,e){"flex"===e?(t.style.height=null,t.style.minHeight=null,t.style.maxHeight=null,t.style.flex="1 1 auto"):this.setFixedHeight(t,e)},t.setFixedHeight=function(t,e){e=this.formatSize(e),t.style.height=e,t.style.maxHeight=e,t.style.minHeight=e},t.isBrowserIE=function(){return void 0===this.isIE&&(this.isIE=!!document.documentMode),this.isIE},t.isBrowserEdge=function(){return void 0===this.isEdge&&(this.isEdge=!this.isBrowserIE()&&!!window.StyleMedia),this.isEdge},t.isBrowserSafari=function(){if(void 0===this.isSafari){var t=window;this.isSafari=Object.prototype.toString.call(t.HTMLElement).indexOf("Constructor")>0||!!(e=!t.safari||t.safari.pushNotification)&&"[object SafariRemoteNotification]"===e.toString()}var e;return this.isSafari},t.isBrowserChrome=function(){if(void 0===this.isChrome){var t=window;this.isChrome=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return this.isChrome},t.isBrowserFirefox=function(){if(void 0===this.isFirefox){var t=window;this.isFirefox="undefined"!==typeof t.InstallTrigger}return this.isFirefox},t.isIOSUserAgent=function(){return void 0===this.isIOS&&(this.isIOS=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),this.isIOS},t.getTarget=function(t){var e=t;return e.target||e.srcElement},t.isElementChildOfClass=function(t,e,n){for(var r=0;t;){if(this.containsClass(t,e))return!0;if(t=t.parentElement,n&&++r>n)break}return!1},t.isElementInEventPath=function(t,e){return!(!e||!t)&&p.getEventPath(e).indexOf(t)>=0},t.isFunction=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},t.createEventPath=function(t){for(var e=[],n=p.getTarget(t);n;)e.push(n),n=n.parentElement;return e},t.addAgGridEventPath=function(t){t.__agGridEventPath=this.getEventPath(t)},t.getEventPath=function(t){var e=t;return e.deepPath?e.deepPath():e.path?e.path:e.composedPath?e.composedPath():e.__agGridEventPath?e.__agGridEventPath:this.createEventPath(t)},t.forEachSnapshotFirst=function(t,e){t&&t.slice(0).forEach(e)},t.getBodyWidth=function(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1},t.getBodyHeight=function(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1},t.setCheckboxState=function(t,e){"boolean"===typeof e?(t.checked=e,t.indeterminate=!1):t.indeterminate=!0},t.traverseNodesWithKey=function(t,e){var n=[];!function t(r){r.forEach((function(r){if(r.group||r.hasChildren()){n.push(r.key);var i=n.join("|");e(r,i),t(r.childrenAfterGroup),n.pop()}}))}(t)},t.camelCaseToHyphen=function(t){return null===t||void 0===t?null:t.replace(/([A-Z])/g,(function(t){return"-"+t[0].toLowerCase()}))},t.hyphenToCamelCase=function(t){return null===t||void 0===t?null:t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))},t.capitalise=function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()},t.cssStyleObjectToMarkup=function(t){var e=this;if(!t)return"";var n=[];return this.iterateObject(t,(function(t,r){var i=e.camelCaseToHyphen(t);n.push(i+": "+r+";")})),n.join(" ")},t.isNumeric=function(t){return""!==t&&(!isNaN(parseFloat(t))&&isFinite(t))},t.escape=function(t){return null!==t&&void 0!==t&&t.replace?t.replace(l,(function(t){return u[t]})):t},t.normalizeWheel=function(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=10*e,i=10*n,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(1==t.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}},t.debounce=function(t,e,n){var r;return void 0===n&&(n=!1),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=this,a=n&&!r;window.clearTimeout(r),r=window.setTimeout((function(){r=null,n||t.apply(s,i)}),e),a&&t.apply(s,i)}},t.stopPropagationForAgGrid=function(t){t.__ag_Grid_Stop_Propagation=!0},t.isStopPropagationForAgGrid=function(t){return!0===t.__ag_Grid_Stop_Propagation},t.executeInAWhile=function(t){this.executeAfter(t,400)},t.executeNextVMTurn=function(t){this.executeAfter(t,0)},t.executeAfter=function(t,e){t.length>0&&window.setTimeout((function(){t.forEach((function(t){return t()}))}),e)},t.referenceCompare=function(t,e){return null==t&&null==e||(null!=t||!e)&&((!t||null!=e)&&t===e)},t.get=function(t,e,n){if(null==t)return n;for(var r=e.split("."),i=t;r.length>1;)if(null==(i=i[r.shift()]))return n;var o=i[r[0]];return null!=o?o:n},t.set=function(t,e,n){if(null!=t){for(var r=e.split("."),i=t;r.length>1;)if(null==(i=i[r.shift()]))return;i[r[0]]=n}},t.addSafePassiveEventListener=function(e,n,r,i){var o=this.includes(t.PASSIVE_EVENTS,r)?{passive:!0}:void 0;this.includes(t.OUTSIDE_ANGULAR_EVENTS,r)?e.addEventListenerOutsideAngular(n,r,i,o):n.addEventListener(r,i,o)},t.camelCaseToHumanText=function(t){if(!t||null==t)return null;return t.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map((function(t){return t.substring(0,1).toUpperCase()+(t.length>1?t.substring(1,t.length):"")})).join(" ")},t.message=function(t){var e=document.createElement("div");e.innerHTML=t;var n=document.querySelector("#__ag__message");if(!n){n=this.loadTemplate('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(n)}n.insertBefore(e,n.children[0])},t.sortRowNodesByOrder=function(t,e){if(t){for(var n=function(t,n){var r=e[t.id],i=e[n.id],o=void 0!==r,s=void 0!==i;return o&&s?r-i:!o&&!s?t.__objectId-n.__objectId:o?1:-1},r=!1,i=0;i<t.length-1;i++)if(n(t[i],t[i+1])>0){r=!0;break}r&&t.sort(n)}},t.fuzzyCheckStrings=function(t,e,n){var r=this,i={},o=t.filter((function(t){return!e.some((function(e){return e===t}))}));return o.length>0&&o.forEach((function(t){return i[t]=r.fuzzySuggestions(t,n)})),i},t.fuzzySuggestions=function(t,e,n,r){var i=r?p.string_weighted_distances:p.string_distances,o=e.map((function(e){return{value:e,relevance:i(t.toLowerCase(),e.toLocaleLowerCase())}}));return o.sort((function(t,e){return e.relevance-t.relevance})),n&&(o=o.filter((function(t){return 0!==t.relevance}))),o.map((function(t){return t.value}))},t.get_bigrams=function(t){var e,n,r,i=t.toLowerCase(),o=new Array(i.length-1);for(e=n=0,r=o.length;n<=r;e=n+=1)o[e]=i.slice(e,e+2);return o},t.string_distances=function(t,e){if(0===t.length&&0===e.length)return 0;var n,r,i=p.get_bigrams(t),o=p.get_bigrams(e),s=i.length+o.length,a=0;for(n=0,r=i.length;n<r;n++){var u,l=i[n],c=void 0;for(c=0,u=o.length;c<u;c++){l===o[c]&&a++}}return a>0?2*a/s:0},t.string_weighted_distances=function(t,e){for(var n=t.replace(/\s/g,""),r=e.replace(/\s/g,""),i=0,o=0,s=0;s<n.length;s++){var a=r.indexOf(n[s]);-1!==a&&(o=a,i+=100*(r.length-o)/r.length,i*=i)}return i},t.isNumpadDelWithNumlockOnForEdgeOrIe=function(e){return!(!t.isBrowserEdge()&&!t.isBrowserIE())&&(e.key===t.NUMPAD_DEL_NUMLOCK_ON_KEY&&e.charCode===t.NUMPAD_DEL_NUMLOCK_ON_CHARCODE)},t.bindCellRendererToHtmlElement=function(t,e){t.then((function(t){var n=t.getGui();null!=n&&("object"==typeof n?e.appendChild(n):e.innerHTML=n)}))},t.convertToSet=function(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),e},t.deepFreeze=function(t){var e=this;return Object.freeze(t),p.values(t).filter((function(t){return null!=t})).forEach((function(t){"object"!==typeof t&&"function"!==typeof t||e.deepFreeze(t)})),t},t.PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel"],t.OUTSIDE_ANGULAR_EVENTS=["mouseover","mouseout","mouseenter","mouseleave"],t.PRINTABLE_CHARACTERS="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890!\"\xa3$%^&*()_+-=[];'#,./\\|<>?:@~{}",t.NUMPAD_DEL_NUMLOCK_ON_KEY="Del",t.NUMPAD_DEL_NUMLOCK_ON_CHARCODE=46,t.doOnceFlags={},t.supports={},t.isEventSupported=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(n){if("boolean"===typeof t.supports[n])return t.supports[n];var r=document.createElement(e[n]||"div"),i=(n="on"+n)in r;return i||(r.setAttribute(n,"return;"),i="function"==typeof r[n]),r=null,t.supports[n]=i}}(),t.areEqual=function(t,e){return t.length===e.length&&t.every((function(t,n){return e[n]===t}))},t.keys=function(t){var e=[];return t.forEach((function(t,n){return e.push(n)})),e},t.values=function(t){return Object.keys(t).map((function(e){return t[e]}))},t.includes=function(t,e){return t.indexOf(e)>-1},t.compose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}},t.decToHex=function(t,e){for(var n="",r=0;r<e;r++)n+=String.fromCharCode(255&t),t>>>=8;return n},t.utf8_encode=function(t){var e=String.fromCharCode;function n(t,n){return e(t>>n&63|128)}function r(t){if(0==(4294967168&t))return e(t);var r="";return 0==(4294965248&t)?r=e(t>>6&31|192):0==(4294901760&t)?(!function(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}(t),r=e(t>>12&15|224),r+=n(t,6)):0==(4292870144&t)&&(r=e(t>>18&7|240),r+=n(t,12),r+=n(t,6)),r+=e(63&t|128)}for(var i=function(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}(t),o=i.length,s=-1,a="";++s<o;)a+=r(i[s]);return a},t.deepCloneObject=function(t){return JSON.parse(JSON.stringify(t))},t.getProperty=function(t,e){return t[e]},t.setProperty=function(t,e,n){return t[e]=n},t.iconNameClassMap={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveAdd:"plus",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"contracted",groupExpanded:"expanded",chart:"chart",close:"cross",cancel:"cancel",check:"tick",checkboxChecked:"checkbox-checked",checkboxUnchecked:"checkbox-unchecked",checkboxIndeterminate:"checkbox-indeterminate",checkboxCheckedReadOnly:"checkbox-checked-readonly",checkboxUncheckedReadOnly:"checkbox-unchecked-readonly",checkboxIndeterminateReadOnly:"checkbox-indeterminate-readonly",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",groupLoading:"loading",data:"data",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",smallDown:"small-down",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"},t}(),h=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return t.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},t.prototype.peek=function(){return this.nextValue},t.prototype.skip=function(t){this.nextValue+=t},t}(),p=c;!function(t){t[t.IN_PROGRESS=0]="IN_PROGRESS",t[t.RESOLVED=1]="RESOLVED"}(r||(r={}));var d=function(){function t(t){this.status=r.IN_PROGRESS,this.resolution=null,this.listOfWaiters=[],t(this.onDone.bind(this),this.onReject.bind(this))}return t.all=function(e){return new t((function(t){var n=[],r=e.length;e.forEach((function(e,i){e.then((function(e){r--,n[i]=e,0==r&&t(n)})),n.push(null)}))}))},t.resolve=function(e){return new t((function(t){return t(e)}))},t.external=function(){var e;return{promise:new t((function(t){e=t})),resolve:function(t){e(t)}}},t.prototype.then=function(t){this.status===r.IN_PROGRESS?this.listOfWaiters.push(t):t(this.resolution)},t.prototype.firstOneOnly=function(t){this.status===r.IN_PROGRESS?0===this.listOfWaiters.length&&this.listOfWaiters.push(t):t(this.resolution)},t.prototype.map=function(e){var n=this;return new t((function(t){n.then((function(n){t(e(n))}))}))},t.prototype.resolveNow=function(t,e){return this.status==r.IN_PROGRESS?t:e(this.resolution)},t.prototype.onDone=function(t){this.status=r.RESOLVED,this.resolution=t,this.listOfWaiters.forEach((function(e){return e(t)}))},t.prototype.onReject=function(t){console.warn("TBI")},t}();!function(){function t(){this.timestamp=(new Date).getTime()}t.prototype.print=function(t){var e=(new Date).getTime()-this.timestamp;console.info(t+" = "+e),this.timestamp=(new Date).getTime()}}();n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return h})),n.d(e,"e",(function(){return p})),n.d(e,"c",(function(){return d}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"h",(function(){return p}));var r=n(0),i=function(){function t(t,e){if(this.beanWrappers={},this.componentsMappedByName={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.setupComponents(),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return t.prototype.getBeanInstances=function(){return r.e.values(this.beanWrappers).map((function(t){return t.beanInstance}))},t.prototype.setupComponents=function(){var t=this;this.contextParams.components&&this.contextParams.components.forEach((function(e){return t.addComponent(e)}))},t.prototype.addComponent=function(t){var e=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[e]=t.componentClass},t.prototype.createComponentFromElement=function(t,e){var n=t.nodeName;return this.createComponent(n,e)},t.prototype.createComponent=function(t,e){if(this.componentsMappedByName&&this.componentsMappedByName[t]){var n=new this.componentsMappedByName[t];return this.wireBean(n,e),n}return null},t.prototype.wireBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");this.wireBeans([t],e)},t.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),r.e.exists(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},t.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),r.e.iterateObject(this.beanWrappers,(function(e,n){var r;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(r=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var i=t.getBeansForParameters(r,n.bean.name),o=function(t,e){var n=[null].concat(e);return new(t.bind.apply(t,n))}(n.bean,i);n.beanInstance=o}));var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},t.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var n=void 0;return n=t.prototype.constructor?t.prototype.constructor.name:""+t,void console.error("context item "+n+" is not a bean")}var r={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=r},t.prototype.autoWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,r){var i=n.agClassAttributes;i&&i.forEach((function(n){var i=e.lookupBeanInstance(r,n.beanName,n.optional);t[n.attributeName]=i}))}))}))},t.prototype.methodWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,i){r.e.iterateObject(n.autowireMethods,(function(n,r){if("agConstructor"!==n){var o=e.getBeansForParameters(r,i);t[n].apply(t,o)}}))}))}))},t.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);null!=n;){var r=n.constructor;if(r.hasOwnProperty("__agBeanMetaData"))e(r.__agBeanMetaData,this.getBeanName(r));n=Object.getPrototypeOf(n)}},t.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},t.prototype.getBeansForParameters=function(t,e){var n=this,i=[];return t&&r.e.iterateObject(t,(function(t,r){var o=n.lookupBeanInstance(e,r);i[Number(t)]=o})),i},t.prototype.lookupBeanInstance=function(t,e,n){if(void 0===n&&(n=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var r=this.beanWrappers[e];return r?r.beanInstance:(n||console.error("ag-Grid: unable to find bean reference "+e+" while initialising "+t),null)},t.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach((function(t){n.forEachMetaDataInHierarchy(t,(function(n){var r=n[e];r&&r.forEach((function(e){return t[e]()}))}))}))},t.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},t.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.callLifeCycleMethods(t,"preDestroyMethods"),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},t}();function o(t,e,n){var r=d(t.constructor);r.postConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(e)}function s(t,e,n){var r=d(t.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(e)}function a(t,e,n){var r=d(t.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(e)}function u(t){return function(e){d(e).beanName=t}}function l(t){return function(e,n,r){h(e,t,!1,e,n,null)}}function c(t){return function(e,n,r){h(e,t,!0,e,n,null)}}function h(t,e,n,r,i,o){if(null!==e)if("number"!==typeof o){var s=d(t.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:i,beanName:e,optional:n})}else console.error("ag-Grid: Autowired should be on an attribute");else console.error("ag-Grid: Autowired name should not be null")}function p(t){return function(e,n,r){var i,o="function"==typeof e?e:e.constructor;if("number"===typeof r){var s=void 0;n?(i=d(o),s=n):(i=d(o),s="agConstructor"),i.autowireMethods||(i.autowireMethods={}),i.autowireMethods[s]||(i.autowireMethods[s]={}),i.autowireMethods[s][r]=t}}}function d(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"CONSTANTS",(function(){return i})),n.d(e,"Deferred",(function(){return d})),n.d(e,"ErrorFactory",(function(){return I})),n.d(e,"FirebaseError",(function(){return D})),n.d(e,"MAX_VALUE_MILLIS",(function(){return lt})),n.d(e,"RANDOM_FACTOR",(function(){return ct})),n.d(e,"Sha1",(function(){return X})),n.d(e,"areCookiesEnabled",(function(){return P})),n.d(e,"assert",(function(){return o})),n.d(e,"assertionError",(function(){return s})),n.d(e,"async",(function(){return J})),n.d(e,"base64",(function(){return u})),n.d(e,"base64Decode",(function(){return c})),n.d(e,"base64Encode",(function(){return l})),n.d(e,"calculateBackoffMillis",(function(){return ht})),n.d(e,"contains",(function(){return B})),n.d(e,"createMockUserToken",(function(){return f})),n.d(e,"createSubscribe",(function(){return Q})),n.d(e,"decode",(function(){return F})),n.d(e,"deepCopy",(function(){return h})),n.d(e,"deepExtend",(function(){return p})),n.d(e,"errorPrefix",(function(){return et})),n.d(e,"extractQuerystring",(function(){return Y})),n.d(e,"getGlobal",(function(){return x})),n.d(e,"getModularInstance",(function(){return dt})),n.d(e,"getUA",(function(){return g})),n.d(e,"isAdmin",(function(){return W})),n.d(e,"isBrowser",(function(){return y})),n.d(e,"isBrowserExtension",(function(){return b})),n.d(e,"isElectron",(function(){return C})),n.d(e,"isEmpty",(function(){return U})),n.d(e,"isIE",(function(){return E})),n.d(e,"isIndexedDBAvailable",(function(){return S})),n.d(e,"isMobileCordova",(function(){return v})),n.d(e,"isNode",(function(){return m})),n.d(e,"isNodeSdk",(function(){return O})),n.d(e,"isReactNative",(function(){return w})),n.d(e,"isSafari",(function(){return T})),n.d(e,"isUWP",(function(){return _})),n.d(e,"isValidFormat",(function(){return V})),n.d(e,"isValidTimestamp",(function(){return j})),n.d(e,"issuedAtTime",(function(){return G})),n.d(e,"jsonEval",(function(){return L})),n.d(e,"map",(function(){return z})),n.d(e,"ordinal",(function(){return pt})),n.d(e,"querystring",(function(){return q})),n.d(e,"querystringDecode",(function(){return K})),n.d(e,"safeGet",(function(){return H})),n.d(e,"stringLength",(function(){return st})),n.d(e,"stringToByteArray",(function(){return ot})),n.d(e,"stringify",(function(){return M})),n.d(e,"validateArgCount",(function(){return tt})),n.d(e,"validateCallback",(function(){return rt})),n.d(e,"validateContextObject",(function(){return it})),n.d(e,"validateIndexedDBOpenable",(function(){return R})),n.d(e,"validateNamespace",(function(){return nt}));var r=n(152),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,h=(3&o)<<4|a>>4,p=(15&a)<<2|l>>6,d=63&l;u||(d=64,s||(p=64)),r.push(n[c],n[h],n[p],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var l=o<<2|s>>4;if(r.push(l),64!==a){var c=s<<4&240|a>>2;if(r.push(c),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){var e=a(t);return u.encodeByteArray(e,!0)},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return p(void 0,t)}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=p(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(s),!1),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function m(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function y(){return"object"===typeof self&&self.self===self}function b(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){return g().indexOf("Electron/")>=0}function E(){var t=g();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _(){return g().indexOf("MSAppHost/")>=0}function O(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function T(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"indexedDB"in self&&null!=indexedDB}function R(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function P(){return!(!navigator||!navigator.cookieEnabled)}function x(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t)return t;throw new Error("Unable to locate global object.")}var A="FirebaseError",D=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=A,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,I.prototype.create),o}return Object(r.b)(e,t),e}(Error),I=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?N(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new D(i,a,r);return u},t}();function N(t,e){return t.replace(k,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var k=/\{\$([^}]+)}/g;function L(t){return JSON.parse(t)}function M(t){return JSON.stringify(t)}var F=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=L(c(o[0])||""),n=L(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},j=function(t){var e=F(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},G=function(t){var e=F(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null},V=function(t){var e=F(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},W=function(t){var e=F(t).claims;return"object"===typeof e&&!0===e.admin};function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function H(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function U(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function z(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function q(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function K(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("="),r=n[0],i=n[1];e[decodeURIComponent(r)]=decodeURIComponent(i)}})),e}function Y(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var X=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),s=1518500249):(o=u^l^c,s=1859775393):r<60?(o=u&l|c&(u|l),s=2400959708):(o=u^l^c,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function Q(t,e){var n=new $(t,e);return n.subscribe.bind(n)}var $=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Z),void 0===r.error&&(r.error=Z),void 0===r.complete&&(r.complete=Z);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function J(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}}function Z(){}var tt=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function et(t,e){return t+" failed: "+e+" argument "}function nt(t,e,n){if((!n||e)&&"string"!==typeof e)throw new Error(et(t,"namespace")+"must be a valid firebase namespace.")}function rt(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(et(t,e)+"must be a valid function.")}function it(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(et(t,e)+"must be a valid context object.")}var ot=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},st=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},at=1e3,ut=2,lt=144e5,ct=.5;function ht(t,e,n){void 0===e&&(e=at),void 0===n&&(n=ut);var r=e*Math.pow(n,t),i=Math.round(ct*r*(Math.random()-.5)*2);return Math.min(lt,r+i)}function pt(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(t):""+t}function dt(t){return t&&t._delegate?t._delegate:t}}.call(this,n(63))},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return a}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function a(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}Object.create},function(t,e,n){"use strict";t.exports=n(182)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){}return t.STEP_EVERYTHING=0,t.STEP_FILTER=1,t.STEP_SORT=2,t.STEP_MAP=3,t.STEP_AGGREGATE=4,t.STEP_PIVOT=5,t.ROW_BUFFER_SIZE=10,t.LAYOUT_INTERVAL=500,t.BATCH_WAIT_MILLIS=50,t.EXPORT_TYPE_DRAG_COPY="dragCopy",t.EXPORT_TYPE_CLIPBOARD="clipboard",t.EXPORT_TYPE_EXCEL="excel",t.EXPORT_TYPE_CSV="csv",t.KEY_BACKSPACE=8,t.KEY_TAB=9,t.KEY_NEW_LINE=10,t.KEY_ENTER=13,t.KEY_SHIFT=16,t.KEY_ESCAPE=27,t.KEY_SPACE=32,t.KEY_LEFT=37,t.KEY_UP=38,t.KEY_RIGHT=39,t.KEY_DOWN=40,t.KEY_DELETE=46,t.KEY_A=65,t.KEY_C=67,t.KEY_V=86,t.KEY_D=68,t.KEY_Z=90,t.KEY_Y=89,t.KEY_F2=113,t.KEY_PAGE_UP=33,t.KEY_PAGE_DOWN=34,t.KEY_PAGE_HOME=36,t.KEY_PAGE_END=35,t.ROW_MODEL_TYPE_INFINITE="infinite",t.ROW_MODEL_TYPE_VIEWPORT="viewport",t.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",t.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",t.DEPRECATED_ROW_MODEL_TYPE_NORMAL="normal",t.ALWAYS="always",t.ONLY_WHEN_GROUPING="onlyWhenGrouping",t.PINNED_TOP="top",t.PINNED_BOTTOM="bottom",t.DOM_LAYOUT_NORMAL="normal",t.DOM_LAYOUT_PRINT="print",t.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",t.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",t.SOURCE_PASTE="paste",t.PINNED_RIGHT="right",t.PINNED_LEFT="left",t.SORT_ASC="asc",t.SORT_DESC="desc",t}()},function(t,e,n){"use strict";n.r(e),function(t){var r=n(140);n.d(e,"ColumnFactory",(function(){return r.a}));var i=n(86);n.d(e,"ColumnController",(function(){return i.a}));var o=n(85);n.d(e,"ColumnKeyCreator",(function(){return o.a}));var s=n(88);n.d(e,"ColumnUtils",(function(){return s.a}));var a=n(89);n.d(e,"DisplayedGroupCreator",(function(){return a.a}));var u=n(87);n.d(e,"GroupInstanceIdCreator",(function(){return u.a}));var l=n(43);n.d(e,"ComponentUtil",(function(){return l.a}));var c=n(83);n.d(e,"ColDefUtil",(function(){return c.a}));var h=n(60);n.d(e,"UserComponentRegistry",(function(){return h.b}));var p=n(52);n.d(e,"UserComponentFactory",(function(){return p.b}));var d=n(156);n.d(e,"initialiseAgGridWithAngular1",(function(){return d.a}));var f=n(157);n.d(e,"initialiseAgGridWithWebComponents",(function(){return f.a}));var g=n(21);n.d(e,"BeanStub",(function(){return g.a}));var v=n(1);n.d(e,"Context",(function(){return v.c})),n.d(e,"Autowired",(function(){return v.a})),n.d(e,"PostConstruct",(function(){return v.e})),n.d(e,"PreConstruct",(function(){return v.f})),n.d(e,"Optional",(function(){return v.d})),n.d(e,"Bean",(function(){return v.b})),n.d(e,"Qualifier",(function(){return v.h})),n.d(e,"PreDestroy",(function(){return v.g}));var m=n(8);n.d(e,"QuerySelector",(function(){return m.b})),n.d(e,"Listener",(function(){return m.a})),n.d(e,"RefSelector",(function(){return m.c}));var y=n(16);n.d(e,"DragAndDropService",(function(){return y.a})),n.d(e,"DragSourceType",(function(){return y.b})),n.d(e,"HorizontalDirection",(function(){return y.c})),n.d(e,"VerticalDirection",(function(){return y.d}));var b=n(110);n.d(e,"DragService",(function(){return b.a}));var w=n(12);n.d(e,"Column",(function(){return w.a}));var C=n(25);n.d(e,"ColumnGroup",(function(){return C.a}));var E=n(23);n.d(e,"OriginalColumnGroup",(function(){return E.a}));var _=n(19);n.d(e,"RowNode",(function(){return _.a}));var O=n(100);n.d(e,"FilterManager",(function(){return O.a}));var T=n(45);n.d(e,"ProvidedFilter",(function(){return T.a}));var S=n(13);n.d(e,"SimpleFilter",(function(){return S.b}));var R=n(29);n.d(e,"ScalerFilter",(function(){return R.a}));var P=n(69);n.d(e,"NumberFilter",(function(){return P.a}));var x=n(70);n.d(e,"TextFilter",(function(){return x.a}));var A=n(64);n.d(e,"DateFilter",(function(){return A.a}));var D=n(138);n.d(e,"GridPanel",(function(){return D.a}));var I=n(118);n.d(e,"ScrollVisibleService",(function(){return I.a}));var N=n(113);n.d(e,"MouseEventService",(function(){return N.a}));var k=n(99);n.d(e,"BodyDropPivotTarget",(function(){return k.a}));var L=n(97);n.d(e,"BodyDropTarget",(function(){return L.a}));var M=n(73);n.d(e,"CssClassApplier",(function(){return M.a}));var F=n(79);n.d(e,"HeaderContainer",(function(){return F.a}));var j=n(96);n.d(e,"HeaderRootComp",(function(){return j.a}));var G=n(53);n.d(e,"HeaderRowComp",(function(){return G.a}));var V=n(107);n.d(e,"HorizontalResizeService",(function(){return V.a}));var W=n(98);n.d(e,"MoveColumnController",(function(){return W.a}));var B=n(109);n.d(e,"StandardMenuFactory",(function(){return B.a}));var H=n(158);n.d(e,"TabbedLayout",(function(){return H.a}));var U=n(159);n.d(e,"simpleHttpRequest",(function(){return U.a}));var z=n(125);n.d(e,"ResizeObserverService",(function(){return z.a}));var q=n(92);n.d(e,"LargeTextCellEditor",(function(){return q.a}));var K=n(72);n.d(e,"PopupEditorWrapper",(function(){return K.a}));var Y=n(91);n.d(e,"PopupSelectCellEditor",(function(){return Y.a}));var X=n(90);n.d(e,"PopupTextCellEditor",(function(){return X.a}));var Q=n(68);n.d(e,"SelectCellEditor",(function(){return Q.a}));var $=n(56);n.d(e,"TextCellEditor",(function(){return $.a}));var J=n(66);n.d(e,"AnimateShowChangeCellRenderer",(function(){return J.a}));var Z=n(67);n.d(e,"AnimateSlideCellRenderer",(function(){return Z.a}));var tt=n(57);n.d(e,"GroupCellRenderer",(function(){return tt.a}));var et=n(48);n.d(e,"SetLeftFeature",(function(){return et.a}));var nt=n(106);n.d(e,"AutoWidthCalculator",(function(){return nt.a}));var rt=n(115);n.d(e,"CellRendererFactory",(function(){return rt.a}));var it=n(65);n.d(e,"CheckboxSelectionComponent",(function(){return it.a}));var ot=n(39);n.d(e,"CellComp",(function(){return ot.a}));var st=n(58);n.d(e,"RowComp",(function(){return st.a}));var at=n(95);n.d(e,"RowRenderer",(function(){return at.a}));var ut=n(116);n.d(e,"ValueFormatterService",(function(){return ut.a}));var lt=n(137);n.d(e,"PinnedRowModel",(function(){return lt.a}));var ct=n(71);n.d(e,"ChangedPath",(function(){return ct.a}));var ht=n(59);n.d(e,"RowNodeBlock",(function(){return ht.a}));var pt=n(160);n.d(e,"RowNodeBlockLoader",(function(){return pt.a}));var dt=n(120);n.d(e,"PaginationProxy",(function(){return dt.a}));var ft=n(161);n.d(e,"RowNodeCache",(function(){return ft.a}));var gt=n(119);n.d(e,"StylingService",(function(){return gt.a}));var vt=n(33);n.d(e,"AgAbstractField",(function(){return vt.a}));var mt=n(49);n.d(e,"AgCheckbox",(function(){return mt.a}));var yt=n(74);n.d(e,"AgRadioButton",(function(){return yt.a}));var bt=n(134);n.d(e,"AgToggleButton",(function(){return bt.a}));var wt=n(76);n.d(e,"AgInputTextField",(function(){return wt.a}));var Ct=n(128);n.d(e,"AgInputTextArea",(function(){return Ct.a}));var Et=n(130);n.d(e,"AgInputNumberField",(function(){return Et.a}));var _t=n(131);n.d(e,"AgInputRange",(function(){return _t.a}));var Ot=n(132);n.d(e,"AgSelect",(function(){return Ot.a}));var Tt=n(129);n.d(e,"AgSlider",(function(){return Tt.a}));var St=n(133);n.d(e,"AgAngleSelect",(function(){return St.a}));var Rt=n(139);n.d(e,"AgColorPicker",(function(){return Rt.a}));var Pt=n(127);n.d(e,"AgGroupComponent",(function(){return Pt.a}));var xt=n(51);n.d(e,"AgDialog",(function(){return xt.a}));var At=n(75);n.d(e,"AgPanel",(function(){return At.a}));var Dt=n(162);n.d(e,"MessageBox",(function(){return Dt.a}));var It=n(10);n.d(e,"Component",(function(){return It.a}));var Nt=n(37);n.d(e,"PopupComponent",(function(){return Nt.a}));var kt=n(105);n.d(e,"PopupService",(function(){return kt.a}));var Lt=n(32);n.d(e,"TouchListener",(function(){return Lt.a}));var Mt=n(163);n.d(e,"VirtualList",(function(){return Mt.a}));var Ft=n(61);n.d(e,"CellRangeType",(function(){return Ft.a}));var jt=n(117);n.d(e,"VanillaFrameworkOverrides",(function(){return jt.a}));var Gt=n(114);n.d(e,"CellNavigationService",(function(){return Gt.a}));var Vt=n(122);n.d(e,"AlignedGridsService",(function(){return Vt.a}));var Wt=n(5);n.d(e,"Constants",(function(){return Wt.a}));var Bt=n(77);n.d(e,"Grid",(function(){return Bt.a}));var Ht=n(102);n.d(e,"GridApi",(function(){return Ht.a}));var Ut=n(17);n.d(e,"Events",(function(){return Ut.a}));var zt=n(112);n.d(e,"FocusedCellController",(function(){return zt.a}));var qt=n(164);n.d(e,"defaultGroupComparator",(function(){return qt.a}));var Kt=n(18);n.d(e,"GridOptionsWrapper",(function(){return Kt.a}));var Yt=n(28);n.d(e,"EventService",(function(){return Yt.a}));var Xt=n(124);n.d(e,"SelectableService",(function(){return Xt.a}));var Qt=n(108);n.d(e,"GridCore",(function(){return Qt.a}));var $t=n(50);n.d(e,"Logger",(function(){return $t.a}));var Jt=n(93);n.d(e,"SelectionController",(function(){return Jt.a}));var Zt=n(111);n.d(e,"SortController",(function(){return Zt.a}));var te=n(104);n.d(e,"TemplateService",(function(){return te.a}));var ee=n(0);n.d(e,"Color",(function(){return ee.a})),n.d(e,"Utils",(function(){return ee.d})),n.d(e,"NumberSequence",(function(){return ee.b})),n.d(e,"_",(function(){return ee.e})),n.d(e,"Promise",(function(){return ee.c}));var ne=n(101);n.d(e,"ValueService",(function(){return ne.a}));var re=n(121);n.d(e,"ValueCache",(function(){return re.a}));var ie=n(103);n.d(e,"ExpressionService",(function(){return ie.a})),n.d(e,"LoggerFactory",(function(){return $t.b}));var oe=n(136);n.d(e,"CellPositionUtils",(function(){return oe.a}));var se=n(135);n.d(e,"RowPositionUtils",(function(){return se.a}));var ae=n(94);n.d(e,"ColumnApi",(function(){return ae.a}));var ue=n(165);n.d(e,"BaseComponentWrapper",(function(){return ue.a}));var le=n(123);n.d(e,"Environment",(function(){return le.a}));var ce=n(126);n.d(e,"TooltipManager",(function(){return ce.a}));var he=n(166);n.d(e,"ChartType",(function(){return he.a}));var pe=n(15);n.d(e,"ModuleNames",(function(){return pe.a}));var de=n(14);n.d(e,"ModuleRegistry",(function(){return de.a}));n(7);var fe="undefined"===typeof t?{}:t;fe.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,fe.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,fe.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,fe.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,fe.Node="undefined"===typeof Node?{}:Node,fe.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent}.call(this,n(63))},function(t,e,n){"use strict";var r=n(17);n.d(e,"a",(function(){return r.a}))},function(t,e,n){"use strict";function r(t){return o.bind(this,t)}function i(t){return o.bind(this,"[ref="+t+"]")}function o(t,e,n,r){null!==t?"number"!==typeof r?u(e,"querySelectors",{attributeName:n,querySelector:t}):console.error("ag-Grid: QuerySelector should be on an attribute"):console.error("ag-Grid: QuerySelector selector should not be null")}function s(t){return a.bind(this,t)}function a(t,e,n){null!==t?u(e,"listenerMethods",{methodName:n,eventName:t}):console.error("ag-Grid: EventListener eventName should not be null")}function u(t,e,n){var r=function(t,e){t.__agComponentMetaData||(t.__agComponentMetaData={});t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={});return t.__agComponentMetaData[e]}(t,t.constructor.name);r[e]||(r[e]=[]),r[e].push(n)}n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s}))},function(t,e,n){"use strict";n.r(e);var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;Object.create;var i,o=n(2),s=n(22),a=n(20);n.d(e,"firebase",(function(){return O}));var u,l=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),c=new o.ErrorFactory("app","Firebase",l),h="@firebase/app",p="0.6.28",d="[DEFAULT]",f=((u={})[h]="fire-core",u["@firebase/analytics"]="fire-analytics",u["@firebase/app-check"]="fire-app-check",u["@firebase/auth"]="fire-auth",u["@firebase/database"]="fire-rtdb",u["@firebase/functions"]="fire-fn",u["@firebase/installations"]="fire-iid",u["@firebase/messaging"]="fire-fcm",u["@firebase/performance"]="fire-perf",u["@firebase/remote-config"]="fire-rc",u["@firebase/storage"]="fire-gcs",u["@firebase/firestore"]="fire-fst",u["fire-js"]="fire-js",u["firebase-wrapper"]="fire-js-all",u),g=new a.Logger("@firebase/app"),v=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.deepCopy)(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){g.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var m="8.7.0";var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!==typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(Object(o.contains)(e,a))throw c.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&l.push("and"),a&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void g.warn(l.join(" "))}u(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:a.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw c.create("invalid-log-argument");Object(a.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:m,INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(t=t||d,!Object(o.contains)(e,t))throw c.create("no-app",{appName:t});return e[t]}function u(s){var a=s.name;if(n.has(a))return g.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[a])throw c.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.deepExtend)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,s.multipleInstances?t:[])}}for(var l=0,h=Object.keys(e);l<h.length;l++){var p=h[l];e[p]._addComponent(s)}return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(v);return e.INTERNAL=r(r({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.deepExtend)(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.isBrowser)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var w=self.firebase.SDK_VERSION;w&&w.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var C=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.isNode)()&&g.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),C.apply(void 0,t)};var E,_,O=y;(E=O).INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new b(t)}),"PRIVATE")),E.registerVersion(h,p,_),E.registerVersion("fire-js","");e.default=O},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(1),i=n(21),o=n(0),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=new o.b,l=function(t){function e(e){var n=t.call(this)||this;return n.childComponents=[],n.annotatedEventListeners=[],n.displayed=!0,n.visible=!0,n.compId=u.next(),e&&n.setTemplate(e),n}return s(e,t),e.prototype.getCompId=function(){return this.compId},e.prototype.createChildComponentsFromTags=function(t){var e=this;o.e.copyNodeList(t.childNodes).forEach((function(n){var r=e.getContext().createComponentFromElement(n,(function(t){e.copyAttributesFromNode(n,t.getGui())}));if(r){if(r.addItems&&n.children.length){e.createChildComponentsFromTags(n);var i=Array.prototype.slice.call(n.children);r.addItems(i)}e.swapComponentForNode(r,t,n)}else n.childNodes&&e.createChildComponentsFromTags(n)}))},e.prototype.copyAttributesFromNode=function(t,e){o.e.iterateNamedNodeMap(t.attributes,(function(t,n){e.setAttribute(t,n)}))},e.prototype.swapComponentForNode=function(t,e,n){var r=t.getGui();e.replaceChild(r,n),e.insertBefore(document.createComment(n.nodeName),r),this.childComponents.push(t),this.swapInComponentForQuerySelectors(t,n)},e.prototype.swapInComponentForQuerySelectors=function(t,e){for(var n=Object.getPrototypeOf(this),r=this;null!=n;){var i=n.__agComponentMetaData,o=n.constructor.name;i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach((function(n){r[n.attributeName]===e&&(r[n.attributeName]=t)})),n=Object.getPrototypeOf(n)}},e.prototype.setTemplate=function(t){var e=o.e.loadTemplate(t);this.setTemplateFromElement(e)},e.prototype.setTemplateFromElement=function(t){this.eGui=t,this.eGui.__agComponent=this,this.addAnnotatedEventListeners(),this.wireQuerySelectors(),!!this.getContext()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.createChildComponentsPreConstruct=function(){!!this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui)for(var e=Object.getPrototypeOf(this),n=function(){var n=e.__agComponentMetaData,i=e.constructor.name;if(n&&n[i]&&n[i].querySelectors){var o=r;n[i].querySelectors.forEach((function(e){var n=t.eGui.querySelector(e.querySelector);if(n){var r=n.__agComponent;o[e.attributeName]=r||n}}))}e=Object.getPrototypeOf(e)},r=this;null!=e;)n()},e.prototype.addAnnotatedEventListeners=function(){var t=this;if(this.removeAnnotatedEventListeners(),this.eGui){var e=this.getAgComponentMetaData("listenerMethods");o.e.missingOrEmpty(e)||(this.annotatedEventListeners||(this.annotatedEventListeners=[]),e.forEach((function(e){var n=t[e.methodName].bind(t);t.eGui.addEventListener(e.eventName,n),t.annotatedEventListeners.push({eventName:e.eventName,listener:n})})))}},e.prototype.getAgComponentMetaData=function(t){for(var e=[],n=Object.getPrototypeOf(this);null!=n;){var r=n.__agComponentMetaData,i=n.constructor.name;if(void 0===i){var o=/function\s([^(]{1,})\(/.exec(n.constructor.toString());o&&o.length>1&&(i=o[1].trim())}r&&r[i]&&r[i][t]&&(e=e.concat(r[i][t])),n=Object.getPrototypeOf(n)}return e},e.prototype.removeAnnotatedEventListeners=function(){var t=this;this.annotatedEventListeners&&this.eGui&&(this.annotatedEventListeners.forEach((function(e){t.eGui.removeEventListener(e.eventName,e.listener)})),this.annotatedEventListeners=[])},e.prototype.getGui=function(){return this.eGui},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t){if(o.e.isNodeOrElement(t))this.eGui.appendChild(t);else{var e=t;this.eGui.appendChild(e.getGui()),this.childComponents.push(e)}},e.prototype.addFeature=function(t,e){this.wireDependentBean(t,e)},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t){t!==this.visible&&(this.visible=t,o.e.setVisible(this.eGui,t))},e.prototype.setDisplayed=function(t){if(t!==this.displayed){this.displayed=t,o.e.setDisplayed(this.eGui,t);var n={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(n)}},e.prototype.addOrRemoveCssClass=function(t,e){o.e.addOrRemoveCssClass(this.eGui,t,e)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.childComponents.forEach((function(t){t&&t.destroy&&t.destroy()})),this.childComponents.length=0,this.removeAnnotatedEventListeners()},e.prototype.addGuiEventListener=function(t,e){var n=this;this.getGui().addEventListener(t,e),this.addDestroyFunc((function(){return n.getGui().removeEventListener(t,e)}))},e.prototype.addCssClass=function(t){o.e.addCssClass(this.getGui(),t)},e.prototype.removeCssClass=function(t){o.e.removeCssClass(this.getGui(),t)},e.prototype.getAttribute=function(t){var e=this.getGui();return e?e.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",a([r.f],e.prototype,"createChildComponentsPreConstruct",null),e}(i.a)},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return c}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function c(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}Object.create},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(28),i=n(0),o=n(1),s=n(5),a=n(15),u=n(14),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(){function t(t,e,n,i){this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new r.a,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.visible=!t.hide,this.sort=t.sort,this.sortedAt=t.sortedAt,this.colId=n,this.primary=i}return t.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e},t.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.initialise=function(){this.setPinned(this.colDef.pinned);var t=this.gridOptionsWrapper.getMinColWidth(),e=this.gridOptionsWrapper.getMaxColWidth();this.colDef.minWidth?this.minWidth=this.colDef.minWidth:this.minWidth=t,this.colDef.maxWidth?this.maxWidth=this.colDef.maxWidth:this.maxWidth=e,this.colDef.flex&&(this.flex=this.colDef.flex),this.actualWidth=this.columnUtils.calculateColInitialWidth(this.colDef);var n=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=i.e.exists(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=i.e.exists(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!n,this.validate()},t.prototype.isEmptyGroup=function(){return!1},t.prototype.isRowGroupDisplayed=function(t){if(i.e.missing(this.colDef)||i.e.missing(this.colDef.showRowGroup))return!1;var e=!0===this.colDef.showRowGroup,n=this.colDef.showRowGroup===t;return e||n},t.prototype.getUniqueId=function(){return this.getId()},t.prototype.isPrimary=function(){return this.primary},t.prototype.isFilterAllowed=function(){var t=!!this.colDef.filter||!!this.colDef.filterFramework;return this.primary&&t},t.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},t.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},t.prototype.validate=function(){var t=this.colDef;function e(t,e,n){i.e.doOnce((function(){n?console.warn(t,n):i.e.doOnce((function(){return console.warn(t)}),e)}),e)}if(!u.a.isRegistered(a.a.RowGroupingModule)){["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach((function(n){i.e.exists(t[n])&&e("ag-Grid: "+n+" is only valid with module Row Grouping, your column definition should not have "+n,"ColumnRowGroupingMissing"+n)}))}if(u.a.isRegistered(a.a.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||e("ag-Grid: "+this.colDef.cellEditor+" can only be used with module "+a.a.RichSelectModule,"ColumnRichSelectMissing"),this.gridOptionsWrapper.isTreeData()){["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach((function(n){i.e.exists(t[n])&&e("ag-Grid: "+n+" is not possible when doing tree data, your column definition should not have "+n,"TreeDataCannotRowGroup")}))}i.e.exists(this.colDef.width)&&"number"!==typeof this.colDef.width&&e("ag-Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),i.e.get(this,"colDef.cellRendererParams.restrictToOneGroup",null)&&e("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.restrictToOneGroup is deprecated. You should use showRowGroup","ColumnCheck_sksldjf"),i.e.get(this,"colDef.cellRendererParams.keyMap",null)&&e("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.keyMap is deprecated. You should use colDef.keyCreator","ColumnCheck_ieiruhgdf"),i.e.get(this,"colDef.cellRendererParams.keyMap",null)&&e("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.keyMap is deprecated. You should use colDef.keyCreator","ColumnCheck_uitolghj"),t.floatingCellRenderer&&(e("ag-Grid: since v11, floatingCellRenderer is now pinnedRowCellRenderer","ColumnCheck_soihwewe"),this.colDef.pinnedRowCellRenderer=t.floatingCellRenderer),t.floatingRendererFramework&&(e("ag-Grid: since v11, floatingRendererFramework is now pinnedRowCellRendererFramework","ColumnCheck_zdkiouhwer"),this.colDef.pinnedRowCellRendererFramework=t.floatingRendererFramework),t.floatingRendererParams&&(console.warn("ag-Grid: since v11, floatingRendererParams is now pinnedRowCellRendererParams","ColumnCheck_retiuhjs"),this.colDef.pinnedRowCellRendererParams=t.floatingRendererParams),t.floatingValueFormatter&&(e("ag-Grid: since v11, floatingValueFormatter is now pinnedRowValueFormatter","ColumnCheck_qwroeihjdf"),this.colDef.pinnedRowValueFormatter=t.floatingValueFormatter),t.cellFormatter&&(e("ag-Grid: since v12, cellFormatter is now valueFormatter","ColumnCheck_eoireknml"),i.e.missing(this.colDef.valueFormatter)&&(this.colDef.valueFormatter=t.cellFormatter)),t.headerCellTemplate&&e("ag-Grid: since v15, headerCellTemplate is gone, use header component instead.","ColumnCheck_eroihxcm"),t.headerCellRenderer&&e("ag-Grid: since v15, headerCellRenderer is gone, use header component instead.","ColumnCheck_terteuh"),t.volatile&&e("ag-Grid: since v16, colDef.volatile is gone, please check refresh docs on how to refresh specific cells.","ColumnCheck_weoihjxcv"),t.suppressSorting&&(e("ag-Grid: since v20, colDef.suppressSorting is gone, instead use colDef.sortable=false.","ColumnCheck_43ljrer",this.colDef),this.colDef.sortable=!1),t.suppressFilter&&(e("ag-Grid: since v20, colDef.suppressFilter is gone, instead use colDef.filter=false.","ColumnCheck_erlkhfdm",this.colDef),this.colDef.filter=!1),t.suppressResize&&(e("ag-Grid: since v20, colDef.suppressResize is gone, instead use colDef.resizable=false.","ColumnCheck_weoihjxcv",this.colDef),this.colDef.resizable=!1),t.tooltip&&(e("ag-Grid: since v20.1, colDef.tooltip is gone, instead use colDef.tooltipValueGetter.","ColumnCheck_adslknjwef",this.colDef),this.colDef.tooltipValueGetter=t.tooltip),t.suppressToolPanel&&(e("ag-Grid: since v22, colDef.suppressToolPanel is gone, instead use suppressColumnsToolPanel / suppressFiltersToolPanel.","ColumnCheck_weihjlsjkdf",this.colDef),this.colDef.suppressColumnsToolPanel=!0)},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.createIsColumnFuncParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},t.prototype.isSuppressNavigable=function(t){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){var e=this.createIsColumnFuncParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},t.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(t,this.colDef.editable)},t.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},t.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},t.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},t.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},t.prototype.isResizable=function(){return!0===this.colDef.resizable},t.prototype.isColumnFunc=function(t,e){return"boolean"===typeof e?e:"function"===typeof e&&e(this.createIsColumnFuncParams(t))},t.prototype.setMoving=function(e,n){void 0===n&&(n="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_MOVING_CHANGED,n))},t.prototype.createColumnEvent=function(t,e){return{api:this.gridApi,columnApi:this.columnApi,type:t,column:this,columns:[this],source:e}},t.prototype.isMoving=function(){return this.moving},t.prototype.getSort=function(){return this.sort},t.prototype.setSort=function(e,n){void 0===n&&(n="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_SORT_CHANGED,n)))},t.prototype.setMenuVisible=function(e,n){void 0===n&&(n="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_MENU_VISIBLE_CHANGED,n)))},t.prototype.isMenuVisible=function(){return this.menuVisible},t.prototype.isSortAscending=function(){return this.sort===s.a.SORT_ASC},t.prototype.isSortDescending=function(){return this.sort===s.a.SORT_DESC},t.prototype.isSortNone=function(){return i.e.missing(this.sort)},t.prototype.isSorting=function(){return i.e.exists(this.sort)},t.prototype.getSortedAt=function(){return this.sortedAt},t.prototype.setSortedAt=function(t){this.sortedAt=t},t.prototype.setAggFunc=function(t){this.aggFunc=t},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.getRight=function(){return this.left+this.actualWidth},t.prototype.setLeft=function(e,n){void 0===n&&(n="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_LEFT_CHANGED,n)))},t.prototype.isFilterActive=function(){return this.filterActive},t.prototype.setFilterActive=function(e,n,r){void 0===n&&(n="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_FILTER_ACTIVE_CHANGED,n)));var o=this.createColumnEvent(t.EVENT_FILTER_CHANGED,n);r&&i.e.mergeDeep(o,r),this.eventService.dispatchEvent(o)},t.prototype.setPinned=function(t){!0===t||t===s.a.PINNED_LEFT?this.pinned=s.a.PINNED_LEFT:t===s.a.PINNED_RIGHT?this.pinned=s.a.PINNED_RIGHT:this.pinned=null},t.prototype.setFirstRightPinned=function(e,n){void 0===n&&(n="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_FIRST_RIGHT_PINNED_CHANGED,n)))},t.prototype.setLastLeftPinned=function(e,n){void 0===n&&(n="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_LAST_LEFT_PINNED_CHANGED,n)))},t.prototype.isFirstRightPinned=function(){return this.firstRightPinned},t.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},t.prototype.isPinned=function(){return this.pinned===s.a.PINNED_LEFT||this.pinned===s.a.PINNED_RIGHT},t.prototype.isPinnedLeft=function(){return this.pinned===s.a.PINNED_LEFT},t.prototype.isPinnedRight=function(){return this.pinned===s.a.PINNED_RIGHT},t.prototype.getPinned=function(){return this.pinned},t.prototype.setVisible=function(e,n){void 0===n&&(n="api");var r=!0===e;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_VISIBLE_CHANGED,n)))},t.prototype.isVisible=function(){return this.visible},t.prototype.getColDef=function(){return this.colDef},t.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},t.prototype.getColId=function(){return this.colId},t.prototype.getId=function(){return this.getColId()},t.prototype.getDefinition=function(){return this.colDef},t.prototype.getActualWidth=function(){return this.actualWidth},t.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},t.prototype.getColSpan=function(t){if(i.e.missing(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},t.prototype.getRowSpan=function(t){if(i.e.missing(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},t.prototype.setActualWidth=function(e,n){void 0===n&&(n="api"),null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.flex&&"flex"!==n&&(this.flex=0),this.actualWidth=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_WIDTH_CHANGED,n)))},t.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},t.prototype.getMinWidth=function(){return this.minWidth},t.prototype.getMaxWidth=function(){return this.maxWidth},t.prototype.getFlex=function(){return this.flex||0},t.prototype.setMinimum=function(t){void 0===t&&(t="api"),this.setActualWidth(this.minWidth,t)},t.prototype.setRowGroupActive=function(e,n){void 0===n&&(n="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_ROW_GROUP_CHANGED,n)))},t.prototype.isRowGroupActive=function(){return this.rowGroupActive},t.prototype.setPivotActive=function(e,n){void 0===n&&(n="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_PIVOT_CHANGED,n)))},t.prototype.isPivotActive=function(){return this.pivotActive},t.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},t.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},t.prototype.setValueActive=function(e,n){void 0===n&&(n="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_VALUE_CHANGED,n)))},t.prototype.isValueActive=function(){return this.aggregationActive},t.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},t.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},t.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},t.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},t.prototype.isLockPosition=function(){return console.warn("ag-Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},t.prototype.isLockVisible=function(){return console.warn("ag-Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},t.prototype.isLockPinned=function(){return console.warn("ag-Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},t.EVENT_MOVING_CHANGED="movingChanged",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_WIDTH_CHANGED="widthChanged",t.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",t.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",t.EVENT_VISIBLE_CHANGED="visibleChanged",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",t.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_PIVOT_CHANGED="columnPivotChanged",t.EVENT_VALUE_CHANGED="columnValueChanged",l([Object(o.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),l([Object(o.a)("columnUtils")],t.prototype,"columnUtils",void 0),l([Object(o.a)("columnApi")],t.prototype,"columnApi",void 0),l([Object(o.a)("gridApi")],t.prototype,"gridApi",void 0),l([Object(o.a)("context")],t.prototype,"context",void 0),l([o.e],t.prototype,"initialise",null),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return h}));var r,i=n(8),o=n(142),s=n(45),a=n(0),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.One=0]="One",t[t.Two=1]="Two"}(r||(r={}));var c={loadingOoo:"Loading...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",filterOoo:"Filter...",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",searchOoo:"Search...",selectAll:"Select All",applyFilter:"Apply Filter",clearFilter:"Clear Filter",andCondition:"AND",orCondition:"OR"},h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.showValueFrom=function(t){return!this.doesFilterHaveHiddenInput(t)&&t!==e.EMPTY},e.prototype.showValueTo=function(t){return t===e.IN_RANGE},e.prototype.onFloatingFilterChanged=function(t,e){this.setValueFromFloatingFilter(e),this.setTypeFromFloatingFilter(t),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){this.eType1.value=t,this.eType2.value=null,this.eJoinOperatorAnd.checked=!0},e.prototype.getModelFromUi=function(){return this.isConditionUiComplete(r.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(r.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(r.One),condition2:this.createCondition(r.Two)}:this.createCondition(r.One):null},e.prototype.getCondition1Type=function(){return this.eType1.value},e.prototype.getCondition2Type=function(){return this.eType2.value},e.prototype.getJoinOperator=function(){return this.eJoinOperatorOr.checked?"OR":"AND"},e.prototype.areModelsEqual=function(t,e){if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;var n,r=!t.operator,i=!e.operator;if(!r&&i||r&&!i)return!1;if(r){var o=t,s=e;n=this.areSimpleModelsEqual(o,s)}else{var a=t,u=e;n=a.operator===u.operator&&this.areSimpleModelsEqual(a.condition1,u.condition1)&&this.areSimpleModelsEqual(a.condition2,u.condition2)}return n},e.prototype.setModelIntoUi=function(t){if(t.operator){var e=t,n="OR"===e.operator;this.eJoinOperatorAnd.checked=!n,this.eJoinOperatorOr.checked=n,this.eType1.value=e.condition1.type,this.eType2.value=e.condition2.type,this.setConditionIntoUi(e.condition1,r.One),this.setConditionIntoUi(e.condition2,r.Two)}else{var i=t;this.eJoinOperatorAnd.checked=!0,this.eJoinOperatorOr.checked=!1,this.eType1.value=i.type,this.eType2.value=this.optionsFactory.getDefaultOption(),this.setConditionIntoUi(i,r.One),this.setConditionIntoUi(null,r.Two)}},e.prototype.doesFilterPass=function(t){var e=this.getModel();if(e.operator){var n=e,r=this.individualConditionPasses(t,n.condition1),i=this.individualConditionPasses(t,n.condition2);return"AND"===n.operator?r&&i:r||i}var o=e;return this.individualConditionPasses(t,o)},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.simpleFilterParams=e,this.optionsFactory=new o.a,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.allowTwoConditions=!e.suppressAndOrCondition,this.putOptionsIntoDropdown(),this.addChangedListeners()},e.prototype.putOptionsIntoDropdown=function(){var t=this,e=this.optionsFactory.getFilterOptions();e.forEach((function(e){var n=function(){var n="string"===typeof e?e:e.displayKey,r=t.translate(n),i=document.createElement("option");return i.text=r,i.value=n,i};t.eType1.add(n()),t.eType2.add(n())}));var n=e.length<=1;this.eType1.disabled=n,this.eType2.disabled=n},e.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},e.prototype.createBodyTemplate=function(){var t=this.createValueTemplate(r.One),e=this.createValueTemplate(r.Two),n="ag-simple-filter-and-or-"+this.getCompId(),i=this.gridOptionsWrapper.getLocaleTextFunc();return'<select class="ag-filter-select" ref="eOptions1"></select>\n                '+t+"\n                "+('<div class="ag-filter-condition" ref="eJoinOperatorPanel">\n                    <label>\n                        <input ref="eJoinOperatorAnd" type="radio" class="and" name="'+n+'" value="AND")} checked="checked" />\n                        '+i("andCondition","AND")+'\n                    </label>\n                    <label>\n                        <input ref="eJoinOperatorOr" type="radio" class="or" name="'+n+'" value="OR" />\n                        '+i("orCondition","OR")+"\n                    </label>\n                </div>")+'\n                <select class="ag-filter-select" ref="eOptions2"></select>\n                '+e},e.prototype.updateUiVisibility=function(){var t=this.isConditionUiComplete(r.One),e=this.allowTwoConditions&&t;a.e.setDisplayed(this.eCondition2Body,e),a.e.setDisplayed(this.eType2,e),a.e.setDisplayed(this.eJoinOperatorPanel,e)},e.prototype.resetUiToDefaults=function(){this.eJoinOperatorAnd.checked=!0;var t=this.optionsFactory.getDefaultOption();this.eType1.value=t,this.eType2.value=t},e.prototype.translate=function(t){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=c[t];return!n&&this.optionsFactory.getCustomOption(t)&&(n=this.optionsFactory.getCustomOption(t).displayName),e(t,n)},e.prototype.addChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.addDestroyableEventListener(this.eType1,"change",e),this.addDestroyableEventListener(this.eType2,"change",e),this.addDestroyableEventListener(this.eJoinOperatorOr,"change",e),this.addDestroyableEventListener(this.eJoinOperatorAnd,"change",e)},e.prototype.doesFilterHaveHiddenInput=function(t){var e=this.optionsFactory.getCustomOption(t);return e&&e.hideFilterInput},e.EMPTY="empty",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",l([Object(i.c)("eOptions1")],e.prototype,"eType1",void 0),l([Object(i.c)("eOptions2")],e.prototype,"eType2",void 0),l([Object(i.c)("eJoinOperatorAnd")],e.prototype,"eJoinOperatorAnd",void 0),l([Object(i.c)("eJoinOperatorOr")],e.prototype,"eJoinOperatorOr",void 0),l([Object(i.c)("eCondition2Body")],e.prototype,"eCondition2Body",void 0),l([Object(i.c)("eJoinOperatorPanel")],e.prototype,"eJoinOperatorPanel",void 0),e}(s.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(){function t(){}return t.register=function(e){t.modulesMap[e.moduleName]=e},t.registerModules=function(e){e&&e.forEach(t.register)},t.assertRegistered=function(t,e){if(this.isRegistered(t))return!0;var n=e+t,i="ag-Grid: unable to use "+e+" as module "+t+' is not present. You need to load the module with: import "'+t+'"';return r.e.doOnce((function(){console.warn(i)}),n),!1},t.isRegistered=function(e){return!!t.modulesMap[e]},t.getRegisteredModules=function(){return r.e.values(t.modulesMap)},t.modulesMap={},t}()},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.CommunityCoreModule="@ag-grid-community/core",t.CommunityAllModules="@ag-grid-community/all",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.RowNodeCache="@ag-grid-community/row-node-cache",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.EnterpriseAllModules="@ag-grid-enterprise/all",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filters-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t.PolymerModule="@ag-grid-community/polymer"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c}));var r,i,o,s=n(1),a=n(0),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t,e){return function(n,r){e(n,r,t)}};!function(t){t[t.ToolPanel=0]="ToolPanel",t[t.HeaderCell=1]="HeaderCell",t[t.RowDrag=2]="RowDrag",t[t.ChartPanel=3]="ChartPanel"}(r||(r={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"}(i||(i={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(o||(o={}));var c=function(){function t(){this.dragSourceAndParamsList=[],this.dropTargets=[]}var e;return e=t,t.prototype.init=function(){this.ePinnedIcon=a.e.createIcon("columnMovePin",this.gridOptionsWrapper,null),this.ePlusIcon=a.e.createIcon("columnMoveAdd",this.gridOptionsWrapper,null),this.eHiddenIcon=a.e.createIcon("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=a.e.createIcon("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=a.e.createIcon("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=a.e.createIcon("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=a.e.createIcon("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=a.e.createIcon("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=a.e.createIcon("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=a.e.createIcon("dropNotAllowed",this.gridOptionsWrapper,null)},t.prototype.setBeans=function(t){this.logger=t.create("OldToolPanelDragAndDropService")},t.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var n={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:n,dragSource:t}),this.dragService.addDragSource(n,e)},t.prototype.removeDragSource=function(t){var e=a.e.find(this.dragSourceAndParamsList,(function(e){return e.dragSource===t}));e&&(this.dragService.removeDragSource(e.params),a.e.removeFromArray(this.dragSourceAndParamsList,e))},t.prototype.destroy=function(){var t=this;this.dragSourceAndParamsList.forEach((function(e){return t.dragService.removeDragSource(e.params)})),this.dragSourceAndParamsList.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(t,e){var n=this.getHorizontalDirection(t),r=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);var i=a.e.find(this.dropTargets,this.isMouseOnDropTarget.bind(this,t));if(i!==this.lastDropTarget)this.leaveLastTargetIfExists(t,n,r,e),this.enterDragTargetIfExists(i,t,n,r,e),this.lastDropTarget=i;else if(i){var o=this.createDropTargetEvent(i,t,n,r,e);i.onDragging(o)}},t.prototype.enterDragTargetIfExists=function(t,e,n,r,i){if(t){if(t.onDragEnter){var o=this.createDropTargetEvent(t,e,n,r,i);t.onDragEnter(o)}this.setGhostIcon(t.getIconName?t.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(t,e,n,r){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var i=this.createDropTargetEvent(this.lastDropTarget,t,e,n,r);this.lastDropTarget.onDragLeave(i)}this.setGhostIcon(null)}},t.prototype.getAllContainersFromDropTarget=function(t){var e=[t.getContainer()],n=t.getSecondaryContainers?t.getSecondaryContainers():null;return n&&(e=e.concat(n)),e},t.prototype.isMouseOnDropTarget=function(t,e){var n=!1;return this.getAllContainersFromDropTarget(e).filter((function(t){return t})).forEach((function(e){var r=e.getBoundingClientRect();if(0!==r.width&&0!==r.height){var i=t.clientX>=r.left&&t.clientX<=r.right,o=t.clientY>=r.top&&t.clientY<=r.bottom;i&&o&&(n=!0)}})),n&&e.isInterestedIn(this.dragSource.type)},t.prototype.addDropTarget=function(t){this.dropTargets.push(t)},t.prototype.getHorizontalDirection=function(t){return this.eventLastTime.clientX>t.clientX?o.Left:this.eventLastTime.clientX<t.clientX?o.Right:null},t.prototype.getVerticalDirection=function(t){return this.eventLastTime.clientY>t.clientY?i.Up:this.eventLastTime.clientY<t.clientY?i.Down:null},t.prototype.createDropTargetEvent=function(t,e,n,r,i){var o=t.getContainer().getBoundingClientRect();return{event:e,x:e.clientX-o.left,y:e.clientY-o.top,vDirection:r,hDirection:n,dragSource:this.dragSource,fromNudge:i,dragItem:this.dragItem}},t.prototype.positionGhost=function(t){var e=this.eGhost.getBoundingClientRect().height,n=a.e.getBodyWidth()-2,r=a.e.getBodyHeight()-2,i=t.pageY-e/2,o=t.pageX-30,s=this.gridOptionsWrapper.getDocument(),u=window.pageYOffset||s.documentElement.scrollTop,l=window.pageXOffset||s.documentElement.scrollLeft;n>0&&o+this.eGhost.clientWidth>n+l&&(o=n+l-this.eGhost.clientWidth),o<0&&(o=0),r>0&&i+this.eGhost.clientHeight>r+u&&(i=r+u-this.eGhost.clientHeight),i<0&&(i=0),this.eGhost.style.left=o+"px",this.eGhost.style.top=i+"px"},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=a.e.loadTemplate(e.GHOST_TEMPLATE);var t=this.environment.getTheme().theme;t&&a.e.addCssClass(this.eGhost,t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null),this.eGhost.querySelector(".ag-dnd-ghost-label").innerHTML=a.e.escape(this.dragSource.dragItemName),this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var n=this.gridOptionsWrapper.getDocument();this.eGhostParent=n.querySelector("body"),this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(t,n){var r;switch(void 0===n&&(n=!1),a.e.clearElement(this.eGhostIcon),t){case e.ICON_ADD:r=this.ePlusIcon;break;case e.ICON_PINNED:r=this.ePinnedIcon;break;case e.ICON_MOVE:r=this.eMoveIcon;break;case e.ICON_LEFT:r=this.eLeftIcon;break;case e.ICON_RIGHT:r=this.eRightIcon;break;case e.ICON_GROUP:r=this.eGroupIcon;break;case e.ICON_AGGREGATE:r=this.eAggregateIcon;break;case e.ICON_PIVOT:r=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:r=this.eDropNotAllowedIcon;break;default:r=this.eHiddenIcon}this.eGhostIcon.appendChild(r),a.e.addOrRemoveCssClass(this.eGhostIcon,"ag-shake-left-to-right",n)},t.ICON_PINNED="pinned",t.ICON_ADD="add",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost">  <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>  <div class="ag-dnd-ghost-label">  </div></div>',u([Object(s.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),u([Object(s.a)("dragService")],t.prototype,"dragService",void 0),u([Object(s.a)("environment")],t.prototype,"environment",void 0),u([s.e],t.prototype,"init",null),u([l(0,Object(s.h)("loggerFactory"))],t.prototype,"setBeans",null),u([s.g],t.prototype,"destroy",null),t=e=u([Object(s.b)("dragAndDropService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){}return t.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",t.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",t.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",t.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",t.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",t.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",t.EVENT_COLUMN_MOVED="columnMoved",t.EVENT_COLUMN_VISIBLE="columnVisible",t.EVENT_COLUMN_PINNED="columnPinned",t.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",t.EVENT_COLUMN_RESIZED="columnResized",t.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",t.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",t.EVENT_ROW_GROUP_OPENED="rowGroupOpened",t.EVENT_ROW_DATA_CHANGED="rowDataChanged",t.EVENT_ROW_DATA_UPDATED="rowDataUpdated",t.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",t.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",t.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",t.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",t.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",t.EVENT_MODEL_UPDATED="modelUpdated",t.EVENT_PASTE_START="pasteStart",t.EVENT_PASTE_END="pasteEnd",t.EVENT_FILL_START="fillStart",t.EVENT_FILL_END="fillEnd",t.EVENT_CELL_CLICKED="cellClicked",t.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",t.EVENT_CELL_MOUSE_DOWN="cellMouseDown",t.EVENT_CELL_CONTEXT_MENU="cellContextMenu",t.EVENT_CELL_VALUE_CHANGED="cellValueChanged",t.EVENT_ROW_VALUE_CHANGED="rowValueChanged",t.EVENT_CELL_FOCUSED="cellFocused",t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_CELL_KEY_DOWN="cellKeyDown",t.EVENT_CELL_KEY_PRESS="cellKeyPress",t.EVENT_CELL_MOUSE_OVER="cellMouseOver",t.EVENT_CELL_MOUSE_OUT="cellMouseOut",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_MODIFIED="filterModified",t.EVENT_FILTER_OPENED="filterOpened",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",t.EVENT_ROW_CLICKED="rowClicked",t.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",t.EVENT_GRID_READY="gridReady",t.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",t.EVENT_VIEWPORT_CHANGED="viewportChanged",t.EVENT_FIRST_DATA_RENDERED="firstDataRendered",t.EVENT_DRAG_STARTED="dragStarted",t.EVENT_DRAG_STOPPED="dragStopped",t.EVENT_ROW_EDITING_STARTED="rowEditingStarted",t.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",t.EVENT_CELL_EDITING_STARTED="cellEditingStarted",t.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",t.EVENT_BODY_SCROLL="bodyScroll",t.EVENT_ANIMATION_QUEUE_EMPTY="animationQueueEmpty",t.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",t.EVENT_PAGINATION_CHANGED="paginationChanged",t.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",t.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",t.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",t.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",t.EVENT_FLASH_CELLS="flashCells",t.EVENT_ROW_DRAG_ENTER="rowDragEnter",t.EVENT_ROW_DRAG_MOVE="rowDragMove",t.EVENT_ROW_DRAG_LEAVE="rowDragLeave",t.EVENT_ROW_DRAG_END="rowDragEnd",t.EVENT_POPUP_TO_FRONT="popupToFront",t.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",t.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",t.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",t.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(0),i=n(28),o=n(5),s=n(43),a=n(1),u=n(40),l=n(83),c=n(17),h=n(141),p=n(15),d=n(14),f=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},g=function(t,e){return function(n,r){e(n,r,t)}},v=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};function m(t){return!0===t||"true"===t}var y=function(){function t(){this.propertyEventService=new i.a,this.domDataKey="__AG_"+Math.random().toString(),this.layoutElements=[]}var e;return e=t,t.prototype.agWire=function(t,e){this.gridOptions.api=t,this.gridOptions.columnApi=e,this.checkForDeprecated(),this.checkForViolations()},t.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null},t.prototype.init=function(){!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties());var t=this.useAsyncEvents();this.eventService.addGlobalListener(this.globalEventHandler.bind(this),t),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("ag-Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("ag-Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("ag-Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isEnableRangeSelection()&&d.a.assertRegistered(p.a.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("ag-Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true"),this.addEventListener(e.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this))},t.prototype.checkColumnDefProperties=function(){var t=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(e){var n=Object.getOwnPropertyNames(e),r=v(l.a.ALL_PROPERTIES,l.a.FRAMEWORK_PROPERTIES);t.checkProperties(n,r,r,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")}))},t.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),e=v(u.a.ALL_PROPERTIES,u.a.FRAMEWORK_PROPERTIES,r.e.values(c.a).map((function(t){return s.a.getCallbackForEvent(t)}))),n=v(e,["api","columnApi"]);this.checkProperties(t,n,e,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},t.prototype.checkProperties=function(t,e,n,i,o){var s=r.e.fuzzyCheckStrings(t,e,n);r.e.iterateObject(s,(function(t,e){console.warn("ag-grid: invalid "+i+" property '"+t+"' did you mean any of these: "+e.slice(0,8).join(", "))})),Object.keys(s).length>0&&console.warn("ag-grid: to see all the valid "+i+" properties please check: "+o)},t.prototype.getDomData=function(t,e){var n=t[this.domDataKey];return n?n[e]:void 0},t.prototype.setDomData=function(t,e,n){var i=t[this.domDataKey];r.e.missing(i)&&(i={},t[this.domDataKey]=i),i[e]=n},t.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},t.prototype.isRowDeselection=function(){return m(this.gridOptions.rowDeselection)},t.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},t.prototype.isRowMultiSelectWithClick=function(){return m(this.gridOptions.rowMultiSelectWithClick)},t.prototype.getContext=function(){return this.gridOptions.context},t.prototype.isPivotMode=function(){return m(this.gridOptions.pivotMode)},t.prototype.isPivotTotals=function(){return m(this.gridOptions.pivotTotals)},t.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},t.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},t.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===o.a.ROW_MODEL_TYPE_INFINITE},t.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===o.a.ROW_MODEL_TYPE_VIEWPORT},t.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===o.a.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.isRowModelDefault=function(){return r.e.missing(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===o.a.ROW_MODEL_TYPE_CLIENT_SIDE||this.gridOptions.rowModelType===o.a.DEPRECATED_ROW_MODEL_TYPE_NORMAL},t.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},t.prototype.isSuppressFocusAfterRefresh=function(){return m(this.gridOptions.suppressFocusAfterRefresh)},t.prototype.isSuppressBrowserResizeObserver=function(){return m(this.gridOptions.suppressBrowserResizeObserver)},t.prototype.isSuppressMaintainUnsortedOrder=function(){return m(this.gridOptions.suppressMaintainUnsortedOrder)},t.prototype.isSuppressClearOnFillReduction=function(){return m(this.gridOptions.suppressClearOnFillReduction)},t.prototype.isShowToolPanel=function(){return m(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},t.prototype.getSideBar=function(){return this.gridOptions.sideBar},t.prototype.isSuppressTouch=function(){return m(this.gridOptions.suppressTouch)},t.prototype.isSuppressRowTransform=function(){return m(this.gridOptions.suppressRowTransform)},t.prototype.isSuppressSetColumnStateEvents=function(){return m(this.gridOptions.suppressSetColumnStateEvents)},t.prototype.isAllowDragFromColumnsToolPanel=function(){return m(this.gridOptions.allowDragFromColumnsToolPanel)},t.prototype.useAsyncEvents=function(){return!m(this.gridOptions.suppressAsyncEvents)},t.prototype.isEnableCellChangeFlash=function(){return m(this.gridOptions.enableCellChangeFlash)},t.prototype.isGroupSelectsChildren=function(){var t=m(this.gridOptions.groupSelectsChildren);return t&&this.isTreeData()?(console.warn("ag-Grid: groupSelectsChildren does not work with tree data"),!1):t},t.prototype.isSuppressRowHoverHighlight=function(){return m(this.gridOptions.suppressRowHoverHighlight)},t.prototype.isGroupSelectsFiltered=function(){return m(this.gridOptions.groupSelectsFiltered)},t.prototype.isGroupHideOpenParents=function(){return m(this.gridOptions.groupHideOpenParents)},t.prototype.isGroupMultiAutoColumn=function(){return m(this.gridOptions.groupMultiAutoColumn)||m(this.gridOptions.groupHideOpenParents)},t.prototype.isGroupRemoveSingleChildren=function(){return m(this.gridOptions.groupRemoveSingleChildren)},t.prototype.isGroupRemoveLowestSingleChildren=function(){return m(this.gridOptions.groupRemoveLowestSingleChildren)},t.prototype.isGroupIncludeFooter=function(){return m(this.gridOptions.groupIncludeFooter)},t.prototype.isGroupIncludeTotalFooter=function(){return m(this.gridOptions.groupIncludeTotalFooter)},t.prototype.isGroupSuppressBlankHeader=function(){return m(this.gridOptions.groupSuppressBlankHeader)},t.prototype.isSuppressRowClickSelection=function(){return m(this.gridOptions.suppressRowClickSelection)},t.prototype.isSuppressCellSelection=function(){return m(this.gridOptions.suppressCellSelection)},t.prototype.isSuppressMultiSort=function(){return m(this.gridOptions.suppressMultiSort)},t.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},t.prototype.isGroupSuppressAutoColumn=function(){return m(this.gridOptions.groupSuppressAutoColumn)},t.prototype.isSuppressDragLeaveHidesColumns=function(){return m(this.gridOptions.suppressDragLeaveHidesColumns)},t.prototype.isSuppressScrollOnNewData=function(){return m(this.gridOptions.suppressScrollOnNewData)},t.prototype.isRowDragManaged=function(){return m(this.gridOptions.rowDragManaged)},t.prototype.isSuppressRowDrag=function(){return m(this.gridOptions.suppressRowDrag)},t.prototype.getDomLayout=function(){var t=this.gridOptions.domLayout||o.a.DOM_LAYOUT_NORMAL;return-1===[o.a.DOM_LAYOUT_PRINT,o.a.DOM_LAYOUT_AUTO_HEIGHT,o.a.DOM_LAYOUT_NORMAL].indexOf(t)?(r.e.doOnce((function(){return console.warn("ag-Grid: "+t+" is not valid for DOM Layout, valid values are "+o.a.DOM_LAYOUT_NORMAL+", "+o.a.DOM_LAYOUT_AUTO_HEIGHT+" and "+o.a.DOM_LAYOUT_PRINT)}),"warn about dom layout values"),o.a.DOM_LAYOUT_NORMAL):t},t.prototype.isSuppressHorizontalScroll=function(){return m(this.gridOptions.suppressHorizontalScroll)},t.prototype.isSuppressMaxRenderedRowRestriction=function(){return m(this.gridOptions.suppressMaxRenderedRowRestriction)},t.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return m(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},t.prototype.isAlwaysShowVerticalScroll=function(){return m(this.gridOptions.alwaysShowVerticalScroll)},t.prototype.isSuppressLoadingOverlay=function(){return m(this.gridOptions.suppressLoadingOverlay)},t.prototype.isSuppressNoRowsOverlay=function(){return m(this.gridOptions.suppressNoRowsOverlay)},t.prototype.isSuppressFieldDotNotation=function(){return m(this.gridOptions.suppressFieldDotNotation)},t.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},t.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},t.prototype.isFunctionsPassive=function(){return m(this.gridOptions.functionsPassive)},t.prototype.isSuppressTabbing=function(){return m(this.gridOptions.suppressTabbing)},t.prototype.isSuppressChangeDetection=function(){return m(this.gridOptions.suppressChangeDetection)},t.prototype.isSuppressAnimationFrame=function(){return m(this.gridOptions.suppressAnimationFrame)},t.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},t.prototype.isCacheQuickFilter=function(){return m(this.gridOptions.cacheQuickFilter)},t.prototype.isUnSortIcon=function(){return m(this.gridOptions.unSortIcon)},t.prototype.isSuppressMenuHide=function(){return m(this.gridOptions.suppressMenuHide)},t.prototype.isEnterMovesDownAfterEdit=function(){return m(this.gridOptions.enterMovesDownAfterEdit)},t.prototype.isEnterMovesDown=function(){return m(this.gridOptions.enterMovesDown)},t.prototype.isUndoRedoCellEditing=function(){return m(this.gridOptions.undoRedoCellEditing)},t.prototype.getUndoRedoCellEditingLimit=function(){return this.gridOptions.undoRedoCellEditingLimit},t.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},t.prototype.getRowClass=function(){return this.gridOptions.rowClass},t.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},t.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},t.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},t.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},t.prototype.getPopupParent=function(){return this.gridOptions.popupParent},t.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},t.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},t.prototype.getDoesDataFlowerFunc=function(){return this.gridOptions.doesDataFlower},t.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},t.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},t.prototype.getDefaultGroupSortComparator=function(){return this.gridOptions.defaultGroupSortComparator},t.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},t.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},t.prototype.isEmbedFullWidthRows=function(){return m(this.gridOptions.embedFullWidthRows)||m(this.gridOptions.deprecatedEmbedFullWidthRows)},t.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},t.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},t.prototype.getApi=function(){return this.gridOptions.api},t.prototype.getColumnApi=function(){return this.gridOptions.columnApi},t.prototype.isDeltaRowDataMode=function(){return m(this.gridOptions.deltaRowDataMode)},t.prototype.isDeltaColumnMode=function(){return m(this.gridOptions.deltaColumnMode)},t.prototype.isEnsureDomOrder=function(){return m(this.gridOptions.ensureDomOrder)},t.prototype.isEnableCharts=function(){return!!m(this.gridOptions.enableCharts)&&d.a.assertRegistered(p.a.GridChartsModule,"enableCharts")},t.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},t.prototype.isSingleClickEdit=function(){return m(this.gridOptions.singleClickEdit)},t.prototype.isSuppressClickEdit=function(){return m(this.gridOptions.suppressClickEdit)},t.prototype.isStopEditingWhenGridLosesFocus=function(){return m(this.gridOptions.stopEditingWhenGridLosesFocus)},t.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},t.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},t.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},t.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},t.prototype.getPaginationPageSize=function(){return this.gridOptions.paginationPageSize},t.prototype.isPaginateChildRows=function(){return!!(this.isGroupSuppressRow()||this.isGroupRemoveSingleChildren()||this.isGroupRemoveLowestSingleChildren())||m(this.gridOptions.paginateChildRows)},t.prototype.getCacheBlockSize=function(){return this.gridOptions.cacheBlockSize},t.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},t.prototype.isPurgeClosedRowNodes=function(){return m(this.gridOptions.purgeClosedRowNodes)},t.prototype.isSuppressPaginationPanel=function(){return m(this.gridOptions.suppressPaginationPanel)},t.prototype.getRowData=function(){return this.gridOptions.rowData},t.prototype.isGroupUseEntireRow=function(t){return!t&&m(this.gridOptions.groupUseEntireRow)},t.prototype.isEnableRtl=function(){return m(this.gridOptions.enableRtl)},t.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},t.prototype.isGroupSuppressRow=function(){return m(this.gridOptions.groupSuppressRow)},t.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},t.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},t.prototype.isAngularCompileRows=function(){return m(this.gridOptions.angularCompileRows)},t.prototype.isAngularCompileFilters=function(){return m(this.gridOptions.angularCompileFilters)},t.prototype.isAngularCompileHeaders=function(){return m(this.gridOptions.angularCompileHeaders)},t.prototype.isDebug=function(){return m(this.gridOptions.debug)},t.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},t.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},t.prototype.getDatasource=function(){return this.gridOptions.datasource},t.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},t.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},t.prototype.isAccentedSort=function(){return m(this.gridOptions.accentedSort)},t.prototype.isEnableBrowserTooltips=function(){return m(this.gridOptions.enableBrowserTooltips)},t.prototype.isEnableCellExpressions=function(){return m(this.gridOptions.enableCellExpressions)},t.prototype.isEnableGroupEdit=function(){return m(this.gridOptions.enableGroupEdit)},t.prototype.isSuppressMiddleClickScrolls=function(){return m(this.gridOptions.suppressMiddleClickScrolls)},t.prototype.isPreventDefaultOnContextMenu=function(){return m(this.gridOptions.preventDefaultOnContextMenu)},t.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return m(this.gridOptions.suppressPreventDefaultOnMouseWheel)},t.prototype.isSuppressColumnVirtualisation=function(){return m(this.gridOptions.suppressColumnVirtualisation)},t.prototype.isSuppressContextMenu=function(){return m(this.gridOptions.suppressContextMenu)},t.prototype.isAllowContextMenuWithControlKey=function(){return m(this.gridOptions.allowContextMenuWithControlKey)},t.prototype.isSuppressCopyRowsToClipboard=function(){return m(this.gridOptions.suppressCopyRowsToClipboard)},t.prototype.isCopyHeadersToClipboard=function(){return m(this.gridOptions.copyHeadersToClipboard)},t.prototype.isSuppressClipboardPaste=function(){return m(this.gridOptions.suppressClipboardPaste)},t.prototype.isPagination=function(){return m(this.gridOptions.pagination)},t.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return m(this.gridOptions.suppressEnterpriseResetOnNewColumns)},t.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},t.prototype.getBatchUpdateWaitMillis=function(){return r.e.exists(this.gridOptions.batchUpdateWaitMillis)?this.gridOptions.batchUpdateWaitMillis:o.a.BATCH_WAIT_MILLIS},t.prototype.isSuppressMovableColumns=function(){return m(this.gridOptions.suppressMovableColumns)},t.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&m(this.gridOptions.animateRows)},t.prototype.isSuppressColumnMoveAnimation=function(){return m(this.gridOptions.suppressColumnMoveAnimation)},t.prototype.isSuppressAggFuncInHeader=function(){return m(this.gridOptions.suppressAggFuncInHeader)},t.prototype.isSuppressAggAtRootLevel=function(){return m(this.gridOptions.suppressAggAtRootLevel)},t.prototype.isEnableRangeSelection=function(){return d.a.isRegistered(p.a.RangeSelectionModule)&&m(this.gridOptions.enableRangeSelection)},t.prototype.isEnableRangeHandle=function(){return m(this.gridOptions.enableRangeHandle)},t.prototype.isEnableFillHandle=function(){return m(this.gridOptions.enableFillHandle)},t.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},t.prototype.isSuppressMultiRangeSelection=function(){return m(this.gridOptions.suppressMultiRangeSelection)},t.prototype.isPaginationAutoPageSize=function(){return m(this.gridOptions.paginationAutoPageSize)},t.prototype.isRememberGroupStateWhenNewData=function(){return m(this.gridOptions.rememberGroupStateWhenNewData)},t.prototype.getIcons=function(){return this.gridOptions.icons},t.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},t.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},t.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},t.prototype.isMasterDetail=function(){return!!m(this.gridOptions.masterDetail)&&d.a.assertRegistered(p.a.MasterDetailModule,"masterDetail")},t.prototype.isKeepDetailRows=function(){return m(this.gridOptions.keepDetailRows)},t.prototype.getKeepDetailRowsCount=function(){return this.gridOptions.keepDetailRowsCount>0?this.gridOptions.keepDetailRowsCount:10},t.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},t.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},t.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},t.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},t.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},t.prototype.isSuppressAutoSize=function(){return m(this.gridOptions.suppressAutoSize)},t.prototype.isEnableCellTextSelection=function(){return m(this.gridOptions.enableCellTextSelection)},t.prototype.isSuppressParentsInRowNodes=function(){return m(this.gridOptions.suppressParentsInRowNodes)},t.prototype.isFunctionsReadOnly=function(){return m(this.gridOptions.functionsReadOnly)},t.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},t.prototype.isEnableCellTextSelect=function(){return m(this.gridOptions.enableCellTextSelection)},t.prototype.isEnableOldSetFilterModel=function(){return m(this.gridOptions.enableOldSetFilterModel)},t.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},t.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},t.prototype.getDefaultExportParams=function(){return this.gridOptions.defaultExportParams},t.prototype.isSuppressCsvExport=function(){return m(this.gridOptions.suppressCsvExport)},t.prototype.isAllowShowChangeAfterFilter=function(){return m(this.gridOptions.allowShowChangeAfterFilter)},t.prototype.isSuppressExcelExport=function(){return m(this.gridOptions.suppressExcelExport)},t.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return m(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},t.prototype.getNodeChildDetailsFunc=function(){return this.gridOptions.getNodeChildDetails},t.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},t.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},t.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},t.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},t.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},t.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},t.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},t.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},t.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},t.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},t.prototype.isTreeData=function(){return!!m(this.gridOptions.treeData)&&d.a.assertRegistered(p.a.RowGroupingModule,"Tree Data")},t.prototype.isValueCache=function(){return m(this.gridOptions.valueCache)},t.prototype.isValueCacheNeverExpires=function(){return m(this.gridOptions.valueCacheNeverExpires)},t.prototype.isDeltaSort=function(){return m(this.gridOptions.deltaSort)},t.prototype.isAggregateOnlyChangedColumns=function(){return m(this.gridOptions.aggregateOnlyChangedColumns)},t.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},t.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},t.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},t.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},t.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},t.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},t.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},t.prototype.getViewportRowModelPageSize=function(){return t=this.gridOptions.viewportRowModelPageSize,e=5,t>0?t:e;var t,e},t.prototype.getViewportRowModelBufferSize=function(){return t=this.gridOptions.viewportRowModelBufferSize,e=5,t>=0?t:e;var t,e},t.prototype.isServerSideSortingAlwaysResets=function(){return m(this.gridOptions.serverSideSortingAlwaysResets)},t.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},t.prototype.getProcessChartOptionsFunc=function(){return this.gridOptions.processChartOptions},t.prototype.getClipboardDeliminator=function(){return r.e.exists(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},t.prototype.setProperty=function(t,e){var n=this.gridOptions,r=n[t];if(r!==e){n[t]=e;var i={type:t,currentValue:e,previousValue:r};this.propertyEventService.dispatchEvent(i)}},t.prototype.addLayoutElement=function(t){this.layoutElements.push(t),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),e=t===o.a.DOM_LAYOUT_AUTO_HEIGHT,n=t===o.a.DOM_LAYOUT_PRINT,i=t===o.a.DOM_LAYOUT_NORMAL;this.layoutElements.forEach((function(t){r.e.addOrRemoveCssClass(t,"ag-layout-auto-height",e),r.e.addOrRemoveCssClass(t,"ag-layout-normal",i),r.e.addOrRemoveCssClass(t,"ag-layout-print",n)}))},t.prototype.addEventListener=function(t,n){e.checkEventDeprecation(t),this.propertyEventService.addEventListener(t,n)},t.checkEventDeprecation=function(t){"floatingRowDataChanged"===t&&console.warn("ag-Grid: floatingRowDataChanged is now called pinnedRowDataChanged")},t.prototype.removeEventListener=function(t,e){this.propertyEventService.removeEventListener(t,e)},t.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},t.prototype.getAutoSizePadding=function(){return this.gridOptions.autoSizePadding&&this.gridOptions.autoSizePadding>0?this.gridOptions.autoSizePadding:20},t.prototype.getHeaderHeight=function(){return"number"===typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.specialForNewMaterial(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){return"number"===typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.specialForNewMaterial(25,"headerHeight")},t.prototype.getGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},t.prototype.isExternalFilterPresent=function(){return"function"===typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},t.prototype.doesExternalFilterPass=function(t){return"function"===typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(t)},t.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&r.e.exists(this.gridOptions.getDocument)&&(t=this.gridOptions.getDocument()),t&&r.e.exists(t)?t:document},t.prototype.getMinColWidth=function(){return this.gridOptions.minColWidth&&this.gridOptions.minColWidth>e.MIN_COL_WIDTH?this.gridOptions.minColWidth:e.MIN_COL_WIDTH},t.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>e.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},t.prototype.getColWidth=function(){return"number"!==typeof this.gridOptions.colWidth||this.gridOptions.colWidth<e.MIN_COL_WIDTH?200:this.gridOptions.colWidth},t.prototype.getRowBuffer=function(){var t=this.gridOptions.rowBuffer;return"number"===typeof t?t<0&&(r.e.doOnce((function(){return console.warn("ag-Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),this.gridOptions.rowBuffer=t=0):t=o.a.ROW_BUFFER_SIZE,t},t.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},t.prototype.getScrollbarWidth=function(){if(null==this.scrollWidth){var t="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0;this.scrollWidth=t?this.gridOptions.scrollbarWidth:r.e.getScrollbarWidth()}return this.scrollWidth},t.prototype.checkForDeprecated=function(){var t=this,e=this.gridOptions;e.suppressUnSort&&console.warn("ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortingOrder instead."),e.suppressDescSort&&console.warn("ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortingOrder instead."),e.groupAggFields&&console.warn("ag-grid: as of v3 groupAggFields is not used. Please add appropriate agg fields to your columns."),e.groupHidePivotColumns&&console.warn("ag-grid: as of v3 groupHidePivotColumns is not used as pivot columns are now called rowGroup columns. Please refer to the documentation"),e.groupKeys&&console.warn("ag-grid: as of v3 groupKeys is not used. You need to set rowGroupIndex on the columns to group. Please refer to the documentation"),"boolean"===typeof e.groupDefaultExpanded&&console.warn("ag-grid: groupDefaultExpanded can no longer be boolean. for groupDefaultExpanded=true, use groupDefaultExpanded=9999 instead, to expand all the groups"),(e.onRowDeselected||e.rowDeselected)&&console.warn("ag-grid: since version 3.4 event rowDeselected no longer exists, please check the docs"),e.rowsAlreadyGrouped&&console.warn("ag-grid: since version 3.4 rowsAlreadyGrouped no longer exists, please use getNodeChildDetails() instead"),e.groupAggFunction&&console.warn("ag-grid: since version 4.3.x groupAggFunction is now called groupRowAggNodes"),e.checkboxSelection&&console.warn("ag-grid: since version 8.0.x checkboxSelection is not supported as a grid option. If you want this on all columns, use defaultColDef instead and set it there"),e.paginationInitialRowCount&&console.warn("ag-grid: since version 9.0.x paginationInitialRowCount is now called infiniteInitialRowCount"),e.infinitePageSize&&console.warn("ag-grid: since version 9.0.x infinitePageSize is now called cacheBlockSize"),e.infiniteBlockSize&&console.warn("ag-grid: since version 10.0.x infiniteBlockSize is now called cacheBlockSize"),e.maxPagesInCache&&console.warn("ag-grid: since version 10.0.x maxPagesInCache is now called maxBlocksInCache"),e.paginationOverflowSize&&console.warn("ag-grid: since version 10.0.x paginationOverflowSize is now called cacheOverflowSize"),e.suppressMenuFilterPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['generalMenuTab','columnsMenuTab'] instead of suppressMenuFilterPanel=true"),e.suppressMenuMainPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['filterMenuTab','columnsMenuTab'] instead of suppressMenuMainPanel=true"),e.suppressMenuColumnPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['generalMenuTab','filterMenuTab'] instead of suppressMenuColumnPanel=true"),e.suppressUseColIdForGroups&&console.warn("ag-grid: since version 11.0.x, this is not in use anymore. You should be able to remove it from your definition"),e.groupSuppressRow&&console.warn("ag-grid: since version 18.2.x, 'groupSuppressRow' should not be used anymore. Instead remove row groups and perform custom sorting."),e.groupColumnDef&&console.warn("ag-grid: since version 11.0.x, groupColumnDef has been renamed, this property is now called autoGroupColumnDef. Please change your configuration accordingly"),e.slaveGrids&&console.warn("ag-grid: since version 12.x, slaveGrids has been renamed, this property is now called alignedGrids. Please change your configuration accordingly"),e.floatingTopRowData&&console.warn("ag-grid: since version 12.x, floatingTopRowData is now called pinnedTopRowData"),e.floatingBottomRowData&&console.warn("ag-grid: since version 12.x, floatingBottomRowData is now called pinnedBottomRowData"),e.paginationStartPage&&console.warn("ag-grid: since version 12.x, paginationStartPage is gone, please call api.paginationGoToPage("+e.paginationStartPage+") instead."),e.getHeaderCellTemplate&&console.warn("ag-grid: since version 15.x, getHeaderCellTemplate is gone, please check the header documentation on how to set header templates."),e.headerCellTemplate&&console.warn("ag-grid: since version 15.x, headerCellTemplate is gone, please check the header documentation on how to set header templates."),e.headerCellRenderer&&console.warn("ag-grid: since version 15.x, headerCellRenderer is gone, please check the header documentation on how to set header templates."),e.angularCompileHeaders&&console.warn("ag-grid: since version 15.x, angularCompileHeaders is gone, please see the getting started for Angular 1 docs to see how to do headers in Angular 1.x."),e.pivotTotals&&(console.warn("ag-grid: since version 18.x, pivotTotals has been removed, instead if using pivotTotals, set pivotColumnGroupTotals='before'|'after'."),e.pivotColumnGroupTotals="before"),"inMemory"===e.rowModelType&&(console.warn("ag-grid: since version 18.x, The In Memory Row Model has been renamed to the Client Side Row Model, set rowModelType='clientSide' instead."),e.rowModelType="clientSide"),"enterprise"===e.rowModelType&&(console.warn("ag-grid: since version 18.x, The Enterprise Row Model has been renamed to the Server Side Row Model, set rowModelType='serverSide' instead."),e.rowModelType="serverSide"),e.layoutInterval&&console.warn("ag-grid: since version 18.x, layoutInterval is no longer a property. This is because the grid now uses CSS Flex for layout."),e.gridAutoHeight&&(console.warn("ag-grid: since version 19.x, gridAutoHeight is gone, please use domLayout=autoHeight instead"),e.domLayout="autoHeight"),!0===e.showToolPanel&&(console.warn("ag-grid: since version 19.x, showToolPanel is gone, please specify toolPanel components. See https://www.ag-grid.com/javascript-grid-tool-panel/"),e.showToolPanel=void 0,e.sideBar=e.sideBar||!0),!1===e.showToolPanel&&(console.warn("ag-grid: since version 19.x, showToolPanel is gone, please specify toolPanel components. See https://www.ag-grid.com/javascript-grid-tool-panel/"),e.showToolPanel=void 0,e.sideBar=e.sideBar||!1);var n={toolPanelSuppressRowGroups:"suppressRowGroups",toolPanelSuppressValues:"suppressValues",toolPanelSuppressPivots:"suppressPivots",toolPanelSuppressPivotMode:"suppressPivotMode",toolPanelSuppressColumnFilter:"suppressColumnFilter",toolPanelSuppressColumnSelectAll:"suppressColumnSelectAll",toolPanelSuppressSideButtons:"suppressSideButtons",toolPanelSuppressColumnExpandAll:"suppressColumnExpandAll",contractColumnSelection:"contractColumnSelection"},i={};Object.keys(n).forEach((function(e){var r=n[e],o=t.gridOptions[e];if(void 0!==o){if("toolPanelSuppressSideButtons"===e)return void console.warn("ag-grid: since v19.0 toolPanelSuppressSideButtons has been completely removed. See https://www.ag-grid.com/javascript-grid-tool-panel/");console.warn("ag-grid: since v19.0 gridOptions."+e+" is deprecated, please use gridOptions.sideBar.toolPanel[columnsIndex].componentParams."+r),i[r]=o}})),Object.keys(i).length>0&&!r.e.exists(e.sideBar)&&(console.warn("ag-grid: since version 19.x, sideBar is mandatory if using toolPanel related properties. See https://www.ag-grid.com/javascript-grid-tool-panel/"),e.sideBar=!0),null!=e.sideBar&&(e.sideBar=h.a.parse(e.sideBar));var o=this.gridOptions.sideBar;if(Object.keys(i).length>0&&o&&o.toolPanels){var s=o.toolPanels.filter((function(t){return"columns"===t.id}));1===s.length&&r.e.mergeDeep(s[0],{componentParams:i})}e.enableStatusBar&&(console.warn("ag-grid: since version 19.x, enableStatusBar is gone, please specify statusBar components"),e.statusBar=e.statusBar||{components:[{component:"agAggregationComponent"}]}),e.alwaysShowStatusBar&&console.warn("ag-grid: since version 19.x, alwaysShowStatusBar is gone. Please specify a min-height on the ag-status-bar css class, eg .ag-status-bar {min-height: 35px; }"),(e.enableServerSideSorting||e.enableSorting)&&(console.warn("ag-Grid: since v20, grid options enableSorting and enableServerSideSorting are gone. Instead set sortable=true on the column definition for the columns sorting are allowed on. To migrate from gridOption.enableSorting=true, set gridOptions.defaultColDef.sortable=true"),e.defaultColDef||(e.defaultColDef={}),e.defaultColDef.sortable||(e.defaultColDef.sortable=!0)),(e.enableFilter||e.enableServerSideFilter)&&(console.warn("ag-Grid: since v20, grid options enableFilter and enableServerSideFilter are gone. Instead set filter=true (if not already specifying a specific filter) on the column definition for the columns filtering is allowed on. To migrate from gridOptions.enableFilter=true, set gridOptions.defaultColDef.filter=true. If you are explicitly setting specific filters for each column (ie colDef.filter is already set) the you don't need to do anything."),e.defaultColDef||(e.defaultColDef={}),e.defaultColDef.filter||(e.defaultColDef.filter=!0)),e.enableColResize&&(console.warn("ag-Grid: since v20, grid options enableColResize is gone. Instead set resizable=true on the column definition for the columns resizing are allowed on. To migrate from gridOption.enableColResize=true, set gridOptions.defaultColDef.resizable=true"),e.defaultColDef||(e.defaultColDef={}),e.defaultColDef.resizable||(e.defaultColDef.resizable=!0)),e.deprecatedEmbedFullWidthRows&&console.warn("ag-Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),e.suppressTabbing&&console.warn("ag-Grid: since v20.1, suppressTabbing is replaced with the more powerful grid callback suppressKeyboardEvent(params) which can suppress any keyboard event including tabbing."),e.doesDataFlower&&console.warn("ag-Grid: since v21.1, doesDataFlower is deprecated. Master/Detail is the new way for showing child data for a row and was introduced over a year ago. Please migrate your code to use master/detail instead."),e.enableOldSetFilterModel&&console.warn("ag-Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards.")},t.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},t.prototype.treeDataViolations=function(){this.isRowModelDefault()&&r.e.missing(this.getDataPathFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(r.e.missing(this.getIsServerSideGroupFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),r.e.missing(this.getServerSideGroupKeyFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},t.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var t=this;return function(e,n){var r=t.gridOptions.localeText;return r&&r[e]?r[e]:n}},t.prototype.globalEventHandler=function(t,e){var n=s.a.getCallbackForEvent(t);"function"===typeof this.gridOptions[n]&&this.gridOptions[n](e)},t.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||r.e.missing(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},t.prototype.getRowHeightForNode=function(t,e){if(void 0===e&&(e=!1),"function"===typeof this.gridOptions.getRowHeight){if(e)return{height:this.getDefaultRowHeight(),estimated:!0};var n={node:t,data:t.data,api:this.gridOptions.api,context:this.gridOptions.context};return{height:this.gridOptions.getRowHeight(n),estimated:!1}}if(t.detail&&this.isMasterDetail())return this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var r=this.getDefaultRowHeight(),i=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r,o=Math.min(r,i);if(this.columnController.isAutoRowHeightActive()){if(e)return{height:i,estimated:!0};var s=this.autoHeightCalculator.getPreferredHeightForRow(t);return{height:Math.max(s,o),estimated:!1}}return{height:i,estimated:!1}},t.prototype.isDynamicRowHeight=function(){return"function"===typeof this.gridOptions.getRowHeight},t.prototype.getVirtualItemHeight=function(){return this.specialForNewMaterial(20,"virtualItemHeight")},t.prototype.useNativeCheckboxes=function(){return this.environment.useNativeCheckboxes()},t.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},t.prototype.isNumeric=function(t){return!isNaN(t)&&"number"===typeof t},t.prototype.specialForNewMaterial=function(t,e){var n=this.environment.getTheme().theme;return n&&0===n.indexOf("ag-theme")?this.environment.getSassVariable(n,e):t},t.prototype.getDefaultRowHeight=function(){return this.specialForNewMaterial(25,"rowHeight")},t.MIN_COL_WIDTH=10,t.PROP_HEADER_HEIGHT="headerHeight",t.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",t.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",t.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",t.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",t.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",t.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",t.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",t.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",t.PROP_POPUP_PARENT="popupParent",t.PROP_DOM_LAYOUT="domLayout",f([Object(a.a)("gridOptions")],t.prototype,"gridOptions",void 0),f([Object(a.a)("columnController")],t.prototype,"columnController",void 0),f([Object(a.a)("eventService")],t.prototype,"eventService",void 0),f([Object(a.a)("gridApi")],t.prototype,"gridApi",void 0),f([Object(a.a)("columnApi")],t.prototype,"columnApi",void 0),f([Object(a.a)("environment")],t.prototype,"environment",void 0),f([Object(a.a)("autoHeightCalculator")],t.prototype,"autoHeightCalculator",void 0),f([Object(a.a)("context")],t.prototype,"context",void 0),f([g(0,Object(a.h)("gridApi")),g(1,Object(a.h)("columnApi"))],t.prototype,"agWire",null),f([a.g],t.prototype,"destroy",null),f([a.e],t.prototype,"init",null),t=e=f([Object(a.b)("gridOptionsWrapper")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(28),i=n(7),o=n(1),s=n(5),a=n(0),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(){function t(){this.childrenMapped={},this.selectable=!0,this.__objectId=t.OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.selected=!1}return t.prototype.setData=function(t){var e=this.data;this.data=t,this.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var n=this.createDataChangedEvent(t,e,!1);this.dispatchLocalEvent(n)},t.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},t.prototype.createDataChangedEvent=function(e,n,r){return{type:t.EVENT_DATA_CHANGED,node:this,oldData:n,newData:e,update:r}},t.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},t.prototype.updateData=function(t){var e=this.data;this.data=t,this.updateDataOnDetailNode(),this.checkRowSelectable(),this.updateDataOnDetailNode();var n=this.createDataChangedEvent(t,e,!0);this.dispatchLocalEvent(n)},t.prototype.getRowIndexString=function(){return this.rowPinned===s.a.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===s.a.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},t.prototype.createDaemonNode=function(){var e=new t;return this.context.wireBean(e),e.id=this.id,e.data=this.data,e.daemon=!0,e.selected=this.selected,e.level=this.level,e},t.prototype.setDataAndId=function(t,e){var n=a.e.exists(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.selectionController.syncInRowNode(this,n),this.checkRowSelectable();var i=this.createDataChangedEvent(t,r,!1);this.dispatchLocalEvent(i)},t.prototype.checkRowSelectable=function(){var t=this.gridOptionsWrapper.getIsRowSelectableFunc(),e=t&&a.e.exists(this);this.setRowSelectable(!e||t(this))},t.prototype.setRowSelectable=function(e){this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_SELECTABLE_CHANGED)))},t.prototype.setId=function(t){var e=this.gridOptionsWrapper.getRowNodeIdFunc();e?this.data?this.id=e(this.data):this.id=void 0:this.id=t},t.prototype.isPixelInRange=function(t){return t>=this.rowTop&&t<this.rowTop+this.rowHeight},t.prototype.clearRowTop=function(){this.oldRowTop=this.rowTop,this.setRowTop(null)},t.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_FIRST_CHILD_CHANGED)))},t.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_LAST_CHILD_CHANGED)))},t.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_CHILD_INDEX_CHANGED)))},t.prototype.setRowTop=function(e){this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_TOP_CHANGED)))},t.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DRAGGING_CHANGED)))},t.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},t.prototype.setRowHeight=function(e,n){void 0===n&&(n=!1),this.rowHeight=e,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HEIGHT_CHANGED))},t.prototype.setRowIndex=function(e){this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ROW_INDEX_CHANGED))},t.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_UI_LEVEL_CHANGED)))},t.prototype.setExpanded=function(e){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_EXPANDED_CHANGED));var n=this.createGlobalRowEvent(i.a.EVENT_ROW_GROUP_OPENED);this.mainEventService.dispatchEvent(n),this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridApi.redrawRows({rowNodes:[this]})}},t.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},t.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},t.prototype.setDataValue=function(t,e){var n=this.columnController.getPrimaryColumn(t);this.valueService.setValue(this,n,e),this.dispatchCellChangedEvent(n,e)},t.prototype.setGroupValue=function(t,e){var n=this.columnController.getGridColumn(t);a.e.missing(this.groupData)&&(this.groupData={}),this.groupData[n.getColId()]=e,this.dispatchCellChangedEvent(n,e)},t.prototype.setAggData=function(t){var e=this,n=a.e.getAllKeysInObjects([this.aggData,t]);this.aggData=t,this.eventService&&n.forEach((function(t){var n=e.columnController.getGridColumn(t),r=e.aggData?e.aggData[t]:void 0;e.dispatchCellChangedEvent(n,r)}))},t.prototype.hasChildren=function(){return this.group||this.childrenAfterGroup&&this.childrenAfterGroup.length>0},t.prototype.isEmptyRowGroupNode=function(){return this.group&&a.e.missingOrEmpty(this.childrenAfterGroup)},t.prototype.dispatchCellChangedEvent=function(e,n){var r={type:t.EVENT_CELL_CHANGED,node:this,column:e,newValue:n};this.dispatchLocalEvent(r)},t.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},t.prototype.isExpandable=function(){return this.hasChildren()||this.master},t.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},t.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(e){return e.depthFirstSearch(t)})),t(this)},t.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,r=!1;if(this.childrenAfterGroup)for(var i=0;i<this.childrenAfterGroup.length;i++){var o=this.childrenAfterGroup[i];if(o.selectable)switch(o.isSelected()){case!0:e=!0;break;case!1:n=!0;break;default:r=!0}}t=r?void 0:!(!e||n)||!(!e&&n)&&void 0,this.selectThisNode(t)},t.prototype.setSelectedInitialValue=function(t){this.selected=t},t.prototype.setSelected=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:n,rangeSelect:!1})},t.prototype.isRowPinned=function(){return this.rowPinned===s.a.PINNED_TOP||this.rowPinned===s.a.PINNED_BOTTOM},t.prototype.setSelectedParams=function(t){var e=this.gridOptionsWrapper.isGroupSelectsChildren(),n=!0===t.newValue,r=!0===t.clearSelection,o=!0===t.suppressFinishActions,s=!0===t.rangeSelect,a=e&&!0===t.groupSelectsFiltered;if(void 0===this.id)return console.warn("ag-Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("ag-Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(t);if(s){var u=this.selectionController.getLastSelectedNode()!==this,l=this.gridOptionsWrapper.isRowSelectionMulti();if(u&&l)return this.doRowRangeSelection()}var c=0;a&&this.group||this.selectThisNode(n)&&c++;if(e&&this.group&&(c+=this.selectChildNodes(n,a)),!o){if(n&&(r||!this.gridOptionsWrapper.isRowSelectionMulti())&&(c+=this.selectionController.clearOtherNodes(this)),c>0){this.selectionController.updateGroupsFromChildrenSelections();var h={type:i.a.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.mainEventService.dispatchEvent(h)}n&&this.selectionController.setLastSelectedNode(this)}return c},t.prototype.doRowRangeSelection=function(){var t=0,e=this.gridOptionsWrapper.isGroupSelectsChildren(),n=this.selectionController.getLastSelectedNode();this.rowModel.getNodesInRangeForSelection(this,n).forEach((function(n){n.group&&e||n.selectThisNode(!0)&&t++})),this.selectionController.updateGroupsFromChildrenSelections();var r={type:i.a.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};return this.mainEventService.dispatchEvent(r),t},t.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},t.prototype.selectThisNode=function(e){if(!this.selectable||this.selected===e)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_ROW_SELECTED));var n=this.createGlobalRowEvent(i.a.EVENT_ROW_SELECTED);return this.mainEventService.dispatchEvent(n),!0},t.prototype.selectChildNodes=function(t,e){var n=e?this.childrenAfterFilter:this.childrenAfterGroup,r=0;if(!a.e.missing(n)){for(var i=0;i<n.length;i++)r+=n[i].setSelectedParams({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:e});return r}},t.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new r.a),this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_ENTER))},t.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_LEAVE))},t.prototype.getFirstChildOfFirstChild=function(t){for(var e,n=this,r=!0,i=!1;r&&!i;){var o=n.parent;a.e.exists(o)&&n.firstChild?o.rowGroupColumn===t&&(i=!0,e=o):r=!1,n=o}return i?e:null},t.prototype.isFullWidthCell=function(){var t=this.gridOptionsWrapper.getIsFullWidthCellFunc();return!!t&&t(this)},t.OBJECT_ID_SEQUENCE=0,t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_DATA_CHANGED="dataChanged",t.EVENT_CELL_CHANGED="cellChanged",t.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",t.EVENT_MOUSE_ENTER="mouseEnter",t.EVENT_MOUSE_LEAVE="mouseLeave",t.EVENT_HEIGHT_CHANGED="heightChanged",t.EVENT_TOP_CHANGED="topChanged",t.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",t.EVENT_LAST_CHILD_CHANGED="lastChildChanged",t.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",t.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_SELECTABLE_CHANGED="selectableChanged",t.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",t.EVENT_DRAGGING_CHANGED="draggingChanged",u([Object(o.a)("eventService")],t.prototype,"mainEventService",void 0),u([Object(o.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),u([Object(o.a)("selectionController")],t.prototype,"selectionController",void 0),u([Object(o.a)("columnController")],t.prototype,"columnController",void 0),u([Object(o.a)("valueService")],t.prototype,"valueService",void 0),u([Object(o.a)("rowModel")],t.prototype,"rowModel",void 0),u([Object(o.a)("context")],t.prototype,"context",void 0),u([Object(o.a)("valueCache")],t.prototype,"valueCache",void 0),u([Object(o.a)("columnApi")],t.prototype,"columnApi",void 0),u([Object(o.a)("gridApi")],t.prototype,"gridApi",void 0),t}()},function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return p})),n.d(e,"setUserLogHandler",(function(){return d}));var o,s=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=l[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function p(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++){n(i[r])}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(28),i=n(1),o=n(0),s=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=function(){function t(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.getContext=function(){return t.context},this.isAlive=function(){return!t.destroyed}}return t.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){return t()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:t.EVENT_DESTROYED})},t.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new r.a),this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},t.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout((function(){return e.dispatchEvent(t)}),0)},t.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},t.prototype.addDestroyableEventListener=function(t,e,n){var r=this;if(!this.destroyed){t instanceof HTMLElement?o.e.addSafePassiveEventListener(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var i=function i(){t.removeEventListener(e,n),r.destroyFunctions=r.destroyFunctions.filter((function(t){return t!==i}))};return this.destroyFunctions.push(i),i}},t.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},t.prototype.wireDependentBean=function(t,e){return t.destroy&&this.addDestroyFunc(t.destroy.bind(t)),this.wireBean(t,e)},t.prototype.wireBean=function(t,e){return(e||this.getContext()).wireBean(t),t},t.EVENT_DESTROYED="destroyed",s([Object(i.a)("context")],t.prototype,"context",void 0),s([Object(i.a)("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),s([i.g],t.prototype,"destroy",null),t}()},function(t,e,n){"use strict";n.r(e);function r(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function o(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}Object.create;var u=n(2);n.d(e,"Component",(function(){return l})),n.d(e,"ComponentContainer",(function(){return p})),n.d(e,"Provider",(function(){return h}));var l=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),c="[DEFAULT]",h=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new u.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:c})}catch(d){}try{for(var r=o(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var a=s(i.value,2),u=a[0],l=a[1],h=this.normalizeInstanceIdentifier(u);try{var p=this.getOrInitializeService({instanceIdentifier:h});l.resolve(p)}catch(d){}}}catch(f){e={error:f}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=c),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(a(a([],s(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),s(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=c),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:i});try{for(var l=o(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var h=s(c.value,2),p=h[0],d=h[1];a===this.normalizeInstanceIdentifier(p)&&d.resolve(u)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return u},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var s=o(i),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(l){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===c?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=c),this.component?this.component.multipleInstances?t:c:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var p=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new h(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(25),i=n(12),o=n(28),s=function(){function t(t,e,n,r){this.localEventService=new o.a,this.expandable=!1,this.colGroupDef=t,this.groupId=e,this.expanded=t&&!!t.openByDefault,this.padding=n,this.level=r}return t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.getLevel=function(){return this.level},t.prototype.isVisible=function(){return!!this.children&&this.children.some((function(t){return t.isVisible()}))},t.prototype.isPadding=function(){return this.padding},t.prototype.setExpanded=function(e){this.expanded=void 0!==e&&e;var n={type:t.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(n)},t.prototype.isExpandable=function(){return this.expandable},t.prototype.isExpanded=function(){return this.expanded},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getId=function(){return this.getGroupId()},t.prototype.setChildren=function(t){this.children=t},t.prototype.getChildren=function(){return this.children},t.prototype.getColGroupDef=function(){return this.colGroupDef},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.addLeafColumns=function(e){this.children&&this.children.forEach((function(n){n instanceof i.a?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getColumnGroupShow=function(){return this.padding?r.a.HEADER_GROUP_PADDING:this.colGroupDef.columnGroupShow},t.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.getLeafColumns().forEach((function(e){return e.addEventListener(i.a.EVENT_VISIBLE_CHANGED,t.onColumnVisibilityChanged.bind(t))}))},t.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,n=!1,i=!1,o=this.findChildren(),s=0,a=o.length;s<a;s++){var u=o[s];if(u.isVisible()){var l=u.getColumnGroupShow();if(l===r.a.HEADER_GROUP_SHOW_OPEN)e=!0,i=!0;else if(l===r.a.HEADER_GROUP_SHOW_CLOSED)n=!0,i=!0;else{if(e=!0,n=!0,l===r.a.HEADER_GROUP_PADDING)i=i||u.children.some((function(t){return void 0!==t.getColumnGroupShow()}))}}}var c=e&&n&&i;if(this.expandable!==c){this.expandable=c;var h={type:t.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(h)}}},t.prototype.findChildren=function(){var e=this.children,n=e[0];if(n&&(!n.isPadding||!n.isPadding()))return e;for(;1===e.length&&e[0]instanceof t;)e=e[0].children;return e},t.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_EXPANDABLE_CHANGED="expandableChanged",t}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return nl})),n.d(e,"b",(function(){return Ya})),n.d(e,"c",(function(){return Va})),n.d(e,"d",(function(){return ll})),n.d(e,"e",(function(){return ol})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return sl})),n.d(e,"h",(function(){return fl})),n.d(e,"i",(function(){return dl})),n.d(e,"j",(function(){return gl})),n.d(e,"k",(function(){return el})),n.d(e,"l",(function(){return _l})),n.d(e,"m",(function(){return ml})),n.d(e,"n",(function(){return wl})),n.d(e,"o",(function(){return al})),n.d(e,"p",(function(){return yl})),n.d(e,"q",(function(){return El})),n.d(e,"r",(function(){return Ga})),n.d(e,"s",(function(){return rl})),n.d(e,"t",(function(){return Cl}));var r=n(3),i=n(2),o=n(20),s=n(30),a=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();a.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},l=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.b)(e,t),e}(Error),c=new o.Logger("@firebase/firestore");function h(){return c.logLevel}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.DEBUG){var i=e.map(g);c.debug.apply(c,Object(r.d)(["Firestore (8.7.0): "+t],i))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.ERROR){var i=e.map(g);c.error.apply(c,Object(r.d)(["Firestore (8.7.0): "+t],i))}}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.WARN){var i=e.map(g);c.warn.apply(c,Object(r.d)(["Firestore (8.7.0): "+t],i))}}function g(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function v(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function m(t,e){t||v()}function y(t,e){return t}function b(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var w=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function C(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function _(t){return t+"\0"}var O=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new l(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new l(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new l(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new l(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?C(this.nanoseconds,t.nanoseconds):C(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),T=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new O(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function S(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function R(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var x=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v(),void 0===n?n=t.length-e:n>t.length-e&&v(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new l(u.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(x),D=/^[_a-zA-Z][_a-zA-Z0-9]*$/,I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return D.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new l(u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new l(u.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new l(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new l(u.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(x),N=function(){function t(t){this.fields=t,t.sort(I.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return E(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),k=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return C(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();k.EMPTY_BYTE_STRING=new k("");var L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function M(t){if(m(!!t),"string"==typeof t){var e=0,n=L.exec(t);if(m(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:F(t.seconds),nanos:F(t.nanos)}}function F(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function j(t){return"string"==typeof t?k.fromBase64String(t):k.fromUint8Array(t)}function G(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function V(t){var e=M(t.mapValue.fields.__local_write_time__.timestampValue);return new O(e.seconds,e.nanos)}function W(t){return null==t}function B(t){return 0===t&&1/t==-1/0}function H(t){return"number"==typeof t&&Number.isInteger(t)&&!B(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var U=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(A.fromString(e))},t.fromName=function(e){return new t(A.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===A.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return A.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new A(e.slice()))},t}();function z(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G(t)?4:10:v()}function q(t,e){var n=z(t);if(n!==z(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return V(t).isEqual(V(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=M(t.timestampValue),r=M(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return j(t.bytesValue).isEqual(j(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return F(t.geoPointValue.latitude)===F(e.geoPointValue.latitude)&&F(t.geoPointValue.longitude)===F(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return F(t.integerValue)===F(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=F(t.doubleValue),r=F(e.doubleValue);return n===r?B(n)===B(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return E(t.arrayValue.values||[],e.arrayValue.values||[],q);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(S(n)!==S(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!q(n[i],r[i])))return!1;return!0}(t,e);default:return v()}}function K(t,e){return void 0!==(t.values||[]).find((function(t){return q(t,e)}))}function Y(t,e){var n=z(t),r=z(e);if(n!==r)return C(n,r);switch(n){case 0:return 0;case 1:return C(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=F(t.integerValue||t.doubleValue),r=F(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return X(t.timestampValue,e.timestampValue);case 4:return X(V(t),V(e));case 5:return C(t.stringValue,e.stringValue);case 6:return function(t,e){var n=j(t),r=j(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=C(n[i],r[i]);if(0!==o)return o}return C(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=C(F(t.latitude),F(e.latitude));return 0!==n?n:C(F(t.longitude),F(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Y(n[i],r[i]);if(o)return o}return C(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=C(r[s],o[s]);if(0!==a)return a;var u=Y(n[r[s]],i[o[s]]);if(0!==u)return u}return C(r.length,o.length)}(t.mapValue,e.mapValue);default:throw v()}}function X(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return C(t,e);var n=M(t),r=M(e),i=C(n.seconds,r.seconds);return 0!==i?i:C(n.nanos,r.nanos)}function Q(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=M(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?j(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,U.fromName(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):v();var n,r}(t)}function $(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function J(t){return!!t&&"integerValue"in t}function Z(t){return!!t&&"arrayValue"in t}function tt(t){return!!t&&"nullValue"in t}function et(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nt(t){return!!t&&"mapValue"in t}function rt(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},M(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return R(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=rt(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=rt(t.arrayValue.values[r]);return n}return Object.assign({},t)}var it=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!nt(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=rt(e)},t.prototype.setAll=function(t){var e=this,n=I.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=rt(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());nt(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return q(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];nt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){R(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(rt(this.value))},t}();function ot(t){var e=[];return R(t.fields,(function(t,n){var r=new I([t]);if(nt(n)){var i=ot(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new N(e)}var st=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,T.min(),it.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,it.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,it.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=it.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=it.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),at=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function ut(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new at(t,e,n,r,i,o,s)}function lt(t){var e=y(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Q(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),W(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Et(e.startAt)),e.endAt&&(n+="|ub:",n+=Et(e.endAt)),e.h=n}return e.h}function ct(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ot(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!q(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!St(t.startAt,e.startAt)&&St(t.endAt,e.endAt)}function ht(t){return U.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var pt=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(r.b)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new dt(t,n,r):"array-contains"===n?new mt(t,r):"in"===n?new yt(t,r):"not-in"===n?new bt(t,r):"array-contains-any"===n?new wt(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ft(t,n):new gt(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Y(e,this.value)):null!==e&&z(this.value)===z(e)&&this.m(Y(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return v()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),dt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=U.fromName(r.referenceValue),i}return Object(r.b)(e,t),e.prototype.matches=function(t){var e=U.comparator(t.key,this.key);return this.m(e)},e}(pt),ft=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=vt("in",n),r}return Object(r.b)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(pt),gt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=vt("not-in",n),r}return Object(r.b)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(pt);function vt(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return U.fromName(t.referenceValue)}))}var mt=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(r.b)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Z(e)&&K(e.arrayValue,this.value)},e}(pt),yt=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(r.b)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&K(this.value.arrayValue,e)},e}(pt),bt=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(r.b)(e,t),e.prototype.matches=function(t){if(K(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!K(this.value.arrayValue,e)},e}(pt),wt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(r.b)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Z(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return K(e.value.arrayValue,t)}))},e}(pt),Ct=function(t,e){this.position=t,this.before=e};function Et(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Q(t)})).join(",")}var _t=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ot(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Tt(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?U.comparator(U.fromName(s.referenceValue),n.key):Y(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function St(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!q(t.position[n],e.position[n]))return!1;return!0}var Rt=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function Pt(t,e,n,r,i,o,s,a){return new Rt(t,e,n,r,i,o,s,a)}function xt(t){return new Rt(t)}function At(t){return!W(t.limit)&&"F"===t.limitType}function Dt(t){return!W(t.limit)&&"L"===t.limitType}function It(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Nt(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function kt(t){return null!==t.collectionGroup}function Lt(t){var e=y(t);if(null===e.p){e.p=[];var n=Nt(e),r=It(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new _t(n)),e.p.push(new _t(I.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new _t(I.keyField(),u))}}}return e.p}function Mt(t){var e=y(t);if(!e.T)if("F"===e.limitType)e.T=ut(e.path,e.collectionGroup,Lt(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Lt(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new _t(o.field,s))}var a=e.endAt?new Ct(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Ct(e.startAt.position,!e.startAt.before):null;e.T=ut(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function Ft(t,e,n){return new Rt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jt(t,e){return ct(Mt(t),Mt(e))&&t.limitType===e.limitType}function Gt(t){return lt(Mt(t))+"|lt:"+t.limitType}function Vt(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Q(e.value);var e})).join(", ")+"]"),W(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Et(t.startAt)),t.endAt&&(e+=", endAt: "+Et(t.endAt)),"Target("+e+")"}(Mt(t))+"; limitType="+t.limitType+")"}function Wt(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):U.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Tt(t.startAt,Lt(t),e))&&(!t.endAt||!Tt(t.endAt,Lt(t),e))}(t,e)}function Bt(t){return function(e,n){for(var r=!1,i=0,o=Lt(t);i<o.length;i++){var s=o[i],a=Ht(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ht(t,e,n){var r=t.field.isKeyField()?U.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Y(r,i):v()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}function Ut(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:B(e)?"-0":e}}function zt(t){return{integerValue:""+t}}function qt(t,e){return H(e)?zt(e):Ut(t,e)}var Kt=function(){this._=void 0};function Yt(t,e,n){return t instanceof $t?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Jt?Zt(t,e):t instanceof te?ee(t,e):function(t,e){var n=Qt(t,e),r=re(n)+re(t.A);return J(n)&&J(t.A)?zt(r):Ut(t.R,r)}(t,e)}function Xt(t,e,n){return t instanceof Jt?Zt(t,e):t instanceof te?ee(t,e):n}function Qt(t,e){return t instanceof ne?J(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var $t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e}(Kt),Jt=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.b)(e,t),e}(Kt);function Zt(t,e){for(var n=ie(e),r=function(t){n.some((function(e){return q(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var te=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.b)(e,t),e}(Kt);function ee(t,e){for(var n=ie(e),r=function(t){n=n.filter((function(e){return!q(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ne=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(r.b)(e,t),e}(Kt);function re(t){return F(t.integerValue||t.doubleValue)}function ie(t){return Z(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var oe=function(t,e){this.field=t,this.transform=e},se=function(t,e){this.version=t,this.transformResults=e},ae=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ue(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var le=function(){};function ce(t,e,n){t instanceof ge?function(t,e,n){var r=t.value.clone(),i=ye(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ve?function(t,e,n){if(ue(t.precondition,e)){var r=ye(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(me(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function he(t,e,n){t instanceof ge?function(t,e,n){if(ue(t.precondition,e)){var r=t.value.clone(),i=be(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(fe(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ve?function(t,e,n){if(ue(t.precondition,e)){var r=be(t.fieldTransforms,n,e),i=e.data;i.setAll(me(t)),i.setAll(r),e.convertToFoundDocument(fe(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){ue(t.precondition,e)&&e.convertToNoDocument(T.min())}(t,e)}function pe(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Qt(o.transform,s||null);null!=a&&(null==n&&(n=it.empty()),n.set(o.field,a))}return n||null}function de(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&E(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Jt&&e instanceof Jt||t instanceof te&&e instanceof te?E(t.elements,e.elements,q):t instanceof ne&&e instanceof ne?q(t.A,e.A):t instanceof $t&&e instanceof $t}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function fe(t){return t.isFoundDocument()?t.version:T.min()}var ge=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(r.b)(e,t),e}(le),ve=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(r.b)(e,t),e}(le);function me(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function ye(t,e,n){var r=new Map;m(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Xt(s,a,n[i]))}return r}function be(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Yt(a,u,e))}return r}var we,Ce,Ee=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(r.b)(e,t),e}(le),_e=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(r.b)(e,t),e}(le),Oe=function(t){this.count=t};function Te(t){switch(t){case u.OK:return v();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return v()}}function Se(t){if(void 0===t)return d("GRPC error has no .code"),u.UNKNOWN;switch(t){case we.OK:return u.OK;case we.CANCELLED:return u.CANCELLED;case we.UNKNOWN:return u.UNKNOWN;case we.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case we.INTERNAL:return u.INTERNAL;case we.UNAVAILABLE:return u.UNAVAILABLE;case we.UNAUTHENTICATED:return u.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case we.NOT_FOUND:return u.NOT_FOUND;case we.ALREADY_EXISTS:return u.ALREADY_EXISTS;case we.PERMISSION_DENIED:return u.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case we.ABORTED:return u.ABORTED;case we.OUT_OF_RANGE:return u.OUT_OF_RANGE;case we.UNIMPLEMENTED:return u.UNIMPLEMENTED;case we.DATA_LOSS:return u.DATA_LOSS;default:return v()}}(Ce=we||(we={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var Re=function(){function t(t,e){this.comparator=t,this.root=e||xe.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xe.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xe.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Pe(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Pe(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Pe(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Pe(this.root,t,this.comparator,!0)},t}(),Pe=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),xe=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v();if(this.right.isRed())throw v();var t=this.left.check();if(t!==this.right.check())throw v();return t+(this.isRed()?0:1)},t}();xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1,xe.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xe(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Ae=function(){function t(t){this.comparator=t,this.data=new Re(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new De(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new De(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),De=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ie=new Re(U.comparator);function Ne(){return Ie}var ke=new Re(U.comparator);function Le(){return ke}var Me=new Re(U.comparator);function Fe(){return Me}var je=new Ae(U.comparator);function Ge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=je,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ve=new Ae(C);function We(){return Ve}var Be=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,He.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(T.min(),r,We(),Ne(),Ge())},t}(),He=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(k.EMPTY_BYTE_STRING,n,Ge(),Ge(),Ge())},t}(),Ue=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ze=function(t,e){this.targetId=t,this.V=e},qe=function(t,e,n,r){void 0===n&&(n=k.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ke=function(){function t(){this.S=0,this.D=Qe(),this.C=k.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Ge(),e=Ge(),n=Ge();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:v()}})),new He(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Qe()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Ye=function(){function t(t){this.W=t,this.G=new Map,this.H=Ne(),this.J=Xe(),this.Y=new Ae(C)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:v()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(ht(i))if(0===n){var o=new U(i.path);this.tt(e,o,st.newNoDocument(o,T.min()))}else m(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&ht(o.target)){var s=new U(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,st.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Ge();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Be(t,n,this.Y,this.H,r);return this.H=Ne(),this.J=Xe(),this.Y=new Ae(C),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ke,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Ae(C),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Ke),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Xe(){return new Re(U.comparator)}function Qe(){return new Re(U.comparator)}var $e={asc:"ASCENDING",desc:"DESCENDING"},Je={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ze=function(t,e){this.databaseId=t,this.I=e};function tn(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function en(t,e){return t.I?e.toBase64():e.toUint8Array()}function nn(t,e){return tn(t,e.toTimestamp())}function rn(t){return m(!!t),T.fromTimestamp(function(t){var e=M(t);return new O(e.seconds,e.nanos)}(t))}function on(t,e){return function(t){return new A(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function sn(t){var e=A.fromString(t);return m(xn(e)),e}function an(t,e){return on(t.databaseId,e.path)}function un(t,e){var n=sn(e);if(n.get(1)!==t.databaseId.projectId)throw new l(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new l(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(pn(n))}function ln(t,e){return on(t.databaseId,e)}function cn(t){var e=sn(t);return 4===e.length?A.emptyPath():pn(e)}function hn(t){return new A(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pn(t){return m(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function dn(t,e,n){return{name:an(t,e),fields:n.value.mapValue.fields}}function fn(t,e,n){var r=un(t,e.name),i=rn(e.updateTime),o=new it({mapValue:{fields:e.fields}}),s=st.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function gn(t,e){var n;if(e instanceof ge)n={update:dn(t,e.key,e.value)};else if(e instanceof Ee)n={delete:an(t,e.key)};else if(e instanceof ve)n={update:dn(t,e.key,e.data),updateMask:Pn(e.fieldMask)};else{if(!(e instanceof _e))return v();n={verify:an(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof $t)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jt)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof te)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ne)return{fieldPath:e.field.canonicalString(),increment:n.A};throw v()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:nn(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:v()}(t,e.precondition)),n}function vn(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ae.updateTime(rn(t.updateTime)):void 0!==t.exists?ae.exists(t.exists):ae.none()}(e.currentDocument):ae.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)m("REQUEST_TIME"===e.setToServerValue),n=new $t;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Jt(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new te(i)}else"increment"in e?n=new ne(t,e.increment):v();var o=I.fromServerFormat(e.fieldPath);return new oe(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=un(t,e.update.name),o=new it({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new N(e.map((function(t){return I.fromServerFormat(t)})))}(e.updateMask);return new ve(i,o,s,n,r)}return new ge(i,o,n,r)}if(e.delete){var a=un(t,e.delete);return new Ee(a,n)}if(e.verify){var u=un(t,e.verify);return new _e(u,n)}return v()}function mn(t,e){return{documents:[ln(t,e.path)]}}function yn(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ln(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ln(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(et(t.value))return{unaryFilter:{field:On(t.field),op:"IS_NAN"}};if(tt(t.value))return{unaryFilter:{field:On(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(et(t.value))return{unaryFilter:{field:On(t.field),op:"IS_NOT_NAN"}};if(tt(t.value))return{unaryFilter:{field:On(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:On(t.field),op:_n(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:On(t.field),direction:En(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||W(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=wn(e.startAt)),e.endAt&&(n.structuredQuery.endAt=wn(e.endAt)),n}function bn(t){var e=cn(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){m(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Rn(e)]:void 0!==e.fieldFilter?[Sn(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):v():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new _t(Tn(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return W(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=Cn(n.startAt));var c=null;return n.endAt&&(c=Cn(n.endAt)),Pt(e,i,a,s,u,"F",l,c)}function wn(t){return{before:t.before,values:t.position}}function Cn(t){var e=!!t.before,n=t.values||[];return new Ct(n,e)}function En(t){return $e[t]}function _n(t){return Je[t]}function On(t){return{fieldPath:t.canonicalString()}}function Tn(t){return I.fromServerFormat(t.fieldPath)}function Sn(t){return pt.create(Tn(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return v()}}(t.fieldFilter.op),t.fieldFilter.value)}function Rn(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Tn(t.unaryFilter.field);return pt.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Tn(t.unaryFilter.field);return pt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Tn(t.unaryFilter.field);return pt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Tn(t.unaryFilter.field);return pt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return v()}}function Pn(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function xn(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function An(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=In(e)),e=Dn(t.get(n),e);return In(e)}function Dn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function In(t){return t+"\x01\x01"}function Nn(t){var e=t.length;if(m(e>=2),2===e)return m("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),A.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&v(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:v()}o=s+2}return new A(r)}var kn=function(t,e){this.seconds=t,this.nanoseconds=e},Ln=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ln.store="owner",Ln.key="owner";var Mn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Mn.store="mutationQueues",Mn.keyPath="userId";var Fn=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Fn.store="mutations",Fn.keyPath="batchId",Fn.userMutationsIndex="userMutationsIndex",Fn.userMutationsKeyPath=["userId","batchId"];var jn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,An(e)]},t.key=function(t,e,n){return[t,An(e),n]},t}();jn.store="documentMutations",jn.PLACEHOLDER=new jn;var Gn=function(t,e){this.path=t,this.readTime=e},Vn=function(t,e){this.path=t,this.version=e},Wn=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Wn.store="remoteDocuments",Wn.readTimeIndex="readTimeIndex",Wn.readTimeIndexPath="readTime",Wn.collectionReadTimeIndex="collectionReadTimeIndex",Wn.collectionReadTimeIndexPath=["parentPath","readTime"];var Bn=function(t){this.byteSize=t};Bn.store="remoteDocumentGlobal",Bn.key="remoteDocumentGlobalKey";var Hn=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Hn.store="targets",Hn.keyPath="targetId",Hn.queryTargetsIndexName="queryTargetsIndex",Hn.queryTargetsKeyPath=["canonicalId","targetId"];var Un=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Un.store="targetDocuments",Un.keyPath=["targetId","path"],Un.documentTargetsIndex="documentTargetsIndex",Un.documentTargetsKeyPath=["path","targetId"];var zn=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};zn.key="targetGlobalKey",zn.store="targetGlobal";var qn=function(t,e){this.collectionId=t,this.parent=e};qn.store="collectionParents",qn.keyPath=["collectionId","parent"];var Kn=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Kn.store="clientMetadata",Kn.keyPath="clientId";var Yn=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Yn.store="bundles",Yn.keyPath="bundleId";var Xn=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Xn.store="namedQueries",Xn.keyPath="name";var Qn=Object(r.d)(Object(r.d)([],Object(r.d)(Object(r.d)([],Object(r.d)(Object(r.d)([],Object(r.d)(Object(r.d)([],[Mn.store,Fn.store,jn.store,Wn.store,Hn.store,Ln.store,zn.store,Un.store]),[Kn.store])),[Bn.store])),[qn.store])),[Yn.store,Xn.store]),$n="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jn=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Zn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},tr=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),er=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Zn,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ir(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=lr(e.target.error);n.ft.reject(new ir(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ir(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new sr(e)},t}(),nr=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Object(i.getUA)())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return p("SimpleDb","Removing database:",t),ar(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Object(i.getUA)(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:""}))||void 0===e?void 0:e.Tt)},e.It=function(t,e){return t.store(e)},e._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(t){return Object(r.a)(this,void 0,void 0,(function(){var e,n=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ir(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new l(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ir(t,n))},i.onupgradeneeded=function(t){p("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){p("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,i){return Object(r.a)(this,void 0,void 0,(function(){var o,s,a,u,l;return Object(r.c)(this,(function(c){switch(c.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,l,c,h;return Object(r.c)(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=r.sent(),e=er.open(u.db,t,o?"readonly":"readwrite",n),a=i(e).catch((function(t){return e.abort(t),tr.reject(t)})).toPromise(),l={},a.catch((function(){})),[4,e.dt];case 3:return[2,(l.value=(r.sent(),a),l)];case 4:return c=r.sent(),h="FirebaseError"!==c.name&&s<3,p("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(l=c.sent()))return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),rr=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return ar(this.Pt.delete())},t}(),ir=function(t){function e(e,n){var r=this;return(r=t.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.b)(e,t),e}(l);function or(t){return"IndexedDbTransactionError"===t.name}var sr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ar(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),ar(this.store.add(t))},t.prototype.get=function(t){var e=this;return ar(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),ar(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),ar(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new tr((function(n,r){e.onerror=function(t){var e=lr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new tr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new rr(i),s=e(i.primaryKey,i.value,o);if(s instanceof tr){var a=s.catch((function(t){return o.done(),tr.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return tr.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ar(t){return new tr((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=lr(t.target.error);n(e)}}))}var ur=!1;function lr(t){var e=nr._t(Object(i.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new l("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ur||(ur=!0,setTimeout((function(){throw r}),0)),r}}return t}var cr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(r.b)(e,t),e}(Jn);function hr(t,e){var n=y(t);return nr.It(n.Mt,e)}var pr=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&ce(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&he(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&he(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(T.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ge())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&E(this.mutations,t.mutations,(function(t,e){return de(t,e)}))&&E(this.baseMutations,t.baseMutations,(function(t,e){return de(t,e)}))},t}(),dr=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){m(e.mutations.length===r.length);for(var i=Fe(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),fr=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=T.min()),void 0===o&&(o=T.min()),void 0===s&&(s=k.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),gr=function(t){this.Lt=t};function vr(t,e){if(e.document)return fn(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=U.fromSegments(e.noDocument.path),r=Cr(e.noDocument.readTime),i=st.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=U.fromSegments(e.unknownDocument.path);return r=Cr(e.unknownDocument.version),st.newUnknownDocument(o,r)}return v()}function mr(t,e,n){var r=yr(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:an(t,e.key),fields:e.data.value.mapValue.fields,updateTime:tn(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Wn(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=wr(e.version);return s=e.hasCommittedMutations,new Wn(null,new Gn(a,u),null,s,r,i)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),c=wr(e.version);return new Wn(new Vn(l,c),null,null,!0,r,i)}return v()}function yr(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function br(t){var e=new O(t[0],t[1]);return T.fromTimestamp(e)}function wr(t){var e=t.toTimestamp();return new kn(e.seconds,e.nanoseconds)}function Cr(t){var e=new O(t.seconds,t.nanoseconds);return T.fromTimestamp(e)}function Er(t,e){for(var n=(e.baseMutations||[]).map((function(e){return vn(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return vn(t.Lt,e)})),a=O.fromMillis(e.localWriteTimeMs);return new pr(e.batchId,a,n,s)}function _r(t){var e,n,r=Cr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Cr(t.lastLimboFreeSnapshotVersion):T.min();return void 0!==t.query.documents?(m(1===(n=t.query).documents.length),e=Mt(xt(cn(n.documents[0])))):e=function(t){return Mt(bn(t))}(t.query),new fr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,k.fromBase64String(t.resumeToken))}function Or(t,e){var n,r=wr(e.snapshotVersion),i=wr(e.lastLimboFreeSnapshotVersion);n=ht(e.target)?mn(t.Lt,e.target):yn(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Hn(e.targetId,lt(e.target),r,o,e.sequenceNumber,i,n)}function Tr(t){var e=bn({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ft(e,e.limit,"L"):e}var Sr=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Rr(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Cr(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Rr(t).put({bundleId:(n=e).id,createTime:wr(rn(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Pr(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Tr(e.bundledQuery),readTime:Cr(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Pr(t).put(function(t){return{name:t.name,readTime:wr(rn(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Rr(t){return hr(t,Yn.store)}function Pr(t){return hr(t,Xn.store)}var xr=function(){function t(){this.Bt=new Ar}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),tr.resolve()},t.prototype.getCollectionParents=function(t,e){return tr.resolve(this.Bt.getEntries(e))},t}(),Ar=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ae(A.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ae(A.comparator)).toArray()},t}(),Dr=function(){function t(){this.qt=new Ar}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:An(i)};return Ir(t).put(o)}return tr.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[_(e),""],!1,!0);return Ir(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Nn(o.parent))}return n}))},t}();function Ir(t){return hr(t,qn.store)}var Nr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Lr(t,e,n){var r=t.store(Fn.store),i=t.store(jn.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){m(1===a)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var p=h[c],d=jn.key(e,p.key.path,n.batchId);o.push(i.delete(d)),l.push(p.key)}return tr.waitFor(o).next((function(){return l}))}function Mr(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v();e=t.noDocument}return JSON.stringify(e).length}kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(41943040,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);var Fr=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return m(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gr(t).$t({index:Fn.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Vr(t),s=Gr(t);return s.add({}).next((function(a){m("number"==typeof a);for(var u=new pr(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map((function(e){return gn(t.Lt,e)})),i=n.mutations.map((function(e){return gn(t.Lt,e)}));return new Fn(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),c=[],h=new Ae((function(t,e){return C(t.canonicalString(),e.canonicalString())})),p=0,d=r;p<d.length;p++){var f=d[p],g=jn.key(i.userId,f.key.path,a);h=h.add(f.key.path.popLast()),c.push(s.put(l)),c.push(o.put(g,jn.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=u.keys()})),tr.waitFor(c).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Gr(t).get(e).next((function(t){return t?(m(t.userId===n.userId),Er(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?tr.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Gr(t).$t({index:Fn.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(m(e.batchId>=r),o=Er(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gr(t).$t({index:Fn.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gr(t).Nt(Fn.userMutationsIndex,n).next((function(t){return t.map((function(t){return Er(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=jn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Vr(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[1],l=r[2],c=Nn(u);if(a===n.userId&&e.path.isEqual(c))return Gr(t).get(l).next((function(t){if(!t)throw v();m(t.userId===n.userId),o.push(Er(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ae(C),i=[];return e.forEach((function(e){var o=jn.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Vr(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],l=Nn(a);s===n.userId&&e.path.isEqual(l)?r=r.add(u):o.done()}));i.push(a)})),tr.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=jn.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ae(C);return Vr(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[1],l=t[2],c=Nn(u);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(l)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Gr(t).get(e).next((function(t){if(null===t)throw v();m(t.userId===n.userId),r.push(Er(n.R,t))})))})),tr.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Lr(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),tr.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return tr.resolve();var r=IDBKeyRange.lowerBound(jn.prefixForUser(e.userId)),i=[];return Vr(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Nn(t[1]);i.push(o)}else r.done()})).next((function(){m(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return jr(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Wr(t).get(this.userId).next((function(t){return t||new Mn(e.userId,-1,"")}))},t}();function jr(t,e,n){var r=jn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Vr(t).$t({range:o,kt:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Gr(t){return hr(t,Fn.store)}function Vr(t){return hr(t,jn.store)}function Wr(t){return hr(t,Mn.store)}var Br=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Hr=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Br(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return T.fromTimestamp(new O(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Ur(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return m(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Ur(t).$t((function(s,a){var u=_r(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return tr.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Ur(t).$t((function(t,n){var r=_r(n);e(r)}))},t.prototype.Xt=function(t){return zr(t).get(zn.key).next((function(t){return m(null!==t),t}))},t.prototype.Zt=function(t,e){return zr(t).put(zn.key,e)},t.prototype.te=function(t,e){return Ur(t).put(Or(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=lt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ur(t).$t({range:r,index:Hn.queryTargetsIndexName},(function(t,n,r){var o=_r(n);ct(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=qr(t);return e.forEach((function(e){var s=An(e.path);i.push(o.put(new Un(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),tr.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=qr(t);return tr.forEach(e,(function(e){var o=An(e.path);return tr.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=qr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=qr(t),i=Ge();return r.$t({range:n,kt:!0},(function(t,e,n){var r=Nn(t[1]),o=new U(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=An(e.path),r=IDBKeyRange.bound([n],[_(n)],!1,!0),i=0;return qr(t).$t({index:Un.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Ur(t).get(e).next((function(t){return t?_r(t):null}))},t}();function Ur(t){return hr(t,Hn.store)}function zr(t){return hr(t,zn.store)}function qr(t){return hr(t,Un.store)}function Kr(t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){if(t.code!==u.FAILED_PRECONDITION||t.message!==$n)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Yr(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=C(n,i);return 0===s?C(r,o):s}var Xr=function(){function t(t){this.ne=t,this.buffer=new Ae(Yr),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Yr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Qr=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(r.a)(e,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return or(e=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Kr(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),$r=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return tr.resolve(a.o);var r=new Xr(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; disabled"),tr.resolve(Nr)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Nr):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,a,u,l,c=this,d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,u=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return l=Date.now(),h()<=o.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-d)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-d)+"ms"),tr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Jr=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new $r(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Zr(t,n)},t.prototype.removeReference=function(t,e,n){return Zr(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Zr(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Wr(t).Ot((function(r){return jr(t,r,e).next((function(t){return t&&(n=!0),tr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),qr(t).delete([0,An(s.path)])}))}));i.push(u)}})).next((function(){return tr.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Zr(t,e)},t.prototype.we=function(t,e){var n,r=qr(t),i=a.o;return r.$t({index:Un.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var s=r.path,u=r.sequenceNumber;0===o?(i!==a.o&&e(new U(Nn(n)),i),i=u,n=s):i=a.o})).next((function(){i!==a.o&&e(new U(Nn(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Zr(t,e){return qr(t).put(function(t,e){return new Un(0,An(t.path),e)}(e,t.currentSequenceNumber))}var ti=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){R(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return P(this.inner)},t}(),ei=function(){function t(){this.changes=new ti((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:T.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:st.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?tr.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),ni=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return oi(t).put(si(e),n)},t.prototype.removeEntry=function(t,e){var n=oi(t),r=si(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return oi(t).get(si(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return oi(t).get(si(e)).next((function(t){return{document:n.ye(e,t),size:Mr(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Ne();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Ne(),i=new Re(U.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Mr(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return tr.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return oi(t).$t({range:r},(function(t,e,r){for(var s=U.fromSegments(t);o&&U.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ne(),o=e.path.length+1,s={};if(n.isEqual(T.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),l=yr(n);s.range=IDBKeyRange.lowerBound([u,l],!0),s.index=Wn.collectionReadTimeIndex}return oi(t).$t(s,(function(t,n,s){if(t.length===o){var a=vr(r.R,n);e.path.isPrefixOf(a.key.path)?Wt(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new ri(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ii(t).get(Bn.key).next((function(t){return m(!!t),t}))},t.prototype.me=function(t,e){return ii(t).put(Bn.key,e)},t.prototype.ye=function(t,e){if(e){var n=vr(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(T.min()))return n}return st.newInvalidDocument(t)},t}(),ri=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new ti((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(r.b)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Ae((function(t,e){return C(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=mr(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var l=Mr(u);r+=l-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var c=mr(e.Ie.R,st.newNoDocument(o,T.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,c))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),tr.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(ei);function ii(t){return hr(t,Bn.store)}function oi(t){return hr(t,Wn.store)}function si(t){return t.path.toArray()}var ai=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;m(n<r&&n>=0&&r<=11);var o=new er("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ln.store)}(t),function(t){t.createObjectStore(Mn.store,{keyPath:Mn.keyPath}),t.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(jn.store)}(t),ui(t),function(t){t.createObjectStore(Wn.store)}(t));var s=tr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Un.store),t.deleteObjectStore(Hn.store),t.deleteObjectStore(zn.store)}(t),ui(t)),s=s.next((function(){return function(t){var e=t.store(zn.store),n=new zn(0,0,T.min().toTimestamp(),0);return e.put(zn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Fn.store).Nt().next((function(n){t.deleteObjectStore(Fn.store),t.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0});var r=e.store(Fn.store),i=n.map((function(t){return r.put(t)}));return tr.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Kn.store,{keyPath:Kn.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Bn.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Wn.store);e.createIndex(Wn.readTimeIndex,Wn.readTimeIndexPath,{unique:!1}),e.createIndex(Wn.collectionReadTimeIndex,Wn.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Yn.store,{keyPath:Yn.keyPath})}(t),function(t){t.createObjectStore(Xn.store,{keyPath:Xn.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(Wn.store).$t((function(t,n){e+=Mr(n)})).next((function(){var n=new Bn(e);return t.store(Bn.store).put(Bn.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Mn.store),r=t.store(Fn.store);return n.Nt().next((function(n){return tr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Fn.userMutationsIndex,i).next((function(r){return tr.forEach(r,(function(r){m(r.userId===n.userId);var i=Er(e.R,r);return Lr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Un.store),n=t.store(Wn.store);return t.store(zn.store).get(zn.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new A(n),s=function(t){return[0,An(t)]}(o);r.push(e.get(s).next((function(n){return n?tr.resolve():function(n){return e.put(new Un(0,An(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return tr.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(qn.store,{keyPath:qn.keyPath});var n=e.store(qn.store),r=new Ar,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:An(i)})}};return e.store(Wn.store).$t({kt:!0},(function(t,e){var n=new A(t);return i(n.popLast())})).next((function(){return e.store(jn.store).$t({kt:!0},(function(t,e){t[0];var n=t[1];t[2];var r=Nn(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Hn.store);return n.$t((function(t,r){var i=_r(r),o=Or(e.R,i);return n.put(o)}))},t}();function ui(t){t.createObjectStore(Un.store,{keyPath:Un.keyPath}).createIndex(Un.documentTargetsIndex,Un.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Hn.store,{keyPath:Hn.keyPath}).createIndex(Hn.queryTargetsIndexName,Hn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(zn.store)}var li="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ci=function(){function t(e,n,r,i,o,s,a,c,h,p){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new l(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jr(this,i),this.Le=n+"main",this.R=new gr(c),this.Be=new nr(this.Le,11,new ai(this.R)),this.qe=new Hr(this.referenceDelegate,this.R),this.Ut=new Dr,this.Ue=function(t,e){return new ni(t,e)}(this.R,this.Ut),this.Ke=new Sr,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===p&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new l(u.FAILED_PRECONDITION,li);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new a(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(r.a)(e,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Object(r.a)(e,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Object(r.a)(e,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return pi(e).put(new Kn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(or(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return hi(t).get(Ln.key).next((function(t){return tr.resolve(e.tn(t))}))},t.prototype.en=function(t){return pi(t).delete(this.clientId)},t.prototype.nn=function(){return Object(r.a)(this,void 0,void 0,(function(){var t,e,n,i,o=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=hr(t,Kn.store);return e.Nt().next((function(t){var n=o.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return tr.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=r.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)i=n[e],this.Qe.removeItem(this.on(i.clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?tr.resolve(!0):hi(t).get(Ln.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new l(u.FAILED_PRECONDITION,li);return!1}}return!(!e.networkEnabled||!e.inForeground)||pi(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(r.a)(this,void 0,void 0,(function(){var t=this;return Object(r.c)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ln.store,Kn.store],(function(e){var n=new cr(e,a.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return pi(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Fr.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;p("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Qn,(function(o){return i=new cr(o,r.Ne?r.Ne.next():a.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw d("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new l(u.FAILED_PRECONDITION,$n);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return hi(t).get(Ln.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new l(u.FAILED_PRECONDITION,li)}))},t.prototype.Ze=function(t){var e=new Ln(this.clientId,this.allowTabSynchronization,Date.now());return hi(t).put(Ln.key,e)},t.yt=function(){return nr.yt()},t.prototype.Xe=function(t){var e=this,n=hi(t);return n.get(Ln.key).next((function(t){return e.tn(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(Ln.key)):tr.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(d("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return d("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){d("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function hi(t){return hr(t,Ln.store)}function pi(t){return hr(t,Kn.store)}function di(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var fi=function(t,e){this.progress=t,this.wn=e},gi=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return U.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):kt(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new U(e)).next((function(t){var e=Le();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Le();return this.Ut.getCollectionParents(t,i).next((function(s){return tr.forEach(s,(function(s){var a=function(t,e){return new Rt(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],l=u.key,c=r.get(l);null==c&&(c=st.newInvalidDocument(l),r=r.insert(l,c)),he(u,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}}))})).next((function(){return r.forEach((function(t,n){Wt(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Ge(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ve&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(l=l.insert(t,e))})),l}))},t}(),vi=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ge(),i=Ge(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),mi=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(T.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(s){var a=i.Cn(e,s);return(At(e)||Dt(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(h()<=o.LogLevel.DEBUG&&p("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Vt(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Ae(Bt(t));return e.forEach((function(e,r){Wt(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return h()<=o.LogLevel.DEBUG&&p("QueryEngine","Using full collection scan to execute query:",Vt(e)),this.Sn.getDocumentsMatchingQuery(t,e,T.min())},t}(),yi=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Re(C),this.kn=new ti((function(t){return lt(t)}),ct),this.$n=T.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new gi(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function bi(t,e,n,r){return new yi(t,e,n,r)}function wi(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n._n.getAllMutationBatches(t).next((function(s){return r=s,i=n.persistence.getMutationQueue(e),o=new gi(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)})).next((function(e){for(var n=[],i=[],s=Ge(),a=0,u=r;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var p=h[c];s=s.add(p.key)}}for(var d=0,f=e;d<f.length;d++){var g=f[d];i.push(g.batchId);for(var v=0,m=g.mutations;v<m.length;v++){var y=m[v];s=s.add(y.key)}}return o.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:i}}))}))}))];case 1:return s=r.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}}))}))}function Ci(t,e){var n=y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=tr.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);m(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Ei(t){var e=y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function _i(t,e){var n=y(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var l=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,l),function(t,e,n){return m(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,e)&&s.push(n.qe.updateTargetData(t,l))}}}));var a=Ne();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Oi(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(T.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return tr.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function Oi(t,e,n,r,i){var o=Ge();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Ne();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(T.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):p("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Ti(t,e){var n=y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Si(t,e){var n=y(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,tr.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new fr(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Ri(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:i=y(t),o=i.Fn.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.referenceDelegate.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!or(a=r.sent()))throw a;return p("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.Fn=i.Fn.remove(e),i.kn.delete(o.target),[2]}}))}))}function Pi(t,e,n){var r=y(t),i=T.min(),o=Ge();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=y(t),i=r.kn.get(n);return void 0!==i?tr.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Mt(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:T.min(),n?o:Ge())})).next((function(t){return{documents:t,Bn:o}}))}))}function xi(t,e){var n=y(t),r=y(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Ai(t){var e=y(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=y(t),i=Ne(),o=yr(n),s=oi(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Wn.readTimeIndex,range:a},(function(t,e){var n=vr(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:br(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function Di(t){return Object(r.a)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){return[2,(e=y(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=oi(t),n=T.min();return e.$t({index:Wn.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=br(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Ii(t,e,n,i){return Object(r.a)(this,void 0,void 0,(function(){var o,s,a,u,l,c,h,p,d,f;return Object(r.c)(this,(function(r){switch(r.label){case 0:for(o=y(t),s=Ge(),a=Ne(),u=Fe(),l=0,c=n;l<c.length;l++)h=c[l],p=e.qn(h.metadata.name),h.document&&(s=s.add(p)),a=a.insert(p,e.Un(h)),u=u.insert(p,e.Kn(h.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,Si(o,function(t){return Mt(xt(A.fromString("__bundle__/docs/"+t)))}(i))];case 1:return f=r.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Oi(t,d,a,T.min(),u).next((function(e){return d.apply(t),e})).next((function(e){return o.qe.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return o.qe.addMatchingKeys(t,s,f.targetId)})).next((function(){return o.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Ni(t,e,n){return void 0===n&&(n=Ge()),Object(r.a)(this,void 0,void 0,(function(){var i,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,Si(t,Mt(Tr(e.bundledQuery)))];case 1:return i=r.sent(),[2,(o=y(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var r=rn(e.readTime);if(i.snapshotVersion.compareTo(r)>=0)return o.Ke.saveNamedQuery(t,e);var s=i.withResumeToken(k.EMPTY_BYTE_STRING,r);return o.Fn=o.Fn.insert(s.targetId,s),o.qe.updateTargetData(t,s).next((function(){return o.qe.removeMatchingKeysForTargetId(t,i.targetId)})).next((function(){return o.qe.addMatchingKeys(t,n,i.targetId)})).next((function(){return o.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var ki=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return tr.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:rn(n.createTime)}),tr.resolve()},t.prototype.getNamedQuery=function(t,e){return tr.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Tr(t.bundledQuery),readTime:rn(t.readTime)}}(e)),tr.resolve()},t}(),Li=function(){function t(){this.Wn=new Ae(Mi.Gn),this.zn=new Ae(Mi.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Mi(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Mi(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new U(new A([])),r=new Mi(n,t),i=new Mi(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new U(new A([])),n=new Mi(e,t),r=new Mi(e,t+1),i=Ge();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Mi(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Mi=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return U.comparator(t.key,e.key)||C(t.ns,e.ns)},t.Hn=function(t,e){return C(t.ns,e.ns)||U.comparator(t.key,e.key)},t}(),Fi=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Ae(Mi.Gn)}return t.prototype.checkEmpty=function(t){return tr.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new pr(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Mi(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return tr.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return tr.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return tr.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return tr.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return tr.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Mi(e,0),i=new Mi(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),tr.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ae(C);return e.forEach((function(t){var e=new Mi(t,0),i=new Mi(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),tr.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;U.isDocumentKey(i)||(i=i.child(""));var o=new Mi(new U(i),0),s=new Ae(C);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),tr.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;m(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return tr.forEach(e.mutations,(function(i){var o=new Mi(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Mi(e,0),r=this.rs.firstAfterOrEqual(n);return tr.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,tr.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),ji=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Re(U.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return tr.resolve(n?n.document.clone():st.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ne();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():st.newInvalidDocument(t))})),tr.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ne(),i=new U(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,l=u.document,c=u.readTime;if(!e.path.isPrefixOf(a.path))break;c.compareTo(n)<=0||Wt(e,l)&&(r=r.insert(l.key,l.clone()))}return tr.resolve(r)},t.prototype.fs=function(t,e){return tr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Gi(this)},t.prototype.getSize=function(t){return tr.resolve(this.size)},t}(),Gi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(r.b)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),tr.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ei),Vi=function(){function t(t){this.persistence=t,this.ds=new ti((function(t){return lt(t)}),ct),this.lastRemoteSnapshotVersion=T.min(),this.highestTargetId=0,this.ws=0,this._s=new Li,this.targetCount=0,this.ys=Br.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),tr.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return tr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return tr.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),tr.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),tr.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Br(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,tr.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),tr.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,tr.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),tr.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return tr.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return tr.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),tr.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),tr.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),tr.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return tr.resolve(n)},t.prototype.containsKey=function(t,e){return tr.resolve(this._s.containsKey(e))},t}(),Wi=function(){function t(t,e){var n=this;this.gs={},this.Ne=new a(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Vi(this),this.Ut=new xr,this.Ue=function(t,e){return new ji(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new gr(e),this.Ke=new ki(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Fi(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Bi(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return tr.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Bi=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(r.b)(e,t),e}(Jn),Hi=function(){function t(t){this.persistence=t,this.As=new Li,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw v()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),tr.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),tr.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),tr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tr.forEach(this.vs,(function(r){var i=U.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return tr.or([function(){return tr.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Ui=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function zi(t,e){return"firestore_clients_"+t+"_"+e}function qi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Ki(t,e){return"firestore_targets_"+t+"_"+e}Ui.UNAUTHENTICATED=new Ui(null),Ui.GOOGLE_CREDENTIALS=new Ui("google-credentials-uid"),Ui.FIRST_PARTY=new Ui("first-party-uid");var Yi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new l(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new l(i.error.code,i.error.message)),o?new t(e,i.state,r):(d("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Qi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=We(),s=0;i&&s<r.activeTargetIds.length;++s)i=H(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(d("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$i=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ji=function(){function t(){this.activeTargetIds=We()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Zi=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Re(C),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=zi(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Ji),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(r.a)(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,l,c,h,p=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ns&&(o=this.getItem(zi(this.persistenceKey,i)))&&(s=Qi.Vs(i,o))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),l=0,c=this.$s;l<c.length;l++)h=c[l],this.Fs(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return p.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Ki(this.persistenceKey,t));if(n){var r=Xi.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Ki(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(r.a)(e,void 0,void 0,(function(){var t,e,i,o,s,u;return Object(r.c)(this,(function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(u=function(t){var e=a.o;if(null!=t)try{var n=JSON.parse(t);m("number"==typeof n),e=n}catch(t){d("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==a.o&&this.sequenceNumberHandler(u);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Yi(this.currentUser,t,e,n),i=qi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=qi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Ki(this.persistenceKey,t),i=new Xi(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Qi.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Yi.Vs(new Ui(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Xi.Vs(r,e)},t.prototype.js=function(t){return $i.Vs(t)},t.prototype.ii=function(t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=We();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),to=function(){function t(){this.li=new Ji,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Ji,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),eo=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),no=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ro={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},io=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),oo=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(r.b)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new s.g;a.listenOnce(s.c.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case s.a.NO_ERROR:var e=a.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case s.a.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),o(new l(u.DEADLINE_EXCEEDED,"Request time out"));break;case s.a.HTTP_ERROR:var n=a.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var c=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(e)>=0?e:u.UNKNOWN}(r.status);o(new l(c,r.message))}else o(new l(u.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new l(u.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{p("Connection",'RPC "'+t+'" completed.')}}));var c=JSON.stringify(r);a.send(e,"POST",c,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(s.h)(),o=Object(s.i)(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new s.d({})),this.Fi(a.initMessageHeaders,e),Object(i.isMobileCordova)()||Object(i.isReactNative)()||Object(i.isElectron)()||Object(i.isIE)()||Object(i.isUWP)()||Object(i.isBrowserExtension)()||(a.httpHeadersOverwriteParam="$httpHeaders");var c=n.join("");p("Connection","Creating WebChannel: "+c,a);var h=r.createWebChannel(c,a),d=!1,g=!1,v=new io({Ei:function(t){g?p("Connection","Not sending because WebChannel is closed:",t):(d||(p("Connection","Opening WebChannel transport."),h.open(),d=!0),p("Connection","WebChannel sending:",t),h.send(t))},Ti:function(){return h.close()}}),y=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return y(h,s.f.EventType.OPEN,(function(){g||p("Connection","WebChannel transport opened.")})),y(h,s.f.EventType.CLOSE,(function(){g||(g=!0,p("Connection","WebChannel transport closed"),v.Vi())})),y(h,s.f.EventType.ERROR,(function(t){g||(g=!0,f("Connection","WebChannel transport errored:",t),v.Vi(new l(u.UNAVAILABLE,"The operation could not be completed")))})),y(h,s.f.EventType.MESSAGE,(function(t){var e;if(!g){var n=t.data[0];m(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){p("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=we[t];if(void 0!==e)return Se(e)}(o),a=i.message;void 0===s&&(s=u.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),g=!0,v.Vi(new l(s,a)),h.close()}else p("Connection","WebChannel received:",n),v.Si(n)}})),y(o,s.b.STAT_EVENT,(function(t){t.stat===s.e.PROXY?p("Connection","Detected buffering proxy"):t.stat===s.e.NOPROXY&&p("Connection","Detected no buffering proxy")})),setTimeout((function(){v.Pi()}),0),v},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);p("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return p("RestConnection","Received: ",t),t}),(function(e){throw f("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=ro[t];return this.Di+"/v1/"+e+":"+n},t}());function so(){return"undefined"!=typeof window?window:null}function ao(){return"undefined"!=typeof document?document:null}function uo(t){return new Ze(t,!0)}var lo=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),co=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new lo(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===u.RESOURCE_EXHAUSTED?(d(e.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new l(u.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Object(r.a)(t,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ho=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(r.b)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:v()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(m(void 0===e||"string"==typeof e),k.fromBase64String(e||"")):(m(void 0===e||e instanceof Uint8Array),k.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?u.UNKNOWN:Se(t.code);return new l(e,t.message||"")}(a);n=new qe(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=un(t,r.document.name),o=rn(r.document.updateTime);var a=new it({mapValue:{fields:r.document.fields}}),c=(s=st.newFoundDocument(i,o,a),r.targetIds||[]),h=r.removedTargetIds||[];n=new Ue(c,h,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=un(t,r.document),o=r.readTime?rn(r.readTime):T.min(),a=st.newNoDocument(i,o),s=r.removedTargetIds||[],n=new Ue([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=un(t,r.document),o=r.removedTargetIds||[],n=new Ue([],o,i,null);else{if(!("filter"in e))return v();e.filter;var p=e.filter;p.targetId,r=p.count||0,i=new Oe(r),o=p.targetId,n=new ze(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return T.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?T.min():e.readTime?rn(e.readTime):T.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=hn(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=ht(r)?{documents:mn(t,r)}:{query:yn(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=en(t,e.resumeToken):e.snapshotVersion.compareTo(T.min())>0&&(n.readTime=tn(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=hn(this.R),e.removeTarget=t,this.cr(e)},e}(co),po=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(m(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(m(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?rn(t.updateTime):rn(e);return n.isEqual(T.min())&&(n=rn(e)),new se(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=rn(t.commitTime);return this.listener.Tr(n,e)}return m(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=hn(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return gn(e.R,t)}))};this.cr(n)},e}(co),fo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(r.b)(e,t),e.prototype.br=function(){if(this.Rr)throw new l(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new l(u.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new l(u.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),go=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(d(e),this.Vr=!1):p("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),vo=function(t,e,n,i,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di((function(t){n.enqueueAndForget((function(){return Object(r.a)(s,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return To(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(r.a)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return(e=y(t)).Or.add(4),[4,yo(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,mo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new go(n,i)};function mo(t){return Object(r.a)(this,void 0,void 0,(function(){var e,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:if(!To(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function yo(t){return Object(r.a)(this,void 0,void 0,(function(){var e,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function bo(t,e){var n=y(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Oo(n)?_o(n):Vo(n).er()&&Co(n,e))}function wo(t,e){var n=y(t),r=Vo(n);n.$r.delete(e),r.er()&&Eo(n,e),0===n.$r.size&&(r.er()?r.ir():To(n)&&n.Br.set("Unknown"))}function Co(t,e){t.qr.U(e.targetId),Vo(t).mr(e)}function Eo(t,e){t.qr.U(e),Vo(t).yr(e)}function _o(t){t.qr=new Ye({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Vo(t).start(),t.Br.Sr()}function Oo(t){return To(t)&&!Vo(t).tr()&&t.$r.size>0}function To(t){return 0===y(t).Or.size}function So(t){t.qr=void 0}function Ro(t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return t.$r.forEach((function(e,n){Co(t,e)})),[2]}))}))}function Po(t,e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(n){return So(t),Oo(t)?(t.Br.Nr(e),_o(t)):t.Br.set("Unknown"),[2]}))}))}function xo(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i,o,s;return Object(r.c)(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof qe&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?(s=o[i],t.$r.has(s)?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]):[3,5];case 2:r.sent(),t.$r.delete(s),t.qr.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Ao(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ue?t.qr.X(e):e instanceof ze?t.qr.rt(e):t.qr.et(e),n.isEqual(T.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ei(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(k.EMPTY_BYTE_STRING,n.snapshotVersion)),Eo(t,e);var r=new fr(n.target,e,1,n.sequenceNumber);Co(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Ao(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Ao(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i=this;return Object(r.c)(this,(function(o){switch(o.label){case 0:if(!or(e))throw e;return t.Or.add(1),[4,yo(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return Ei(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(r.a)(i,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,mo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Do(t,e){return e().catch((function(n){return Ao(t,n,e)}))}function Io(t){return Object(r.a)(this,void 0,void 0,(function(){var e,n,i,o,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:e=y(t),n=Wo(e),i=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return To(t)&&t.kr.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Ti(e.localStore,i)];case 3:return null===(o=r.sent())?(0===e.kr.length&&n.ir(),[3,7]):(i=o.batchId,function(t,e){t.kr.push(e);var n=Wo(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,Ao(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return No(e)&&ko(e),[2]}}))}))}function No(t){return To(t)&&!Wo(t).tr()&&t.kr.length>0}function ko(t){Wo(t).start()}function Lo(t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return Wo(t).Ar(),[2]}))}))}function Mo(t){return Object(r.a)(this,void 0,void 0,(function(){var e,n,i,o;return Object(r.c)(this,(function(r){for(e=Wo(t),n=0,i=t.kr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]}))}))}function Fo(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return i=t.kr.shift(),o=dr.from(i,e,n),[4,Do(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}))];case 1:return r.sent(),[4,Io(t)];case 2:return r.sent(),[2]}}))}))}function jo(t,e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(n){switch(n.label){case 0:return e&&Wo(t).pr?[4,function(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return Te(i=e.code)&&i!==u.ABORTED?(n=t.kr.shift(),Wo(t).sr(),[4,Do(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,Io(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return No(t)&&ko(t),[2]}}))}))}function Go(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(t),e?(n.Or.delete(2),[4,mo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,yo(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Vo(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=y(t);return r.br(),new ho(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Ro.bind(null,t),Ri:Po.bind(null,t),_r:xo.bind(null,t)}),t.Mr.push((function(n){return Object(r.a)(e,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Oo(t)?_o(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),So(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Wo(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=y(t);return r.br(),new po(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Lo.bind(null,t),Ri:jo.bind(null,t),Ir:Mo.bind(null,t),Tr:Fo.bind(null,t)}),t.Mr.push((function(n){return Object(r.a)(e,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Io(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(p("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var Bo=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new l(u.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Ho(t,e){if(d("AsyncQueue",e+": "+t),or(t))return new l(u.UNAVAILABLE,e+": "+t);throw t}var Uo=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||U.comparator(e.key,n.key)}:function(t,e){return U.comparator(t.key,e.key)},this.keyedMap=Le(),this.sortedSet=new Re(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),zo=function(){function t(){this.Qr=new Re(U.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):v():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),qo=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Uo.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jt(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ko=function(){this.Wr=void 0,this.listeners=[]},Yo=function(){this.queries=new ti((function(t){return Gt(t)}),jt),this.onlineState="Unknown",this.Gr=new Set};function Xo(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o,s,a,u,l;return Object(r.c)(this,(function(r){switch(r.label){case 0:if(n=y(t),i=e.query,o=!1,(s=n.queries.get(i))||(o=!0,s=new Ko),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.onListen(i)];case 2:return a.Wr=r.sent(),[3,4];case 3:return u=r.sent(),l=Ho(u,"Initialization of query '"+Vt(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(i,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Zo(n),[2]}}))}))}function Qo(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r.c)(this,(function(r){return n=y(t),i=e.query,o=!1,(s=n.queries.get(i))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]}))}))}function $o(t,e){for(var n=y(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(s)&&(r=!0);u.Wr=s}}r&&Zo(n)}function Jo(t,e,n){var r=y(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Zo(t){t.Gr.forEach((function(t){t.next()}))}var ts=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new qo(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),es=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ns=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return un(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?fn(this.R,t.document,!1):st.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return rn(t)},t}(),rs=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=is(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ns(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var l=u[a],c=(e.get(l)||Ge()).add(s);e.set(l,c)}}return e},t.prototype.complete=function(){return Object(r.a)(this,void 0,void 0,(function(){var t,e,n,i,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,Ii(this.localStore,new ns(this.R),this.documents,this.ro.id)];case 1:t=r.sent(),e=this.co(this.documents),n=0,i=this.queries,r.label=2;case 2:return n<i.length?(o=i[n],[4,Ni(this.localStore,o,e.get(o.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new fi(Object.assign({},this.progress),t))]}}))}))},t}();function is(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var os=function(t){this.key=t},ss=function(t){this.key=t},as=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ge(),this.mutatedKeys=Ge(),this.lo=Bt(t),this.fo=new Uo(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new zo,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=At(this.query)&&i.size===this.query.limit?i.last():null,l=Dt(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var c=i.get(t),h=Wt(n.query,e)?e:null,p=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),f=!1;c&&h?c.data.isEqual(h.data)?p!==d&&(r.track({type:3,doc:h}),f=!0):n.yo(c,h)||(r.track({type:2,doc:h}),f=!0,(u&&n.lo(h,u)>0||l&&n.lo(h,l)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),f=!0):c&&!h&&(r.track({type:1,doc:c}),f=!0,(u||l)&&(a=!0)),f&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),At(this.query)||Dt(this.query))for(;s.size>this.query.limit;){var c=At(this.query)?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new qo(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new zo,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ge(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new ss(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new os(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ge();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return qo.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),us=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ls=function(t){this.key=t,this.bo=!1},cs=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ti((function(t){return Gt(t)}),jt),this.Vo=new Map,this.So=new Set,this.Do=new Re(U.comparator),this.Co=new Map,this.No=new Li,this.xo={},this.Fo=new Map,this.ko=Br.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function hs(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o,s,a,u;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=Vs(t),(s=n.Po.get(e))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Si(n.localStore,Mt(e))];case 2:return a=r.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,ps(n,e,i,"current"===u)];case 3:o=r.sent(),n.isPrimaryClient&&bo(n.remoteStore,a),r.label=4;case 4:return[2,o]}}))}))}function ps(t,e,n,i){return Object(r.a)(this,void 0,void 0,(function(){var o,s,a,u,l,c;return Object(r.c)(this,(function(h){switch(h.label){case 0:return t.Oo=function(e,n,i){return function(t,e,n,i){return Object(r.a)(this,void 0,void 0,(function(){var o,s,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(o=e.view._o(n)).Nn?[4,Pi(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.targetChanges.get(e.targetId),a=e.view.applyChanges(o,t.isPrimaryClient,s),[2,(Ts(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,i)},[4,Pi(t.localStore,e,!0)];case 1:return o=h.sent(),s=new as(e,o.Bn),a=s._o(o.documents),u=He.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),l=s.applyChanges(a,t.isPrimaryClient,u),Ts(t,n,l.To),c=new us(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),l.snapshot)]}}))}))}function ds(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter((function(t){return!jt(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Ri(n.localStore,i.targetId,!1).then((function(){n.sharedClientState.clearQueryState(i.targetId),wo(n.remoteStore,i.targetId),_s(n,i.targetId)})).catch(Kr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return _s(n,i.targetId),[4,Ri(n.localStore,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function fs(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:i=Ws(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=y(t),i=O.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Ge());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var l=u[a],c=pe(l,n.get(l.key));null!=c&&s.push(new ve(l.key,c,ot(c.value.mapValue),ae.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(i.localStore,e)];case 2:return o=r.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Re(C)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(i,o.batchId,n),[4,Ps(i,o.changes)];case 3:return r.sent(),[4,Io(i.remoteStore)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=Ho(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function gs(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,_i(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(m(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?m(r.bo):t.removedDocuments.size>0&&(m(r.bo),r.bo=!1))})),[4,Ps(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Kr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function vs(t,e,n){var r=y(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=y(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Zo(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ms(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i,o,s,a,u,l;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(i=y(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(s=o&&o.key)?(a=(a=new Re(U.comparator)).insert(s,st.newNoDocument(s,T.min())),u=Ge().add(s),l=new Be(T.min(),new Map,new Ae(C),a,u),[4,gs(i,l)]):[3,2];case 1:return r.sent(),i.Do=i.Do.remove(s),i.Co.delete(e),Rs(i),[3,4];case 2:return[4,Ri(i.localStore,e,!1).then((function(){return _s(i,e,n)})).catch(Kr)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function ys(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ci(n.localStore,e)];case 2:return o=r.sent(),Es(n,i,null),Cs(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Ps(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Kr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function bs(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:i=y(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return m(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(i.localStore,e)];case 2:return o=r.sent(),Es(i,e,n),Cs(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Ps(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Kr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ws(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:To((n=y(t)).remoteStore)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=y(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Fo.get(i)||[]).push(e),n.Fo.set(i,o),[3,4]);case 3:return s=r.sent(),a=Ho(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Cs(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Es(t,e,n){var r=y(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function _s(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Os(t,e)}))}function Os(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(wo(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Rs(t))}function Ts(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof os?(t.No.addReference(o.key,e),Ss(t,o)):o instanceof ss?(p("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Os(t,o.key)):v()}}function Ss(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(p("SyncEngine","New document in limbo: "+n),t.So.add(r),Rs(t))}function Rs(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new U(A.fromString(e)),r=t.ko.next();t.Co.set(r,new ls(n)),t.Do=t.Do.insert(n,r),bo(t.remoteStore,new fr(Mt(xt(n.path)),r,2,a.o))}}function Ps(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.c)(this,(function(u){switch(u.label){case 0:return i=y(t),o=[],s=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach((function(t,r){a.push(i.Oo(r,e,n).then((function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=vi.Pn(r.targetId,t);s.push(e)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),i.vo._r(o),[4,function(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o,s,a,u,l,c,h;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return tr.forEach(e,(function(e){return tr.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return tr.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!or(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)a=s[o],u=a.targetId,a.fromCache||(l=n.Fn.get(u),c=l.snapshotVersion,h=l.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(u,h));return[2]}}))}))}(i.localStore,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function xs(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(n=y(t)).currentUser.isEqual(e)?[3,3]:(p("SyncEngine","User change. New user:",e.toKey()),[4,wi(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new l(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Ps(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function As(t,e){var n=y(t),r=n.Co.get(e);if(r&&r.bo)return Ge().add(r.key);var i=Ge(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],l=n.Po.get(u);i=i.unionWith(l.view.wo)}return i}function Ds(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,Pi((n=y(t)).localStore,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&Ts(n,e.targetId,o.To),o)]}}))}))}function Is(t){return Object(r.a)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){return[2,Ai((e=y(t)).localStore).then((function(t){return Ps(e,t)}))]}))}))}function Ns(t,e,n,i){return Object(r.a)(this,void 0,void 0,(function(){var o,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=y(t),r=y(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):tr.resolve(null)}))}))}((o=y(t)).localStore,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Io(o.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Es(o,e,i||null),Cs(o,e),function(t,e){y(y(t)._n).Gt(e)}(o.localStore,e)):v(),r.label=4;case 4:return[4,Ps(o,s)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function ks(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o,s,a,u,l,c;return Object(r.c)(this,(function(r){switch(r.label){case 0:return Vs(n=y(t)),Ws(n),!0!==e||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Ls(n,i.toArray())]);case 1:return o=r.sent(),n.$o=!0,[4,Go(n.remoteStore,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)u=a[s],bo(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(l=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?l.push(e):c=c.then((function(){return _s(n,e),Ri(n.localStore,e,!0)})),wo(n.remoteStore,e)})),[4,c]);case 4:return r.sent(),[4,Ls(n,l)];case 5:return r.sent(),function(t){var e=y(t);e.Co.forEach((function(t,n){wo(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Re(U.comparator)}(n),n.$o=!1,[4,Go(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Ls(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o,s,a,u,l,c,h,p,d,f,g,v;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(u=a[s],l=void 0,(c=n.Vo.get(u))&&0!==c.length?[4,Si(n.localStore,Mt(c[0]))]:[3,7]):[3,13];case 2:l=r.sent(),h=0,p=c,r.label=3;case 3:return h<p.length?(d=p[h],f=n.Po.get(d),[4,Ds(n,f)]):[3,6];case 4:(g=r.sent()).snapshot&&o.push(g.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,xi(n.localStore,u)];case 8:return v=r.sent(),[4,Si(n.localStore,v)];case 9:return l=r.sent(),[4,ps(n,Ms(v),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(l),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(o),i)]}}))}))}function Ms(t){return Pt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Fs(t){var e=y(t);return y(y(e.localStore).persistence).fn()}function js(t,e,n,i){return Object(r.a)(this,void 0,void 0,(function(){var o,s,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(o=y(t)).$o?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ai(o.localStore)];case 3:return s=r.sent(),a=Be.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ps(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,Ri(o.localStore,e,!0)];case 6:return r.sent(),_s(o,e,i),[3,8];case 7:v(),r.label=8;case 8:return[2]}}))}))}function Gs(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i,o,s,a,u,l,c,h,d,f;return Object(r.c)(this,(function(g){switch(g.label){case 0:if(!(i=Vs(t)).$o)return[3,10];o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],i.Vo.has(a)?(p("SyncEngine","Adding an already active target "+a),[3,5]):[4,xi(i.localStore,a)]):[3,6];case 2:return u=g.sent(),[4,Si(i.localStore,u)];case 3:return l=g.sent(),[4,ps(i,Ms(u),l.targetId,!1)];case 4:g.sent(),bo(i.remoteStore,l),g.label=5;case 5:return o++,[3,1];case 6:c=function(t){return Object(r.c)(this,(function(e){switch(e.label){case 0:return i.Vo.has(t)?[4,Ri(i.localStore,t,!1).then((function(){wo(i.remoteStore,t),_s(i,t)})).catch(Kr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,d=n,g.label=7;case 7:return h<d.length?(f=d[h],[5,c(f)]):[3,10];case 8:g.sent(),g.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Vs(t){var e=y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gs.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=As.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ms.bind(null,e),e.vo._r=$o.bind(null,e.eventManager),e.vo.Mo=Jo.bind(null,e.eventManager),e}function Ws(t){var e=y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ys.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bs.bind(null,e),e}function Bs(t,e,n){var i=y(t);(function(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i,o,s,a,u,l;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return i=r.sent(),[4,function(t,e){var n=y(t),r=rn(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Ke.getBundleMetadata(t,e.id)})).then((function(t){return!!t&&t.createTime.compareTo(r)>=0}))}(t.localStore,i)];case 2:return r.sent()?[4,e.close()]:[3,4];case 3:return[2,(r.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)))];case 4:return n._updateProgress(is(i)),o=new rs(i,t.localStore,e.R),[4,e.Lo()];case 5:s=r.sent(),r.label=6;case 6:return s?[4,o.oo(s)]:[3,10];case 7:return(a=r.sent())&&n._updateProgress(a),[4,e.Lo()];case 8:s=r.sent(),r.label=9;case 9:return[3,6];case 10:return[4,o.complete()];case 11:return u=r.sent(),[4,Ps(t,u.wn,void 0)];case 12:return r.sent(),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Ke.saveBundleMetadata(t,e)}))}(t.localStore,i)];case 13:return r.sent(),n._completeWith(u.progress),[3,15];case 14:return f("SyncEngine","Loading bundle failed with "+(l=r.sent())),n._failWith(l),[3,15];case 15:return[2]}}))}))})(i,e,n).then((function(){i.sharedClientState.notifyBundleLoaded()}))}var Hs=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return this.R=uo(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return bi(this.persistence,new mi,t.initialUser,this.R)},t.prototype.qo=function(t){return new Wi(Hi.bs,this.R)},t.prototype.Bo=function(t){return new to},t.prototype.terminate=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Us=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.b)(e,t),e.prototype.initialize=function(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Di(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,Ws(this.Qo.syncEngine)];case 4:return n.sent(),[4,Io(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ko=function(t){return bi(this.persistence,new mi,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Qr(e,t.asyncQueue)},e.prototype.qo=function(t){var e=di(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new ci(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,so(),ao(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new to},e}(Hs),zs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.b)(e,t),e.prototype.initialize=function(e){return Object(r.a)(this,void 0,void 0,(function(){var n,i=this;return Object(r.c)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Zi?(this.sharedClientState.syncEngine={ui:Ns.bind(null,n),ai:js.bind(null,n),hi:Gs.bind(null,n),fn:Fs.bind(null,n),ci:Is.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He((function(t){return Object(r.a)(i,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return[4,ks(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=so();if(!Zi.yt(e))throw new l(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=di(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Zi(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Us),qs=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return vs(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=xs.bind(null,this.syncEngine),[4,Go(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Yo},t.prototype.createDatastore=function(t){var e,n=uo(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new oo(e));return function(t,e,n){return new fo(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return vs(s.syncEngine,t,0)},o=no.yt()?new no:new eo,new vo(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new cs(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(r.a)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return e=y(t),p("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,yo(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();function Ks(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(r.a)(this,void 0,void 0,(function(){var i;return Object(r.c)(this,(function(r){return n<t.byteLength?(i={value:t.slice(n,n+e),done:!1},[2,(n+=e,i)]):[2,{done:!0}]}))}))},cancel:function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Ys=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Xs=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Zn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Object(r.a)(this,void 0,void 0,(function(){var t,e,n,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new es(JSON.parse(i),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Object(r.a)(this,void 0,void 0,(function(){var t,e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Object(r.a)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(r.a)(this,void 0,void 0,(function(){var t,e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),Qs=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(r.a)(this,void 0,void 0,(function(){var e,n=this;return Object(r.c)(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new l(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o,s,a,u;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(t),i=hn(n.R)+"/documents",o={documents:e.map((function(t){return an(n.R,t)}))},[4,n.$i("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){m(!!e.found),e.found.name,e.found.updateTime;var n=un(t,e.found.name),r=rn(e.found.updateTime),i=new it({mapValue:{fields:e.found.fields}});return st.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){m(!!e.missing),m(!!e.readTime);var n=un(t,e.missing),r=rn(e.readTime);return st.newNoDocument(n,r)}(t,e):v()}(n.R,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());m(!!e),u.push(e)})),u)]}}))}))}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ee(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(r.a)(this,void 0,void 0,(function(){var t,e=this;return Object(r.c)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=U.fromPath(n);e.mutations.push(new _e(r,e.precondition(r)))})),[4,function(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(t),i=hn(n.R)+"/documents",o={writes:e.map((function(t){return gn(n.R,t)}))},[4,n.Ni("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw v();e=T.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new l(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ae.updateTime(e):ae.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(T.min()))throw new l(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ae.updateTime(e)}return ae.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),$s=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new lo(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Object(r.a)(t,void 0,void 0,(function(){var t,e,n=this;return Object(r.c)(this,(function(r){return t=new Qs(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!W(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Te(e)}return!1},t}(),Js=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Ui.UNAUTHENTICATED,this.clientId=w.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Object(r.a)(i,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return p("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new l(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.a)(t,void 0,void 0,(function(){var t,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ho(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Zs(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i,o=this;return Object(r.c)(this,(function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),i=n.initialUser,t.setCredentialChangeListener((function(t){return Object(r.a)(o,void 0,void 0,(function(){return Object(r.c)(this,(function(n){switch(n.label){case 0:return i.isEqual(t)?[3,2]:[4,wi(e.localStore,t)];case 1:n.sent(),i=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function ta(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i;return Object(r.c)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ea(t)];case 1:return n=o.sent(),p("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Object(r.a)(this,void 0,void 0,(function(){var n,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(n=y(t)).asyncQueue.verifyOperationInProgress(),p("RemoteStore","RemoteStore received new credentials"),i=To(n),n.Or.add(3),[4,yo(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.Or.delete(3),[4,mo(n)];case 3:return r.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function ea(t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(p("FirestoreClient","Using default OfflineComponentProvider"),[4,Zs(t,new Hs)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function na(t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(p("FirestoreClient","Using default OnlineComponentProvider"),[4,ta(t,new qs)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function ra(t){return ea(t).then((function(t){return t.persistence}))}function ia(t){return ea(t).then((function(t){return t.localStore}))}function oa(t){return na(t).then((function(t){return t.remoteStore}))}function sa(t){return na(t).then((function(t){return t.syncEngine}))}function aa(t){return Object(r.a)(this,void 0,void 0,(function(){var e,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,na(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=hs.bind(null,e.syncEngine),n.onUnlisten=ds.bind(null,e.syncEngine),n)]}}))}))}function ua(t,e,n){var i=this;void 0===n&&(n={});var o=new Zn;return t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(i,void 0,void 0,(function(){var i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new Ys({next:function(o){e.enqueueAndForget((function(){return Qo(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new l(u.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new l(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new ts(xt(n.path),o,{includeMetadataChanges:!0,so:!0});return Xo(t,s)},[4,aa(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}function la(t,e,n){var i=this;void 0===n&&(n={});var o=new Zn;return t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(i,void 0,void 0,(function(){var i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new Ys({next:function(n){e.enqueueAndForget((function(){return Qo(t,s)})),n.fromCache&&"server"===r.source?i.reject(new l(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new ts(n,o,{includeMetadataChanges:!0,so:!0});return Xo(t,s)},[4,aa(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}var ca=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},ha=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),pa=new Map,da=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},fa=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Ui.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ga=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),va=function(){function t(t){var e=this;this.currentUser=Ui.UNAUTHENTICATED,this.oc=new Zn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){p("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(p("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(m("string"==typeof n.accessToken),new da(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return Object(r.a)(n,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return m(null===t||"string"==typeof t),new Ui(t)},t}(),ma=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Ui.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),ya=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new ma(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Ui.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function ba(t,e,n){if(!n)throw new l(u.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function wa(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new l(u.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ca(t,e,n,r){if(!0===e&&!0===r)throw new l(u.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ea(t){if(!U.isDocumentKey(t))throw new l(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function _a(t){if(U.isDocumentKey(t))throw new l(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Oa(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v()}function Ta(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new l(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Oa(t);throw new l(u.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Sa(t,e){if(e<=0)throw new l(u.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ra=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new l(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new l(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ca("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Pa=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ra({}),this._settingsFrozen=!1,t instanceof ha?(this._databaseId=t,this._credentials=new fa):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new l(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(t.options.projectId)}(t),this._credentials=new va(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new l(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new l(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ra(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new fa;switch(t.type){case"gapi":var e=t.client;return m(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ya(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new l(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=pa.get(this))&&(p("ComponentProvider","Removing Datastore"),pa.delete(this),t.terminate()),Promise.resolve();var t},t}(),xa=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Da(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Aa=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Da=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,xt(r))||this)._path=r,i.type="collection",i}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new xa(this.firestore,null,new U(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Aa);function Ia(t,e){for(var n,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(t=Object(i.getModularInstance)(t),ba("collection","path",e),t instanceof Pa)return _a(n=A.fromString.apply(A,Object(r.d)([e],o))),new Da(t,null,n);if(!(t instanceof xa||t instanceof Da))throw new l(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _a(n=A.fromString.apply(A,Object(r.d)([t.path],o)).child(A.fromString(e))),new Da(t.firestore,null,n)}function Na(t,e){for(var n,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(t=Object(i.getModularInstance)(t),1===arguments.length&&(e=w.u()),ba("doc","path",e),t instanceof Pa)return Ea(n=A.fromString.apply(A,Object(r.d)([e],o))),new xa(t,null,new U(n));if(!(t instanceof xa||t instanceof Da))throw new l(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ea(n=t._path.child(A.fromString.apply(A,Object(r.d)([e],o)))),new xa(t.firestore,t instanceof Da?t.converter:null,new U(n))}function ka(t,e){return t=Object(i.getModularInstance)(t),e=Object(i.getModularInstance)(e),(t instanceof xa||t instanceof Da)&&(e instanceof xa||e instanceof Da)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function La(t,e){return t=Object(i.getModularInstance)(t),e=Object(i.getModularInstance)(e),t instanceof Aa&&e instanceof Aa&&t.firestore===e.firestore&&jt(t._query,e._query)&&t.converter===e.converter}var Ma=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new lo(this,"async_queue_retry"),this.Tc=function(){var e=ao();e&&p("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=ao();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=ao();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise((function(t){})):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.Rc()}))},t.prototype.Rc=function(){return Object(r.a)(this,void 0,void 0,(function(){var t,e=this;return Object(r.c)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!or(t=n.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.Rc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ac=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,d("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=Bo.createAndSchedule(this,t,e,n,(function(t){return r.bc(t)}));return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&v()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()}))},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Fa(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var ja=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Zn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),Ga=-1,Va=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Ma,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(r.b)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Ba(this),this._firestoreClient.terminate()},e}(Pa);function Wa(t){return t._firestoreClient||Ba(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ba(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ca(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Js(t._credentials,t._queue,r)}function Ha(t,e,n){var i=this,o=new Zn;return t.asyncQueue.enqueue((function(){return Object(r.a)(i,void 0,void 0,(function(){var i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Zs(t,n)];case 1:return r.sent(),[4,ta(t,e)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===u.FAILED_PRECONDITION||t.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function Ua(t){if(t._initialized||t._terminated)throw new l(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var za=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new l(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new I(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),qa=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(k.fromBase64String(e))}catch(e){throw new l(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(k.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Ka=function(t){this._methodName=t},Ya=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new l(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new l(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return C(this._lat,t._lat)||C(this._long,t._long)},t}(),Xa=/^__.*__$/,Qa=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ve(t,this.data,this.fieldMask,e,this.fieldTransforms):new ge(t,this.data,e,this.fieldTransforms)},t}(),$a=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ve(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Ja(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}var Za=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return bu(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(Ja(this.Cc)&&Xa.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),tu=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||uo(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new Za({Cc:t,methodName:e,Bc:n,path:I.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function eu(t){var e=t._freezeSettings(),n=uo(t._databaseId);return new tu(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nu(t,e,n,r,i,o){void 0===o&&(o={});var s=t.qc(o.merge||o.mergeFields?2:0,e,n,i);gu("Data must be an object, but it was:",s,r);var a,c,h=du(r,s);if(o.merge)a=new N(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){for(var p=[],d=0,f=o.mergeFields;d<f.length;d++){var g=vu(e,f[d],n);if(!s.contains(g))throw new l(u.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");wu(p,g)||p.push(g)}a=new N(p),c=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,c=s.fieldTransforms;return new Qa(new it(h),a,c)}var ru=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw 1===t.Cc?t.Mc(this._methodName+"() can only appear at the top level of your update data"):t.Mc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ka);function iu(t,e,n){return new Za({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype._toFieldTransform=function(t){return new oe(t.path,new $t)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ka),su=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(r.b)(e,t),e.prototype._toFieldTransform=function(t){var e=iu(this,t,!0),n=this.Uc.map((function(t){return pu(t,e)})),r=new Jt(n);return new oe(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ka),au=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(r.b)(e,t),e.prototype._toFieldTransform=function(t){var e=iu(this,t,!0),n=this.Uc.map((function(t){return pu(t,e)})),r=new te(n);return new oe(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ka),uu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(r.b)(e,t),e.prototype._toFieldTransform=function(t){var e=new ne(t.R,qt(t.R,this.Kc));return new oe(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ka);function lu(t,e,n,r){var o=t.qc(1,e,n);gu("Data must be an object, but it was:",o,r);var s=[],a=it.empty();R(r,(function(t,r){var u=yu(e,t,n);r=Object(i.getModularInstance)(r);var l=o.$c(u);if(r instanceof ru)s.push(u);else{var c=pu(r,l);null!=c&&(s.push(u),a.set(u,c))}}));var u=new N(s);return new $a(a,u,o.fieldTransforms)}function cu(t,e,n,r,o,s){var a=t.qc(1,e,n),c=[vu(e,r,n)],h=[o];if(s.length%2!=0)throw new l(u.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<s.length;p+=2)c.push(vu(e,s[p])),h.push(s[p+1]);for(var d=[],f=it.empty(),g=c.length-1;g>=0;--g)if(!wu(d,c[g])){var v=c[g],m=h[g];m=Object(i.getModularInstance)(m);var y=a.$c(v);if(m instanceof ru)d.push(v);else{var b=pu(m,y);null!=b&&(d.push(v),f.set(v,b))}}var w=new N(d);return new $a(f,w,a.fieldTransforms)}function hu(t,e,n,r){return void 0===r&&(r=!1),pu(n,t.qc(r?4:3,e))}function pu(t,e){if(fu(t=Object(i.getModularInstance)(t)))return gu("Unsupported field value:",e,t),du(t,e);if(t instanceof Ka)return function(t,e){if(!Ja(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=pu(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(i.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qt(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=O.fromDate(t);return{timestampValue:tn(e.R,n)}}if(t instanceof O)return n=new O(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:tn(e.R,n)};if(t instanceof Ya)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qa)return{bytesValue:en(e.R,t._byteString)};if(t instanceof xa){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:on(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+Oa(t))}(t,e)}function du(t,e){var n={};return P(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):R(t,(function(t,r){var i=pu(r,e.xc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function fu(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof O||t instanceof Ya||t instanceof qa||t instanceof xa||t instanceof Ka)}function gu(t,e,n){if(!fu(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Oa(n);throw"an object"===r?e.Mc(t+" a custom object"):e.Mc(t+" "+r)}}function vu(t,e,n){if((e=Object(i.getModularInstance)(e))instanceof za)return e._internalPath;if("string"==typeof e)return yu(t,e);throw bu("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var mu=new RegExp("[~\\*/\\[\\]]");function yu(t,e,n){if(e.search(mu)>=0)throw bu("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(za.bind.apply(za,Object(r.d)([void 0],e.split(".")))))._internalPath}catch(i){throw bu("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function bu(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new l(u.INVALID_ARGUMENT,(a+=". ")+t+c)}function wu(t,e){return t.some((function(t){return t.isEqual(e)}))}var Cu=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xa(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Eu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(_u("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Cu);function _u(t,e){return"string"==typeof e?yu(t,e):e instanceof za?e._internalPath:e._delegate._internalPath}var Ou=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Tu=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(r.b)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(_u("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Cu),Su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Tu),Ru=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ou(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Su(n._firestore,n._userDataWriter,r.key,r,new Ou(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new l(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Su(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ou(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Su(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ou(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Pu(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Pu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function xu(t,e){return t instanceof Tu&&e instanceof Tu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ru&&e instanceof Ru&&t._firestore===e._firestore&&La(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Au(t){if(Dt(t)&&0===t.explicitOrderBy.length)throw new l(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Du=function(){};function Iu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){t=i[r]._apply(t)}return t}var Nu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.jc=n,i.Wc=r,i.type="where",i}return Object(r.b)(e,t),e.prototype._apply=function(t){var e=eu(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new l(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Vu(s,o);for(var c=[],h=0,p=s;h<p.length;h++){var d=p[h];c.push(Gu(r,t,d))}a={arrayValue:{values:c}}}else a=Gu(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Vu(s,o),a=hu(n,"where",s,"in"===o||"not-in"===o);var f=pt.create(i,o,a);return function(t,e){if(e.g()){var n=Nt(t);if(null!==n&&!n.isEqual(e.field))throw new l(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=It(t);null!==r&&Wu(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new l(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new l(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.Qc,this.jc,this.Wc);return new Aa(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Rt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Du),ku=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Gc=n,r.type="orderBy",r}return Object(r.b)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new l(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new l(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _t(e,n);return function(t,e){if(null===It(t)){var n=Nt(t);null!==n&&Wu(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Gc);return new Aa(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Rt(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Du),Lu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(r.b)(e,t),e.prototype._apply=function(t){return new Aa(t.firestore,t.converter,Ft(t._query,this.zc,this.Hc))},e}(Du),Mu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(r.b)(e,t),e.prototype._apply=function(t){var e=ju(t,this.type,this.Jc,this.Yc);return new Aa(t.firestore,t.converter,function(t,e){return new Rt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Du),Fu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(r.b)(e,t),e.prototype._apply=function(t){var e=ju(t,this.type,this.Jc,this.Yc);return new Aa(t.firestore,t.converter,function(t,e){return new Rt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Du);function ju(t,e,n,r){if(n[0]=Object(i.getModularInstance)(n[0]),n[0]instanceof Cu)return function(t,e,n,r,i){if(!r)throw new l(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Lt(t);s<a.length;s++){var c=a[s];if(c.field.isKeyField())o.push($(e,r.key));else{var h=r.data.field(c.field);if(G(h))throw new l(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){var p=c.field.canonicalString();throw new l(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+p+"' (used as the orderBy) does not exist.")}o.push(h)}}return new Ct(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var o=eu(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new l(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var h=i[c];if(s[c].field.isKeyField()){if("string"!=typeof h)throw new l(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof h);if(!kt(t)&&-1!==h.indexOf("/"))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+h+"' contains a slash.");var p=t.path.child(A.fromString(h));if(!U.isDocumentKey(p))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+p+"' is not because it contains an odd number of segments.");var d=new U(p);a.push($(e,d))}else{var f=hu(n,r,h);a.push(f)}}return new Ct(a,o)}(t._query,t.firestore._databaseId,o,e,n,r)}function Gu(t,e,n){if("string"==typeof(n=Object(i.getModularInstance)(n))){if(""===n)throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!kt(e)&&-1!==n.indexOf("/"))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(A.fromString(n));if(!U.isDocumentKey(r))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $(t,new U(r))}if(n instanceof xa)return $(t,n._key);throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Oa(n)+".")}function Vu(t,e){if(!Array.isArray(t)||0===t.length)throw new l(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new l(u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Wu(t,e,n){if(!n.isEqual(e))throw new l(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Bu=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),z(t)){case 0:return null;case 1:return t.booleanValue;case 2:return F(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(j(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw v()}},t.prototype.convertObject=function(t,e){var n=this,r={};return R(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Ya(F(t.latitude),F(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return G(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(V(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=M(t);return new O(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=A.fromString(t);m(xn(n));var r=new ha(n.get(1),n.get(3)),i=new U(n.popFirst(5));return r.isEqual(e)||d("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Hu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Uu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r.b)(e,t),e.prototype.convertBytes=function(t){return new qa(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new xa(this.firestore,null,e)},e}(Bu),zu=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=eu(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=qu(t,this._firestore),i=Hu(r.converter,e,n),o=nu(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ae.none())),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var s,a=qu(t,this._firestore);return s="string"==typeof(e=Object(i.getModularInstance)(e))||e instanceof za?cu(this._dataReader,"WriteBatch.update",a._key,e,n,r):lu(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(s.toMutation(a._key,ae.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=qu(t,this._firestore);return this._mutations=this._mutations.concat(new Ee(e._key,ae.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new l(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function qu(t,e){if((t=Object(i.getModularInstance)(t)).firestore!==e)throw new l(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ku=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r.b)(e,t),e.prototype.convertBytes=function(t){return new qa(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new xa(this.firestore,null,e)},e}(Bu);function Yu(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];t=Ta(t,xa);var s=Ta(t.firestore,Va),a=eu(s);return Qu(s,[("string"==typeof(e=Object(i.getModularInstance)(e))||e instanceof za?cu(a,"updateDoc",t._key,e,n,r):lu(a,"updateDoc",t._key,e)).toMutation(t._key,ae.exists(!0))])}function Xu(t){for(var e,n,o,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];t=Object(i.getModularInstance)(t);var u={includeMetadataChanges:!1},l=0;"object"!=typeof s[l]||Fa(s[l])||(u=s[l],l++);var c,h,p,d={includeMetadataChanges:u.includeMetadataChanges};if(Fa(s[l])){var f=s[l];s[l]=null===(e=f.next)||void 0===e?void 0:e.bind(f),s[l+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),s[l+2]=null===(o=f.complete)||void 0===o?void 0:o.bind(f)}if(t instanceof xa)h=Ta(t.firestore,Va),p=xt(t._key.path),c={next:function(e){s[l]&&s[l]($u(h,t,e))},error:s[l+1],complete:s[l+2]};else{var g=Ta(t,Aa);h=Ta(g.firestore,Va),p=g._query;var v=new Ku(h);c={next:function(t){s[l]&&s[l](new Ru(h,v,g,t))},error:s[l+1],complete:s[l+2]},Au(t._query)}return function(t,e,n,i){var o=this,s=new Ys(i),a=new ts(e,s,n);return t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(o,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return e=Xo,[4,aa(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){s.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(o,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return e=Qo,[4,aa(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Wa(h),p,d,c)}function Qu(t,e){return function(t,e){var n=this,i=new Zn;return t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=fs,[4,sa(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(Wa(t),e)}function $u(t,e,n){var r=n.docs.get(e._key),i=new Ku(t);return new Tu(t,i,e._key,r,new Ou(n.hasPendingWrites,n.fromCache),e.converter)}var Ju=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(r.b)(e,t),e.prototype.get=function(e){var n=this,r=qu(e,this._firestore),i=new Ku(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Tu(n._firestore,i,r._key,t._document,new Ou(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=eu(t)}return t.prototype.get=function(t){var e=this,n=qu(t,this._firestore),r=new Uu(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return v();var i=t[0];if(i.isFoundDocument())return new Cu(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Cu(e._firestore,r,n._key,null,n.converter);throw v()}))},t.prototype.set=function(t,e,n){var r=qu(t,this._firestore),i=Hu(r.converter,e,n),o=nu(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s,a=qu(t,this._firestore);return s="string"==typeof(e=Object(i.getModularInstance)(e))||e instanceof za?cu(this._dataReader,"Transaction.update",a._key,e,n,r):lu(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,s),this},t.prototype.delete=function(t){var e=qu(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Zu(){if("undefined"==typeof Uint8Array)throw new l(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tl(){if("undefined"==typeof atob)throw new l(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var el=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return tl(),new t(qa.fromBase64String(e))},t.fromUint8Array=function(e){return Zu(),new t(qa.fromUint8Array(e))},t.prototype.toBase64=function(){return tl(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Zu(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),nl=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ua(t=Ta(t,Va));var n=Wa(t),r=t._freezeSettings(),i=new qs;return Ha(n,i,new Us(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ua(t=Ta(t,Va));var e=Wa(t),n=t._freezeSettings(),r=new qs;return Ha(e,r,new zs(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new l(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Zn;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.a)(e,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(r.a)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return nr.yt()?(e=t+"main",[4,nr.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(di(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),rl=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof ha||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||f("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var o=(t=Ta(t,Pa))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&f("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=Object(i.createMockUserToken)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new l(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new ga(new da(s,new Ui(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(r.a)(e,void 0,void 0,(function(){var e,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,ra(t)];case 1:return e=r.sent(),[4,oa(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=y(t);return e.Or.delete(0),mo(e)}(n))]}}))}))}))}(Wa(Ta(this._delegate,Va)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(r.a)(e,void 0,void 0,(function(){var e,n;return Object(r.c)(this,(function(i){switch(i.label){case 0:return[4,ra(t)];case 1:return e=i.sent(),[4,oa(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(r.a)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return(e=y(t)).Or.add(0),[4,yo(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Wa(Ta(this._delegate,Va)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ca("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Zn;return t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(e,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(r){switch(r.label){case 0:return e=ws,[4,sa(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Wa(Ta(this._delegate,Va)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new Ys(e);return t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return e=function(t,e){y(t).Gr.add(e),e.next()},[4,aa(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return e=function(t,e){y(t).Gr.delete(e)},[4,aa(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))}))}}(Wa(t=Ta(t,Va)),Fa(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new l(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new yl(this,Ia(this._delegate,t))}catch(t){throw cl(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new ll(this,Na(this._delegate,t))}catch(t){throw cl(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new gl(this,function(t,e){if(t=Ta(t,Pa),ba("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new l(u.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Aa(t,null,function(t){return new Rt(A.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw cl(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new Zn;return t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,function(t){return na(t).then((function(t){return t.datastore}))}(t)];case 1:return n=r.sent(),new $s(t.asyncQueue,n,e,i).run(),[2]}}))}))})),i.promise}(Wa(t),(function(n){return e(new Ju(t,n))}))}(this._delegate,(function(n){return t(new sl(e,n))}))},t.prototype.batch=function(){var t=this;return Wa(this._delegate),new al(new zu(this._delegate,(function(e){return Qu(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new l(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new l(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),il=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r.b)(e,t),e.prototype.convertBytes=function(t){return new el(new qa(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return ll.tu(e,this.firestore,null)},e}(Bu);function ol(t){var e;e=t,c.setLogLevel(e)}var sl=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new il(t)}return t.prototype.get=function(t){var e=this,n=bl(t);return this._delegate.get(n).then((function(t){return new dl(e._firestore,new Tu(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=bl(t);return n?(wa("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=bl(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,Object(r.d)([a,e,n],o)),this},t.prototype.delete=function(t){var e=bl(t);return this._delegate.delete(e),this},t}(),al=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=bl(t);return n?(wa("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=bl(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,Object(r.d)([a,e,n],o)),this},t.prototype.delete=function(t){var e=bl(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),ul=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Su(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new fl(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new il(e),n),i.set(n,o)),o},t}();ul.nu=new WeakMap;var ll=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new il(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new l(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new xa(n._delegate,r,new U(e)))},t.tu=function(e,n,r){return new t(n,new xa(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new yl(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new yl(this.firestore,Ia(this._delegate,t))}catch(t){throw cl(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(i.getModularInstance)(t))instanceof xa&&ka(this._delegate,t)},t.prototype.set=function(t,e){e=wa("DocumentReference.set",e);try{return function(t,e,n){t=Ta(t,xa);var r=Ta(t.firestore,Va),i=Hu(t.converter,e,n);return Qu(r,[nu(eu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ae.none())])}(this._delegate,t,e)}catch(t){throw cl(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?Yu(this._delegate,t):Yu.apply(void 0,Object(r.d)([this._delegate,t,e],n))}catch(t){throw cl(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Qu(Ta((t=this._delegate).firestore,Va),[new Ee(t._key,ae.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hl(e),i=pl(e,(function(e){return new dl(t.firestore,new Tu(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Xu(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ta(t,xa);var e=Ta(t.firestore,Va),n=Wa(e),i=new Ku(e);return function(t,e){var n=this,i=new Zn;return t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(o=r.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new l(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=Ho(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,ia(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(n,t._key).then((function(n){return new Tu(e,i,t._key,n,new Ou(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ta(t,xa);var e=Ta(t.firestore,Va);return ua(Wa(e),t._key,{source:"server"}).then((function(n){return $u(e,t,n)}))}(this._delegate):function(t){t=Ta(t,xa);var e=Ta(t.firestore,Va);return ua(Wa(e),t._key).then((function(n){return $u(e,t,n)}))}(this._delegate)).then((function(t){return new dl(e.firestore,new Tu(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ul.eu(this.firestore,e)):this._delegate.withConverter(null))},t}();function cl(t,e,n){return t.message=t.message.replace(e,n),t}function hl(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Fa(r))return r}return{}}function pl(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Fa(t[0])?t[0]:Fa(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var dl=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ll(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return xu(this._delegate,t._delegate)},t}(),fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(dl),gl=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new il(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Iu(this._delegate,function(t,e,n){var r=e,i=_u("where",t);return new Nu(i,r,n)}(e,n,r)))}catch(e){throw cl(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Iu(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=_u("orderBy",t);return new ku(r,n)}(e,n)))}catch(e){throw cl(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Iu(this._delegate,function(t){return Sa("limit",t),new Lu("limit",t,"F")}(e)))}catch(e){throw cl(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Iu(this._delegate,function(t){return Sa("limitToLast",t),new Lu("limitToLast",t,"L")}(e)))}catch(e){throw cl(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Iu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mu("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw cl(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Iu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mu("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw cl(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Iu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fu("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw cl(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Iu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fu("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw cl(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return La(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ta(t,Aa);var e=Ta(t.firestore,Va),n=Wa(e),i=new Ku(e);return function(t,e){var n=this,i=new Zn;return t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(r.a)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Pi(t,e,!0)];case 1:return u=r.sent(),i=new as(e,u.Bn),o=i._o(u.documents),s=i.applyChanges(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=r.sent(),u=Ho(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,ia(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(n,t._query).then((function(n){return new Ru(e,i,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ta(t,Aa);var e=Ta(t.firestore,Va),n=Wa(e),r=new Ku(e);return la(n,t._query,{source:"server"}).then((function(n){return new Ru(e,r,t,n)}))}(this._delegate):function(t){t=Ta(t,Aa);var e=Ta(t.firestore,Va),n=Wa(e),r=new Ku(e);return Au(t._query),la(n,t._query).then((function(n){return new Ru(e,r,t,n)}))}(this._delegate)).then((function(t){return new ml(e.firestore,new Ru(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hl(e),i=pl(e,(function(e){return new ml(t.firestore,new Ru(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Xu(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ul.eu(this.firestore,e)):this._delegate.withConverter(null))},t}(),vl=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new fl(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ml=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new gl(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new fl(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new vl(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new fl(n._firestore,r))}))},t.prototype.isEqual=function(t){return xu(this._delegate,t._delegate)},t}(),yl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new ll(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ll(this.firestore,void 0===t?Na(this._delegate):Na(this._delegate,t))}catch(t){throw cl(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ta(t.firestore,Va),r=Na(t),i=Hu(t.converter,e);return Qu(n,[nu(eu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ae.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new ll(e.firestore,t)}))},e.prototype.isEqual=function(t){return ka(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ul.eu(this.firestore,t)):this._delegate.withConverter(null))},e}(gl);function bl(t){return Ta(t,xa)}var wl=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(za.bind.apply(za,Object(r.d)([void 0],t)))}return t.documentId=function(){return new t(I.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(i.getModularInstance)(t))instanceof za&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Cl=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new ou("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new ru("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new su("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new au("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new uu("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();function El(t){return function(t,e){var n=Wa(t=Ta(t,Va)),i=new ja;return function(t,e,n,i){var o=this,s=function(t,e){return function(t,e){return new Xs(t,e)}(function(t,e){if(t instanceof Uint8Array)return Ks(t,e);if(t instanceof ArrayBuffer)return Ks(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,uo(e));t.asyncQueue.enqueueAndForget((function(){return Object(r.a)(o,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(n){switch(n.label){case 0:return e=Bs,[4,sa(t)];case 1:return e.apply(void 0,[n.sent(),s,i]),[2]}}))}))}))}(n,t._databaseId,e,i),i}(this._delegate,t)}function _l(t){var e,n,i=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=y(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Ke.getNamedQuery(t,e)}))},[4,ia(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(Wa(e=Ta(e,Va)),n).then((function(t){return t?new Aa(e,null,t.query):null}))).then((function(t){return t?new gl(i,t):null}))}}).call(this,n(147))},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(12),i=n(28),o=n(1),s=n(0),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(){function t(t,e,n,r){this.displayedChildren=[],this.localEventService=new i.a,this.groupId=e,this.instanceId=n,this.originalColumnGroup=t,this.pinned=r}return t.createUniqueId=function(t,e){return t+"_"+e},t.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){this.parent=t},t.prototype.getUniqueId=function(){return t.createUniqueId(this.groupId,this.instanceId)},t.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},t.prototype.isMoving=function(){var t=this.getOriginalColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every((function(t){return t.isMoving()}))},t.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(e){e instanceof t&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var e=s.e.last(this.displayedChildren).getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_LEFT_CHANGED)))},t.prototype.getPinned=function(){return this.pinned},t.prototype.createAgEvent=function(t){return{type:t}},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.isChildInThisGroupDeepSearch=function(e){var n=!1;return this.children.forEach((function(r){e===r&&(n=!0),r instanceof t&&r.isChildInThisGroupDeepSearch(e)&&(n=!0)})),n},t.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach((function(e){t+=e.getActualWidth()})),t},t.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach((function(e){e.isResizable()&&(t=!0)})),t},t.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach((function(e){t+=e.getMinWidth()})),t},t.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.getDisplayedChildren=function(){return this.displayedChildren},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},t.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},t.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},t.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},t.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},t.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},t.prototype.setExpanded=function(t){this.originalColumnGroup.setExpanded(t)},t.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach((function(n){n instanceof r.a?e.push(n):n instanceof t&&n.addDisplayedLeafColumns(e)}))},t.prototype.addLeafColumns=function(e){this.children.forEach((function(n){n instanceof r.a?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getChildren=function(){return this.children},t.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},t.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},t.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];var n=this;if(this.isPadding())for(;n.getParent()&&n.isPadding();)n=n.getParent();n.originalColumnGroup.isExpandable()?this.children.forEach((function(r){switch(r.getColumnGroupShow()){case t.HEADER_GROUP_SHOW_OPEN:n.originalColumnGroup.isExpanded()&&e.displayedChildren.push(r);break;case t.HEADER_GROUP_SHOW_CLOSED:n.originalColumnGroup.isExpanded()||e.displayedChildren.push(r);break;default:r instanceof t&&r.isPadding()&&!r.displayedChildren.length||e.displayedChildren.push(r)}})):this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED))},t.HEADER_GROUP_SHOW_OPEN="open",t.HEADER_GROUP_SHOW_CLOSED="closed",t.HEADER_GROUP_PADDING="padding",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",a([Object(o.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return I})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return T}));var r=n(44),i=n(4),o=n.n(i),s=(n(55),n(38)),a=n(149),u=n(36),l=n(27),c=n(150),h=n.n(c),p=(n(155),n(47)),d=(n(176),function(t){var e=Object(a.a)();return e.displayName=t,e}("Router-History")),f=function(t){var e=Object(a.a)();return e.displayName=t,e}("Router"),g=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(r.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(f.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(d.Provider,{children:this.props.children||null,value:this.props.history}))},e}(o.a.Component);o.a.Component;var v=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(o.a.Component);var m={},y=1e4,b=0;function w(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(m[t])return m[t];var e=h.a.compile(t);return b<y&&(m[t]=e,b++),e}(t)(e,{pretty:!0})}function C(t){var e=t.computedMatch,n=t.to,r=t.push,i=void 0!==r&&r;return o.a.createElement(f.Consumer,null,(function(t){t||Object(u.a)(!1);var r=t.history,a=t.staticContext,c=i?r.push:r.replace,h=Object(s.c)(e?"string"===typeof n?w(n,e.params):Object(l.a)({},n,{pathname:w(n.pathname,e.params)}):n);return a?(c(h),null):o.a.createElement(v,{onMount:function(){c(h)},onUpdate:function(t,e){var n=Object(s.c)(e.to);Object(s.f)(n,Object(l.a)({},h,{key:n.key}))||c(h)},to:n})}))}var E={},_=1e4,O=0;function T(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,s=n.strict,a=void 0!==s&&s,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=E[n]||(E[n]={});if(r[t])return r[t];var i=[],o={regexp:h()(t,i,e),keys:i};return O<_&&(r[t]=o,O++),o}(n,{end:o,strict:a,sensitive:l}),i=r.regexp,s=r.keys,u=i.exec(t);if(!u)return null;var c=u[0],p=u.slice(1),d=t===c;return o&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:s.reduce((function(t,e,n){return t[e.name]=p[n],t}),{})}}),null)}var S=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(f.Consumer,null,(function(e){e||Object(u.a)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?T(n.pathname,t.props):e.match,i=Object(l.a)({},e,{location:n,match:r}),s=t.props,a=s.children,c=s.component,h=s.render;return Array.isArray(a)&&0===a.length&&(a=null),o.a.createElement(f.Provider,{value:i},i.match?a?"function"===typeof a?a(i):a:c?o.a.createElement(c,i):h?h(i):null:"function"===typeof a?a(i):null)}))},e}(o.a.Component);function R(t){return"/"===t.charAt(0)?t:"/"+t}function P(t,e){if(!t)return e;var n=R(t);return 0!==e.pathname.indexOf(n)?e:Object(l.a)({},e,{pathname:e.pathname.substr(n.length)})}function x(t){return"string"===typeof t?t:Object(s.e)(t)}function A(t){return function(){Object(u.a)(!1)}}function D(){}o.a.Component;var I=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(f.Consumer,null,(function(e){e||Object(u.a)(!1);var n,r,i=t.props.location||e.location;return o.a.Children.forEach(t.props.children,(function(t){if(null==r&&o.a.isValidElement(t)){n=t;var s=t.props.path||t.props.from;r=s?T(i.pathname,Object(l.a)({},t.props,{path:s})):e.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},e}(o.a.Component);o.a.useContext},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=function(t,e){return function(n,r){e(n,r,t)}},s=function(){function t(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}var e;return e=t,t.prototype.setBeans=function(t,e,n){if(void 0===n&&(n=null),this.logger=t.create("EventService"),n){var r=e.useAsyncEvents();this.addGlobalListener(n,r)}},t.prototype.getListeners=function(t,e){var n=e?this.allAsyncListeners:this.allSyncListeners,r=n.get(t);return r||(r=new Set,n.set(t,r)),r},t.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n).add(e)},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n).delete(e)},t.prototype.addModalPriorityEventListener=function(t,n,r){void 0===r&&(r=!1),this.addEventListener(t+e.PRIORITY,n,r)},t.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},t.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},t.prototype.dispatchEvent=function(t){this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},t.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},t.prototype.dispatchToListeners=function(t,n){var r=this,i=t.type,o=function(e){return e.forEach((function(e){n?r.dispatchAsync((function(){return e(t)})):e(t)}))};o(this.getListeners(i+e.PRIORITY,n)),o(this.getListeners(i,n)),(n?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(e){n?r.dispatchAsync((function(){return e(i,t)})):e(i,t)}))},t.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},t.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach((function(t){return t()}))},t.PRIORITY="-P1",i([o(0,Object(r.h)("loggerFactory")),o(1,Object(r.h)("gridOptionsWrapper")),o(2,Object(r.h)("globalEventListener"))],t.prototype,"setBeans",null),t=e=i([Object(r.b)("eventService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(13),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.scalarFilterParams=e,this.checkDeprecatedParams()},e.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("ag-Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},e.prototype.nullComparator=function(t,n,r){if(null==r){var i=this.canNullsPassFilter(t);if(t===e.EMPTY)return 0;if(t===e.EQUALS)return i?0:1;if(t===e.GREATER_THAN)return i?1:-1;if(t===e.GREATER_THAN_OR_EQUAL)return i?1:-1;if(t===e.LESS_THAN_OR_EQUAL)return i?-1:1;if(t===e.LESS_THAN)return i?-1:1;if(t===e.NOT_EQUAL)return i?1:0}return this.comparator()(n,r)},e.prototype.canNullsPassFilter=function(t){switch(t){case r.b.GREATER_THAN:case r.b.GREATER_THAN_OR_EQUAL:return this.scalarFilterParams.includeBlanksInGreaterThan;case r.b.LESS_THAN:case r.b.LESS_THAN_OR_EQUAL:return this.scalarFilterParams.includeBlanksInLessThan;case r.b.EQUALS:return this.scalarFilterParams.includeBlanksInEquals}},e.prototype.individualConditionPasses=function(t,n){var r=this.scalarFilterParams.valueGetter(t.node),i=this.mapRangeFromModel(n),o=i.from,s=i.to,a=n.type,u=this.optionsFactory.getCustomOption(a);if(u&&(null!=o||u.hideFilterInput))return u.test(o,r);var l=this.nullComparator(a,o,r);if(a===e.EQUALS)return 0===l;if(a===e.GREATER_THAN)return l>0;if(a===e.GREATER_THAN_OR_EQUAL)return l>=0;if(a===e.LESS_THAN_OR_EQUAL)return l<=0;if(a===e.LESS_THAN)return l<0;if(a===e.NOT_EQUAL)return 0!=l;var c=this.nullComparator(a,s,r);if(a===e.IN_RANGE)return this.scalarFilterParams.inRangeInclusive?l>=0&&c<=0:l>0&&c<0;throw new Error("Unexpected type of filter: "+a)},e.DEFAULT_NULL_COMPARATOR={equals:!1,lessThan:!1,greaterThan:!1},e}(r.b)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return lr})),n.d(e,"b",(function(){return hr})),n.d(e,"c",(function(){return cr})),n.d(e,"d",(function(){return dr})),n.d(e,"e",(function(){return pr})),n.d(e,"f",(function(){return fr})),n.d(e,"g",(function(){return gr})),n.d(e,"h",(function(){return ar})),n.d(e,"i",(function(){return ur}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},a=a||{},u=s||self;function l(){}function c(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),d=0;function f(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:g).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function y(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function b(){this.s=this.s,this.o=this.o}var w={};b.prototype.s=!1,b.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,p)&&t[p]||(t[p]=++d)}(this);delete w[t]}},b.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function _(t){return Array.prototype.concat.apply([],arguments)}function O(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var S,R=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function P(t,e){return-1!=t.indexOf(e)}function x(t,e){return t<e?-1:t>e?1:0}t:{var A=u.navigator;if(A){var D=A.userAgent;if(D){S=D;break t}}S=""}function I(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function N(t){var e={};for(var n in t)e[n]=t[n];return e}var k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<k.length;o++)n=k[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function M(t){return M[" "](t),t}M[" "]=l;var F,j=P(S,"Opera"),G=P(S,"Trident")||P(S,"MSIE"),V=P(S,"Edge"),W=V||G,B=P(S,"Gecko")&&!(P(S.toLowerCase(),"webkit")&&!P(S,"Edge"))&&!(P(S,"Trident")||P(S,"MSIE"))&&!P(S,"Edge"),H=P(S.toLowerCase(),"webkit")&&!P(S,"Edge");function U(){var t=u.document;return t?t.documentMode:void 0}t:{var z="",q=function(){var t=S;return B?/rv:([^\);]+)(\)|;)/.exec(t):V?/Edge\/([\d\.]+)/.exec(t):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):H?/WebKit\/(\S+)/.exec(t):j?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(q&&(z=q?q[1]:""),G){var K=U();if(null!=K&&K>parseFloat(z)){F=String(K);break t}}F=z}var Y,X={};function Q(){return function(t){var e=X;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=R(String(F)).split("."),n=R("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=x(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||x(0==o[2].length,0==s[2].length)||x(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&G){var $=U();Y=$||(parseInt(F,10)||void 0)}else Y=void 0;var J=Y,Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",l,e),u.removeEventListener("test",l,e)}catch(n){}return t}();function tt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function et(t,e){if(tt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(B){t:{try{M(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:nt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&et.Z.h.call(this)}}tt.prototype.h=function(){this.defaultPrevented=!0},y(et,tt);var nt={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),it=0;function ot(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++it,this.ca=this.fa=!1}function st(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function at(t){this.src=t,this.g={},this.h=0}function ut(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=C(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(st(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function lt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}at.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=lt(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new ot(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var ct="closure_lm_"+(1e6*Math.random()|0),ht={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=bt(r),e&&e[rt]?e.O(n,r,h(i)?!!i.capture:!!i,o):dt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=bt(n),t&&t[rt]?t.N(e,n,h(r)?!!r.capture:!!r,i):dt(t,e,n,!1,r,i)}function dt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=h(i)?!!i.capture:!!i,a=mt(t);if(a||(t[ct]=a=new at(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=vt;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Z||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ft(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[rt])ut(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mt(e))?(ut(n,t),0==n.h&&(n.src=null,e[ct]=null)):st(t)}}}function gt(t){return t in ht?ht[t]:ht[t]="on"+t}function vt(t,e){if(t.ca)t=!0;else{e=new et(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&ft(t),t=n.call(r,e)}return t}function mt(t){return(t=t[ct])instanceof at?t:null}var yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(t){return"function"===typeof t?t:(t[yt]||(t[yt]=function(e){return t.handleEvent(e)}),t[yt])}function wt(){b.call(this),this.i=new at(this),this.P=this,this.I=null}function Ct(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new tt(e,t);else if(e instanceof tt)e.target=e.target||t;else{var i=e;L(e=new tt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Et(s,r,!0,e)&&i}if(i=Et(s=e.g=t,r,!0,e)&&i,i=Et(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Et(s=e.g=n[o],r,!1,e)&&i}function Et(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&ut(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}y(wt,b),wt.prototype[rt]=!0,wt.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=h(i)?!!i.capture:!!i,r=bt(r),e&&e[rt]?(e=e.i,(n=String(n).toString())in e.g&&(-1<(r=lt(s=e.g[n],r,i,o))&&(st(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.g[n],e.h--)))):e&&(e=mt(e))&&(n=e.g[n.toString()],e=-1,n&&(e=lt(n,r,i,o)),(r=-1<e?n[e]:null)&&ft(r))}(this,t,e,n,r)},wt.prototype.M=function(){if(wt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)st(n[r]);delete e.g[t],e.h--}}this.I=null},wt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var _t=u.JSON.stringify;function Ot(){var t=It,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Tt,St=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Rt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Rt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Pt}),(function(t){return t.reset()})),Pt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function xt(t){u.setTimeout((function(){throw t}),0)}function At(t,e){Tt||function(){var t=u.Promise.resolve(void 0);Tt=function(){t.then(Nt)}}(),Dt||(Tt(),Dt=!0),It.add(t,e)}var Dt=!1,It=new St;function Nt(){for(var t;t=Ot();){try{t.h.call(t.g)}catch(n){xt(n)}var e=Rt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Dt=!1}function kt(t,e){wt.call(this),this.h=t||1,this.g=e||u,this.j=v(this.kb,this),this.l=Date.now()}function Lt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Mt(t,e,n){if("function"===typeof t)n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Ft(t){t.g=Mt((function(){t.g=null,t.i&&(t.i=!1,Ft(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}y(kt,wt),(o=kt.prototype).da=!1,o.S=null,o.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ct(this,"tick"),this.da&&(Lt(this),this.start()))}},o.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},o.M=function(){kt.Z.M.call(this),Lt(this),delete this.g};var jt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Ft(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(b);function Gt(t){b.call(this),this.h=t,this.g={}}y(Gt,b);var Vt=[];function Wt(t,e,n,r){Array.isArray(n)||(n&&(Vt[0]=n.toString()),n=Vt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Bt(t){I(t.g,(function(t,e){this.g.hasOwnProperty(e)&&ft(t)}),t),t.g={}}function Ht(){this.g=!0}function Ut(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return _t(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Gt.prototype.M=function(){Gt.Z.M.call(this),Bt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ht.prototype.Aa=function(){this.g=!1},Ht.prototype.info=function(){};var zt={},qt=null;function Kt(){return qt=qt||new wt}function Yt(t){tt.call(this,zt.Ma,t)}function Xt(t){var e=Kt();Ct(e,new Yt(e,t))}function Qt(t,e){tt.call(this,zt.STAT_EVENT,t),this.stat=e}function $t(t){var e=Kt();Ct(e,new Qt(e,t))}function Jt(t,e){tt.call(this,zt.Na,t),this.size=e}function Zt(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}zt.Ma="serverreachability",y(Yt,tt),zt.STAT_EVENT="statevent",y(Qt,tt),zt.Na="timingevent",y(Jt,tt);var te={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ee={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ne(){}function re(t){return t.h||(t.h=t.i())}function ie(){}ne.prototype.h=null;var oe,se={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ae(){tt.call(this,"d")}function ue(){tt.call(this,"c")}function le(){}function ce(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Gt(this),this.P=pe,t=W?125:void 0,this.W=new kt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}y(ae,tt),y(ue,tt),y(le,ne),le.prototype.g=function(){return new XMLHttpRequest},le.prototype.i=function(){return{}},oe=new le;var pe=45e3,de={},fe={};function ge(t,e,n){t.K=1,t.v=je(Ie(e)),t.s=n,t.U=!0,ve(t,null)}function ve(t,e){t.F=Date.now(),we(t),t.A=Ie(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),$e(n.h,"t",r),t.C=0,n=t.l.H,t.h=new he,t.g=tr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new jt(v(t.Ia,t,t.g),t.O)),Wt(t.V,t.g,"readystatechange",t.gb),e=t.H?N(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Xt(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function me(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function ye(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=be(t,n))==fe){4==e&&(t.o=4,$t(14),i=!1),Ut(t.j,t.m,null,"[Incomplete Response]");break}if(r==de){t.o=4,$t(15),Ut(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Ut(t.j,t.m,r,null),Te(t,r)}me(t)&&r!=fe&&r!=de&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,$t(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),qn(e),e.L=!0,$t(11))):(Ut(t.j,t.m,n,"[Invalid Chunked Response]"),Oe(t),_e(t))}function be(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?fe:(n=Number(e.substring(n,r)),isNaN(n)?de:(r+=1)+n>e.length?fe:(e=e.substr(r,n),t.C=r+n,e))}function we(t){t.Y=Date.now()+t.P,Ce(t,t.P)}function Ce(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Zt(v(t.eb,t),e)}function Ee(t){t.B&&(u.clearTimeout(t.B),t.B=null)}function _e(t){0==t.l.G||t.I||Xn(t.l,t)}function Oe(t){Ee(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Lt(t.W),Bt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Te(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||sn(n.i,t)))if(n.I=t.N,!t.J&&sn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Yn(n),Fn(n)}zn(n),$t(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Zt(v(n.ab,n),6e3));if(1>=on(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else $n(n,11)}else if((t.J||n.g==t)&&Yn(n),!T(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=t.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(P(c,"spdy")||P(c,"quic")||P(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(an(h,h.h),h.h=null))}if(r.D){var p=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.sa=p,Fe(r.F,r.D,p))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Zn(r,r.H?r.la:null,r.W),d.J){un(r.i,d);var f=d,g=r.K;g&&f.setTimeout(g),f.B&&(Ee(f),we(f)),r.g=d}else Un(r);0<n.l.length&&Vn(n)}else"stop"!=o[0]&&"close"!=o[0]||$n(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?$n(n,7):Mn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Xt(4)}catch(o){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(c(t)||"string"===typeof t)E(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(c(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(c(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Re(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Re)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];xe(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)xe(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=ce.prototype).setTimeout=function(t){this.P=t},o.gb=function(t){t=t.target;var e=this.L;e&&3==Dn(t)?e.l():this.Ia(t)},o.Ia=function(t){try{if(t==this.g)t:{var e=Dn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||W||this.g&&(this.h.h||this.g.ga()||In(this.g)))){this.I||4!=e||7==n||Xt(8==n||0>=r?3:2),Ee(this);var i=this.g.ba();this.N=i;e:if(me(this)){var o=In(this.g);t="";var s=o.length,a=4==Dn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Oe(this),_e(this);var l="";break e}this.h.i=new u.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(c)){var p=c;break e}}p=null}if(!(i=p)){this.i=!1,this.o=3,$t(12),Oe(this),_e(this);break t}Ut(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Te(this,i)}this.U?(ye(this,e,l),W&&this.i&&3==e&&(Wt(this.V,this.W,"tick",this.fb),this.W.start())):(Ut(this.j,this.m,l,null),Te(this,l)),4==e&&Oe(this),this.i&&!this.I&&(4==e?Xn(this.l,this):(this.i=!1,we(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.o=3,$t(12)):(this.o=0,$t(13)),Oe(this),_e(this)}}}catch(e){}},o.fb=function(){if(this.g){var t=Dn(this.g),e=this.g.ga();this.C<e.length&&(Ee(this),ye(this,t,e),this.i&&4!=t&&we(this))}},o.cancel=function(){this.I=!0,Oe(this)},o.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Xt(3),$t(17)),Oe(this),this.o=2,_e(this)):Ce(this,this.Y-t)},(o=Re.prototype).R=function(){Pe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},o.T=function(){return Pe(this),this.g.concat()},o.get=function(t,e){return xe(this.h,t)?this.h[t]:e},o.set=function(t,e){xe(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},o.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof De){this.g=void 0!==e?e:t.g,Ne(this,t.j),this.s=t.s,ke(this,t.i),Le(this,t.m),this.l=t.l,e=t.h;var n=new Ke;n.i=e.i,e.g&&(n.g=new Re(e.g),n.h=e.h),Me(this,n),this.o=t.o}else t&&(n=String(t).match(Ae))?(this.g=!!e,Ne(this,n[1]||"",!0),this.s=Ge(n[2]||""),ke(this,n[3]||"",!0),Le(this,n[4]),this.l=Ge(n[5]||"",!0),Me(this,n[6]||"",!0),this.o=Ge(n[7]||"")):(this.g=!!e,this.h=new Ke(null,this.g))}function Ie(t){return new De(t)}function Ne(t,e,n){t.j=n?Ge(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ke(t,e,n){t.i=n?Ge(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Me(t,e,n){e instanceof Ke?(t.h=e,function(t,e){e&&!t.j&&(Ye(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),$e(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Ve(e,ze)),t.h=new Ke(e,t.g))}function Fe(t,e,n){t.h.set(e,n)}function je(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ge(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ve(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,We),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function We(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ve(e,Be,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ve(e,Be,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ve(n,"/"==n.charAt(0)?Ue:He,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ve(n,qe)),t.join("")};var Be=/[#\/\?@]/g,He=/[#\?:]/g,Ue=/[#\?]/g,ze=/[#\?@]/g,qe=/#/g;function Ke(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ye(t){t.g||(t.g=new Re,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Ye(t),e=Je(t,e),xe(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,xe((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Pe(t)))}function Qe(t,e){return Ye(t),e=Je(t,e),xe(t.g.h,e)}function $e(t,e,n){Xe(t,e),0<n.length&&(t.i=null,t.g.set(Je(t,e),O(n)),t.h+=n.length)}function Je(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(o=Ke.prototype).add=function(t,e){Ye(this),this.i=null,t=Je(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},o.forEach=function(t,e){Ye(this),this.g.forEach((function(n,r){E(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.T=function(){Ye(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.R=function(t){Ye(this);var e=[];if("string"===typeof t)Qe(this,t)&&(e=_(e,this.g.get(Je(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=_(e,t[n])}return e},o.set=function(t,e){return Ye(this),this.i=null,Qe(this,t=Je(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},o.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},o.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var Ze=function(t,e){this.h=t,this.g=e};function tn(t){this.l=t||nn,u.PerformanceNavigationTiming?t=0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(u.g&&u.g.Ea&&u.g.Ea()&&u.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var en,nn=10;function rn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function on(t){return t.h?1:t.g?t.g.size:0}function sn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function an(t,e){t.g?t.g.add(e):t.h=e}function un(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ln(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var o=i(t.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;r=r.concat(a.D)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return O(t.i)}function cn(){}function hn(){this.g=new cn}function pn(t,e,n){var r=n||"";try{Se(t,(function(t,n){var i=t;h(t)&&(i=_t(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function fn(t){this.l=t.$b||null,this.j=t.ib||!1}function gn(t,e){wt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=vn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tn.prototype.cancel=function(){var t,e;if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=i(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},cn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},cn.prototype.parse=function(t){return u.JSON.parse(t,void 0)},y(fn,ne),fn.prototype.g=function(){return new gn(this.l,this.j)},fn.prototype.i=(en={},function(){return en}),y(gn,wt);var vn=0;function mn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function yn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bn(t)}function bn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(o=gn.prototype).open=function(t,e){if(this.readyState!=vn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bn(this)},o.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||u).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},o.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yn(this)),this.readyState=vn},o.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof u.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},o.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?yn(this):bn(this),3==this.readyState&&mn(this)}},o.Ua=function(t){this.g&&(this.response=this.responseText=t,yn(this))},o.Ta=function(t){this.g&&(this.response=t,yn(this))},o.ha=function(){this.g&&yn(this)},o.setRequestHeader=function(t,e){this.v.append(t,e)},o.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(gn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var wn=u.JSON.parse;function Cn(t){wt.call(this),this.headers=new Re,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=En,this.K=this.L=!1}y(Cn,wt);var En="",_n=/^https?$/i,On=["POST","PUT"];function Tn(t){return"content-type"==t.toLowerCase()}function Sn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Rn(t),xn(t)}function Rn(t){t.D||(t.D=!0,Ct(t,"complete"),Ct(t,"error"))}function Pn(t){if(t.h&&"undefined"!=typeof a&&(!t.C[1]||4!=Dn(t)||2!=t.ba()))if(t.v&&4==Dn(t))Mt(t.Fa,0,t);else if(Ct(t,"readystatechange"),4==Dn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Ae)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!_n.test(o?o.toLowerCase():"")}e=i}if(e)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var l=2<Dn(t)?t.g.statusText:""}catch(c){l=""}t.j=l+" ["+t.ba()+"]",Rn(t)}}finally{xn(t)}}}function xn(t,e){if(t.g){An(t);var n=t.g,r=t.C[0]?l:null;t.g=null,t.C=null,e||Ct(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function An(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(u.clearTimeout(t.A),t.A=null)}function Dn(t){return t.g?t.g.readyState:0}function In(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case En:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Nn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return I(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ln(t){this.za=0,this.l=[],this.h=new Ht,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kn("baseRetryDelayMs",5e3,t),this.$a=kn("retryDelaySeedMs",1e4,t),this.Ya=kn("forwardChannelMaxRetries",2,t),this.ra=kn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new tn(t&&t.concurrentRequestLimit),this.Ca=new hn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Mn(t){if(jn(t),3==t.G){var e=t.V++,n=Ie(t.F);Fe(n,"SID",t.J),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),Bn(t,n),(e=new ce(t,t.h,e,void 0)).K=2,e.v=je(Ie(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.v.toString(),"")),!n&&u.Image&&((new Image).src=e.v,n=!0),n||(e.g=tr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),we(e)}Jn(t)}function Fn(t){t.g&&(qn(t),t.g.cancel(),t.g=null)}function jn(t){Fn(t),t.u&&(u.clearTimeout(t.u),t.u=null),Yn(t),t.i.cancel(),t.m&&("number"===typeof t.m&&u.clearTimeout(t.m),t.m=null)}function Gn(t,e){t.l.push(new Ze(t.Za++,e)),3==t.G&&Vn(t)}function Vn(t){rn(t.i)||t.m||(t.m=!0,At(t.Ha,t),t.C=0)}function Wn(t,e){var n;n=e?e.m:t.V++;var r=Ie(t.F);Fe(r,"SID",t.J),Fe(r,"RID",n),Fe(r,"AID",t.U),Bn(t,r),t.o&&t.s&&Nn(r,t.o,t.s),n=new ce(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Hn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),an(t.i,n),ge(n,r,e)}function Bn(t,e){t.j&&Se({},(function(t,n){Fe(e,n,t)}))}function Hn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?v(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=o))o=Math.max(0,i[u].h-100),a=!1;else try{pn(c,s,"req"+l+"_")}catch(h){r&&r(c)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Un(t){t.g||t.u||(t.Y=1,At(t.Ga,t),t.A=0)}function zn(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=Zt(v(t.Ga,t),Qn(t,t.A)),t.A++,!0)}function qn(t){null!=t.B&&(u.clearTimeout(t.B),t.B=null)}function Kn(t){t.g=new ce(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ie(t.oa);Fe(e,"RID","rpc"),Fe(e,"SID",t.J),Fe(e,"CI",t.N?"0":"1"),Fe(e,"AID",t.U),Bn(t,e),Fe(e,"TYPE","xmlhttp"),t.o&&t.s&&Nn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=je(Ie(e)),n.s=null,n.U=!0,ve(n,t)}function Yn(t){null!=t.v&&(u.clearTimeout(t.v),t.v=null)}function Xn(t,e){var n=null;if(t.g==e){Yn(t),qn(t),t.g=null;var r=2}else{if(!sn(t.i,e))return;n=e.D,un(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ct(r=Kt(),new Jt(r,n,e,i)),Vn(t)}else Un(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(on(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=Zt(v(t.Ha,t,e),Qn(t,t.C)),t.C++,!0))}(t,e)||2==r&&zn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:$n(t,5);break;case 4:$n(t,10);break;case 3:$n(t,6);break;default:$n(t,2)}}function Qn(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function $n(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=v(t.jb,t);n||(n=new De("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Ne(n,"https"),je(n)),function(t,e){var n=new Ht;if(u.Image){var r=new Image;r.onload=m(dn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=m(dn,n,r,"TestLoadImage: error",!1,e),r.onabort=m(dn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=m(dn,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else $t(2);t.G=0,t.j&&t.j.va(e),Jn(t),jn(t)}function Jn(t){t.G=0,t.I=-1,t.j&&(0==ln(t.i).length&&0==t.l.length||(t.i.i.length=0,O(t.l),t.l.length=0),t.j.ua())}function Zn(t,e,n){var r=function(t){return t instanceof De?Ie(t):new De(t,void 0)}(n);if(""!=r.i)e&&ke(r,e+"."+r.i),Le(r,r.m);else{var i=u.location;r=function(t,e,n,r){var i=new De(null,void 0);return t&&Ne(i,t),e&&ke(i,e),n&&Le(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&I(t.aa,(function(t,e){Fe(r,e,t)})),e=t.D,n=t.sa,e&&n&&Fe(r,e,n),Fe(r,"VER",t.ma),Bn(t,r),r}function tr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Cn(new fn({ib:!0})):new Cn(t.qa)).L=t.H,e}function er(){}function nr(){if(G&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function rr(t,e){wt.call(this),this.g=new Ln(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new sr(this)}function ir(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function or(){ue.call(this),this.status=1}function sr(t){this.g=t}(o=Cn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oe.g(),this.C=this.u?re(this.u):re(oe),this.g.onreadystatechange=v(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Sn(this,o)}t=n||"";var i=new Re(this.headers);r&&Se(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Tn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.T()),n=u.FormData&&t instanceof u.FormData,!(0<=C(On,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{An(this),0<this.B&&((this.K=function(t){return G&&Q()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=v(this.pa,this)):this.A=Mt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Sn(this,o)}},o.pa=function(){"undefined"!=typeof a&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))},o.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),xn(this))},o.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xn(this,!0)),Cn.Z.M.call(this)},o.Fa=function(){this.s||(this.F||this.v||this.l?Pn(this):this.cb())},o.cb=function(){Pn(this)},o.ba=function(){try{return 2<Dn(this)?this.g.status:-1}catch(en){return-1}},o.ga=function(){try{return this.g?this.g.responseText:""}catch(en){return""}},o.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wn(e)}},o.Da=function(){return this.m},o.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(o=Ln.prototype).ma=8,o.G=1,o.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},o.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ce(this,this.h,t,void 0),n=this.s;if(this.P&&(n?L(n=N(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Hn(this,e,r),Fe(i=Ie(this.F),"RID",t),Fe(i,"CVER",22),this.D&&Fe(i,"X-HTTP-Session-Id",this.D),Bn(this,i),this.o&&n&&Nn(i,this.o,n),an(this.i,e),this.Ra&&Fe(i,"TYPE","init"),this.ja?(Fe(i,"$req",r),Fe(i,"SID","null"),e.$=!0,ge(e,i,null)):ge(e,i,r),this.G=2}}else 3==this.G&&(t?Wn(this,t):0==this.l.length||rn(this.i)||Wn(this))},o.Ga=function(){if(this.u=null,Kn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Zt(v(this.bb,this),t)}},o.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$t(10),Fn(this),Kn(this))},o.ab=function(){null!=this.v&&(this.v=null,Fn(this),zn(this),$t(19))},o.jb=function(t){t?(this.h.info("Successfully pinged google.com"),$t(2)):(this.h.info("Failed to ping google.com"),$t(1))},(o=er.prototype).xa=function(){},o.wa=function(){},o.va=function(){},o.ua=function(){},o.Oa=function(){},nr.prototype.g=function(t,e){return new rr(t,e)},y(rr,wt),rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),At(v(t.hb,t,e))),$t(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Zn(t,null,t.W),Vn(t)},rr.prototype.close=function(){Mn(this.g)},rr.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,Gn(this.g,e)}else this.v?((e={}).__data__=_t(t),Gn(this.g,e)):Gn(this.g,t)},rr.prototype.M=function(){this.g.j=null,delete this.j,Mn(this.g),delete this.g,rr.Z.M.call(this)},y(ir,ae),y(or,ue),y(sr,er),sr.prototype.xa=function(){Ct(this.g,"a")},sr.prototype.wa=function(t){Ct(this.g,new ir(t))},sr.prototype.va=function(t){Ct(this.g,new or(t))},sr.prototype.ua=function(){Ct(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,te.NO_ERROR=0,te.TIMEOUT=8,te.HTTP_ERROR=6,ee.COMPLETE="complete",ie.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",wt.prototype.listen=wt.prototype.N,Cn.prototype.listenOnce=Cn.prototype.O,Cn.prototype.getLastError=Cn.prototype.La,Cn.prototype.getLastErrorCode=Cn.prototype.Da,Cn.prototype.getStatus=Cn.prototype.ba,Cn.prototype.getResponseJson=Cn.prototype.Qa,Cn.prototype.getResponseText=Cn.prototype.ga,Cn.prototype.send=Cn.prototype.ea;var ar=function(){return new nr},ur=function(){return Kt()},lr=te,cr=ee,hr=zt,pr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dr=fn,fr=ie,gr=Cn}).call(this,n(63))},function(t,e,n){(function(t,r){var i;(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",d=1,f=2,g=4,v=1,m=2,y=1,b=2,w=4,C=8,E=16,_=32,O=64,T=128,S=256,R=512,P=30,x="...",A=800,D=16,I=1,N=2,k=1/0,L=9007199254740991,M=17976931348623157e292,F=NaN,j=4294967295,G=j-1,V=j>>>1,W=[["ary",T],["bind",y],["bindKey",b],["curry",C],["curryRight",E],["flip",R],["partial",_],["partialRight",O],["rearg",S]],B="[object Arguments]",H="[object Array]",U="[object AsyncFunction]",z="[object Boolean]",q="[object Date]",K="[object DOMException]",Y="[object Error]",X="[object Function]",Q="[object GeneratorFunction]",$="[object Map]",J="[object Number]",Z="[object Null]",tt="[object Object]",et="[object Proxy]",nt="[object RegExp]",rt="[object Set]",it="[object String]",ot="[object Symbol]",st="[object Undefined]",at="[object WeakMap]",ut="[object WeakSet]",lt="[object ArrayBuffer]",ct="[object DataView]",ht="[object Float32Array]",pt="[object Float64Array]",dt="[object Int8Array]",ft="[object Int16Array]",gt="[object Int32Array]",vt="[object Uint8Array]",mt="[object Uint8ClampedArray]",yt="[object Uint16Array]",bt="[object Uint32Array]",wt=/\b__p \+= '';/g,Ct=/\b(__p \+=) '' \+/g,Et=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_t=/&(?:amp|lt|gt|quot|#39);/g,Ot=/[&<>"']/g,Tt=RegExp(_t.source),St=RegExp(Ot.source),Rt=/<%-([\s\S]+?)%>/g,Pt=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dt=/^\w*$/,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nt=/[\\^$.*+?()[\]{}|]/g,kt=RegExp(Nt.source),Lt=/^\s+/,Mt=/\s/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jt=/\{\n\/\* \[wrapped with (.+)\] \*/,Gt=/,? & /,Vt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wt=/[()=,{}\[\]\/\s]/,Bt=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,zt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Kt=/^\[object .+?Constructor\]$/,Yt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$t=/($^)/,Jt=/['\n\r\u2028\u2029\\]/g,Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ee="[\\ud800-\\udfff]",ne="["+te+"]",re="["+Zt+"]",ie="\\d+",oe="[\\u2700-\\u27bf]",se="[a-z\\xdf-\\xf6\\xf8-\\xff]",ae="[^\\ud800-\\udfff"+te+ie+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ue="\\ud83c[\\udffb-\\udfff]",le="[^\\ud800-\\udfff]",ce="(?:\\ud83c[\\udde6-\\uddff]){2}",he="[\\ud800-\\udbff][\\udc00-\\udfff]",pe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",de="(?:"+se+"|"+ae+")",fe="(?:"+pe+"|"+ae+")",ge="(?:"+re+"|"+ue+")"+"?",ve="[\\ufe0e\\ufe0f]?"+ge+("(?:\\u200d(?:"+[le,ce,he].join("|")+")[\\ufe0e\\ufe0f]?"+ge+")*"),me="(?:"+[oe,ce,he].join("|")+")"+ve,ye="(?:"+[le+re+"?",re,ce,he,ee].join("|")+")",be=RegExp("['\u2019]","g"),we=RegExp(re,"g"),Ce=RegExp(ue+"(?="+ue+")|"+ye+ve,"g"),Ee=RegExp([pe+"?"+se+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[ne,pe,"$"].join("|")+")",fe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[ne,pe+de,"$"].join("|")+")",pe+"?"+de+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",pe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ie,me].join("|"),"g"),_e=RegExp("[\\u200d\\ud800-\\udfff"+Zt+"\\ufe0e\\ufe0f]"),Oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Te=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Se=-1,Re={};Re[ht]=Re[pt]=Re[dt]=Re[ft]=Re[gt]=Re[vt]=Re[mt]=Re[yt]=Re[bt]=!0,Re[B]=Re[H]=Re[lt]=Re[z]=Re[ct]=Re[q]=Re[Y]=Re[X]=Re[$]=Re[J]=Re[tt]=Re[nt]=Re[rt]=Re[it]=Re[at]=!1;var Pe={};Pe[B]=Pe[H]=Pe[lt]=Pe[ct]=Pe[z]=Pe[q]=Pe[ht]=Pe[pt]=Pe[dt]=Pe[ft]=Pe[gt]=Pe[$]=Pe[J]=Pe[tt]=Pe[nt]=Pe[rt]=Pe[it]=Pe[ot]=Pe[vt]=Pe[mt]=Pe[yt]=Pe[bt]=!0,Pe[Y]=Pe[X]=Pe[at]=!1;var xe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ae=parseFloat,De=parseInt,Ie="object"==typeof t&&t&&t.Object===Object&&t,Ne="object"==typeof self&&self&&self.Object===Object&&self,ke=Ie||Ne||Function("return this")(),Le=e&&!e.nodeType&&e,Me=Le&&"object"==typeof r&&r&&!r.nodeType&&r,Fe=Me&&Me.exports===Le,je=Fe&&Ie.process,Ge=function(){try{var t=Me&&Me.require&&Me.require("util").types;return t||je&&je.binding&&je.binding("util")}catch(e){}}(),Ve=Ge&&Ge.isArrayBuffer,We=Ge&&Ge.isDate,Be=Ge&&Ge.isMap,He=Ge&&Ge.isRegExp,Ue=Ge&&Ge.isSet,ze=Ge&&Ge.isTypedArray;function qe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ke(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function Ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Qe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function $e(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Je(t,e){return!!(null==t?0:t.length)&&ln(t,e,0)>-1}function Ze(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function tn(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function en(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function nn(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function rn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function on(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var sn=dn("length");function an(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function un(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ln(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):un(t,hn,n)}function cn(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function hn(t){return t!==t}function pn(t,e){var n=null==t?0:t.length;return n?vn(t,e)/n:F}function dn(t){return function(e){return null==e?o:e[t]}}function fn(t){return function(e){return null==t?o:t[e]}}function gn(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function vn(t,e){for(var n,r=-1,i=t.length;++r<i;){var s=e(t[r]);s!==o&&(n=n===o?s:n+s)}return n}function mn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function yn(t){return t?t.slice(0,Ln(t)+1).replace(Lt,""):t}function bn(t){return function(e){return t(e)}}function wn(t,e){return tn(e,(function(e){return t[e]}))}function Cn(t,e){return t.has(e)}function En(t,e){for(var n=-1,r=t.length;++n<r&&ln(e,t[n],0)>-1;);return n}function _n(t,e){for(var n=t.length;n--&&ln(e,t[n],0)>-1;);return n}var On=fn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Tn=fn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sn(t){return"\\"+xe[t]}function Rn(t){return _e.test(t)}function Pn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function xn(t,e){return function(n){return t(e(n))}}function An(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==p||(t[n]=p,o[i++]=n)}return o}function Dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function In(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Nn(t){return Rn(t)?function(t){var e=Ce.lastIndex=0;for(;Ce.test(t);)++e;return e}(t):sn(t)}function kn(t){return Rn(t)?function(t){return t.match(Ce)||[]}(t):function(t){return t.split("")}(t)}function Ln(t){for(var e=t.length;e--&&Mt.test(t.charAt(e)););return e}var Mn=fn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Fn=function t(e){var n=(e=null==e?ke:Fn.defaults(ke.Object(),e,Fn.pick(ke,Te))).Array,r=e.Date,i=e.Error,Mt=e.Function,Zt=e.Math,te=e.Object,ee=e.RegExp,ne=e.String,re=e.TypeError,ie=n.prototype,oe=Mt.prototype,se=te.prototype,ae=e["__core-js_shared__"],ue=oe.toString,le=se.hasOwnProperty,ce=0,he=function(){var t=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=se.toString,de=ue.call(te),fe=ke._,ge=ee("^"+ue.call(le).replace(Nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=Fe?e.Buffer:o,me=e.Symbol,ye=e.Uint8Array,Ce=ve?ve.allocUnsafe:o,_e=xn(te.getPrototypeOf,te),xe=te.create,Ie=se.propertyIsEnumerable,Ne=ie.splice,Le=me?me.isConcatSpreadable:o,Me=me?me.iterator:o,je=me?me.toStringTag:o,Ge=function(){try{var t=Vo(te,"defineProperty");return t({},"",{}),t}catch(e){}}(),sn=e.clearTimeout!==ke.clearTimeout&&e.clearTimeout,fn=r&&r.now!==ke.Date.now&&r.now,jn=e.setTimeout!==ke.setTimeout&&e.setTimeout,Gn=Zt.ceil,Vn=Zt.floor,Wn=te.getOwnPropertySymbols,Bn=ve?ve.isBuffer:o,Hn=e.isFinite,Un=ie.join,zn=xn(te.keys,te),qn=Zt.max,Kn=Zt.min,Yn=r.now,Xn=e.parseInt,Qn=Zt.random,$n=ie.reverse,Jn=Vo(e,"DataView"),Zn=Vo(e,"Map"),tr=Vo(e,"Promise"),er=Vo(e,"Set"),nr=Vo(e,"WeakMap"),rr=Vo(te,"create"),ir=nr&&new nr,or={},sr=ps(Jn),ar=ps(Zn),ur=ps(tr),lr=ps(er),cr=ps(nr),hr=me?me.prototype:o,pr=hr?hr.valueOf:o,dr=hr?hr.toString:o;function fr(t){if(xa(t)&&!ya(t)&&!(t instanceof yr)){if(t instanceof mr)return t;if(le.call(t,"__wrapped__"))return ds(t)}return new mr(t)}var gr=function(){function t(){}return function(e){if(!Pa(e))return{};if(xe)return xe(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function vr(){}function mr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function yr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Cr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Er(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Cr;++e<n;)this.add(t[e])}function _r(t){var e=this.__data__=new wr(t);this.size=e.size}function Or(t,e){var n=ya(t),r=!n&&ma(t),i=!n&&!r&&Ea(t),o=!n&&!r&&!i&&Fa(t),s=n||r||i||o,a=s?mn(t.length,ne):[],u=a.length;for(var l in t)!e&&!le.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ko(l,u))||a.push(l);return a}function Tr(t){var e=t.length;return e?t[Ei(0,e-1)]:o}function Sr(t,e){return ls(ro(t),Lr(e,0,t.length))}function Rr(t){return ls(ro(t))}function Pr(t,e,n){(n===o||fa(t[e],n))&&(n!==o||e in t)||Nr(t,e,n)}function xr(t,e,n){var r=t[e];le.call(t,e)&&fa(r,n)&&(n!==o||e in t)||Nr(t,e,n)}function Ar(t,e){for(var n=t.length;n--;)if(fa(t[n][0],e))return n;return-1}function Dr(t,e,n,r){return Vr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Ir(t,e){return t&&io(e,ou(e),t)}function Nr(t,e,n){"__proto__"==e&&Ge?Ge(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function kr(t,e){for(var r=-1,i=e.length,s=n(i),a=null==t;++r<i;)s[r]=a?o:tu(t,e[r]);return s}function Lr(t,e,n){return t===t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Mr(t,e,n,r,i,s){var a,u=e&d,l=e&f,c=e&g;if(n&&(a=i?n(t,r,i,s):n(t)),a!==o)return a;if(!Pa(t))return t;var h=ya(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&le.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return ro(t,a)}else{var p=Ho(t),v=p==X||p==Q;if(Ea(t))return $i(t,u);if(p==tt||p==B||v&&!i){if(a=l||v?{}:zo(t),!u)return l?function(t,e){return io(t,Bo(t),e)}(t,function(t,e){return t&&io(e,su(e),t)}(a,t)):function(t,e){return io(t,Wo(t),e)}(t,Ir(a,t))}else{if(!Pe[p])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case lt:return Ji(t);case z:case q:return new r(+t);case ct:return function(t,e){var n=e?Ji(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ht:case pt:case dt:case ft:case gt:case vt:case mt:case yt:case bt:return Zi(t,n);case $:return new r;case J:case it:return new r(t);case nt:return function(t){var e=new t.constructor(t.source,Ut.exec(t));return e.lastIndex=t.lastIndex,e}(t);case rt:return new r;case ot:return i=t,pr?te(pr.call(i)):{}}var i}(t,p,u)}}s||(s=new _r);var m=s.get(t);if(m)return m;s.set(t,a),ka(t)?t.forEach((function(r){a.add(Mr(r,e,n,r,t,s))})):Aa(t)&&t.forEach((function(r,i){a.set(i,Mr(r,e,n,i,t,s))}));var y=h?o:(c?l?No:Io:l?su:ou)(t);return Ye(y||t,(function(r,i){y&&(r=t[i=r]),xr(a,i,Mr(r,e,n,i,t,s))})),a}function Fr(t,e,n){var r=n.length;if(null==t)return!r;for(t=te(t);r--;){var i=n[r],s=e[i],a=t[i];if(a===o&&!(i in t)||!s(a))return!1}return!0}function jr(t,e,n){if("function"!=typeof t)throw new re(u);return os((function(){t.apply(o,n)}),e)}function Gr(t,e,n,r){var i=-1,o=Je,a=!0,u=t.length,l=[],c=e.length;if(!u)return l;n&&(e=tn(e,bn(n))),r?(o=Ze,a=!1):e.length>=s&&(o=Cn,a=!1,e=new Er(e));t:for(;++i<u;){var h=t[i],p=null==n?h:n(h);if(h=r||0!==h?h:0,a&&p===p){for(var d=c;d--;)if(e[d]===p)continue t;l.push(h)}else o(e,p,r)||l.push(h)}return l}fr.templateSettings={escape:Rt,evaluate:Pt,interpolate:xt,variable:"",imports:{_:fr}},fr.prototype=vr.prototype,fr.prototype.constructor=fr,mr.prototype=gr(vr.prototype),mr.prototype.constructor=mr,yr.prototype=gr(vr.prototype),yr.prototype.constructor=yr,br.prototype.clear=function(){this.__data__=rr?rr(null):{},this.size=0},br.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},br.prototype.get=function(t){var e=this.__data__;if(rr){var n=e[t];return n===c?o:n}return le.call(e,t)?e[t]:o},br.prototype.has=function(t){var e=this.__data__;return rr?e[t]!==o:le.call(e,t)},br.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rr&&e===o?c:e,this},wr.prototype.clear=function(){this.__data__=[],this.size=0},wr.prototype.delete=function(t){var e=this.__data__,n=Ar(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ne.call(e,n,1),--this.size,!0)},wr.prototype.get=function(t){var e=this.__data__,n=Ar(e,t);return n<0?o:e[n][1]},wr.prototype.has=function(t){return Ar(this.__data__,t)>-1},wr.prototype.set=function(t,e){var n=this.__data__,r=Ar(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Cr.prototype.clear=function(){this.size=0,this.__data__={hash:new br,map:new(Zn||wr),string:new br}},Cr.prototype.delete=function(t){var e=jo(this,t).delete(t);return this.size-=e?1:0,e},Cr.prototype.get=function(t){return jo(this,t).get(t)},Cr.prototype.has=function(t){return jo(this,t).has(t)},Cr.prototype.set=function(t,e){var n=jo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Er.prototype.add=Er.prototype.push=function(t){return this.__data__.set(t,c),this},Er.prototype.has=function(t){return this.__data__.has(t)},_r.prototype.clear=function(){this.__data__=new wr,this.size=0},_r.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},_r.prototype.get=function(t){return this.__data__.get(t)},_r.prototype.has=function(t){return this.__data__.has(t)},_r.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wr){var r=n.__data__;if(!Zn||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Cr(r)}return n.set(t,e),this.size=n.size,this};var Vr=ao(Yr),Wr=ao(Xr,!0);function Br(t,e){var n=!0;return Vr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function Hr(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(null!=a&&(u===o?a===a&&!Ma(a):n(a,u)))var u=a,l=s}return l}function Ur(t,e){var n=[];return Vr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function zr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=qo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?zr(a,e-1,n,r,i):en(i,a):r||(i[i.length]=a)}return i}var qr=uo(),Kr=uo(!0);function Yr(t,e){return t&&qr(t,e,ou)}function Xr(t,e){return t&&Kr(t,e,ou)}function Qr(t,e){return $e(e,(function(e){return Ta(t[e])}))}function $r(t,e){for(var n=0,r=(e=Ki(e,t)).length;null!=t&&n<r;)t=t[hs(e[n++])];return n&&n==r?t:o}function Jr(t,e,n){var r=e(t);return ya(t)?r:en(r,n(t))}function Zr(t){return null==t?t===o?st:Z:je&&je in te(t)?function(t){var e=le.call(t,je),n=t[je];try{t[je]=o;var r=!0}catch(s){}var i=pe.call(t);r&&(e?t[je]=n:delete t[je]);return i}(t):function(t){return pe.call(t)}(t)}function ti(t,e){return t>e}function ei(t,e){return null!=t&&le.call(t,e)}function ni(t,e){return null!=t&&e in te(t)}function ri(t,e,r){for(var i=r?Ze:Je,s=t[0].length,a=t.length,u=a,l=n(a),c=1/0,h=[];u--;){var p=t[u];u&&e&&(p=tn(p,bn(e))),c=Kn(p.length,c),l[u]=!r&&(e||s>=120&&p.length>=120)?new Er(u&&p):o}p=t[0];var d=-1,f=l[0];t:for(;++d<s&&h.length<c;){var g=p[d],v=e?e(g):g;if(g=r||0!==g?g:0,!(f?Cn(f,v):i(h,v,r))){for(u=a;--u;){var m=l[u];if(!(m?Cn(m,v):i(t[u],v,r)))continue t}f&&f.push(v),h.push(g)}}return h}function ii(t,e,n){var r=null==(t=ns(t,e=Ki(e,t)))?t:t[hs(Os(e))];return null==r?o:qe(r,t,n)}function oi(t){return xa(t)&&Zr(t)==B}function si(t,e,n,r,i){return t===e||(null==t||null==e||!xa(t)&&!xa(e)?t!==t&&e!==e:function(t,e,n,r,i,s){var a=ya(t),u=ya(e),l=a?H:Ho(t),c=u?H:Ho(e),h=(l=l==B?tt:l)==tt,p=(c=c==B?tt:c)==tt,d=l==c;if(d&&Ea(t)){if(!Ea(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new _r),a||Fa(t)?Ao(t,e,n,r,i,s):function(t,e,n,r,i,o,s){switch(n){case ct:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lt:return!(t.byteLength!=e.byteLength||!o(new ye(t),new ye(e)));case z:case q:case J:return fa(+t,+e);case Y:return t.name==e.name&&t.message==e.message;case nt:case it:return t==e+"";case $:var a=Pn;case rt:var u=r&v;if(a||(a=Dn),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=m,s.set(t,e);var c=Ao(a(t),a(e),r,i,o,s);return s.delete(t),c;case ot:if(pr)return pr.call(t)==pr.call(e)}return!1}(t,e,l,n,r,i,s);if(!(n&v)){var f=h&&le.call(t,"__wrapped__"),g=p&&le.call(e,"__wrapped__");if(f||g){var y=f?t.value():t,b=g?e.value():e;return s||(s=new _r),i(y,b,n,r,s)}}if(!d)return!1;return s||(s=new _r),function(t,e,n,r,i,s){var a=n&v,u=Io(t),l=u.length,c=Io(e).length;if(l!=c&&!a)return!1;var h=l;for(;h--;){var p=u[h];if(!(a?p in e:le.call(e,p)))return!1}var d=s.get(t),f=s.get(e);if(d&&f)return d==e&&f==t;var g=!0;s.set(t,e),s.set(e,t);var m=a;for(;++h<l;){p=u[h];var y=t[p],b=e[p];if(r)var w=a?r(b,y,p,e,t,s):r(y,b,p,t,e,s);if(!(w===o?y===b||i(y,b,n,r,s):w)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof C&&C instanceof C&&"function"==typeof E&&E instanceof E)&&(g=!1)}return s.delete(t),s.delete(e),g}(t,e,n,r,i,s)}(t,e,n,r,si,i))}function ai(t,e,n,r){var i=n.length,s=i,a=!r;if(null==t)return!s;for(t=te(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var l=(u=n[i])[0],c=t[l],h=u[1];if(a&&u[2]){if(c===o&&!(l in t))return!1}else{var p=new _r;if(r)var d=r(c,h,l,t,e,p);if(!(d===o?si(h,c,v|m,r,p):d))return!1}}return!0}function ui(t){return!(!Pa(t)||(e=t,he&&he in e))&&(Ta(t)?ge:Kt).test(ps(t));var e}function li(t){return"function"==typeof t?t:null==t?Du:"object"==typeof t?ya(t)?gi(t[0],t[1]):fi(t):Vu(t)}function ci(t){if(!Jo(t))return zn(t);var e=[];for(var n in te(t))le.call(t,n)&&"constructor"!=n&&e.push(n);return e}function hi(t){if(!Pa(t))return function(t){var e=[];if(null!=t)for(var n in te(t))e.push(n);return e}(t);var e=Jo(t),n=[];for(var r in t)("constructor"!=r||!e&&le.call(t,r))&&n.push(r);return n}function pi(t,e){return t<e}function di(t,e){var r=-1,i=wa(t)?n(t.length):[];return Vr(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function fi(t){var e=Go(t);return 1==e.length&&e[0][2]?ts(e[0][0],e[0][1]):function(n){return n===t||ai(n,t,e)}}function gi(t,e){return Xo(t)&&Zo(e)?ts(hs(t),e):function(n){var r=tu(n,t);return r===o&&r===e?eu(n,t):si(e,r,v|m)}}function vi(t,e,n,r,i){t!==e&&qr(e,(function(s,a){if(i||(i=new _r),Pa(s))!function(t,e,n,r,i,s,a){var u=rs(t,n),l=rs(e,n),c=a.get(l);if(c)return void Pr(t,n,c);var h=s?s(u,l,n+"",t,e,a):o,p=h===o;if(p){var d=ya(l),f=!d&&Ea(l),g=!d&&!f&&Fa(l);h=l,d||f||g?ya(u)?h=u:Ca(u)?h=ro(u):f?(p=!1,h=$i(l,!0)):g?(p=!1,h=Zi(l,!0)):h=[]:Ia(l)||ma(l)?(h=u,ma(u)?h=za(u):Pa(u)&&!Ta(u)||(h=zo(l))):p=!1}p&&(a.set(l,h),i(h,l,r,s,a),a.delete(l));Pr(t,n,h)}(t,e,a,n,vi,r,i);else{var u=r?r(rs(t,a),s,a+"",t,e,i):o;u===o&&(u=s),Pr(t,a,u)}}),su)}function mi(t,e){var n=t.length;if(n)return Ko(e+=e<0?n:0,n)?t[e]:o}function yi(t,e,n){e=e.length?tn(e,(function(t){return ya(t)?function(e){return $r(e,1===t.length?t[0]:t)}:t})):[Du];var r=-1;return e=tn(e,bn(Fo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(di(t,(function(t,n,i){return{criteria:tn(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;for(;++r<s;){var u=to(i[r],o[r]);if(u){if(r>=a)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function bi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=$r(t,s);n(a,s)&&Ri(o,Ki(s,t),a)}return o}function wi(t,e,n,r){var i=r?cn:ln,o=-1,s=e.length,a=t;for(t===e&&(e=ro(e)),n&&(a=tn(t,bn(n)));++o<s;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==t&&Ne.call(a,u,1),Ne.call(t,u,1);return t}function Ci(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Ko(i)?Ne.call(t,i,1):Gi(t,i)}}return t}function Ei(t,e){return t+Vn(Qn()*(e-t+1))}function _i(t,e){var n="";if(!t||e<1||e>L)return n;do{e%2&&(n+=t),(e=Vn(e/2))&&(t+=t)}while(e);return n}function Oi(t,e){return ss(es(t,e,Du),t+"")}function Ti(t){return Tr(fu(t))}function Si(t,e){var n=fu(t);return ls(n,Lr(e,0,n.length))}function Ri(t,e,n,r){if(!Pa(t))return t;for(var i=-1,s=(e=Ki(e,t)).length,a=s-1,u=t;null!=u&&++i<s;){var l=hs(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=a){var h=u[l];(c=r?r(h,l,u):o)===o&&(c=Pa(h)?h:Ko(e[i+1])?[]:{})}xr(u,l,c),u=u[l]}return t}var Pi=ir?function(t,e){return ir.set(t,e),t}:Du,xi=Ge?function(t,e){return Ge(t,"toString",{configurable:!0,enumerable:!1,value:Pu(e),writable:!0})}:Du;function Ai(t){return ls(fu(t))}function Di(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function Ii(t,e){var n;return Vr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Ni(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=V){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Ma(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ki(t,e,Du,n)}function ki(t,e,n,r){var i=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!==e,u=null===e,l=Ma(e),c=e===o;i<s;){var h=Vn((i+s)/2),p=n(t[h]),d=p!==o,f=null===p,g=p===p,v=Ma(p);if(a)var m=r||g;else m=c?g&&(r||d):u?g&&d&&(r||!f):l?g&&d&&!f&&(r||!v):!f&&!v&&(r?p<=e:p<e);m?i=h+1:s=h}return Kn(s,G)}function Li(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!fa(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Mi(t){return"number"==typeof t?t:Ma(t)?F:+t}function Fi(t){if("string"==typeof t)return t;if(ya(t))return tn(t,Fi)+"";if(Ma(t))return dr?dr.call(t):"";var e=t+"";return"0"==e&&1/t==-k?"-0":e}function ji(t,e,n){var r=-1,i=Je,o=t.length,a=!0,u=[],l=u;if(n)a=!1,i=Ze;else if(o>=s){var c=e?null:Oo(t);if(c)return Dn(c);a=!1,i=Cn,l=new Er}else l=e?[]:u;t:for(;++r<o;){var h=t[r],p=e?e(h):h;if(h=n||0!==h?h:0,a&&p===p){for(var d=l.length;d--;)if(l[d]===p)continue t;e&&l.push(p),u.push(h)}else i(l,p,n)||(l!==u&&l.push(p),u.push(h))}return u}function Gi(t,e){return null==(t=ns(t,e=Ki(e,t)))||delete t[hs(Os(e))]}function Vi(t,e,n,r){return Ri(t,e,n($r(t,e)),r)}function Wi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Di(t,r?0:o,r?o+1:i):Di(t,r?o+1:0,r?i:o)}function Bi(t,e){var n=t;return n instanceof yr&&(n=n.value()),nn(e,(function(t,e){return e.func.apply(e.thisArg,en([t],e.args))}),n)}function Hi(t,e,r){var i=t.length;if(i<2)return i?ji(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=Gr(s[o]||a,t[u],e,r));return ji(zr(s,1),e,r)}function Ui(t,e,n){for(var r=-1,i=t.length,s=e.length,a={};++r<i;){var u=r<s?e[r]:o;n(a,t[r],u)}return a}function zi(t){return Ca(t)?t:[]}function qi(t){return"function"==typeof t?t:Du}function Ki(t,e){return ya(t)?t:Xo(t,e)?[t]:cs(qa(t))}var Yi=Oi;function Xi(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:Di(t,e,n)}var Qi=sn||function(t){return ke.clearTimeout(t)};function $i(t,e){if(e)return t.slice();var n=t.length,r=Ce?Ce(n):new t.constructor(n);return t.copy(r),r}function Ji(t){var e=new t.constructor(t.byteLength);return new ye(e).set(new ye(t)),e}function Zi(t,e){var n=e?Ji(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function to(t,e){if(t!==e){var n=t!==o,r=null===t,i=t===t,s=Ma(t),a=e!==o,u=null===e,l=e===e,c=Ma(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||u&&n&&i||!a&&i||!l)return-1}return 0}function eo(t,e,r,i){for(var o=-1,s=t.length,a=r.length,u=-1,l=e.length,c=qn(s-a,0),h=n(l+c),p=!i;++u<l;)h[u]=e[u];for(;++o<a;)(p||o<s)&&(h[r[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function no(t,e,r,i){for(var o=-1,s=t.length,a=-1,u=r.length,l=-1,c=e.length,h=qn(s-u,0),p=n(h+c),d=!i;++o<h;)p[o]=t[o];for(var f=o;++l<c;)p[f+l]=e[l];for(;++a<u;)(d||o<s)&&(p[f+r[a]]=t[o++]);return p}function ro(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function io(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],l=r?r(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),i?Nr(n,u,l):xr(n,u,l)}return n}function oo(t,e){return function(n,r){var i=ya(n)?Ke:Dr,o=e?e():{};return i(n,t,Fo(r,2),o)}}function so(t){return Oi((function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=t.length>3&&"function"==typeof s?(i--,s):o,a&&Yo(n[0],n[1],a)&&(s=i<3?o:s,i=1),e=te(e);++r<i;){var u=n[r];u&&t(e,u,r,s)}return e}))}function ao(t,e){return function(n,r){if(null==n)return n;if(!wa(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=te(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function uo(t){return function(e,n,r){for(var i=-1,o=te(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function lo(t){return function(e){var n=Rn(e=qa(e))?kn(e):o,r=n?n[0]:e.charAt(0),i=n?Xi(n,1).join(""):e.slice(1);return r[t]()+i}}function co(t){return function(e){return nn(Tu(mu(e).replace(be,"")),t,"")}}function ho(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=gr(t.prototype),r=t.apply(n,e);return Pa(r)?r:n}}function po(t){return function(e,n,r){var i=te(e);if(!wa(e)){var s=Fo(n,3);e=ou(e),n=function(t){return s(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:o}}function fo(t){return Do((function(e){var n=e.length,r=n,i=mr.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new re(u);if(i&&!a&&"wrapper"==Lo(s))var a=new mr([],!0)}for(r=a?r:n;++r<n;){var l=Lo(s=e[r]),c="wrapper"==l?ko(s):o;a=c&&Qo(c[0])&&c[1]==(T|C|_|S)&&!c[4].length&&1==c[9]?a[Lo(c[0])].apply(a,c[3]):1==s.length&&Qo(s)?a[l]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&ya(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function go(t,e,r,i,s,a,u,l,c,h){var p=e&T,d=e&y,f=e&b,g=e&(C|E),v=e&R,m=f?o:ho(t);return function y(){for(var b=arguments.length,w=n(b),C=b;C--;)w[C]=arguments[C];if(g)var E=Mo(y),_=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(w,E);if(i&&(w=eo(w,i,s,g)),a&&(w=no(w,a,u,g)),b-=_,g&&b<h){var O=An(w,E);return Eo(t,e,go,y.placeholder,r,w,O,l,c,h-b)}var T=d?r:this,S=f?T[t]:t;return b=w.length,l?w=function(t,e){var n=t.length,r=Kn(e.length,n),i=ro(t);for(;r--;){var s=e[r];t[r]=Ko(s,n)?i[s]:o}return t}(w,l):v&&b>1&&w.reverse(),p&&c<b&&(w.length=c),this&&this!==ke&&this instanceof y&&(S=m||ho(S)),S.apply(T,w)}}function vo(t,e){return function(n,r){return function(t,e,n,r){return Yr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function mo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Fi(n),r=Fi(r)):(n=Mi(n),r=Mi(r)),i=t(n,r)}return i}}function yo(t){return Do((function(e){return e=tn(e,bn(Fo())),Oi((function(n){var r=this;return t(e,(function(t){return qe(t,r,n)}))}))}))}function bo(t,e){var n=(e=e===o?" ":Fi(e)).length;if(n<2)return n?_i(e,t):e;var r=_i(e,Gn(t/Nn(e)));return Rn(e)?Xi(kn(r),0,t).join(""):r.slice(0,t)}function wo(t){return function(e,r,i){return i&&"number"!=typeof i&&Yo(e,r,i)&&(r=i=o),e=Wa(e),r===o?(r=e,e=0):r=Wa(r),function(t,e,r,i){for(var o=-1,s=qn(Gn((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,i=i===o?e<r?1:-1:Wa(i),t)}}function Co(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ua(e),n=Ua(n)),t(e,n)}}function Eo(t,e,n,r,i,s,a,u,l,c){var h=e&C;e|=h?_:O,(e&=~(h?O:_))&w||(e&=~(y|b));var p=[t,e,i,h?s:o,h?a:o,h?o:s,h?o:a,u,l,c],d=n.apply(o,p);return Qo(t)&&is(d,p),d.placeholder=r,as(d,t,e)}function _o(t){var e=Zt[t];return function(t,n){if(t=Ua(t),(n=null==n?0:Kn(Ba(n),292))&&Hn(t)){var r=(qa(t)+"e").split("e");return+((r=(qa(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Oo=er&&1/Dn(new er([,-0]))[1]==k?function(t){return new er(t)}:Mu;function To(t){return function(e){var n=Ho(e);return n==$?Pn(e):n==rt?In(e):function(t,e){return tn(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function So(t,e,r,i,s,a,l,c){var h=e&b;if(!h&&"function"!=typeof t)throw new re(u);var d=i?i.length:0;if(d||(e&=~(_|O),i=s=o),l=l===o?l:qn(Ba(l),0),c=c===o?c:Ba(c),d-=s?s.length:0,e&O){var f=i,g=s;i=s=o}var v=h?o:ko(t),m=[t,e,r,i,s,f,g,a,l,c];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(y|b|T),s=r==T&&n==C||r==T&&n==S&&t[7].length<=e[8]||r==(T|S)&&e[7].length<=e[8]&&n==C;if(!o&&!s)return t;r&y&&(t[2]=e[2],i|=n&y?0:w);var a=e[3];if(a){var u=t[3];t[3]=u?eo(u,a,e[4]):a,t[4]=u?An(t[3],p):e[4]}(a=e[5])&&(u=t[5],t[5]=u?no(u,a,e[6]):a,t[6]=u?An(t[5],p):e[6]);(a=e[7])&&(t[7]=a);r&T&&(t[8]=null==t[8]?e[8]:Kn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(m,v),t=m[0],e=m[1],r=m[2],i=m[3],s=m[4],!(c=m[9]=m[9]===o?h?0:t.length:qn(m[9]-d,0))&&e&(C|E)&&(e&=~(C|E)),e&&e!=y)R=e==C||e==E?function(t,e,r){var i=ho(t);return function s(){for(var a=arguments.length,u=n(a),l=a,c=Mo(s);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:An(u,c);return(a-=h.length)<r?Eo(t,e,go,s.placeholder,o,u,h,o,o,r-a):qe(this&&this!==ke&&this instanceof s?i:t,this,u)}}(t,e,c):e!=_&&e!=(y|_)||s.length?go.apply(o,m):function(t,e,r,i){var o=e&y,s=ho(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),p=this&&this!==ke&&this instanceof e?s:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++a];return qe(p,o?r:this,h)}}(t,e,r,i);else var R=function(t,e,n){var r=e&y,i=ho(t);return function e(){return(this&&this!==ke&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return as((v?Pi:is)(R,m),t,e)}function Ro(t,e,n,r){return t===o||fa(t,se[n])&&!le.call(r,n)?e:t}function Po(t,e,n,r,i,s){return Pa(t)&&Pa(e)&&(s.set(e,t),vi(t,e,o,Po,s),s.delete(e)),t}function xo(t){return Ia(t)?o:t}function Ao(t,e,n,r,i,s){var a=n&v,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var p=-1,d=!0,f=n&m?new Er:o;for(s.set(t,e),s.set(e,t);++p<u;){var g=t[p],y=e[p];if(r)var b=a?r(y,g,p,e,t,s):r(g,y,p,t,e,s);if(b!==o){if(b)continue;d=!1;break}if(f){if(!on(e,(function(t,e){if(!Cn(f,e)&&(g===t||i(g,t,n,r,s)))return f.push(e)}))){d=!1;break}}else if(g!==y&&!i(g,y,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function Do(t){return ss(es(t,o,bs),t+"")}function Io(t){return Jr(t,ou,Wo)}function No(t){return Jr(t,su,Bo)}var ko=ir?function(t){return ir.get(t)}:Mu;function Lo(t){for(var e=t.name+"",n=or[e],r=le.call(or,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Mo(t){return(le.call(fr,"placeholder")?fr:t).placeholder}function Fo(){var t=fr.iteratee||Iu;return t=t===Iu?li:t,arguments.length?t(arguments[0],arguments[1]):t}function jo(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Go(t){for(var e=ou(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Zo(i)]}return e}function Vo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return ui(n)?n:o}var Wo=Wn?function(t){return null==t?[]:(t=te(t),$e(Wn(t),(function(e){return Ie.call(t,e)})))}:Hu,Bo=Wn?function(t){for(var e=[];t;)en(e,Wo(t)),t=_e(t);return e}:Hu,Ho=Zr;function Uo(t,e,n){for(var r=-1,i=(e=Ki(e,t)).length,o=!1;++r<i;){var s=hs(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ra(i)&&Ko(s,i)&&(ya(t)||ma(t))}function zo(t){return"function"!=typeof t.constructor||Jo(t)?{}:gr(_e(t))}function qo(t){return ya(t)||ma(t)||!!(Le&&t&&t[Le])}function Ko(t,e){var n=typeof t;return!!(e=null==e?L:e)&&("number"==n||"symbol"!=n&&Xt.test(t))&&t>-1&&t%1==0&&t<e}function Yo(t,e,n){if(!Pa(n))return!1;var r=typeof e;return!!("number"==r?wa(n)&&Ko(e,n.length):"string"==r&&e in n)&&fa(n[e],t)}function Xo(t,e){if(ya(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ma(t))||(Dt.test(t)||!At.test(t)||null!=e&&t in te(e))}function Qo(t){var e=Lo(t),n=fr[e];if("function"!=typeof n||!(e in yr.prototype))return!1;if(t===n)return!0;var r=ko(n);return!!r&&t===r[0]}(Jn&&Ho(new Jn(new ArrayBuffer(1)))!=ct||Zn&&Ho(new Zn)!=$||tr&&"[object Promise]"!=Ho(tr.resolve())||er&&Ho(new er)!=rt||nr&&Ho(new nr)!=at)&&(Ho=function(t){var e=Zr(t),n=e==tt?t.constructor:o,r=n?ps(n):"";if(r)switch(r){case sr:return ct;case ar:return $;case ur:return"[object Promise]";case lr:return rt;case cr:return at}return e});var $o=ae?Ta:Uu;function Jo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function Zo(t){return t===t&&!Pa(t)}function ts(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in te(n)))}}function es(t,e,r){return e=qn(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=qn(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),qe(t,this,u)}}function ns(t,e){return e.length<2?t:$r(t,Di(e,0,-1))}function rs(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var is=us(Pi),os=jn||function(t,e){return ke.setTimeout(t,e)},ss=us(xi);function as(t,e,n){var r=e+"";return ss(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ye(W,(function(n){var r="_."+n[0];e&n[1]&&!Je(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(jt);return e?e[1].split(Gt):[]}(r),n)))}function us(t){var e=0,n=0;return function(){var r=Yn(),i=D-(r-n);if(n=r,i>0){if(++e>=A)return arguments[0]}else e=0;return t.apply(o,arguments)}}function ls(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var s=Ei(n,i),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var cs=function(t){var e=ua(t,(function(t){return n.size===h&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(It,(function(t,n,r,i){e.push(r?i.replace(Bt,"$1"):n||t)})),e}));function hs(t){if("string"==typeof t||Ma(t))return t;var e=t+"";return"0"==e&&1/t==-k?"-0":e}function ps(t){if(null!=t){try{return ue.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ds(t){if(t instanceof yr)return t.clone();var e=new mr(t.__wrapped__,t.__chain__);return e.__actions__=ro(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var fs=Oi((function(t,e){return Ca(t)?Gr(t,zr(e,1,Ca,!0)):[]})),gs=Oi((function(t,e){var n=Os(e);return Ca(n)&&(n=o),Ca(t)?Gr(t,zr(e,1,Ca,!0),Fo(n,2)):[]})),vs=Oi((function(t,e){var n=Os(e);return Ca(n)&&(n=o),Ca(t)?Gr(t,zr(e,1,Ca,!0),o,n):[]}));function ms(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ba(n);return i<0&&(i=qn(r+i,0)),un(t,Fo(e,3),i)}function ys(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Ba(n),i=n<0?qn(r+i,0):Kn(i,r-1)),un(t,Fo(e,3),i,!0)}function bs(t){return(null==t?0:t.length)?zr(t,1):[]}function ws(t){return t&&t.length?t[0]:o}var Cs=Oi((function(t){var e=tn(t,zi);return e.length&&e[0]===t[0]?ri(e):[]})),Es=Oi((function(t){var e=Os(t),n=tn(t,zi);return e===Os(n)?e=o:n.pop(),n.length&&n[0]===t[0]?ri(n,Fo(e,2)):[]})),_s=Oi((function(t){var e=Os(t),n=tn(t,zi);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?ri(n,o,e):[]}));function Os(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Ts=Oi(Ss);function Ss(t,e){return t&&t.length&&e&&e.length?wi(t,e):t}var Rs=Do((function(t,e){var n=null==t?0:t.length,r=kr(t,e);return Ci(t,tn(e,(function(t){return Ko(t,n)?+t:t})).sort(to)),r}));function Ps(t){return null==t?t:$n.call(t)}var xs=Oi((function(t){return ji(zr(t,1,Ca,!0))})),As=Oi((function(t){var e=Os(t);return Ca(e)&&(e=o),ji(zr(t,1,Ca,!0),Fo(e,2))})),Ds=Oi((function(t){var e=Os(t);return e="function"==typeof e?e:o,ji(zr(t,1,Ca,!0),o,e)}));function Is(t){if(!t||!t.length)return[];var e=0;return t=$e(t,(function(t){if(Ca(t))return e=qn(t.length,e),!0})),mn(e,(function(e){return tn(t,dn(e))}))}function Ns(t,e){if(!t||!t.length)return[];var n=Is(t);return null==e?n:tn(n,(function(t){return qe(e,o,t)}))}var ks=Oi((function(t,e){return Ca(t)?Gr(t,e):[]})),Ls=Oi((function(t){return Hi($e(t,Ca))})),Ms=Oi((function(t){var e=Os(t);return Ca(e)&&(e=o),Hi($e(t,Ca),Fo(e,2))})),Fs=Oi((function(t){var e=Os(t);return e="function"==typeof e?e:o,Hi($e(t,Ca),o,e)})),js=Oi(Is);var Gs=Oi((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,Ns(t,n)}));function Vs(t){var e=fr(t);return e.__chain__=!0,e}function Ws(t,e){return e(t)}var Bs=Do((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return kr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof yr&&Ko(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Ws,args:[i],thisArg:o}),new mr(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));var Hs=oo((function(t,e,n){le.call(t,n)?++t[n]:Nr(t,n,1)}));var Us=po(ms),zs=po(ys);function qs(t,e){return(ya(t)?Ye:Vr)(t,Fo(e,3))}function Ks(t,e){return(ya(t)?Xe:Wr)(t,Fo(e,3))}var Ys=oo((function(t,e,n){le.call(t,n)?t[n].push(e):Nr(t,n,[e])}));var Xs=Oi((function(t,e,r){var i=-1,o="function"==typeof e,s=wa(t)?n(t.length):[];return Vr(t,(function(t){s[++i]=o?qe(e,t,r):ii(t,e,r)})),s})),Qs=oo((function(t,e,n){Nr(t,n,e)}));function $s(t,e){return(ya(t)?tn:di)(t,Fo(e,3))}var Js=oo((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Zs=Oi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Yo(t,e[0],e[1])?e=[]:n>2&&Yo(e[0],e[1],e[2])&&(e=[e[0]]),yi(t,zr(e,1),[])})),ta=fn||function(){return ke.Date.now()};function ea(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,So(t,T,o,o,o,o,e)}function na(t,e){var n;if("function"!=typeof e)throw new re(u);return t=Ba(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var ra=Oi((function(t,e,n){var r=y;if(n.length){var i=An(n,Mo(ra));r|=_}return So(t,r,e,n,i)})),ia=Oi((function(t,e,n){var r=y|b;if(n.length){var i=An(n,Mo(ia));r|=_}return So(e,r,t,n,i)}));function oa(t,e,n){var r,i,s,a,l,c,h=0,p=!1,d=!1,f=!0;if("function"!=typeof t)throw new re(u);function g(e){var n=r,s=i;return r=i=o,h=e,a=t.apply(s,n)}function v(t){var n=t-c;return c===o||n>=e||n<0||d&&t-h>=s}function m(){var t=ta();if(v(t))return y(t);l=os(m,function(t){var n=e-(t-c);return d?Kn(n,s-(t-h)):n}(t))}function y(t){return l=o,f&&r?g(t):(r=i=o,a)}function b(){var t=ta(),n=v(t);if(r=arguments,i=this,c=t,n){if(l===o)return function(t){return h=t,l=os(m,e),p?g(t):a}(c);if(d)return Qi(l),l=os(m,e),g(c)}return l===o&&(l=os(m,e)),a}return e=Ua(e)||0,Pa(n)&&(p=!!n.leading,s=(d="maxWait"in n)?qn(Ua(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),b.cancel=function(){l!==o&&Qi(l),h=0,r=c=i=l=o},b.flush=function(){return l===o?a:y(ta())},b}var sa=Oi((function(t,e){return jr(t,1,e)})),aa=Oi((function(t,e,n){return jr(t,Ua(e)||0,n)}));function ua(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(u);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(ua.Cache||Cr),n}function la(t){if("function"!=typeof t)throw new re(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ua.Cache=Cr;var ca=Yi((function(t,e){var n=(e=1==e.length&&ya(e[0])?tn(e[0],bn(Fo())):tn(zr(e,1),bn(Fo()))).length;return Oi((function(r){for(var i=-1,o=Kn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return qe(t,this,r)}))})),ha=Oi((function(t,e){var n=An(e,Mo(ha));return So(t,_,o,e,n)})),pa=Oi((function(t,e){var n=An(e,Mo(pa));return So(t,O,o,e,n)})),da=Do((function(t,e){return So(t,S,o,o,o,e)}));function fa(t,e){return t===e||t!==t&&e!==e}var ga=Co(ti),va=Co((function(t,e){return t>=e})),ma=oi(function(){return arguments}())?oi:function(t){return xa(t)&&le.call(t,"callee")&&!Ie.call(t,"callee")},ya=n.isArray,ba=Ve?bn(Ve):function(t){return xa(t)&&Zr(t)==lt};function wa(t){return null!=t&&Ra(t.length)&&!Ta(t)}function Ca(t){return xa(t)&&wa(t)}var Ea=Bn||Uu,_a=We?bn(We):function(t){return xa(t)&&Zr(t)==q};function Oa(t){if(!xa(t))return!1;var e=Zr(t);return e==Y||e==K||"string"==typeof t.message&&"string"==typeof t.name&&!Ia(t)}function Ta(t){if(!Pa(t))return!1;var e=Zr(t);return e==X||e==Q||e==U||e==et}function Sa(t){return"number"==typeof t&&t==Ba(t)}function Ra(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=L}function Pa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function xa(t){return null!=t&&"object"==typeof t}var Aa=Be?bn(Be):function(t){return xa(t)&&Ho(t)==$};function Da(t){return"number"==typeof t||xa(t)&&Zr(t)==J}function Ia(t){if(!xa(t)||Zr(t)!=tt)return!1;var e=_e(t);if(null===e)return!0;var n=le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ue.call(n)==de}var Na=He?bn(He):function(t){return xa(t)&&Zr(t)==nt};var ka=Ue?bn(Ue):function(t){return xa(t)&&Ho(t)==rt};function La(t){return"string"==typeof t||!ya(t)&&xa(t)&&Zr(t)==it}function Ma(t){return"symbol"==typeof t||xa(t)&&Zr(t)==ot}var Fa=ze?bn(ze):function(t){return xa(t)&&Ra(t.length)&&!!Re[Zr(t)]};var ja=Co(pi),Ga=Co((function(t,e){return t<=e}));function Va(t){if(!t)return[];if(wa(t))return La(t)?kn(t):ro(t);if(Me&&t[Me])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Me]());var e=Ho(t);return(e==$?Pn:e==rt?Dn:fu)(t)}function Wa(t){return t?(t=Ua(t))===k||t===-k?(t<0?-1:1)*M:t===t?t:0:0===t?t:0}function Ba(t){var e=Wa(t),n=e%1;return e===e?n?e-n:e:0}function Ha(t){return t?Lr(Ba(t),0,j):0}function Ua(t){if("number"==typeof t)return t;if(Ma(t))return F;if(Pa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Pa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=yn(t);var n=qt.test(t);return n||Yt.test(t)?De(t.slice(2),n?2:8):zt.test(t)?F:+t}function za(t){return io(t,su(t))}function qa(t){return null==t?"":Fi(t)}var Ka=so((function(t,e){if(Jo(e)||wa(e))io(e,ou(e),t);else for(var n in e)le.call(e,n)&&xr(t,n,e[n])})),Ya=so((function(t,e){io(e,su(e),t)})),Xa=so((function(t,e,n,r){io(e,su(e),t,r)})),Qa=so((function(t,e,n,r){io(e,ou(e),t,r)})),$a=Do(kr);var Ja=Oi((function(t,e){t=te(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&Yo(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],a=su(s),u=-1,l=a.length;++u<l;){var c=a[u],h=t[c];(h===o||fa(h,se[c])&&!le.call(t,c))&&(t[c]=s[c])}return t})),Za=Oi((function(t){return t.push(o,Po),qe(uu,o,t)}));function tu(t,e,n){var r=null==t?o:$r(t,e);return r===o?n:r}function eu(t,e){return null!=t&&Uo(t,e,ni)}var nu=vo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=n}),Pu(Du)),ru=vo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),le.call(t,e)?t[e].push(n):t[e]=[n]}),Fo),iu=Oi(ii);function ou(t){return wa(t)?Or(t):ci(t)}function su(t){return wa(t)?Or(t,!0):hi(t)}var au=so((function(t,e,n){vi(t,e,n)})),uu=so((function(t,e,n,r){vi(t,e,n,r)})),lu=Do((function(t,e){var n={};if(null==t)return n;var r=!1;e=tn(e,(function(e){return e=Ki(e,t),r||(r=e.length>1),e})),io(t,No(t),n),r&&(n=Mr(n,d|f|g,xo));for(var i=e.length;i--;)Gi(n,e[i]);return n}));var cu=Do((function(t,e){return null==t?{}:function(t,e){return bi(t,e,(function(e,n){return eu(t,n)}))}(t,e)}));function hu(t,e){if(null==t)return{};var n=tn(No(t),(function(t){return[t]}));return e=Fo(e),bi(t,n,(function(t,n){return e(t,n[0])}))}var pu=To(ou),du=To(su);function fu(t){return null==t?[]:wn(t,ou(t))}var gu=co((function(t,e,n){return e=e.toLowerCase(),t+(n?vu(e):e)}));function vu(t){return Ou(qa(t).toLowerCase())}function mu(t){return(t=qa(t))&&t.replace(Qt,On).replace(we,"")}var yu=co((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),bu=co((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),wu=lo("toLowerCase");var Cu=co((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Eu=co((function(t,e,n){return t+(n?" ":"")+Ou(e)}));var _u=co((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ou=lo("toUpperCase");function Tu(t,e,n){return t=qa(t),(e=n?o:e)===o?function(t){return Oe.test(t)}(t)?function(t){return t.match(Ee)||[]}(t):function(t){return t.match(Vt)||[]}(t):t.match(e)||[]}var Su=Oi((function(t,e){try{return qe(t,o,e)}catch(n){return Oa(n)?n:new i(n)}})),Ru=Do((function(t,e){return Ye(e,(function(e){e=hs(e),Nr(t,e,ra(t[e],t))})),t}));function Pu(t){return function(){return t}}var xu=fo(),Au=fo(!0);function Du(t){return t}function Iu(t){return li("function"==typeof t?t:Mr(t,d))}var Nu=Oi((function(t,e){return function(n){return ii(n,t,e)}})),ku=Oi((function(t,e){return function(n){return ii(t,n,e)}}));function Lu(t,e,n){var r=ou(e),i=Qr(e,r);null!=n||Pa(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Qr(e,ou(e)));var o=!(Pa(n)&&"chain"in n)||!!n.chain,s=Ta(t);return Ye(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=ro(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,en([this.value()],arguments))})})),t}function Mu(){}var Fu=yo(tn),ju=yo(Qe),Gu=yo(on);function Vu(t){return Xo(t)?dn(hs(t)):function(t){return function(e){return $r(e,t)}}(t)}var Wu=wo(),Bu=wo(!0);function Hu(){return[]}function Uu(){return!1}var zu=mo((function(t,e){return t+e}),0),qu=_o("ceil"),Ku=mo((function(t,e){return t/e}),1),Yu=_o("floor");var Xu=mo((function(t,e){return t*e}),1),Qu=_o("round"),$u=mo((function(t,e){return t-e}),0);return fr.after=function(t,e){if("function"!=typeof e)throw new re(u);return t=Ba(t),function(){if(--t<1)return e.apply(this,arguments)}},fr.ary=ea,fr.assign=Ka,fr.assignIn=Ya,fr.assignInWith=Xa,fr.assignWith=Qa,fr.at=$a,fr.before=na,fr.bind=ra,fr.bindAll=Ru,fr.bindKey=ia,fr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ya(t)?t:[t]},fr.chain=Vs,fr.chunk=function(t,e,r){e=(r?Yo(t,e,r):e===o)?1:qn(Ba(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,a=0,u=n(Gn(i/e));s<i;)u[a++]=Di(t,s,s+=e);return u},fr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},fr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return en(ya(r)?ro(r):[r],zr(e,1))},fr.cond=function(t){var e=null==t?0:t.length,n=Fo();return t=e?tn(t,(function(t){if("function"!=typeof t[1])throw new re(u);return[n(t[0]),t[1]]})):[],Oi((function(n){for(var r=-1;++r<e;){var i=t[r];if(qe(i[0],this,n))return qe(i[1],this,n)}}))},fr.conforms=function(t){return function(t){var e=ou(t);return function(n){return Fr(n,t,e)}}(Mr(t,d))},fr.constant=Pu,fr.countBy=Hs,fr.create=function(t,e){var n=gr(t);return null==e?n:Ir(n,e)},fr.curry=function t(e,n,r){var i=So(e,C,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},fr.curryRight=function t(e,n,r){var i=So(e,E,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},fr.debounce=oa,fr.defaults=Ja,fr.defaultsDeep=Za,fr.defer=sa,fr.delay=aa,fr.difference=fs,fr.differenceBy=gs,fr.differenceWith=vs,fr.drop=function(t,e,n){var r=null==t?0:t.length;return r?Di(t,(e=n||e===o?1:Ba(e))<0?0:e,r):[]},fr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Di(t,0,(e=r-(e=n||e===o?1:Ba(e)))<0?0:e):[]},fr.dropRightWhile=function(t,e){return t&&t.length?Wi(t,Fo(e,3),!0,!0):[]},fr.dropWhile=function(t,e){return t&&t.length?Wi(t,Fo(e,3),!0):[]},fr.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Yo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=Ba(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Ba(r))<0&&(r+=i),r=n>r?0:Ha(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},fr.filter=function(t,e){return(ya(t)?$e:Ur)(t,Fo(e,3))},fr.flatMap=function(t,e){return zr($s(t,e),1)},fr.flatMapDeep=function(t,e){return zr($s(t,e),k)},fr.flatMapDepth=function(t,e,n){return n=n===o?1:Ba(n),zr($s(t,e),n)},fr.flatten=bs,fr.flattenDeep=function(t){return(null==t?0:t.length)?zr(t,k):[]},fr.flattenDepth=function(t,e){return(null==t?0:t.length)?zr(t,e=e===o?1:Ba(e)):[]},fr.flip=function(t){return So(t,R)},fr.flow=xu,fr.flowRight=Au,fr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},fr.functions=function(t){return null==t?[]:Qr(t,ou(t))},fr.functionsIn=function(t){return null==t?[]:Qr(t,su(t))},fr.groupBy=Ys,fr.initial=function(t){return(null==t?0:t.length)?Di(t,0,-1):[]},fr.intersection=Cs,fr.intersectionBy=Es,fr.intersectionWith=_s,fr.invert=nu,fr.invertBy=ru,fr.invokeMap=Xs,fr.iteratee=Iu,fr.keyBy=Qs,fr.keys=ou,fr.keysIn=su,fr.map=$s,fr.mapKeys=function(t,e){var n={};return e=Fo(e,3),Yr(t,(function(t,r,i){Nr(n,e(t,r,i),t)})),n},fr.mapValues=function(t,e){var n={};return e=Fo(e,3),Yr(t,(function(t,r,i){Nr(n,r,e(t,r,i))})),n},fr.matches=function(t){return fi(Mr(t,d))},fr.matchesProperty=function(t,e){return gi(t,Mr(e,d))},fr.memoize=ua,fr.merge=au,fr.mergeWith=uu,fr.method=Nu,fr.methodOf=ku,fr.mixin=Lu,fr.negate=la,fr.nthArg=function(t){return t=Ba(t),Oi((function(e){return mi(e,t)}))},fr.omit=lu,fr.omitBy=function(t,e){return hu(t,la(Fo(e)))},fr.once=function(t){return na(2,t)},fr.orderBy=function(t,e,n,r){return null==t?[]:(ya(e)||(e=null==e?[]:[e]),ya(n=r?o:n)||(n=null==n?[]:[n]),yi(t,e,n))},fr.over=Fu,fr.overArgs=ca,fr.overEvery=ju,fr.overSome=Gu,fr.partial=ha,fr.partialRight=pa,fr.partition=Js,fr.pick=cu,fr.pickBy=hu,fr.property=Vu,fr.propertyOf=function(t){return function(e){return null==t?o:$r(t,e)}},fr.pull=Ts,fr.pullAll=Ss,fr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?wi(t,e,Fo(n,2)):t},fr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?wi(t,e,o,n):t},fr.pullAt=Rs,fr.range=Wu,fr.rangeRight=Bu,fr.rearg=da,fr.reject=function(t,e){return(ya(t)?$e:Ur)(t,la(Fo(e,3)))},fr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Fo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Ci(t,i),n},fr.rest=function(t,e){if("function"!=typeof t)throw new re(u);return Oi(t,e=e===o?e:Ba(e))},fr.reverse=Ps,fr.sampleSize=function(t,e,n){return e=(n?Yo(t,e,n):e===o)?1:Ba(e),(ya(t)?Sr:Si)(t,e)},fr.set=function(t,e,n){return null==t?t:Ri(t,e,n)},fr.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Ri(t,e,n,r)},fr.shuffle=function(t){return(ya(t)?Rr:Ai)(t)},fr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Yo(t,e,n)?(e=0,n=r):(e=null==e?0:Ba(e),n=n===o?r:Ba(n)),Di(t,e,n)):[]},fr.sortBy=Zs,fr.sortedUniq=function(t){return t&&t.length?Li(t):[]},fr.sortedUniqBy=function(t,e){return t&&t.length?Li(t,Fo(e,2)):[]},fr.split=function(t,e,n){return n&&"number"!=typeof n&&Yo(t,e,n)&&(e=n=o),(n=n===o?j:n>>>0)?(t=qa(t))&&("string"==typeof e||null!=e&&!Na(e))&&!(e=Fi(e))&&Rn(t)?Xi(kn(t),0,n):t.split(e,n):[]},fr.spread=function(t,e){if("function"!=typeof t)throw new re(u);return e=null==e?0:qn(Ba(e),0),Oi((function(n){var r=n[e],i=Xi(n,0,e);return r&&en(i,r),qe(t,this,i)}))},fr.tail=function(t){var e=null==t?0:t.length;return e?Di(t,1,e):[]},fr.take=function(t,e,n){return t&&t.length?Di(t,0,(e=n||e===o?1:Ba(e))<0?0:e):[]},fr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Di(t,(e=r-(e=n||e===o?1:Ba(e)))<0?0:e,r):[]},fr.takeRightWhile=function(t,e){return t&&t.length?Wi(t,Fo(e,3),!1,!0):[]},fr.takeWhile=function(t,e){return t&&t.length?Wi(t,Fo(e,3)):[]},fr.tap=function(t,e){return e(t),t},fr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new re(u);return Pa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),oa(t,e,{leading:r,maxWait:e,trailing:i})},fr.thru=Ws,fr.toArray=Va,fr.toPairs=pu,fr.toPairsIn=du,fr.toPath=function(t){return ya(t)?tn(t,hs):Ma(t)?[t]:ro(cs(qa(t)))},fr.toPlainObject=za,fr.transform=function(t,e,n){var r=ya(t),i=r||Ea(t)||Fa(t);if(e=Fo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Pa(t)&&Ta(o)?gr(_e(t)):{}}return(i?Ye:Yr)(t,(function(t,r,i){return e(n,t,r,i)})),n},fr.unary=function(t){return ea(t,1)},fr.union=xs,fr.unionBy=As,fr.unionWith=Ds,fr.uniq=function(t){return t&&t.length?ji(t):[]},fr.uniqBy=function(t,e){return t&&t.length?ji(t,Fo(e,2)):[]},fr.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?ji(t,o,e):[]},fr.unset=function(t,e){return null==t||Gi(t,e)},fr.unzip=Is,fr.unzipWith=Ns,fr.update=function(t,e,n){return null==t?t:Vi(t,e,qi(n))},fr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Vi(t,e,qi(n),r)},fr.values=fu,fr.valuesIn=function(t){return null==t?[]:wn(t,su(t))},fr.without=ks,fr.words=Tu,fr.wrap=function(t,e){return ha(qi(e),t)},fr.xor=Ls,fr.xorBy=Ms,fr.xorWith=Fs,fr.zip=js,fr.zipObject=function(t,e){return Ui(t||[],e||[],xr)},fr.zipObjectDeep=function(t,e){return Ui(t||[],e||[],Ri)},fr.zipWith=Gs,fr.entries=pu,fr.entriesIn=du,fr.extend=Ya,fr.extendWith=Xa,Lu(fr,fr),fr.add=zu,fr.attempt=Su,fr.camelCase=gu,fr.capitalize=vu,fr.ceil=qu,fr.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Ua(n))===n?n:0),e!==o&&(e=(e=Ua(e))===e?e:0),Lr(Ua(t),e,n)},fr.clone=function(t){return Mr(t,g)},fr.cloneDeep=function(t){return Mr(t,d|g)},fr.cloneDeepWith=function(t,e){return Mr(t,d|g,e="function"==typeof e?e:o)},fr.cloneWith=function(t,e){return Mr(t,g,e="function"==typeof e?e:o)},fr.conformsTo=function(t,e){return null==e||Fr(t,e,ou(e))},fr.deburr=mu,fr.defaultTo=function(t,e){return null==t||t!==t?e:t},fr.divide=Ku,fr.endsWith=function(t,e,n){t=qa(t),e=Fi(e);var r=t.length,i=n=n===o?r:Lr(Ba(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},fr.eq=fa,fr.escape=function(t){return(t=qa(t))&&St.test(t)?t.replace(Ot,Tn):t},fr.escapeRegExp=function(t){return(t=qa(t))&&kt.test(t)?t.replace(Nt,"\\$&"):t},fr.every=function(t,e,n){var r=ya(t)?Qe:Br;return n&&Yo(t,e,n)&&(e=o),r(t,Fo(e,3))},fr.find=Us,fr.findIndex=ms,fr.findKey=function(t,e){return an(t,Fo(e,3),Yr)},fr.findLast=zs,fr.findLastIndex=ys,fr.findLastKey=function(t,e){return an(t,Fo(e,3),Xr)},fr.floor=Yu,fr.forEach=qs,fr.forEachRight=Ks,fr.forIn=function(t,e){return null==t?t:qr(t,Fo(e,3),su)},fr.forInRight=function(t,e){return null==t?t:Kr(t,Fo(e,3),su)},fr.forOwn=function(t,e){return t&&Yr(t,Fo(e,3))},fr.forOwnRight=function(t,e){return t&&Xr(t,Fo(e,3))},fr.get=tu,fr.gt=ga,fr.gte=va,fr.has=function(t,e){return null!=t&&Uo(t,e,ei)},fr.hasIn=eu,fr.head=ws,fr.identity=Du,fr.includes=function(t,e,n,r){t=wa(t)?t:fu(t),n=n&&!r?Ba(n):0;var i=t.length;return n<0&&(n=qn(i+n,0)),La(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ln(t,e,n)>-1},fr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ba(n);return i<0&&(i=qn(r+i,0)),ln(t,e,i)},fr.inRange=function(t,e,n){return e=Wa(e),n===o?(n=e,e=0):n=Wa(n),function(t,e,n){return t>=Kn(e,n)&&t<qn(e,n)}(t=Ua(t),e,n)},fr.invoke=iu,fr.isArguments=ma,fr.isArray=ya,fr.isArrayBuffer=ba,fr.isArrayLike=wa,fr.isArrayLikeObject=Ca,fr.isBoolean=function(t){return!0===t||!1===t||xa(t)&&Zr(t)==z},fr.isBuffer=Ea,fr.isDate=_a,fr.isElement=function(t){return xa(t)&&1===t.nodeType&&!Ia(t)},fr.isEmpty=function(t){if(null==t)return!0;if(wa(t)&&(ya(t)||"string"==typeof t||"function"==typeof t.splice||Ea(t)||Fa(t)||ma(t)))return!t.length;var e=Ho(t);if(e==$||e==rt)return!t.size;if(Jo(t))return!ci(t).length;for(var n in t)if(le.call(t,n))return!1;return!0},fr.isEqual=function(t,e){return si(t,e)},fr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?si(t,e,o,n):!!r},fr.isError=Oa,fr.isFinite=function(t){return"number"==typeof t&&Hn(t)},fr.isFunction=Ta,fr.isInteger=Sa,fr.isLength=Ra,fr.isMap=Aa,fr.isMatch=function(t,e){return t===e||ai(t,e,Go(e))},fr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,ai(t,e,Go(e),n)},fr.isNaN=function(t){return Da(t)&&t!=+t},fr.isNative=function(t){if($o(t))throw new i(a);return ui(t)},fr.isNil=function(t){return null==t},fr.isNull=function(t){return null===t},fr.isNumber=Da,fr.isObject=Pa,fr.isObjectLike=xa,fr.isPlainObject=Ia,fr.isRegExp=Na,fr.isSafeInteger=function(t){return Sa(t)&&t>=-L&&t<=L},fr.isSet=ka,fr.isString=La,fr.isSymbol=Ma,fr.isTypedArray=Fa,fr.isUndefined=function(t){return t===o},fr.isWeakMap=function(t){return xa(t)&&Ho(t)==at},fr.isWeakSet=function(t){return xa(t)&&Zr(t)==ut},fr.join=function(t,e){return null==t?"":Un.call(t,e)},fr.kebabCase=yu,fr.last=Os,fr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Ba(n))<0?qn(r+i,0):Kn(i,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):un(t,hn,i,!0)},fr.lowerCase=bu,fr.lowerFirst=wu,fr.lt=ja,fr.lte=Ga,fr.max=function(t){return t&&t.length?Hr(t,Du,ti):o},fr.maxBy=function(t,e){return t&&t.length?Hr(t,Fo(e,2),ti):o},fr.mean=function(t){return pn(t,Du)},fr.meanBy=function(t,e){return pn(t,Fo(e,2))},fr.min=function(t){return t&&t.length?Hr(t,Du,pi):o},fr.minBy=function(t,e){return t&&t.length?Hr(t,Fo(e,2),pi):o},fr.stubArray=Hu,fr.stubFalse=Uu,fr.stubObject=function(){return{}},fr.stubString=function(){return""},fr.stubTrue=function(){return!0},fr.multiply=Xu,fr.nth=function(t,e){return t&&t.length?mi(t,Ba(e)):o},fr.noConflict=function(){return ke._===this&&(ke._=fe),this},fr.noop=Mu,fr.now=ta,fr.pad=function(t,e,n){t=qa(t);var r=(e=Ba(e))?Nn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return bo(Vn(i),n)+t+bo(Gn(i),n)},fr.padEnd=function(t,e,n){t=qa(t);var r=(e=Ba(e))?Nn(t):0;return e&&r<e?t+bo(e-r,n):t},fr.padStart=function(t,e,n){t=qa(t);var r=(e=Ba(e))?Nn(t):0;return e&&r<e?bo(e-r,n)+t:t},fr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Xn(qa(t).replace(Lt,""),e||0)},fr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Yo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Wa(t),e===o?(e=t,t=0):e=Wa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Qn();return Kn(t+i*(e-t+Ae("1e-"+((i+"").length-1))),e)}return Ei(t,e)},fr.reduce=function(t,e,n){var r=ya(t)?nn:gn,i=arguments.length<3;return r(t,Fo(e,4),n,i,Vr)},fr.reduceRight=function(t,e,n){var r=ya(t)?rn:gn,i=arguments.length<3;return r(t,Fo(e,4),n,i,Wr)},fr.repeat=function(t,e,n){return e=(n?Yo(t,e,n):e===o)?1:Ba(e),_i(qa(t),e)},fr.replace=function(){var t=arguments,e=qa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},fr.result=function(t,e,n){var r=-1,i=(e=Ki(e,t)).length;for(i||(i=1,t=o);++r<i;){var s=null==t?o:t[hs(e[r])];s===o&&(r=i,s=n),t=Ta(s)?s.call(t):s}return t},fr.round=Qu,fr.runInContext=t,fr.sample=function(t){return(ya(t)?Tr:Ti)(t)},fr.size=function(t){if(null==t)return 0;if(wa(t))return La(t)?Nn(t):t.length;var e=Ho(t);return e==$||e==rt?t.size:ci(t).length},fr.snakeCase=Cu,fr.some=function(t,e,n){var r=ya(t)?on:Ii;return n&&Yo(t,e,n)&&(e=o),r(t,Fo(e,3))},fr.sortedIndex=function(t,e){return Ni(t,e)},fr.sortedIndexBy=function(t,e,n){return ki(t,e,Fo(n,2))},fr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ni(t,e);if(r<n&&fa(t[r],e))return r}return-1},fr.sortedLastIndex=function(t,e){return Ni(t,e,!0)},fr.sortedLastIndexBy=function(t,e,n){return ki(t,e,Fo(n,2),!0)},fr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Ni(t,e,!0)-1;if(fa(t[n],e))return n}return-1},fr.startCase=Eu,fr.startsWith=function(t,e,n){return t=qa(t),n=null==n?0:Lr(Ba(n),0,t.length),e=Fi(e),t.slice(n,n+e.length)==e},fr.subtract=$u,fr.sum=function(t){return t&&t.length?vn(t,Du):0},fr.sumBy=function(t,e){return t&&t.length?vn(t,Fo(e,2)):0},fr.template=function(t,e,n){var r=fr.templateSettings;n&&Yo(t,e,n)&&(e=o),t=qa(t),e=Xa({},e,r,Ro);var s,a,u=Xa({},e.imports,r.imports,Ro),c=ou(u),h=wn(u,c),p=0,d=e.interpolate||$t,f="__p += '",g=ee((e.escape||$t).source+"|"+d.source+"|"+(d===xt?Ht:$t).source+"|"+(e.evaluate||$t).source+"|$","g"),v="//# sourceURL="+(le.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Se+"]")+"\n";t.replace(g,(function(e,n,r,i,o,u){return r||(r=i),f+=t.slice(p,u).replace(Jt,Sn),n&&(s=!0,f+="' +\n__e("+n+") +\n'"),o&&(a=!0,f+="';\n"+o+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),p=u+e.length,e})),f+="';\n";var m=le.call(e,"variable")&&e.variable;if(m){if(Wt.test(m))throw new i(l)}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(wt,""):f).replace(Ct,"$1").replace(Et,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=Su((function(){return Mt(c,v+"return "+f).apply(o,h)}));if(y.source=f,Oa(y))throw y;return y},fr.times=function(t,e){if((t=Ba(t))<1||t>L)return[];var n=j,r=Kn(t,j);e=Fo(e),t-=j;for(var i=mn(r,e);++n<t;)e(n);return i},fr.toFinite=Wa,fr.toInteger=Ba,fr.toLength=Ha,fr.toLower=function(t){return qa(t).toLowerCase()},fr.toNumber=Ua,fr.toSafeInteger=function(t){return t?Lr(Ba(t),-L,L):0===t?t:0},fr.toString=qa,fr.toUpper=function(t){return qa(t).toUpperCase()},fr.trim=function(t,e,n){if((t=qa(t))&&(n||e===o))return yn(t);if(!t||!(e=Fi(e)))return t;var r=kn(t),i=kn(e);return Xi(r,En(r,i),_n(r,i)+1).join("")},fr.trimEnd=function(t,e,n){if((t=qa(t))&&(n||e===o))return t.slice(0,Ln(t)+1);if(!t||!(e=Fi(e)))return t;var r=kn(t);return Xi(r,0,_n(r,kn(e))+1).join("")},fr.trimStart=function(t,e,n){if((t=qa(t))&&(n||e===o))return t.replace(Lt,"");if(!t||!(e=Fi(e)))return t;var r=kn(t);return Xi(r,En(r,kn(e))).join("")},fr.truncate=function(t,e){var n=P,r=x;if(Pa(e)){var i="separator"in e?e.separator:i;n="length"in e?Ba(e.length):n,r="omission"in e?Fi(e.omission):r}var s=(t=qa(t)).length;if(Rn(t)){var a=kn(t);s=a.length}if(n>=s)return t;var u=n-Nn(r);if(u<1)return r;var l=a?Xi(a,0,u).join(""):t.slice(0,u);if(i===o)return l+r;if(a&&(u+=l.length-u),Na(i)){if(t.slice(u).search(i)){var c,h=l;for(i.global||(i=ee(i.source,qa(Ut.exec(i))+"g")),i.lastIndex=0;c=i.exec(h);)var p=c.index;l=l.slice(0,p===o?u:p)}}else if(t.indexOf(Fi(i),u)!=u){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r},fr.unescape=function(t){return(t=qa(t))&&Tt.test(t)?t.replace(_t,Mn):t},fr.uniqueId=function(t){var e=++ce;return qa(t)+e},fr.upperCase=_u,fr.upperFirst=Ou,fr.each=qs,fr.eachRight=Ks,fr.first=ws,Lu(fr,function(){var t={};return Yr(fr,(function(e,n){le.call(fr.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),fr.VERSION="4.17.21",Ye(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){fr[t].placeholder=fr})),Ye(["drop","take"],(function(t,e){yr.prototype[t]=function(n){n=n===o?1:qn(Ba(n),0);var r=this.__filtered__&&!e?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=Kn(n,r.__takeCount__):r.__views__.push({size:Kn(n,j),type:t+(r.__dir__<0?"Right":"")}),r},yr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ye(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==I||3==n;yr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Fo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ye(["head","last"],(function(t,e){var n="take"+(e?"Right":"");yr.prototype[t]=function(){return this[n](1).value()[0]}})),Ye(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");yr.prototype[t]=function(){return this.__filtered__?new yr(this):this[n](1)}})),yr.prototype.compact=function(){return this.filter(Du)},yr.prototype.find=function(t){return this.filter(t).head()},yr.prototype.findLast=function(t){return this.reverse().find(t)},yr.prototype.invokeMap=Oi((function(t,e){return"function"==typeof t?new yr(this):this.map((function(n){return ii(n,t,e)}))})),yr.prototype.reject=function(t){return this.filter(la(Fo(t)))},yr.prototype.slice=function(t,e){t=Ba(t);var n=this;return n.__filtered__&&(t>0||e<0)?new yr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=Ba(e))<0?n.dropRight(-e):n.take(e-t)),n)},yr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yr.prototype.toArray=function(){return this.take(j)},Yr(yr.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=fr[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);i&&(fr.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof yr,l=a[0],c=u||ya(e),h=function(t){var e=i.apply(fr,en([t],a));return r&&p?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var p=this.__chain__,d=!!this.__actions__.length,f=s&&!p,g=u&&!d;if(!s&&c){e=g?e:new yr(this);var v=t.apply(e,a);return v.__actions__.push({func:Ws,args:[h],thisArg:o}),new mr(v,p)}return f&&g?t.apply(this,a):(v=this.thru(h),f?r?v.value()[0]:v.value():v)})})),Ye(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ie[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);fr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(ya(i)?i:[],t)}return this[n]((function(n){return e.apply(ya(n)?n:[],t)}))}})),Yr(yr.prototype,(function(t,e){var n=fr[e];if(n){var r=n.name+"";le.call(or,r)||(or[r]=[]),or[r].push({name:e,func:n})}})),or[go(o,b).name]=[{name:"wrapper",func:o}],yr.prototype.clone=function(){var t=new yr(this.__wrapped__);return t.__actions__=ro(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ro(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ro(this.__views__),t},yr.prototype.reverse=function(){if(this.__filtered__){var t=new yr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ya(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Kn(e,t+s);break;case"takeRight":t=qn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,h=c.length,p=0,d=Kn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return Bi(t,this.__actions__);var f=[];t:for(;u--&&p<d;){for(var g=-1,v=t[l+=e];++g<h;){var m=c[g],y=m.iteratee,b=m.type,w=y(v);if(b==N)v=w;else if(!w){if(b==I)continue t;break t}}f[p++]=v}return f},fr.prototype.at=Bs,fr.prototype.chain=function(){return Vs(this)},fr.prototype.commit=function(){return new mr(this.value(),this.__chain__)},fr.prototype.next=function(){this.__values__===o&&(this.__values__=Va(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},fr.prototype.plant=function(t){for(var e,n=this;n instanceof vr;){var r=ds(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},fr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yr){var e=t;return this.__actions__.length&&(e=new yr(this)),(e=e.reverse()).__actions__.push({func:Ws,args:[Ps],thisArg:o}),new mr(e,this.__chain__)}return this.thru(Ps)},fr.prototype.toJSON=fr.prototype.valueOf=fr.prototype.value=function(){return Bi(this.__wrapped__,this.__actions__)},fr.prototype.first=fr.prototype.head,Me&&(fr.prototype[Me]=function(){return this}),fr}();ke._=Fn,(i=function(){return Fn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(this,n(63),n(194)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(28),i=n(0),o=function(){function t(t,e){var n=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new r.a,this.eElement=t,this.preventMouseClick=e;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push((function(){n.eElement.removeEventListener("touchstart",i,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",s,{passive:!1})}))}return t.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){if(t[e].identifier===this.touchStart.identifier)return t[e]}return null},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onTouchStart=function(e){var n=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout((function(){var i=n.touchStart===r;if(n.touching&&i&&!n.moved){n.moved=!0;var o={type:t.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:e};n.eventService.dispatchEvent(o)}}),500)}},t.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e)!i.e.areEventsNear(e,this.touchStart,4)&&(this.moved=!0)}},t.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var n={type:t.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.checkForDoubleTap()}this.preventMouseClick&&e.preventDefault(),this.touching=!1}},t.prototype.checkForDoubleTap=function(){var e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>t.DOUBLE_TAP_MILLIS){var n={type:t.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e},t.prototype.destroy=function(){this.destroyFuncs.forEach((function(t){return t()}))},t.EVENT_TAP="tap",t.EVENT_DOUBLE_TAP="doubleTap",t.EVENT_LONG_TAP="longTap",t.DOUBLE_TAP_MILLIS=500,t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(80),i=n(0),o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onValueChange=function(t){var n=this;return this.addDestroyableEventListener(this,e.EVENT_CHANGED,(function(){t(n.getValue())})),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return i.e.setFixedWidth(this.getGui(),t),this},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,n){return this.value===t?this:(this.value=t,n||this.dispatchEvent({type:e.EVENT_CHANGED}),this)},e.EVENT_CHANGED="valueChange",e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return m}));var r=n(26),i=n(44),o=n(4),s=n.n(o),a=n(38),u=(n(55),n(27)),l=n(47),c=n(36),h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(a.a)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return s.a.createElement(r.c,{history:this.history,children:this.props.children})},e}(s.a.Component);s.a.Component;var p=function(t,e){return"function"===typeof t?t(e):t},d=function(t,e){return"string"===typeof t?Object(a.c)(t,null,null,e):t},f=function(t){return t},g=s.a.forwardRef;"undefined"===typeof g&&(g=f);var v=g((function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(l.a)(t,["innerRef","navigate","onClick"]),a=o.target,c=Object(u.a)({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||a&&"_self"!==a||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return c.ref=f!==g&&e||n,s.a.createElement("a",c)}));var m=g((function(t,e){var n=t.component,i=void 0===n?v:n,o=t.replace,a=t.to,h=t.innerRef,m=Object(l.a)(t,["component","replace","to","innerRef"]);return s.a.createElement(r.e.Consumer,null,(function(t){t||Object(c.a)(!1);var n=t.history,r=d(p(a,t.location),t.location),l=r?n.createHref(r):"",v=Object(u.a)({},m,{href:l,navigate:function(){var e=p(a,t.location);(o?n.replace:n.push)(e)}});return f!==g?v.ref=e||h:v.innerRef=h,s.a.createElement(i,v)}))})),y=function(t){return t},b=s.a.forwardRef;"undefined"===typeof b&&(b=y);b((function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,o=t.activeClassName,a=void 0===o?"active":o,h=t.activeStyle,f=t.className,g=t.exact,v=t.isActive,w=t.location,C=t.sensitive,E=t.strict,_=t.style,O=t.to,T=t.innerRef,S=Object(l.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return s.a.createElement(r.e.Consumer,null,(function(t){t||Object(c.a)(!1);var n=w||t.location,o=d(p(O,n),n),l=o.pathname,R=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=R?Object(r.f)(n.pathname,{path:R,exact:g,sensitive:C,strict:E}):null,x=!!(v?v(P,n):P),A=x?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(f,a):f,D=x?Object(u.a)({},_,{},h):_,I=Object(u.a)({"aria-current":x&&i||null,className:A,style:D,to:o},S);return y!==b?I.ref=e||T:I.innerRef=T,s.a.createElement(m,I)}))}))},function(t,e,n){"use strict";var r=n(168),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function s(t){return"undefined"===typeof t}function a(t){return null!==t&&"object"===typeof t}function u(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!==typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:a,isPlainObject:u,isUndefined:s,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:l,isStream:function(t){return a(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function t(){var e={};function n(n,r){u(e[r])&&u(n)?e[r]=t(e[r],n):u(n)?e[r]=t({},n):o(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,(function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e,n){"use strict";var r=!0,i="Invariant failed";e.a=function(t,e){if(!t){if(r)throw new Error(i);throw new Error(i+": "+(e||""))}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(10),i=n(0),o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(e){i.e.addCssClass(e.getGui(),"ag-has-popup"),t.prototype.setParentComponent.call(this,e)},e.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&i.e.removeCssClass(e.getGui(),"ag-has-popup"),t.prototype.destroy.call(this)},e}(r.a)},function(t,e,n){"use strict";var r=n(27);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var s=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],s=e&&e.split("/")||[],a=t&&i(t),u=e&&i(e),l=a||u;if(t&&i(t)?s=r:r.length&&(s.pop(),s=s.concat(r)),!s.length)return"/";if(s.length){var c=s[s.length-1];n="."===c||".."===c||""===c}else n=!1;for(var h=0,p=s.length;p>=0;p--){var d=s[p];"."===d?o(s,p):".."===d?(o(s,p),h++):h&&(o(s,p),h--)}if(!l)for(;h--;h)s.unshift("..");!l||""===s[0]||s[0]&&i(s[0])||s.unshift("");var f=s.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};function a(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));if("object"===typeof e||"object"===typeof n){var r=a(e),i=a(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every((function(r){return t(e[r],n[r])}))}return!1},l=n(36);function c(t){return"/"===t.charAt(0)?t:"/"+t}function h(t){return"/"===t.charAt(0)?t.substr(1):t}function p(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function d(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function f(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function m(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return x})),n.d(e,"d",(function(){return D})),n.d(e,"c",(function(){return g})),n.d(e,"f",(function(){return v})),n.d(e,"e",(function(){return f}));var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(t,e){e(window.confirm(t))}var w="popstate",C="hashchange";function E(){try{return window.history.state||{}}catch(t){return{}}}function _(t){void 0===t&&(t={}),y||Object(l.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,s=o.forceRefresh,a=void 0!==s&&s,u=o.getUserConfirmation,h=void 0===u?b:u,v=o.keyLength,_=void 0===v?6:v,O=t.basename?d(c(t.basename)):"";function T(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return O&&(o=p(o,O)),g(o,r,n)}function S(){return Math.random().toString(36).substr(2,_)}var R=m();function P(t){Object(r.a)(V,t),V.length=e.length,R.notifyListeners(V.location,V.action)}function x(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||I(T(t.state))}function A(){I(T(E()))}var D=!1;function I(t){if(D)D=!1,P();else{R.confirmTransitionTo(t,"POP",h,(function(e){e?P({action:"POP",location:t}):function(t){var e=V.location,n=k.indexOf(e.key);-1===n&&(n=0);var r=k.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(D=!0,M(i))}(t)}))}}var N=T(E()),k=[N.key];function L(t){return O+f(t)}function M(t){e.go(t)}var F=0;function j(t){1===(F+=t)&&1===t?(window.addEventListener(w,x),i&&window.addEventListener(C,A)):0===F&&(window.removeEventListener(w,x),i&&window.removeEventListener(C,A))}var G=!1;var V={length:e.length,action:"POP",location:N,createHref:L,push:function(t,r){var i=g(t,r,S(),V.location);R.confirmTransitionTo(i,"PUSH",h,(function(t){if(t){var r=L(i),o=i.key,s=i.state;if(n)if(e.pushState({key:o,state:s},null,r),a)window.location.href=r;else{var u=k.indexOf(V.location.key),l=k.slice(0,u+1);l.push(i.key),k=l,P({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(t,r){var i=g(t,r,S(),V.location);R.confirmTransitionTo(i,"REPLACE",h,(function(t){if(t){var r=L(i),o=i.key,s=i.state;if(n)if(e.replaceState({key:o,state:s},null,r),a)window.location.replace(r);else{var u=k.indexOf(V.location.key);-1!==u&&(k[u]=i.key),P({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var e=R.setPrompt(t);return G||(j(1),G=!0),function(){return G&&(G=!1,j(-1)),e()}},listen:function(t){var e=R.appendListener(t);return j(1),function(){j(-1),e()}}};return V}var O="hashchange",T={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+h(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h,decodePath:c},slash:{encodePath:c,decodePath:c}};function S(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function R(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function P(t){window.location.replace(S(window.location.href)+"#"+t)}function x(t){void 0===t&&(t={}),y||Object(l.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?b:i,s=n.hashType,a=void 0===s?"slash":s,u=t.basename?d(c(t.basename)):"",h=T[a],v=h.encodePath,w=h.decodePath;function C(){var t=w(R());return u&&(t=p(t,u)),g(t)}var E=m();function _(t){Object(r.a)(V,t),V.length=e.length,E.notifyListeners(V.location,V.action)}var x=!1,A=null;function D(){var t,e,n=R(),r=v(n);if(n!==r)P(r);else{var i=C(),s=V.location;if(!x&&(e=i,(t=s).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(A===f(i))return;A=null,function(t){if(x)x=!1,_();else{E.confirmTransitionTo(t,"POP",o,(function(e){e?_({action:"POP",location:t}):function(t){var e=V.location,n=L.lastIndexOf(f(e));-1===n&&(n=0);var r=L.lastIndexOf(f(t));-1===r&&(r=0);var i=n-r;i&&(x=!0,M(i))}(t)}))}}(i)}}var I=R(),N=v(I);I!==N&&P(N);var k=C(),L=[f(k)];function M(t){e.go(t)}var F=0;function j(t){1===(F+=t)&&1===t?window.addEventListener(O,D):0===F&&window.removeEventListener(O,D)}var G=!1;var V={length:e.length,action:"POP",location:k,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=S(window.location.href)),n+"#"+v(u+f(t))},push:function(t,e){var n=g(t,void 0,void 0,V.location);E.confirmTransitionTo(n,"PUSH",o,(function(t){if(t){var e=f(n),r=v(u+e);if(R()!==r){A=e,function(t){window.location.hash=t}(r);var i=L.lastIndexOf(f(V.location)),o=L.slice(0,i+1);o.push(e),L=o,_({action:"PUSH",location:n})}else _()}}))},replace:function(t,e){var n=g(t,void 0,void 0,V.location);E.confirmTransitionTo(n,"REPLACE",o,(function(t){if(t){var e=f(n),r=v(u+e);R()!==r&&(A=e,P(r));var i=L.indexOf(f(V.location));-1!==i&&(L[i]=e),_({action:"REPLACE",location:n})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var e=E.setPrompt(t);return G||(j(1),G=!0),function(){return G&&(G=!1,j(-1)),e()}},listen:function(t){var e=E.appendListener(t);return j(1),function(){j(-1),e()}}};return V}function A(t,e,n){return Math.min(Math.max(t,e),n)}function D(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,s=e.initialIndex,a=void 0===s?0:s,u=e.keyLength,l=void 0===u?6:u,c=m();function h(t){Object(r.a)(w,t),w.length=w.entries.length,c.notifyListeners(w.location,w.action)}function p(){return Math.random().toString(36).substr(2,l)}var d=A(a,0,o.length-1),v=o.map((function(t){return g(t,void 0,"string"===typeof t?p():t.key||p())})),y=f;function b(t){var e=A(w.index+t,0,w.entries.length-1),r=w.entries[e];c.confirmTransitionTo(r,"POP",n,(function(t){t?h({action:"POP",location:r,index:e}):h()}))}var w={length:v.length,action:"POP",location:v[d],index:d,entries:v,createHref:y,push:function(t,e){var r=g(t,e,p(),w.location);c.confirmTransitionTo(r,"PUSH",n,(function(t){if(t){var e=w.index+1,n=w.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),h({action:"PUSH",location:r,index:e,entries:n})}}))},replace:function(t,e){var r=g(t,e,p(),w.location);c.confirmTransitionTo(r,"REPLACE",n,(function(t){t&&(w.entries[w.index]=r,h({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(t){var e=w.index+t;return e>=0&&e<w.entries.length},block:function(t){return void 0===t&&(t=!1),c.setPrompt(t)},listen:function(t){return c.appendListener(t)}};return w}},function(t,e,n){"use strict";var r=n(5),i=n(7),o=n(10),s=n(65),a=n(61),u=n(1),l=n(19),c=n(16),h=n(17),p=n(21),d=n(0),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},v=function(t){function e(e,n,r,i){var o=t.call(this,'<div class="ag-row-drag"></div>')||this;return o.rowNode=e,o.column=n,o.cellValue=r,o.beans=i,o}return f(e,t),e.prototype.postConstruct=function(){this.getGui().appendChild(d.e.createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkCompatibility();var t=this.beans.gridOptionsWrapper.isRowDragManaged()?new b(this,this.beans,this.rowNode,this.column):new y(this,this.beans,this.rowNode,this.column);this.addFeature(t,this.beans.context)},e.prototype.checkCompatibility=function(){var t=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&t&&d.e.doOnce((function(){return console.warn("ag-Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},e.prototype.addDragSource=function(){var t=this,e={rowNode:this.rowNode},n={type:c.b.RowDrag,eElement:this.getGui(),dragItemName:this.cellValue,getDragItem:function(){return e},dragStartPixels:0};this.beans.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc((function(){return t.beans.dragAndDropService.removeDragSource(n)}))},g([u.e],e.prototype,"postConstruct",null),e}(o.a),m=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.column=r,i.rowNode=n,i}return f(e,t),e.prototype.setDisplayedOrVisible=function(t){if(t)this.parent.setDisplayed(!1);else{var e=this.column.isRowDrag(this.rowNode);d.e.isFunction(this.column.getColDef().rowDrag)?(this.parent.setDisplayed(!0),this.parent.setVisible(e)):this.parent.setDisplayed(e)}},e}(p.a),y=function(t){function e(e,n,r,i){var o=t.call(this,e,r,i)||this;return o.beans=n,o}return f(e,t),e.prototype.postConstruct=function(){this.addDestroyableEventListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addDestroyableEventListener(this.rowNode,l.a.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addDestroyableEventListener(this.rowNode,l.a.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(t)},g([u.e],e.prototype,"postConstruct",null),e}(m),b=function(t){function e(e,n,r,i){var o=t.call(this,e,r,i)||this;return o.beans=n,o}return f(e,t),e.prototype.postConstruct=function(){this.addDestroyableEventListener(this.beans.eventService,h.a.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addDestroyableEventListener(this.beans.eventService,h.a.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addDestroyableEventListener(this.beans.eventService,h.a.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,l.a.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addDestroyableEventListener(this.rowNode,l.a.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addDestroyableEventListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.updateSortActive(),this.updateFilterActive(),this.updateRowGroupActive(),this.workOutVisibility()},e.prototype.updateRowGroupActive=function(){var t=this.beans.columnController.getRowGroupColumns();this.rowGroupActive=!d.e.missingOrEmpty(t)},e.prototype.onRowGroupChanged=function(){this.updateRowGroupActive(),this.workOutVisibility()},e.prototype.updateSortActive=function(){var t=this.beans.sortController.getSortModel();this.sortActive=!d.e.missingOrEmpty(t)},e.prototype.onSortChanged=function(){this.updateSortActive(),this.workOutVisibility()},e.prototype.updateFilterActive=function(){this.filterActive=this.beans.filterManager.isAnyFilterPresent()},e.prototype.onFilterChanged=function(){this.updateFilterActive(),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.sortActive||this.filterActive||this.rowGroupActive,e=this.beans.gridOptionsWrapper.isSuppressRowDrag(),n=t||e;this.setDisplayedOrVisible(n)},g([u.e],e.prototype,"postConstruct",null),e}(m),w=n(72),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},_=function(t){function e(e,n,r,i,o){var s=t.call(this,'<div class="ag-row-drag" draggable="true"></div>')||this;return s.rowNode=e,s.column=n,s.cellValue=r,s.beans=i,s.eCell=o,s}return C(e,t),e.prototype.postConstruct=function(){this.getGui().appendChild(d.e.createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var e=this,n=this.column.getColDef().dndSourceOnRowDrag,r=d.e.isBrowserIE();r||t.dataTransfer.setDragImage(this.eCell,0,0);n?n({rowNode:this.rowNode,dragEvent:t}):function(){try{var n=JSON.stringify(e.rowNode.data);r?t.dataTransfer.setData("text",n):(t.dataTransfer.setData("application/json",n),t.dataTransfer.setData("text/plain",n))}catch(i){}}()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},E([u.e],e.prototype,"postConstruct",null),e}(o.a);n.d(e,"a",(function(){return S}));var O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(){return(T=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},S=function(t){function e(e,n,r,i,o,s,a){var u=t.call(this)||this;if(u.hasChartRange=!1,u.editingCell=!1,u.suppressRefreshCell=!1,u.scope=null,u.cellEditorVersion=0,u.cellRendererVersion=0,u.scope=e,u.beans=n,u.column=r,u.rowNode=i,u.rowComp=o,u.autoHeightCell=s,u.printLayout=a,u.createGridCellVo(),u.rangeSelectionEnabled=u.beans.rangeController&&n.gridOptionsWrapper.isEnableRangeSelection(),u.cellFocused=u.beans.focusedCellController.isCellFocused(u.cellPosition),u.firstRightPinned=u.column.isFirstRightPinned(),u.lastLeftPinned=u.column.isLastLeftPinned(),u.rangeSelectionEnabled&&u.beans.rangeController){var l=u.beans.rangeController;u.rangeCount=l.getCellRangeCount(u.cellPosition),u.hasChartRange=u.getHasChartRange()}return u.getValueAndFormat(),u.setUsingWrapper(),u.chooseCellRenderer(),u.setupColSpan(),u.rowSpan=u.column.getRowSpan(u.rowNode),u}return O(e,t),e.prototype.getCreateTemplate=function(){var t=this.beans.gridOptionsWrapper.isEnableCellTextSelection()?"":'unselectable="on"',e=[],n=this.column,r=this.getCellWidth(),i=this.modifyLeftForPrintLayout(this.getCellLeft()),o=this.getInitialValueToRender(),s=d.e.get(this.column,"colDef.template",null)?o:d.e.escape(o);this.tooltip=this.getToolTip();var a=d.e.escape(this.tooltip),u=d.e.escape(n.getId()),l="",c="",h=this.preProcessStylesFromColDef(),p=this.getInitialCssClasses(),f=this.getStylesForRowSpanning(),g=d.e.escape(this.getAriaColumnIndex());return this.usingWrapper&&(l='<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n                <span ref="eCellValue" role="gridcell" aria-colindex="'+g+'" class="ag-cell-value" '+t+">",c="</span></div>"),e.push("<div"),e.push(' tabindex="-1"'),e.push(" "+t),e.push(' role="'+(this.usingWrapper?"presentation":"gridcell")+'"'),this.usingWrapper||e.push(" aria-colindex="+g),e.push(' comp-id="'+this.getCompId()+'" '),e.push(' col-id="'+u+'"'),e.push(' class="'+d.e.escape(p.join(" "))+'"'),this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&d.e.exists(a)&&e.push('title="'+a+'"'),e.push(' style="width: '+Number(r)+"px; left: "+Number(i)+"px; "+d.e.escape(h)+" "+d.e.escape(f)+'" >'),e.push(l),d.e.exists(s,!0)&&e.push(s),e.push(c),e.push("</div>"),e.join("")},e.prototype.getStylesForRowSpanning=function(){return 1===this.rowSpan?"":"height: "+this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan+"px; z-index: 1;"},e.prototype.afterAttached=function(){var t='[comp-id="'+this.getCompId()+'"]',e=this.eParentRow.querySelector(t);this.setGui(e),this.addDomData(),this.populateTemplate(),this.createCellRendererInstance(!0),this.angular1Compile(),this.refreshHandle(),d.e.exists(this.tooltip)&&!this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&this.beans.tooltipManager.registerTooltip(this)},e.prototype.onColumnHover=function(){var t=this.beans.columnHoverService.isHovered(this.column);d.e.addOrRemoveCssClass(this.getGui(),"ag-column-hover",t)},e.prototype.onCellChanged=function(t){t.column===this.column&&this.refreshCell({})},e.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?d.e.last(this.colsSpanning):this.column).getLeft()},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(t,e){return t+e.getActualWidth()}),0):this.column.getActualWidth()},e.prototype.onFlashCells=function(t){var e=this.beans.cellPositionUtils.createId(this.cellPosition);t.cells[e]&&this.animateCell("highlight")},e.prototype.setupColSpan=function(){d.e.missing(this.getComponentHolder().colSpan)||(this.addDestroyableEventListener(this.beans.eventService,i.a.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addDestroyableEventListener(this.beans.eventService,i.a.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)),this.colsSpanning=this.getColSpanningList())},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else for(var n=this.column,r=this.column.getPinned(),i=0;n&&i<t&&(e.push(n),(n=this.beans.columnController.getDisplayedColAfter(n))&&!d.e.missing(n))&&r===n.getPinned();i++);return e},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();d.e.compareArrays(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.getAriaColumnIndex=function(){return(this.beans.columnController.getAllDisplayedColumns().indexOf(this.column)+1).toString()},e.prototype.refreshAriaIndex=function(){var t=this.getAriaColumnIndex();(this.usingWrapper?this.eCellValue:this.getGui()).setAttribute("aria-colindex",t)},e.prototype.getInitialCssClasses=function(){var t=["ag-cell","ag-cell-not-inline-editing"];return this.autoHeightCell||t.push("ag-cell-with-height"),!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.cellFocused&&t.push("ag-cell-focus"),this.firstRightPinned&&t.push("ag-cell-first-right-pinned"),this.lastLeftPinned&&t.push("ag-cell-last-left-pinned"),this.beans.columnHoverService.isHovered(this.column)&&t.push("ag-column-hover"),d.e.pushAll(t,this.preProcessClassesFromColDef()),d.e.pushAll(t,this.preProcessCellClassRules()),d.e.pushAll(t,this.getInitialRangeClasses()),this.usingWrapper||t.push("ag-cell-value"),t},e.prototype.getInitialValueToRender=function(){if(this.usingCellRenderer)return"string"===typeof this.cellRendererGui?this.cellRendererGui:"";var t=this.getComponentHolder();return t.template?t.template:t.templateUrl?this.beans.templateService.getTemplate(t.templateUrl,this.refreshCell.bind(this,!0))||"":this.getValueToUse()},e.prototype.getRenderedRow=function(){return this.rowComp},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.refreshCell=function(t){if(!this.suppressRefreshCell&&!this.editingCell){var e=this.getComponentHolder(),n=t&&t.newData,r=t&&t.suppressFlash||e.suppressCellFlash,i=t&&t.forceRefresh,o=this.value;this.value=this.getValue();var s=!this.valuesAreEqual(o,this.value);if(i||s){this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value),!n&&this.attemptCellRendererRefresh()||this.replaceContentsAfterRefresh();var a=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!r&&!a&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||e.enableCellChangeFlash)&&this.flashCell(),this.postProcessStylesFromColDef(),this.postProcessClassesFromColDef()}this.updateAngular1ScopeAndCompile(),this.refreshToolTip(),this.postProcessCellClassRules()}},e.prototype.flashCell=function(){this.animateCell("data-changed")},e.prototype.animateCell=function(t){var e="ag-cell-"+t,n="ag-cell-"+t+"-animation",r=this.getGui();d.e.addCssClass(r,e),d.e.removeCssClass(r,n),window.setTimeout((function(){d.e.removeCssClass(r,e),d.e.addCssClass(r,n),window.setTimeout((function(){d.e.removeCssClass(r,n)}),1e3)}),500)},e.prototype.replaceContentsAfterRefresh=function(){d.e.clearElement(this.eParentOfValue),this.cellRenderer&&this.cellRenderer.destroy&&this.cellRenderer.destroy(),this.cellRenderer=null,this.cellRendererGui=null,this.putDataIntoCellAfterRefresh(),this.updateAngular1ScopeAndCompile()},e.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=T({},this.rowNode.data),this.angular1Compile())},e.prototype.angular1Compile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()){var t=this.getGui();if(!t.classList.contains("ng-scope")||0===t.childElementCount){var e=this.beans.$compile(t)(this.scope);this.addDestroyFunc((function(){return e.remove()}))}}},e.prototype.postProcessStylesFromColDef=function(){var t=this.processStylesFromColDef();t&&d.e.addStylesToElement(this.getGui(),t)},e.prototype.preProcessStylesFromColDef=function(){return d.e.cssStyleObjectToMarkup(this.processStylesFromColDef())},e.prototype.processStylesFromColDef=function(){var t=this.getComponentHolder();if(t.cellStyle){var e=void 0;if("function"===typeof t.cellStyle){var n={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()};e=(0,t.cellStyle)(n)}else e=t.cellStyle;return e}},e.prototype.postProcessClassesFromColDef=function(){var t=this;this.processClassesFromColDef((function(e){return d.e.addCssClass(t.getGui(),e)}))},e.prototype.preProcessClassesFromColDef=function(){var t=[];return this.processClassesFromColDef((function(e){return t.push(e)})),t},e.prototype.processClassesFromColDef=function(t){var e=this.getComponentHolder();this.beans.stylingService.processStaticCellClasses(e,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:e,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},t)},e.prototype.putDataIntoCellAfterRefresh=function(){var t=this.getComponentHolder();if(t.template)this.eParentOfValue.innerHTML=t.template;else if(t.templateUrl){var e=this.beans.templateService.getTemplate(t.templateUrl,this.refreshCell.bind(this,!0));e&&(this.eParentOfValue.innerHTML=e)}else if(this.chooseCellRenderer(),this.usingCellRenderer)this.createCellRendererInstance();else{var n=this.getValueToUse();null!=n&&(this.eParentOfValue.innerHTML=d.e.escape(n))}},e.prototype.attemptCellRendererRefresh=function(){if(d.e.missing(this.cellRenderer)||!this.cellRenderer||d.e.missing(this.cellRenderer.refresh))return!1;var t=this.createCellRendererParams(),e=this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(),this.cellRendererType,t),n=this.cellRenderer.refresh(e);return!0===n||void 0===n},e.prototype.refreshToolTip=function(){var t=this.getToolTip();if(this.tooltip!==t){var e=d.e.exists(t);if(!e||this.tooltip!==t.toString()){var n=d.e.exists(this.tooltip);this.tooltip=t,this.beans.gridOptionsWrapper.isEnableBrowserTooltips()?e?this.eParentOfValue.setAttribute("title",this.tooltip):this.eParentOfValue.removeAttribute("title"):n?e||this.beans.tooltipManager.unregisterTooltip(this):e&&this.beans.tooltipManager.registerTooltip(this)}}},e.prototype.valuesAreEqual=function(t,e){var n=this.getComponentHolder(),r=n?n.equals:null;return r?r(t,e):t===e},e.prototype.getToolTip=function(){var t=this.getComponentHolder(),e=this.rowNode.data;if(t.tooltipField&&d.e.exists(e))return d.e.getValueUsingField(e,t.tooltipField,this.column.isTooltipFieldContainsDots());var n=t.tooltipValueGetter||t.tooltip;return n?n({api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),colDef:t,column:this.getColumn(),context:this.beans.gridOptionsWrapper.getContext(),value:this.value,valueFormatted:this.valueFormatted,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,$scope:this.scope}):null},e.prototype.getTooltipText=function(t){return void 0===t&&(t=!0),t?d.e.escape(this.tooltip):this.tooltip},e.prototype.processCellClassRules=function(t,e){var n=this.getComponentHolder();this.beans.stylingService.processClassRules(n.cellClassRules,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:n,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},t,e)},e.prototype.postProcessCellClassRules=function(){var t=this;this.processCellClassRules((function(e){return d.e.addCssClass(t.getGui(),e)}),(function(e){return d.e.removeCssClass(t.getGui(),e)}))},e.prototype.preProcessCellClassRules=function(){var t=[];return this.processCellClassRules((function(e){return t.push(e)}),(function(t){})),t},e.prototype.setUsingWrapper=function(){var t=this.getComponentHolder();if(this.rowNode.rowPinned)return this.usingWrapper=!1,this.includeSelectionComponent=!1,this.includeRowDraggingComponent=!1,void(this.includeDndSourceComponent=!1);var e="function"===typeof t.checkboxSelection,n="function"===typeof t.rowDrag,r="function"===typeof t.dndSource;this.includeSelectionComponent=e||!0===t.checkboxSelection,this.includeRowDraggingComponent=n||!0===t.rowDrag,this.includeDndSourceComponent=r||!0===t.dndSource;var i=this.beans.gridOptionsWrapper.isEnableCellTextSelection();this.usingWrapper=i||this.includeRowDraggingComponent||this.includeSelectionComponent||this.includeDndSourceComponent},e.prototype.chooseCellRenderer=function(){var t=this.getComponentHolder();if(t.template||t.templateUrl)this.usingCellRenderer=!1;else{var n=this.createCellRendererParams(),r=this.beans.userComponentFactory.lookupComponentClassDef(t,"cellRenderer",n);this.beans.userComponentFactory.lookupComponentClassDef(t,"pinnedRowCellRenderer",n)&&this.rowNode.rowPinned?(this.cellRendererType=e.CELL_RENDERER_TYPE_PINNED,this.usingCellRenderer=!0):r?(this.cellRendererType=e.CELL_RENDERER_TYPE_NORMAL,this.usingCellRenderer=!0):this.usingCellRenderer=!1}},e.prototype.createCellRendererInstance=function(t){var n=this;if(void 0===t&&(t=!1),this.usingCellRenderer){var r=this.beans.gridOptionsWrapper.isAngularCompileRows(),i=this.beans.gridOptionsWrapper.isSuppressAnimationFrame();(r||i||this.autoHeightCell)&&(t=!1);var o=this.createCellRendererParams();this.cellRendererVersion++;var s=this.afterCellRendererCreated.bind(this,this.cellRendererVersion),a=this.cellRendererType===e.CELL_RENDERER_TYPE_NORMAL;this.createCellRendererFunc=function(){var t;n.createCellRendererFunc=null,(t=a?n.beans.userComponentFactory.newCellRenderer(n.getComponentHolder(),o):n.beans.userComponentFactory.newPinnedRowCellRenderer(n.getComponentHolder(),o))&&t.then(s)},t?this.beans.taskQueue.createTask(this.createCellRendererFunc,this.rowNode.rowIndex,"createTasksP2"):this.createCellRendererFunc()}},e.prototype.afterCellRendererCreated=function(t,e){this.isAlive()&&t===this.cellRendererVersion?(this.cellRenderer=e,this.cellRendererGui=this.cellRenderer.getGui(),d.e.missing(this.cellRendererGui)||this.editingCell||this.eParentOfValue.appendChild(this.cellRendererGui)):e.destroy&&e.destroy()},e.prototype.createCellRendererParams=function(){var t=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValue.bind(this),setValue:function(e){return t.beans.valueService.setValue(t.rowNode,t.column,e)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.getComponentHolder(),column:this.column,$scope:this.scope,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.eParentOfValue,addRowCompListener:this.rowComp?this.rowComp.addEventListener.bind(this.rowComp):null,addRenderedRowListener:function(e,n){console.warn("ag-Grid: since ag-Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()"),t.rowComp&&t.rowComp.addEventListener(e,n)}}},e.prototype.formatValue=function(t){var e=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,t);return null!=e?e:t},e.prototype.getValueToUse=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},e.prototype.getValueAndFormat=function(){this.value=this.getValue(),this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value)},e.prototype.getValue=function(){var t=this.rowNode.leafGroup&&this.beans.columnController.isPivotMode(),e=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!t,n=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),r=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader(),i=e&&n&&!r;return this.beans.valueService.getValue(this.column,this.rowNode,!1,i)},e.prototype.onMouseEvent=function(t,e){if(!d.e.isStopPropagationForAgGrid(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}},e.prototype.dispatchCellContextMenuEvent=function(t){var e=this.getComponentHolder(),n=this.createEvent(t,i.a.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),e.onCellContextMenu&&window.setTimeout((function(){return e.onCellContextMenu(n)}),0)},e.prototype.createEvent=function(t,e){var n={node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.getComponentHolder(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,type:e,rowIndex:this.rowNode.rowIndex};return this.scope&&(n.$scope=this.scope),n},e.prototype.onMouseOut=function(t){var e=this.createEvent(t,i.a.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(t){var e=this.createEvent(t,i.a.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])},e.prototype.onCellDoubleClicked=function(t){var e=this.getComponentHolder(),n=this.createEvent(t,i.a.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"===typeof e.onCellDoubleClicked&&window.setTimeout((function(){return e.onCellDoubleClicked(n)}),0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},e.prototype.startRowOrCellEdit=function(t,e){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.startRowEditing(t,e,this):this.startEditingIfEnabled(t,e,!0)},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.startEditingIfEnabled=function(t,e,n){if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=!1),this.isCellEditable()&&!this.editingCell){this.editingCell=!0,this.cellEditorVersion++;var r=this.afterCellEditorCreated.bind(this,this.cellEditorVersion),i=this.createCellEditorParams(t,e,n);this.createCellEditor(i).then(r),d.e.missing(this.cellEditor)&&n&&this.focusCell(!0)}},e.prototype.createCellEditor=function(t){var e=this;return this.beans.userComponentFactory.newCellEditor(this.column.getColDef(),t).map((function(n){if(!(n.isPopup&&n.isPopup()))return n;e.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("ag-Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var r=new w.a(n);return e.beans.context.wireBean(r),r.init(t),r}))},e.prototype.afterCellEditorCreated=function(t,e){if(!(t!==this.cellEditorVersion)&&this.editingCell){if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return e.destroy&&e.destroy(),void(this.editingCell=!1);if(!e.getGui)return console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),e.render&&console.warn("ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?"),e.destroy&&e.destroy(),void(this.editingCell=!1);this.cellEditor=e,this.cellEditorInPopup=void 0!==e.isPopup&&e.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),e.afterGuiAttached&&e.afterGuiAttached();var n=this.createEvent(null,i.a.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(n)}else e.destroy&&e.destroy()},e.prototype.addInCellEditor=function(){d.e.clearElement(this.getGui()),this.cellEditor&&this.getGui().appendChild(this.cellEditor.getGui()),this.angular1Compile()},e.prototype.addPopupCellEditor=function(){var t=this,e=this.cellEditor?this.cellEditor.getGui():null,n=this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus();this.hideEditorPopup=this.beans.popupService.addPopup(n,e,!0,(function(){t.onPopupEditorClosed()})),this.beans.popupService.positionPopupOverComponent({column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:e,keepWithinBounds:!0}),this.angular1Compile()},e.prototype.onPopupEditorClosed=function(){this.editingCell&&(this.stopRowOrCellEdit(),this.beans.focusedCellController.isCellFocused(this.cellPosition)&&this.focusCell(!0))},e.prototype.setInlineEditingClass=function(){if(this.isAlive()){var t=this.editingCell&&!this.cellEditorInPopup,e=this.editingCell&&this.cellEditorInPopup;d.e.addOrRemoveCssClass(this.getGui(),"ag-cell-inline-editing",t),d.e.addOrRemoveCssClass(this.getGui(),"ag-cell-not-inline-editing",!t),d.e.addOrRemoveCssClass(this.getGui(),"ag-cell-popup-editing",e),d.e.addOrRemoveCssClass(this.getGui().parentNode,"ag-row-inline-editing",t),d.e.addOrRemoveCssClass(this.getGui().parentNode,"ag-row-not-inline-editing",!t)}},e.prototype.createCellEditorParams=function(t,e,n){return{value:this.getValue(),keyPress:t,charPress:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:n,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},e.prototype.stopEditingAndFocus=function(t){void 0===t&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit()},e.prototype.parseValue=function(t){var e=this.getComponentHolder(),n={node:this.rowNode,data:this.rowNode.data,oldValue:this.value,newValue:t,colDef:e,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},r=e.valueParser;return d.e.exists(r)?this.beans.expressionService.evaluate(r,n):t},e.prototype.focusCell=function(t){void 0===t&&(t=!1),this.beans.focusedCellController.setFocusedCell(this.cellPosition.rowIndex,this.column,this.rowNode.rowPinned,t)},e.prototype.setFocusInOnEditor=function(){this.editingCell&&(this.cellEditor&&this.cellEditor.focusIn?this.cellEditor.focusIn():this.focusCell(!0))},e.prototype.isEditing=function(){return this.editingCell},e.prototype.onKeyDown=function(t){var e=t.which||t.keyCode;switch(e){case r.a.KEY_ENTER:this.onEnterKeyDown();break;case r.a.KEY_F2:this.onF2KeyDown();break;case r.a.KEY_ESCAPE:this.onEscapeKeyDown();break;case r.a.KEY_TAB:this.onTabKeyDown(t);break;case r.a.KEY_BACKSPACE:case r.a.KEY_DELETE:this.onBackspaceOrDeleteKeyPressed(e);break;case r.a.KEY_DOWN:case r.a.KEY_UP:case r.a.KEY_RIGHT:case r.a.KEY_LEFT:this.onNavigationKeyPressed(t,e)}},e.prototype.setFocusOutOnEditor=function(){this.editingCell&&this.cellEditor&&this.cellEditor.focusOut&&this.cellEditor.focusOut()},e.prototype.onNavigationKeyPressed=function(t,e){this.editingCell||(t.shiftKey&&this.rangeSelectionEnabled?this.onShiftRangeSelect(e):this.beans.rowRenderer.navigateToNextCell(t,e,this.cellPosition,!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeController){var e=this.beans.rangeController.extendLatestRangeInDirection(t);e&&this.beans.rowRenderer.ensureCellVisible(e)}},e.prototype.onTabKeyDown=function(t){this.beans.rowRenderer.onTabKeyDown(this,t)},e.prototype.onBackspaceOrDeleteKeyPressed=function(t){this.editingCell||this.startRowOrCellEdit(t)},e.prototype.onEnterKeyDown=function(){this.editingCell||this.rowComp.isEditing()?this.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.rowRenderer.navigateToNextCell(null,r.a.KEY_DOWN,this.cellPosition,!1):this.startRowOrCellEdit(r.a.KEY_ENTER)},e.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.rowRenderer.navigateToNextCell(null,r.a.KEY_DOWN,this.cellPosition,!1)},e.prototype.onF2KeyDown=function(){this.editingCell||this.startRowOrCellEdit(r.a.KEY_F2)},e.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopRowOrCellEdit(!0),this.focusCell(!0))},e.prototype.onKeyPress=function(t){if(!(d.e.getTarget(t)!==this.getGui())&&!this.editingCell){var e=String.fromCharCode(t.charCode);" "===e?this.onSpaceKeyPressed(t):d.e.isEventFromPrintableCharacter(t)&&(this.startRowOrCellEdit(null,e),t.preventDefault())}},e.prototype.onSpaceKeyPressed=function(t){if(!this.editingCell&&this.beans.gridOptionsWrapper.isRowSelection()){var e=this.rowNode.isSelected();this.rowNode.setSelected(!e)}t.preventDefault()},e.prototype.onMouseDown=function(t){var e=!1,n=t.button,r=t.ctrlKey,o=t.metaKey,s=t.shiftKey,a=t.target,u=this.beans,l=u.eventService,c=u.rangeController;if(c&&(c.isCellInAnyRange(this.getCellPosition())&&2===n))return;if((d.e.isBrowserIE()||d.e.isBrowserEdge())&&this.getGui().contains(a)&&(e=!0),!s||c&&!c.getCellRanges().length?this.focusCell(e):t.preventDefault(),!d.e.isElementChildOfClass(a,"ag-selection-checkbox",3)){if(d.e.isLeftClick(t)&&c){var h=this.cellPosition;if(s)c.extendLatestRangeToCell(h);else{var p=r||o;c.setRangeToCell(h,p)}}var f=this.createEvent(t,i.a.EVENT_CELL_MOUSE_DOWN);l.dispatchEvent(f)}},e.prototype.isDoubleClickOnIPad=function(){if(!d.e.isIOSUserAgent()||d.e.isEventSupported("dblclick"))return!1;var t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();var e=this.createEvent(t,i.a.EVENT_CELL_CLICKED);this.beans.eventService.dispatchEvent(e);var n=this.getComponentHolder();n.onCellClicked&&window.setTimeout((function(){return n.onCellClicked(e)}),0),(this.beans.gridOptionsWrapper.isSingleClickEdit()||n.singleClickEdit)&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},e.prototype.createGridCellVo=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.getParentRow=function(){return this.eParentRow},e.prototype.setParentRow=function(t){this.eParentRow=t},e.prototype.getColumn=function(){return this.column},e.prototype.getComponentHolder=function(){return this.column.getColDef()},e.prototype.detach=function(){this.eParentRow.removeChild(this.getGui())},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.createCellRendererFunc&&this.beans.taskQueue.cancelTask(this.createCellRendererFunc),this.stopEditing(),this.cellRenderer&&this.cellRenderer.destroy&&(this.cellRenderer.destroy(),this.cellRenderer=null),this.selectionHandle&&this.selectionHandle.destroy()},e.prototype.onLeftChanged=function(){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.getGui().style.left=t+"px",this.refreshAriaIndex()},e.prototype.modifyLeftForPrintLayout=function(t){return this.printLayout&&this.column.getPinned()!==r.a.PINNED_LEFT?this.column.getPinned()===r.a.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+t:this.beans.columnController.getPinnedLeftContainerWidth()+t:t},e.prototype.onWidthChanged=function(){var t=this.getCellWidth();this.getGui().style.width=t+"px"},e.prototype.getRangeBorders=function(){var t,e,n=this,r=this.beans.gridOptionsWrapper.isEnableRtl(),i=!1,o=!1,s=!1,a=!1,u=this.cellPosition.column,l=this.beans.rangeController;r?(t=this.beans.columnController.getDisplayedColAfter(u),e=this.beans.columnController.getDisplayedColBefore(u)):(t=this.beans.columnController.getDisplayedColBefore(u),e=this.beans.columnController.getDisplayedColAfter(u));var c=l.getCellRanges().filter((function(t){return l.isCellInSpecificRange(n.cellPosition,t)}));t||(a=!0),e||(o=!0);for(var h=0;h<c.length&&!(i&&o&&s&&a);h++){var p=c[h],d=l.getRangeStartRow(p),f=l.getRangeEndRow(p);!i&&this.beans.rowPositionUtils.sameRow(d,this.cellPosition)&&(i=!0),!s&&this.beans.rowPositionUtils.sameRow(f,this.cellPosition)&&(s=!0),!a&&p.columns.indexOf(t)<0&&(a=!0),!o&&p.columns.indexOf(e)<0&&(o=!0)}return{top:i,right:o,bottom:s,left:a}},e.prototype.getInitialRangeClasses=function(){var t=[];if(!this.rangeSelectionEnabled||!this.rangeCount)return t;t.push("ag-cell-range-selected"),this.hasChartRange&&t.push("ag-cell-range-chart");var e=Math.min(this.rangeCount,4);if(t.push("ag-cell-range-selected-"+e),this.isSingleCell()&&t.push("ag-cell-range-single-cell"),this.rangeCount>0){var n=this.getRangeBorders();n.top&&t.push("ag-cell-range-top"),n.right&&t.push("ag-cell-range-right"),n.bottom&&t.push("ag-cell-range-bottom"),n.left&&t.push("ag-cell-range-left")}return this.selectionHandle&&t.push("ag-cell-range-handle"),t},e.prototype.onRowIndexChanged=function(){this.createGridCellVo(),this.onCellFocused(),this.onRangeSelectionChanged()},e.prototype.onRangeSelectionChanged=function(){var t=this.beans.rangeController;if(t){var e=this.cellPosition,n=this.rangeCount,r=t.getCellRangeCount(e),i=this.getGui();n!==r&&(d.e.addOrRemoveCssClass(i,"ag-cell-range-selected",0!==r),d.e.addOrRemoveCssClass(i,"ag-cell-range-selected-1",1===r),d.e.addOrRemoveCssClass(i,"ag-cell-range-selected-2",2===r),d.e.addOrRemoveCssClass(i,"ag-cell-range-selected-3",3===r),d.e.addOrRemoveCssClass(i,"ag-cell-range-selected-4",r>=4),this.rangeCount=r);var o=this.getHasChartRange();o!==this.hasChartRange&&(this.hasChartRange=o,d.e.addOrRemoveCssClass(i,"ag-cell-range-chart",this.hasChartRange)),this.updateRangeBorders(),d.e.addOrRemoveCssClass(i,"ag-cell-range-single-cell",this.isSingleCell()),this.refreshHandle()}},e.prototype.getHasChartRange=function(){var t=this.beans.rangeController;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every((function(t){return d.e.includes([a.a.DIMENSION,a.a.VALUE],t.type)}))},e.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,n=t.rangeController,r=n.getCellRanges(),i=r.length;if(this.rangeCount<1||i<1)return!1;var o=d.e.last(r),s=this.getCellPosition(),u=1===i&&(e.isEnableFillHandle()||e.isEnableRangeHandle())&&!this.editingCell;if(this.hasChartRange){var l=r[0].type===a.a.DIMENSION&&n.isCellInSpecificRange(s,r[0]);d.e.addOrRemoveCssClass(this.getGui(),"ag-cell-range-chart-category",l),u=o.type===a.a.VALUE}return u&&null!=o.endRow&&n.isContiguousRange(o)&&n.isLastCellOfRange(o,s)},e.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,n=t.context,r=t.rangeController,i=d.e.last(r.getCellRanges()).type,o=e.isEnableFillHandle()&&d.e.missing(i)?"fill":"range";this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle.destroy(),this.selectionHandle=void 0),this.selectionHandle||(this.selectionHandle=n.createComponentFromElement(document.createElement("ag-"+o+"-handle"))),this.selectionHandle.refresh(this)},e.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},e.prototype.refreshHandle=function(){if(this.beans.rangeController){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle.destroy(),this.selectionHandle=null),t&&this.addSelectionHandle(),d.e.addOrRemoveCssClass(this.getGui(),"ag-cell-range-handle",!!this.selectionHandle)}},e.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.top,r=!e&&t.right,i=!e&&t.bottom,o=!e&&t.left,s=this.getGui();d.e.addOrRemoveCssClass(s,"ag-cell-range-top",n),d.e.addOrRemoveCssClass(s,"ag-cell-range-right",r),d.e.addOrRemoveCssClass(s,"ag-cell-range-bottom",i),d.e.addOrRemoveCssClass(s,"ag-cell-range-left",o)},e.prototype.onFirstRightPinnedChanged=function(){var t=this.column.isFirstRightPinned();this.firstRightPinned!==t&&(this.firstRightPinned=t,d.e.addOrRemoveCssClass(this.getGui(),"ag-cell-first-right-pinned",t))},e.prototype.onLastLeftPinnedChanged=function(){var t=this.column.isLastLeftPinned();this.lastLeftPinned!==t&&(this.lastLeftPinned=t,d.e.addOrRemoveCssClass(this.getGui(),"ag-cell-last-left-pinned",t))},e.prototype.populateTemplate=function(){this.usingWrapper?(this.eParentOfValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.eCellValue=this.getRefElement("eCellValue"),this.includeRowDraggingComponent&&this.addRowDragging(),this.includeDndSourceComponent&&this.addDndSource(),this.includeSelectionComponent&&this.addSelectionCheckbox()):this.eParentOfValue=this.getGui()},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.addRowDragging=function(){var t=this.beans.gridOptionsWrapper.isPagination(),e=this.beans.gridOptionsWrapper.isRowDragManaged(),n=this.beans.gridOptionsWrapper.isRowModelDefault();if(e){if(!n)return void d.e.doOnce((function(){return console.warn("ag-Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(t)return void d.e.doOnce((function(){return console.warn("ag-Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var r=new v(this.rowNode,this.column,this.getValueToUse(),this.beans);this.addFeature(r,this.beans.context),this.eCellWrapper.insertBefore(r.getGui(),this.eParentOfValue)},e.prototype.addDndSource=function(){var t=new _(this.rowNode,this.column,this.getValueToUse(),this.beans,this.getGui());this.addFeature(t,this.beans.context),this.eCellWrapper.insertBefore(t.getGui(),this.eParentOfValue)},e.prototype.addSelectionCheckbox=function(){var t=new s.a;this.beans.context.wireBean(t);var e=this.getComponentHolder().checkboxSelection;e="function"===typeof e?e:null,t.init({rowNode:this.rowNode,column:this.column,visibleFunc:e}),this.addDestroyFunc((function(){return t.destroy()})),this.eCellWrapper.insertBefore(t.getGui(),this.eParentOfValue)},e.prototype.addDomData=function(){var t=this,n=this.getGui();this.beans.gridOptionsWrapper.setDomData(n,e.DOM_DATA_KEY_CELL_COMP,this),this.addDestroyFunc((function(){return t.beans.gridOptionsWrapper.setDomData(n,e.DOM_DATA_KEY_CELL_COMP,null)}))},e.prototype.isSingleCell=function(){var t=this.beans.rangeController;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},e.prototype.onCellFocused=function(t){var e=this.beans.focusedCellController.isCellFocused(this.cellPosition);e!==this.cellFocused&&(!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&d.e.addOrRemoveCssClass(this.getGui(),"ag-cell-focus",e),this.cellFocused=e);e&&t&&t.forceBrowserFocus&&(this.getGui().focus(),document.activeElement&&document.activeElement!==document.body||this.getGui().focus());var n=this.beans.gridOptionsWrapper.isFullRowEdit();e||n||!this.editingCell||this.stopRowOrCellEdit()},e.prototype.stopRowOrCellEdit=function(t){void 0===t&&(t=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.stopRowEditing(t):this.stopEditing(t)},e.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),this.editingCell)if(this.cellEditor){var e,n=!1;if(!t)this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()||(e=this.cellEditor.getValue(),n=!0);if(this.editingCell=!1,this.cellEditor.destroy&&this.cellEditor.destroy(),this.cellEditor=null,this.cellEditorInPopup&&this.hideEditorPopup)this.hideEditorPopup(),this.hideEditorPopup=null;else if(d.e.clearElement(this.getGui()),this.usingWrapper)this.getGui().appendChild(this.eCellWrapper);else if(this.cellRenderer){var r=this.cellRendererGui;r&&this.getGui().appendChild(r)}this.setInlineEditingClass(),n&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,e),this.suppressRefreshCell=!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0});var o=this.createEvent(null,i.a.EVENT_CELL_EDITING_STOPPED);this.beans.eventService.dispatchEvent(o)}else this.editingCell=!1},e.DOM_DATA_KEY_CELL_COMP="cellComp",e.CELL_RENDERER_TYPE_NORMAL="cellRenderer",e.CELL_RENDERER_TYPE_PINNED="pinnedRowCellRenderer",e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},i=function(){function t(){}return t.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow"],t.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","groupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","columnTypes","rowClassRules","detailGridOptions","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","reduxStore","statusBar","sideBar"],t.ARRAY_PROPERTIES=["slaveGrids","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData"],t.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","paginationStartPage","infiniteBlockSize","batchUpdateWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit"],t.BOOLEAN_PROPERTIES=["toolPanelSuppressRowGroups","toolPanelSuppressValues","toolPanelSuppressPivots","toolPanelSuppressPivotMode","toolPanelSuppressSideButtons","toolPanelSuppressColumnFilter","toolPanelSuppressColumnSelectAll","toolPanelSuppressColumnExpandAll","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","showToolPanel","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","suppressMenuFilterPanel","suppressMenuMainPanel","suppressMenuColumnPanel","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressUseColIdForGroups","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragManaged","suppressRowDrag","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressTabbing","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","pivotTotals","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","contractColumnSelection","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","gridAutoHeight","suppressRowTransform","suppressClipboardPaste","serverSideSortingAlwaysResets","reactNext","suppressSetColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel"],t.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","dateComponent","dateComponentFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getRowClassRules","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getNodeChildDetails","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","doesDataFlower","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextCell","tabToNextCell","getDetailRowData","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","defaultGroupSortComparator","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","processChartOptions","getChartToolbarItems","fillOperation"],t.ALL_PROPERTIES=r(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES,t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}()},function(t,e,n){t.exports=n(208)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(8),i=n(33),o=n(0),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.config={},e.TEMPLATE='<div class="ag-input-field" role="presentation">\n            <label ref="eLabel"></label>\n            <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                <%displayField% ref="eInput"></%displayField%>\n            </div>\n        </div>',e}return s(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setInputType(),o.e.addCssClass(this.getGui(),this.className);var e=this.config,n=e.width,r=e.value;null!=n&&this.setWidth(n),null!=r&&this.setValue(r),this.addInputListeners()},e.prototype.addInputListeners=function(){var t=this;this.addDestroyableEventListener(this.eInput,"input",(function(e){var n=e.target.value;t.setValue(n)}))},e.prototype.setInputType=function(){this.inputType&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return o.e.setElementWidth(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},a([Object(r.c)("eLabel")],e.prototype,"eLabel",void 0),a([Object(r.c)("eWrapper")],e.prototype,"eWrapper",void 0),a([Object(r.c)("eInput")],e.prototype,"eInput",void 0),e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(7),i=n(40),o=n(18),s=n(0),a=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},u=function(){function t(){}return t.getEventCallbacks=function(){return t.EVENT_CALLBACKS||(t.EVENT_CALLBACKS=t.EVENTS.map((function(e){return t.getCallbackForEvent(e)}))),t.EVENT_CALLBACKS},t.copyAttributesToGridOptions=function(e,n,r){void 0===r&&(r=!1),l(n),"object"!==typeof e&&(e={});var i=e,s=function(t){return"undefined"!==typeof n[t]};return a(t.ARRAY_PROPERTIES,t.STRING_PROPERTIES,t.OBJECT_PROPERTIES,t.FUNCTION_PROPERTIES,t.getEventCallbacks()).filter(s).forEach((function(t){return i[t]=n[t]})),t.BOOLEAN_PROPERTIES.filter(s).forEach((function(e){return i[e]=t.toBoolean(n[e])})),t.NUMBER_PROPERTIES.filter(s).forEach((function(e){return i[e]=t.toNumber(n[e])})),r||t.EVENTS.filter((function(e){return s(e)||s(t.getCallbackForEvent(e))})).forEach((function(t){return o.a.checkEventDeprecation(t)})),e},t.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},t.processOnChange=function(e,n,i,o){if(e){l(e);var u=n,c=function(t){return e[t]};a(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.getEventCallbacks()).filter(c).forEach((function(t){return u[t]=e[t].currentValue})),t.BOOLEAN_PROPERTIES.filter(c).forEach((function(n){return u[n]=t.toBoolean(e[n].currentValue)})),t.NUMBER_PROPERTIES.filter(c).forEach((function(n){return u[n]=t.toNumber(e[n].currentValue)})),e.enableCellTextSelection&&i.setEnableCellTextSelection(t.toBoolean(e.enableCellTextSelection.currentValue)),e.showToolPanel&&i.showToolPanel(t.toBoolean(e.showToolPanel.currentValue)),e.quickFilterText&&i.setQuickFilter(e.quickFilterText.currentValue),e.rowData&&i.setRowData(e.rowData.currentValue),e.pinnedTopRowData&&i.setPinnedTopRowData(e.pinnedTopRowData.currentValue),e.pinnedBottomRowData&&i.setPinnedBottomRowData(e.pinnedBottomRowData.currentValue),e.columnDefs&&i.setColumnDefs(e.columnDefs.currentValue,"gridOptionsChanged"),e.datasource&&i.setDatasource(e.datasource.currentValue),e.headerHeight&&i.setHeaderHeight(t.toNumber(e.headerHeight.currentValue)),e.paginationPageSize&&i.paginationSetPageSize(t.toNumber(e.paginationPageSize.currentValue)),e.pivotMode&&o.setPivotMode(t.toBoolean(e.pivotMode.currentValue)),e.groupRemoveSingleChildren&&i.setGroupRemoveSingleChildren(t.toBoolean(e.groupRemoveSingleChildren.currentValue)),e.suppressRowDrag&&i.setSuppressRowDrag(t.toBoolean(e.suppressRowDrag.currentValue)),e.gridAutoHeight&&i.setGridAutoHeight(t.toBoolean(e.gridAutoHeight.currentValue)),e.suppressClipboardPaste&&i.setSuppressClipboardPaste(t.toBoolean(e.suppressClipboardPaste.currentValue)),e.sideBar&&i.setSideBar(e.sideBar.currentValue);var h={type:r.a.EVENT_COMPONENT_STATE_CHANGED,api:n.api,columnApi:n.columnApi};s.e.iterateObject(e,(function(t,e){h[t]=e})),i.dispatchEvent(h)}},t.toBoolean=function(t){return"boolean"===typeof t?t:"string"===typeof t&&("TRUE"===t.toUpperCase()||""==t)},t.toNumber=function(t){return"number"===typeof t?t:"string"===typeof t?Number(t):void 0},t.EVENTS=[],t.STRING_PROPERTIES=i.a.STRING_PROPERTIES,t.OBJECT_PROPERTIES=i.a.OBJECT_PROPERTIES,t.ARRAY_PROPERTIES=i.a.ARRAY_PROPERTIES,t.NUMBER_PROPERTIES=i.a.NUMBER_PROPERTIES,t.BOOLEAN_PROPERTIES=i.a.BOOLEAN_PROPERTIES,t.FUNCTION_PROPERTIES=i.a.FUNCTION_PROPERTIES,t.ALL_PROPERTIES=i.a.ALL_PROPERTIES,t}();function l(t){(t.rowDeselected||t.onRowDeselected)&&console.warn("ag-grid: as of v3.4 rowDeselected no longer exists. Please check the docs.")}u.EVENTS=s.e.values(r.a)},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(10),i=n(8),o=n(1),s=n(0),a=n(5),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.onFilterChanged=function(){console.warn("ag-Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.postConstruct=function(){var t=this.createTemplate();this.setTemplate(t)},e.prototype.init=function(t){this.setParams(t),this.resetUiToDefaults(),this.updateUiVisibility(),this.setupOnBtApplyDebounce()},e.prototype.setParams=function(t){var n=this;if(this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),t.newRowsAction===e.NEW_ROWS_ACTION_KEEP)this.newRowsActionKeep=!0;else if(t.newRowsAction===e.NEW_ROWS_ACTION_CLEAR)this.newRowsActionKeep=!1;else{var r=this.rowModel.getType(),i=[a.a.ROW_MODEL_TYPE_SERVER_SIDE,a.a.ROW_MODEL_TYPE_INFINITE];this.newRowsActionKeep=i.indexOf(r)>=0}s.e.setDisplayed(this.eApplyButton,this.applyActive),this.addDestroyableEventListener(this.eApplyButton,"click",(function(){return n.onBtApply()}));var o=!0===t.clearButton;s.e.setDisplayed(this.eClearButton,o),this.addDestroyableEventListener(this.eClearButton,"click",(function(){return n.onBtClear()}));var u=!0===t.resetButton;s.e.setDisplayed(this.eResetButton,u),this.addDestroyableEventListener(this.eResetButton,"click",(function(){return n.onBtReset()}));var l=this.applyActive||o||u;s.e.setDisplayed(this.eButtonsPanel,l)},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=s.e.debounce(this.onBtApply.bind(this),t)},e.prototype.getModel=function(){return this.appliedModel},e.prototype.setModel=function(t){t?this.setModelIntoUi(t):this.resetUiToDefaults(),this.updateUiVisibility(),this.applyModel()},e.prototype.onBtClear=function(){this.resetUiToDefaults(),this.updateUiVisibility(),this.onUiChanged()},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(){var t=this.appliedModel;return this.appliedModel=this.getModelFromUi(),!this.areModelsEqual(this.appliedModel,t)},e.prototype.onBtApply=function(t){void 0===t&&(t=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t})},e.prototype.onNewRowsLoaded=function(){this.newRowsActionKeep||(this.resetUiToDefaults(),this.appliedModel=null)},e.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},e.prototype.onUiChanged=function(t){void 0===t&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),t?this.onBtApply(!0):this.applyActive||this.onBtApplyDebounce()},e.prototype.createTemplate=function(){var t=this.createBodyTemplate(),e=this.gridOptionsWrapper.getLocaleTextFunc();return"<div>\n                    <div class='ag-filter-body-wrapper' ref=\"eFilterBodyWrapper\">"+t+'</div>\n                    <div class="ag-filter-apply-panel" ref="eButtonsPanel">\n                        <button type="button" ref="eClearButton">'+e("clearFilter","Clear Filter")+'</button>\n                        <button type="button" ref="eResetButton">'+e("resetFilter","Reset Filter")+'</button>\n                        <button type="button" ref="eApplyButton">'+e("applyFilter","Apply Filter")+"</button>\n                    </div>\n                </div>"},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("ag-Grid: debounceMs is ignored when applyButton = true"),0):null!=t.debounceMs?t.debounceMs:n},e.isUseApplyButton=function(t){return t.apply&&!t.applyButton&&(console.warn("ag-Grid: as of ag-Grid v21, filterParams.apply is now filterParams.applyButton, please change to applyButton"),t.applyButton=!0),!0===t.applyButton},e.NEW_ROWS_ACTION_KEEP="keep",e.NEW_ROWS_ACTION_CLEAR="clear",l([Object(i.c)("eButtonsPanel")],e.prototype,"eButtonsPanel",void 0),l([Object(i.c)("eFilterBodyWrapper")],e.prototype,"eFilterBodyWrapper",void 0),l([Object(i.c)("eClearButton")],e.prototype,"eClearButton",void 0),l([Object(i.c)("eResetButton")],e.prototype,"eResetButton",void 0),l([Object(i.c)("eApplyButton")],e.prototype,"eApplyButton",void 0),l([Object(o.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),l([Object(o.a)("rowModel")],e.prototype,"rowModel",void 0),l([o.e],e.prototype,"postConstruct",null),e}(r.a)},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(12),i=n(21),o=n(5),s=n(0),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e,n,r,i){var s=t.call(this)||this;return s.columnOrGroup=e,s.eCell=n,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=i,s.beans=r,s.printLayout=r.gridOptionsWrapper.getDomLayout()===o.a.DOM_LAYOUT_PRINT,s}return a(e,t),e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?s.e.last(this.colsSpanning):this.columnOrGroup},e.prototype.init=function(){this.addDestroyableEventListener(this.columnOrGroup,r.a.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime()},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),e=s.e.exists(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,e=this.getColumnOrGroup().getLeft(),n=this.getColumnOrGroup().getOldLeft();this.setLeft(n),this.actualLeft=e,this.beans.columnAnimationService.executeNextVMTurn((function(){t.actualLeft===e&&t.setLeft(e)}))},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,e){return this.printLayout?t.getPinned()===o.a.PINNED_LEFT?e:t.getPinned()===o.a.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+e:this.beans.columnController.getPinnedLeftContainerWidth()+e:e},e.prototype.setLeft=function(t){if(s.e.exists(t)&&(this.eCell.style.left=t+"px"),this.columnOrGroup instanceof r.a){var e=this.beans.columnController.getAllDisplayedColumns().indexOf(this.columnOrGroup);this.ariaEl.setAttribute("aria-colindex",(e+1).toString())}else this.ariaEl.removeAttribute("aria-colindex")},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(1),i=n(42),o=n(0),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){var e=t.call(this)||this;return e.className="ag-checkbox",e.nativeInputClassName="ag-native-checkbox",e.displayTag="input",e.inputType="checkbox",e.labelAlignment="right",e.iconMap={selected:"checkboxChecked",unselected:"checkboxUnchecked",indeterminate:"checkboxIndeterminate"},e.selected=!1,e.readOnly=!1,e.passive=!1,e.setTemplate(e.TEMPLATE.replace(/%displayField%/g,e.displayTag)),e}return s(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.gridOptionsWrapper.useNativeCheckboxes()?o.e.addCssClass(this.eInput,this.nativeInputClassName):(o.e.addCssClass(this.eInput,"ag-hidden"),this.addIconsPlaceholder(),this.updateIcons())},e.prototype.addInputListeners=function(){var t=this;this.gridOptionsWrapper.useNativeCheckboxes()?this.addDestroyableEventListener(this.eInput,"click",this.onCheckboxClick.bind(this)):(this.addDestroyableEventListener(this.getGui(),"click",(function(e){return t.onClick(e)})),this.addDestroyableEventListener(this.eInput,"change",(function(e){return t.setValue(e.target.checked,!0)})))},e.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eInput.readOnly=t,this.readOnly=t,this.updateIcons()},e.prototype.toggle=function(){var t=this.getNextValue();this.passive?this.dispatchChange(t):this.setValue(t)},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,e){return this.setSelected(t,e),this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,e){this.selected!==t&&(this.selected="boolean"===typeof t?t:void 0,this.eInput.checked=this.selected,this.eInput.indeterminate=void 0===this.selected,this.updateIcons(),e||this.dispatchChange(this.selected))},e.prototype.getIconName=function(){var t=this.getValue(),e=void 0===t?"indeterminate":t?"selected":"unselected",n=this.isReadOnly()?"ReadOnly":"";return""+this.iconMap[e]+n},e.prototype.updateIcons=function(){this.gridOptionsWrapper.useNativeCheckboxes()||(o.e.clearElement(this.eIconEl),this.eIconEl.appendChild(o.e.createIconNoSpan(this.getIconName(),this.gridOptionsWrapper,null)))},e.prototype.dispatchChange=function(t){this.dispatchEvent({type:e.EVENT_CHANGED,selected:t})},e.prototype.addIconsPlaceholder=function(){var t=document.createElement("div");this.eWrapper.appendChild(t),this.eIconEl=t},e.prototype.onClick=function(t){o.e.addAgGridEventPath(t),this.readOnly||this.toggle()},e.prototype.onCheckboxClick=function(t){this.selected=t.target.checked,this.dispatchChange(this.selected)},a([Object(r.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(i.a)},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=function(t,e){return function(n,r){e(n,r,t)}},s=function(){function t(){}return t.prototype.setBeans=function(t){this.logging=t.isDebug()},t.prototype.create=function(t){return new a(t,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},i([o(0,Object(r.h)("gridOptionsWrapper"))],t.prototype,"setBeans",null),t=i([Object(r.b)("loggerFactory")],t)}(),a=function(){function t(t,e){this.name=t,this.isLoggingFunc=e}return t.prototype.isLogging=function(){return this.isLoggingFunc()},t.prototype.log=function(t){this.isLoggingFunc()&&console.log("ag-Grid."+this.name+": "+t)},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(1),i=n(75),o=n(10),s=n(0),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t){function e(e){var n=t.call(this,e)||this;return n.RESIZE_TEMPLATE='\n        <div class="ag-resizer-wrapper">\n            <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n            <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n            <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n            <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n            <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n            <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n            <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n            <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n        </div>\n    ',n.MAXIMIZE_BTN_TEMPLATE='<div class="ag-dialog-button"></span>',n.resizable={},n.isResizable=!1,n.movable=!1,n.isMoving=!1,n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.isResizing=!1,n.lastPosition={x:0,y:0,width:0,height:0},n}return a(e,t),e.prototype.postConstruct=function(){var e=this,n=this.getGui(),r=this.config,i=r.movable,o=r.resizable,a=r.maximizable;s.e.addCssClass(n,"ag-dialog"),this.moveElement=this.eTitleBar,t.prototype.postConstruct.call(this),this.addDestroyableEventListener(n,"focusin",(function(t){n.contains(t.relatedTarget)||e.popupService.bringPopupToFront(n)})),i&&this.setMovable(i),a&&this.setMaximizable(a),this.addResizers(),o&&this.setResizable(o)},e.prototype.renderComponent=function(){var t=this.getGui(),e=this.config,n=e.alwaysOnTop,r=e.modal;this.close=this.popupService.addPopup(r,t,!0,this.destroy.bind(this),void 0,n),t.focus()},e.prototype.addResizers=function(){var t=this.getGui();if(t){var e=(new DOMParser).parseFromString(this.RESIZE_TEMPLATE,"text/html").body;t.appendChild(e.firstChild),this.createMap()}},e.prototype.createMap=function(){var t=this.getGui();this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t){this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onResize=function(t,e){if(this.isResizing){var n=!!e.match(/left/i),r=!!e.match(/right/i),i=!!e.match(/top/i),o=!!e.match(/bottom/i),s=n||r,a=i||o,u=this.calculateMouseMovement({e:t,isLeft:n,isTop:i}),l=u.movementX,c=u.movementY,h=0,p=0;if(s&&l){var d=n?-1:1,f=this.getWidth(),g=f+l*d,v=!1;n&&(h=f-g,(this.position.x+h<=0||g<=this.minWidth)&&(v=!0,h=0)),v||this.setWidth(g)}if(a&&c){d=i?-1:1;var m=this.getHeight(),y=m+c*d,b=!1;i&&(p=m-y,(this.position.y+p<=0||y<=this.minHeight)&&(b=!0,p=0)),b||this.setHeight(y)}this.updateDragStartPosition(t.clientX,t.clientY),(h||p)&&this.offsetElement(this.position.x+h,this.position.y+p)}},e.prototype.onResizeEnd=function(){this.isResizing=!1;var t={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.localEventService&&this.localEventService.dispatchEvent(t)},e.prototype.onMoveStart=function(t){this.isMoving=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var e=this.position,n=e.x,r=e.y,i=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:this.getHeight()-this.getBodyHeight()}),o=i.movementX,s=i.movementY;this.offsetElement(n+o,r+s),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1},e.prototype.toggleMaximize=function(){if(this.isMaximized){var t=this.lastPosition,e=t.x,n=t.y,r=t.width,i=t.height;this.setWidth(r),this.setHeight(i),this.offsetElement(e,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,this.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){s.e.addOrRemoveCssClass(this.maximizeIcon,"ag-hidden",this.isMaximized),s.e.addOrRemoveCssClass(this.minimizeIcon,"ag-hidden",!this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(t){return t()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.setResizable(!1),this.setMovable(!1),this.maximizeButtonComp&&(this.maximizeButtonComp.destroy(),this.maximizeButtonComp=void 0),this.clearMaximizebleListeners()},e.prototype.setResizable=function(t){var e=this,n=!1;"boolean"===typeof t&&(t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}),Object.keys(t).forEach((function(r){var i=r,o=!!t[i],s=e.getResizerElement(i),a=e.resizerMap[i].dragSource||{eElement:s,onDragStart:e.onResizeStart.bind(e),onDragging:function(t){return e.onResize(t,i)},onDragStop:e.onResizeEnd.bind(e)};!!e.resizable[i]===o&&(e.isAlive()||o)||(o?(e.dragService.addDragSource(a),s.style.pointerEvents="all",n=!0):(e.dragService.removeDragSource(a),s.style.pointerEvents="none"),e.resizerMap[i].dragSource=o?a:void 0)})),this.isResizable=n},e.prototype.setMovable=function(t){if(t!==this.movable){this.movable=t;var e=this.moveElementDragListener||{eElement:this.moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(e),this.moveElementDragListener=e):(this.dragService.removeDragSource(e),this.moveElementDragListener=void 0)}},e.prototype.setMaximizable=function(t){var e=this;if(!1===t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.maximizeButtonComp.destroy(),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&t!==this.isMaximizable){var r=this.maximizeButtonComp=new o.a(this.MAXIMIZE_BTN_TEMPLATE);this.getContext().wireBean(r);var i=r.getGui();i.appendChild(this.maximizeIcon=s.e.createIconNoSpan("maximize",this.gridOptionsWrapper)),i.appendChild(this.minimizeIcon=s.e.createIconNoSpan("minimize",this.gridOptionsWrapper)),s.e.addCssClass(this.minimizeIcon,"ag-hidden"),r.addDestroyableEventListener(i,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(r,0),this.maximizeListeners.push(this.addDestroyableEventListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addDestroyableEventListener(this,"resize",(function(){e.isMaximized=!1,e.refreshMaximizeIcon()}))}},u([Object(r.a)("dragService")],e.prototype,"dragService",void 0),e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return u}));var r,i=n(1),o=n(60),s=n(0),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.REGISTERED_BY_NAME=1]="REGISTERED_BY_NAME",t[t.HARDCODED=2]="HARDCODED"}(r||(r={}));var u=function(){function t(){}return t.prototype.newDateComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,"dateComponent","agDateInput")},t.prototype.newHeaderComponent=function(t){return this.createAndInitUserComponent(t.column.getColDef(),t,"headerComponent","agColumnHeader")},t.prototype.newHeaderGroupComponent=function(t){return this.createAndInitUserComponent(t.columnGroup.getColGroupDef(),t,"headerGroupComponent","agColumnGroupHeader")},t.prototype.newFullWidthGroupRowInnerCellRenderer=function(t){return this.createAndInitUserComponent(this.gridOptions,t,"groupRowInnerRenderer",null,!0)},t.prototype.newFullWidthCellRenderer=function(t,e,n){return this.createAndInitUserComponent(null,t,e,n)},t.prototype.newCellRenderer=function(t,e){return this.createAndInitUserComponent(t,e,"cellRenderer",null,!0)},t.prototype.newPinnedRowCellRenderer=function(t,e){return this.createAndInitUserComponent(t,e,"pinnedRowCellRenderer",null,!0)},t.prototype.newCellEditor=function(t,e){return this.createAndInitUserComponent(t,e,"cellEditor","agCellEditor")},t.prototype.newInnerCellRenderer=function(t,e){return this.createAndInitUserComponent(t,e,"innerRenderer",null)},t.prototype.newLoadingOverlayComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,"loadingOverlayComponent","agLoadingOverlay")},t.prototype.newNoRowsOverlayComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,"noRowsOverlayComponent","agNoRowsOverlay")},t.prototype.newTooltipComponent=function(t){var e=t.colDef;return this.createAndInitUserComponent(e,t,"tooltipComponent","agTooltipComponent")},t.prototype.newFilterComponent=function(t,e,n,r){return this.createAndInitUserComponent(t,e,"filter",n,!1,r)},t.prototype.newFloatingFilterComponent=function(t,e,n){return this.createAndInitUserComponent(t,e,"floatingFilterComponent",n,!0)},t.prototype.newToolPanelComponent=function(t,e){return this.createAndInitUserComponent(t,e,"toolPanel")},t.prototype.newStatusPanelComponent=function(t,e){return this.createAndInitUserComponent(t,e,"statusPanel")},t.prototype.createAndInitUserComponent=function(t,e,n,r,i,o){void 0===i&&(i=!1),t||(t=this.gridOptions);var a=this.createComponentInstance(t,n,e,r,i);if(!a)return null;var u=a.componentInstance,l=this.createFinalParams(t,n,e,a.paramsFromSelector);this.addReactHacks(l);var c=o?o(l,u):l,h=this.initComponent(u,c);return null==h?s.c.resolve(u):h.map((function(t){return u}))},t.prototype.addReactHacks=function(t){var e=this.context.getBean("agGridReact");e&&(t.agGridReact=s.e.cloneObject(e));var n=this.context.getBean("frameworkComponentWrapper");n&&(t.frameworkComponentWrapper=n)},t.prototype.createUserComponentFromConcreteClass=function(t,e){var n=new t;return this.initComponent(n,e),n},t.prototype.lookupComponentClassDef=function(t,e,n,i){void 0===n&&(n=null);var o,s=null,a=null,u=null,l=null;if(null!=t){var c=t[e];null==c||!0===c||("string"===typeof c?s=c:"boolean"===typeof c||(this.agComponentUtils.doesImplementIComponent(c)?a=c:u=c)),l=t[e+"Framework"],o=t[e+"Selector"]}if(a&&l||s&&l||u&&l)throw Error("ag-grid: you are trying to specify: "+e+" twice as a component.");if(l&&!this.frameworkComponentWrapper)throw Error("ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : "+e);if(o&&(s||a||u||l))throw Error("ag-grid: you can't specify both, the selector and the component of ag-grid for : "+e);if(l)return{componentFromFramework:!0,component:l,source:r.HARDCODED,paramsFromSelector:null};if(a)return{componentFromFramework:!1,component:a,source:r.HARDCODED,paramsFromSelector:null};if(u)return this.agComponentUtils.adaptFunction(e,u,!1,r.HARDCODED);var h,p=o?o(n):null;if(!(h=p&&p.component?p.component:s||i))return null;var d=this.lookupFromRegisteredComponents(e,h);return d?{componentFromFramework:d.componentFromFramework,component:d.component,source:d.source,paramsFromSelector:p?p.params:null}:null},t.prototype.lookupFromRegisteredComponents=function(t,e){var n=null!=e?e:t,i=this.userComponentRegistry.retrieve(n);return null==i?null:i.componentFromFramework?{component:i.component,componentFromFramework:!0,source:r.REGISTERED_BY_NAME,paramsFromSelector:null}:this.agComponentUtils.doesImplementIComponent(i.component)?{component:i.component,componentFromFramework:!1,source:i.source==o.a.REGISTERED?r.REGISTERED_BY_NAME:r.DEFAULT,paramsFromSelector:null}:this.agComponentUtils.adaptFunction(t,i.component,i.componentFromFramework,i.source==o.a.REGISTERED?r.REGISTERED_BY_NAME:r.DEFAULT)},t.prototype.createFinalParams=function(t,e,n,r){void 0===r&&(r=null);var i={};s.e.mergeDeep(i,n);var o=t?t[e+"Params"]:null;return null!=o&&("function"===typeof o?s.e.mergeDeep(i,o(n)):"object"===typeof o&&s.e.mergeDeep(i,o)),s.e.mergeDeep(i,r),i},t.prototype.createComponentInstance=function(t,e,n,r,i){var o,s=this.lookupComponentClassDef(t,e,n,r);if(!s||!s.component){var a=t?t[e]:r,u=a||r;return i||console.error("Could not find component "+u+", did you forget to configure this component?"),null}if(s.componentFromFramework){var l=s.component,c=this.componentMetadataProvider.retrieve(e);o=this.frameworkComponentWrapper.wrap(l,c.mandatoryMethodList,c.optionalMethodList,r)}else o=new s.component;return{componentInstance:o,paramsFromSelector:s.paramsFromSelector}},t.prototype.initComponent=function(t,e){return this.context.wireBean(t),null==t.init?void 0:t.init(e)},a([Object(i.a)("gridOptions")],t.prototype,"gridOptions",void 0),a([Object(i.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),a([Object(i.a)("context")],t.prototype,"context",void 0),a([Object(i.a)("agComponentUtils")],t.prototype,"agComponentUtils",void 0),a([Object(i.a)("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),a([Object(i.a)("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),a([Object(i.d)("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),t=a([Object(i.b)("userComponentFactory")],t)}()},function(t,e,n){"use strict";var r=n(10),i=n(1),o=n(18),s=n(7),a=n(144),u=n(12),l=n(25),c=n(73),h=n(16),p=n(48),d=n(81),f=n(0),g=n(5),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},y=function(t){function e(n,r,i){var o=t.call(this,e.TEMPLATE)||this;return o.childColumnsDestroyFuncs=[],o.columnGroup=n,o.dragSourceDropTarget=r,o.pinned=i,o}return v(e,t),e.prototype.postConstruct=function(){c.a.addHeaderClassesFromColDef(this.getComponentHolder(),this.getGui(),this.gridOptionsWrapper,null,this.columnGroup);var t=this.columnController.getDisplayNameForColumnGroup(this.columnGroup,"header");this.appendHeaderGroupComp(t),this.setupResize(),this.addClasses(),this.setupWidth(),this.addAttributes(),this.setupMovingCss(),this.setupTooltip(),this.addFeature(new d.a(this.columnGroup.getOriginalColumnGroup().getLeafColumns(),this.getGui()));var e=new p.a(this.columnGroup,this.getGui(),this.beans);e.init(),this.addDestroyFunc(e.destroy.bind(e))},e.prototype.setupMovingCss=function(){var t=this;this.columnGroup.getOriginalColumnGroup().getLeafColumns().forEach((function(e){t.addDestroyableEventListener(e,u.a.EVENT_MOVING_CHANGED,t.onColumnMovingChanged.bind(t))})),this.onColumnMovingChanged()},e.prototype.getColumn=function(){return this.columnGroup},e.prototype.getComponentHolder=function(){return this.columnGroup.getColGroupDef()},e.prototype.getTooltipText=function(){var t=this.getComponentHolder();return t&&t.headerTooltip},e.prototype.setupTooltip=function(){var t=this.getTooltipText();null!=t&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",t):this.beans.tooltipManager.registerTooltip(this))},e.prototype.onColumnMovingChanged=function(){f.e.addOrRemoveCssClass(this.getGui(),"ag-header-cell-moving",this.columnGroup.isMoving())},e.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.columnGroup.getUniqueId())},e.prototype.appendHeaderGroupComp=function(t){var e=this,n={displayName:t,columnGroup:this.columnGroup,setExpanded:function(t){e.columnController.setColumnGroupOpened(e.columnGroup.getOriginalColumnGroup(),t,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!t){for(var r=this.columnGroup,i=r.getLeafColumns();r.getParent()&&r.getParent().getLeafColumns().length===i.length;)r=r.getParent();var o=r.getColGroupDef();o&&(t=o.headerName),t||(t=i?this.columnController.getDisplayNameForColumn(i[0],"header",!0):"")}var s=this.afterHeaderCompCreated.bind(this,t);this.userComponentFactory.newHeaderGroupComponent(n).then(s)},e.prototype.afterHeaderCompCreated=function(t,e){this.appendChild(e),this.setupMove(e.getGui(),t)},e.prototype.addClasses=function(){var t=this.columnGroup.isPadding()?"no":"with";this.addCssClass("ag-header-group-cell-"+t+"-group")},e.prototype.setupMove=function(t,e){var n=this;if(t&&!this.isSuppressMoving()){var r=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),i={type:h.b.HeaderCell,eElement:t,dragItemName:e,getDragItem:this.getDragItemForGroup.bind(this),dragSourceDropTarget:this.dragSourceDropTarget,onDragStarted:function(){return r.forEach((function(t){return t.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return r.forEach((function(t){return t.setMoving(!1,"uiColumnDragged")}))}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc((function(){return n.dragAndDropService.removeDragSource(i)}))}},e.prototype.getDragItemForGroup=function(){var t=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),e={};t.forEach((function(t){return e[t.getId()]=t.isVisible()}));var n=[];return this.columnController.getAllDisplayedColumns().forEach((function(e){t.indexOf(e)>=0&&(n.push(e),f.e.removeFromArray(t,e))})),t.forEach((function(t){return n.push(t)})),{columns:n,visibleState:e}},e.prototype.isSuppressMoving=function(){var t=!1;return this.columnGroup.getLeafColumns().forEach((function(e){(e.getColDef().suppressMovable||e.getColDef().lockPosition)&&(t=!0)})),t||this.gridOptionsWrapper.isSuppressMovableColumns()},e.prototype.setupWidth=function(){this.addListenersToChildrenColumns(),this.addDestroyableEventListener(this.columnGroup,l.a.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.destroyListenersOnChildrenColumns.bind(this))},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.destroyListenersOnChildrenColumns();var e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((function(n){n.addEventListener(u.a.EVENT_WIDTH_CHANGED,e),n.addEventListener(u.a.EVENT_VISIBLE_CHANGED,e),t.childColumnsDestroyFuncs.push((function(){n.removeEventListener(u.a.EVENT_WIDTH_CHANGED,e),n.removeEventListener(u.a.EVENT_VISIBLE_CHANGED,e)}))}))},e.prototype.destroyListenersOnChildrenColumns=function(){this.childColumnsDestroyFuncs.forEach((function(t){return t()})),this.childColumnsDestroyFuncs=[]},e.prototype.onWidthChanged=function(){this.getGui().style.width=this.columnGroup.getActualWidth()+"px"},e.prototype.setupResize=function(){var t=this;if(this.eHeaderCellResize=this.getRefElement("agResize"),this.columnGroup.isResizable()){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eHeaderCellResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsWrapper.isSuppressAutoSize()){var n=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eHeaderCellResize.addEventListener("dblclick",(function(e){var r=[];t.columnGroup.getDisplayedLeafColumns().forEach((function(t){t.getColDef().suppressAutoSize||r.push(t.getColId())})),r.length>0&&t.columnController.autoSizeColumns(r,n,"uiColumnResized")}))}}else f.e.removeFromParent(this.eHeaderCellResize)},e.prototype.onResizeStart=function(t){var e=this,n=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=n.filter((function(t){return t.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(t){return e.resizeStartWidth+=t.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(t){return e.resizeRatios.push(t.getActualWidth()/e.resizeStartWidth)}));var r=null;if(t&&(r=this.columnController.getDisplayedGroupAfter(this.columnGroup)),r){var i=r.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter((function(t){return t.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromStartWidth+=t.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromRatios.push(t.getActualWidth()/e.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;f.e.addCssClass(this.getGui(),"ag-column-resizing")},e.prototype.onResizing=function(t,e){var n=[],r=this.normaliseDragChange(e);n.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+r}),this.resizeTakeFromCols&&n.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-r}),this.columnController.resizeColumnSets(n,t,"uiColumnDragged"),t&&f.e.removeCssClass(this.getGui(),"ag-column-resizing")},e.prototype.normaliseDragChange=function(t){var e=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==g.a.PINNED_LEFT&&(e*=-1):this.pinned===g.a.PINNED_RIGHT&&(e*=-1),e},e.TEMPLATE='<div class="ag-header-group-cell" role="presentation">  <div ref="agResize" class="ag-header-cell-resize" role="presentation"></div></div>',m([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),m([Object(i.a)("columnController")],e.prototype,"columnController",void 0),m([Object(i.a)("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),m([Object(i.a)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),m([Object(i.a)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),m([Object(i.a)("gridApi")],e.prototype,"gridApi",void 0),m([Object(i.a)("columnApi")],e.prototype,"columnApi",void 0),m([Object(i.a)("beans")],e.prototype,"beans",void 0),m([i.e],e.prototype,"postConstruct",null),e}(r.a),b=n(8),w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},E=function(t){function e(){return t.call(this,'<div class="ag-input-wrapper" role="presentation"><input ref="eFloatingFilterText" class="ag-floating-filter-input"></div>')||this}return w(e,t),e.prototype.init=function(t){this.params=t,this.eFloatingFilterText.disabled=!0},e.prototype.onParentModelChanged=function(t){var e=this;t?this.params.parentFilterInstance((function(n){if(n.getModelAsString){var r=n.getModelAsString(t);e.eFloatingFilterText.value=r}})):this.eFloatingFilterText.value=""},C([Object(b.c)("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),e}(r.a),_=n(15),O=n(14),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},R=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.column=n,r}return T(e,t),e.prototype.postConstruct=function(){this.setupFloatingFilter(),this.setupWidth(),this.setupLeftPositioning(),this.setupColumnHover(),this.addFeature(new d.a([this.column],this.getGui())),this.addDestroyableEventListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},e.prototype.setupFloatingFilter=function(){var t=this;this.column.getColDef().filter?(this.floatingFilterCompPromise=this.getFloatingFilterInstance(),this.floatingFilterCompPromise?this.floatingFilterCompPromise.then((function(e){e?(t.setupWithFloatingFilter(e),t.setupSyncWithFilter()):t.setupEmpty()})):this.setupEmpty()):this.setupEmpty()},e.prototype.setupLeftPositioning=function(){var t=new p.a(this.column,this.getGui(),this.beans);t.init(),this.addDestroyFunc(t.destroy.bind(t))},e.prototype.setupSyncWithFilter=function(){var t=this,e=function(e){var n=t.filterManager.getFilterComponent(t.column,"NO_UI").resolveNow(null,(function(t){return t.getModel()}));t.onParentModelChanged(n,e)};this.addDestroyableEventListener(this.column,u.a.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)},e.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.eButtonShowMainFilter,"filterMenuTab",["filterMenuTab"])},e.prototype.setupColumnHover=function(){this.addDestroyableEventListener(this.eventService,s.a.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},e.prototype.onColumnHover=function(){var t=this.columnHoverService.isHovered(this.column);f.e.addOrRemoveCssClass(this.getGui(),"ag-column-hover",t)},e.prototype.setupWidth=function(){this.addDestroyableEventListener(this.column,u.a.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},e.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},e.prototype.setupWithFloatingFilter=function(t){var e=function(){t.destroy&&t.destroy()};if(this.isAlive()){this.addDestroyFunc(e);var n=t.getGui();f.e.addOrRemoveCssClass(this.eFloatingFilterBody,"ag-floating-filter-body",!this.suppressFilterButton),f.e.addOrRemoveCssClass(this.eFloatingFilterBody,"ag-floating-filter-full-body",this.suppressFilterButton),f.e.setDisplayed(this.eButtonWrapper,!this.suppressFilterButton);var r=f.e.createIconNoSpan("filter",this.gridOptionsWrapper,this.column);this.eButtonShowMainFilter.appendChild(r),this.eFloatingFilterBody.appendChild(n),t.afterGuiAttached&&t.afterGuiAttached()}else e()},e.prototype.parentFilterInstance=function(t){this.filterManager.getFilterComponent(this.column,"NO_UI").then(t)},e.prototype.getFloatingFilterInstance=function(){var t,n=this.column.getColDef();if("string"===typeof n.filter)t=e.filterToFloatingFilterNames[n.filter];else if(!0===n.filter){t=O.a.isRegistered(_.a.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"}var r=this.filterManager.createFilterParams(this.column,this.column.getColDef()),i=this.userComponentFactory.createFinalParams(n,"filter",r),o={api:this.gridApi,column:this.column,filterParams:i,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!n.floatingFilterComponentParams&&!!n.floatingFilterComponentParams.suppressFilterButton;var s=this.userComponentFactory.newFloatingFilterComponent(n,o,t);if(!s){var a=this.getFilterComponentPrototype(n);if(a&&a.prototype&&a.prototype.getModelAsString){var u=this.userComponentFactory.createUserComponentFromConcreteClass(E,o);s=f.c.resolve(u)}}return s},e.prototype.createDynamicParams=function(){return{column:this.column,colDef:this.column.getColDef(),api:this.gridApi,columnApi:this.columnApi}},e.prototype.getFilterComponentPrototype=function(t){var e=this.userComponentFactory.lookupComponentClassDef(t,"filter",this.createDynamicParams());return e?e.component:null},e.prototype.setupEmpty=function(){f.e.setDisplayed(this.eButtonWrapper,!1)},e.prototype.currentParentModel=function(){return this.filterManager.getFilterComponent(this.column,"NO_UI").resolveNow(null,(function(t){return t.getModel()}))},e.prototype.onParentModelChanged=function(t,e){this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(n){n.onParentModelChanged(t,e)}))},e.prototype.onFloatingFilterChanged=function(){console.warn("ag-Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},e.filterToFloatingFilterNames={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},e.TEMPLATE='<div class="ag-header-cell" role="presentation">\n            <div ref="eFloatingFilterBody" role="columnheader"></div>\n            <div class="ag-floating-filter-button" ref="eButtonWrapper" role="presentation">\n                <button type="button" ref="eButtonShowMainFilter"></button>\n            </div>\n        </div>',S([Object(i.a)("columnHoverService")],e.prototype,"columnHoverService",void 0),S([Object(i.a)("eventService")],e.prototype,"eventService",void 0),S([Object(i.a)("beans")],e.prototype,"beans",void 0),S([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),S([Object(i.a)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),S([Object(i.a)("gridApi")],e.prototype,"gridApi",void 0),S([Object(i.a)("columnApi")],e.prototype,"columnApi",void 0),S([Object(i.a)("filterManager")],e.prototype,"filterManager",void 0),S([Object(i.a)("menuFactory")],e.prototype,"menuFactory",void 0),S([Object(b.c)("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),S([Object(b.c)("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),S([Object(b.c)("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),S([i.e],e.prototype,"postConstruct",null),e}(r.a);n.d(e,"b",(function(){return P})),n.d(e,"a",(function(){return D}));var P,x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.COLUMN_GROUP=0]="COLUMN_GROUP",t[t.COLUMN=1]="COLUMN",t[t.FLOATING_FILTER=2]="FLOATING_FILTER"}(P||(P={}));var D=function(t){function e(e,n,r,i){var o=t.call(this,'<div class="ag-header-row" role="row"/>')||this;return o.headerComps={},o.dept=e,o.type=n,o.pinned=r,o.dropTarget=i,o}return x(e,t),e.prototype.forEachHeaderElement=function(t){var e=this;Object.keys(this.headerComps).forEach((function(n){t(e.headerComps[n])}))},e.prototype.destroy=function(){var e=Object.keys(this.headerComps);this.removeAndDestroyChildComponents(e),t.prototype.destroy.call(this)},e.prototype.removeAndDestroyChildComponents=function(t){var e=this;t.forEach((function(t){var n=e.headerComps[t];e.getGui().removeChild(n.getGui()),n.destroy(),delete e.headerComps[t]}))},e.prototype.onRowHeightChanged=function(){var t,e,n=this.columnController.getHeaderRowCount(),r=[],i=0;this.columnController.isPivotMode()?(i=0,t=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),e=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.gridOptionsWrapper.isFloatingFilter()&&n++,i=this.gridOptionsWrapper.isFloatingFilter()?1:0,t=this.gridOptionsWrapper.getGroupHeaderHeight(),e=this.gridOptionsWrapper.getHeaderHeight());for(var o=n-(1+i),s=0;s<o;s++)r.push(t);r.push(e);for(s=0;s<i;s++)r.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var a=0;for(s=0;s<this.dept;s++)a+=r[s];this.getGui().style.top=a+"px",this.getGui().style.height=r[this.dept]+"px"},e.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addDestroyableEventListener(this.gridOptionsWrapper,o.a.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,o.a.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,o.a.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,o.a.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,o.a.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.eventService,s.a.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addDestroyableEventListener(this.eventService,s.a.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addDestroyableEventListener(this.eventService,s.a.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addDestroyableEventListener(this.eventService,s.a.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this))},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.getGui().style.width=t+"px"},e.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===g.a.DOM_LAYOUT_PRINT?f.e.missing(this.pinned)?this.columnController.getContainerWidth(g.a.PINNED_RIGHT)+this.columnController.getContainerWidth(g.a.PINNED_LEFT)+this.columnController.getContainerWidth(null):0:this.columnController.getContainerWidth(this.pinned)},e.prototype.onGridColumnsChanged=function(){this.removeAndDestroyAllChildComponents()},e.prototype.removeAndDestroyAllChildComponents=function(){var t=Object.keys(this.headerComps);this.removeAndDestroyChildComponents(t)},e.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},e.prototype.getItemsAtDepth=function(){var t=this;if(this.gridOptionsWrapper.getDomLayout()===g.a.DOM_LAYOUT_PRINT){if(f.e.missing(this.pinned)){var e=[];return[g.a.PINNED_LEFT,null,g.a.PINNED_RIGHT].forEach((function(n){var r=t.columnController.getVirtualHeaderGroupRow(n,t.type==P.FLOATING_FILTER?t.dept-1:t.dept);e=e.concat(r)})),e}return[]}return this.columnController.getVirtualHeaderGroupRow(this.pinned,this.type==P.FLOATING_FILTER?this.dept-1:this.dept)},e.prototype.onVirtualColumnsChanged=function(){var t=this,e=Object.keys(this.headerComps),n=[];if(this.getItemsAtDepth().forEach((function(r){if(!r.isEmptyGroup()){var i,o,s=r.getUniqueId(),a=t.getGui();e.indexOf(s)>=0?f.e.removeFromArray(e,s):(i=t.createHeaderComp(r),t.headerComps[s]=i,o=i.getGui(),a.appendChild(o)),n.push(s)}})),this.removeAndDestroyChildComponents(e),this.gridOptionsWrapper.isEnsureDomOrder()){var r=n.map((function(e){return t.headerComps[e].getGui()}));f.e.setDomChildOrder(this.getGui(),r)}},e.prototype.createHeaderComp=function(t){var e;switch(this.type){case P.COLUMN:e=new a.a(t,this.dropTarget,this.pinned);break;case P.COLUMN_GROUP:e=new y(t,this.dropTarget,this.pinned);break;case P.FLOATING_FILTER:e=new R(t)}return this.getContext().wireBean(e),e},A([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),A([Object(i.a)("gridApi")],e.prototype,"gridApi",void 0),A([Object(i.a)("columnController")],e.prototype,"columnController",void 0),A([Object(i.a)("eventService")],e.prototype,"eventService",void 0),A([Object(i.a)("filterManager")],e.prototype,"filterManager",void 0),A([i.e],e.prototype,"init",null),e}(r.a)},function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new c(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function l(t){this._index=t}function c(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function p(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new p(n)}function f(t){this._db=t}o(l,"_index",["name","keyPath","multiEntry","unique"]),s(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),s(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new c(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),p.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(p,"_tx",["objectStoreNames","mode"]),a(p,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new p(this._db.transaction.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,l].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[l,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new f(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){t.exports=n(190)()},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(5),i=n(37),o=n(0),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.eInput=n.getGui().querySelector("input"),n}return s(e,t),e.prototype.init=function(t){this.params=t;var e,n=this.eInput;t.cellStartedEdit?(this.focusAfterAttached=!0,t.keyPress===r.a.KEY_BACKSPACE||t.keyPress===r.a.KEY_DELETE?e="":t.charPress?e=t.charPress:(e=this.getStartValue(t),t.keyPress!==r.a.KEY_F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,e=this.getStartValue(t));o.e.exists(e)&&(n.value=e),this.addDestroyableEventListener(n,"keydown",(function(t){var e=t.keyCode===r.a.KEY_PAGE_UP,n=t.keyCode===r.a.KEY_PAGE_DOWN;(e||n)&&t.preventDefault()}))},e.prototype.afterGuiAttached=function(){if(this.focusAfterAttached){var t=this.eInput;if(o.e.isBrowserSafari()||t.focus(),this.highlightAllOnFocus)t.select();else{var e=t.value?t.value.length:0;e>0&&t.setSelectionRange(e,e)}}},e.prototype.focusIn=function(){var t=this.eInput;t.focus(),t.select()},e.prototype.getValue=function(){var t=this.eInput;return this.params.parseValue(t.value)},e.prototype.getStartValue=function(t){return t.useFormatter||t.column.getColDef().refData?t.formatValue(t.value):t.value},e.prototype.isPopup=function(){return!1},e.TEMPLATE='<div class="ag-input-wrapper" role="presentation"><input class="ag-cell-edit-input" type="text"/></div>',e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(5),i=n(1),o=n(10),s=n(19),a=n(65),u=n(8),l=n(52),c=n(0),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},d=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return h(e,t),e.prototype.init=function(t){this.params=t,this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&this.assignBlankValueToGroupFooterCell(t);var e=this.isEmbeddedRowMismatch(),n=null==t.value;this.cellIsBlank=e||n,this.cellIsBlank||(this.setupDragOpenParents(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},e.prototype.assignBlankValueToGroupFooterCell=function(t){t.value||-1!=t.node.level||(t.value="")},e.prototype.isEmbeddedRowMismatch=function(){if(this.params.fullWidth&&this.gridOptionsWrapper.isEmbedFullWidthRows()){var t=this.params.pinned===r.a.PINNED_LEFT,e=this.params.pinned===r.a.PINNED_RIGHT,n=!t&&!e;return this.gridOptionsWrapper.isEnableRtl()?this.columnController.isPinningLeft()?!e:!n:this.columnController.isPinningLeft()?!t:!n}return!1},e.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var t=this.params,e=t.node.uiLevel;t.padding>=0?this.setPaddingDeprecatedWay(e,t.padding):(this.indentClass&&this.removeCssClass(this.indentClass),this.indentClass="ag-row-group-indent-"+e,this.addCssClass(this.indentClass))}},e.prototype.setPaddingDeprecatedWay=function(t,e){c.e.doOnce((function(){return console.warn("ag-Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the ag-Grid documentation page for Themes, in particular the property $row-group-indent-size.")}),"groupCellRenderer->doDeprecatedWay");var n=t*e;this.gridOptionsWrapper.isEnableRtl()?this.getGui().style.paddingRight=n+"px":this.getGui().style.paddingLeft=n+"px"},e.prototype.setupIndent=function(){var t=this.params.node;this.params.suppressPadding||(this.addDestroyableEventListener(t,s.a.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.addValueElement=function(){var t=this.params,e=this.displayedGroup;e.footer?this.createFooterCell():e.hasChildren()||c.e.get(t.colDef,"cellRendererParams.innerRenderer",null)||c.e.get(t.colDef,"cellRendererParams.innerRendererFramework",null)?(this.createGroupCell(),e.hasChildren()&&this.addChildCount()):this.createLeafCell()},e.prototype.createFooterCell=function(){var t,e=this.params.footerValueGetter;if(e){var n=c.e.cloneObject(this.params);n.value=this.params.value,"function"===typeof e?t=e(n):"string"===typeof e?t=this.expressionService.evaluate(e,n):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+this.params.value;this.eValue.innerHTML=t},e.prototype.createGroupCell=function(){var t,e=this,n=this.params,r=this.displayedGroup.rowGroupColumn,i=r||n.column,o=this.params.value,s=i?this.valueFormatterService.formatValue(i,n.node,n.scope,o):null;n.valueFormatted=s,(t=1==n.fullWidth?this.useFullWidth(n):this.useInnerRenderer(this.params.colDef.cellRendererParams,i.getColDef(),n))&&t.then((function(t){e.innerCellRenderer=t}))},e.prototype.useInnerRenderer=function(t,e,n){var r=this,i=null,o=this.userComponentFactory.lookupComponentClassDef(t,"innerRenderer");if(o&&null!=o.component&&o.source!=l.a.DEFAULT)i=this.userComponentFactory.newInnerCellRenderer(t,n);else{var s=this.userComponentFactory.lookupComponentClassDef(e,"cellRenderer");i=s&&s.source!=l.a.DEFAULT?this.userComponentFactory.newCellRenderer(e,n):s&&s.source==l.a.DEFAULT&&c.e.get(e,"cellRendererParams.innerRenderer",null)?this.userComponentFactory.newInnerCellRenderer(e.cellRendererParams,n):this.userComponentFactory.newCellRenderer({},n)}return null!=i?i.then((function(t){null!=t?c.e.bindCellRendererToHtmlElement(i,r.eValue):r.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value})):this.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value,i},e.prototype.useFullWidth=function(t){var e=this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(t);return null!=e?c.e.bindCellRendererToHtmlElement(e,this.eValue):this.eValue.innerText=null!=t.valueFormatted?t.valueFormatted:t.value,e},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addDestroyableEventListener(this.displayedGroup,s.a.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroup.allChildrenCount;this.eChildCount.innerHTML=t>=0?"("+t+")":""},e.prototype.createLeafCell=function(){c.e.exists(this.params.value)&&(this.eValue.innerText=this.params.valueFormatted?this.params.valueFormatted:this.params.value)},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return"function"===typeof t?t(this.params):!0===t},e.prototype.addCheckboxIfNeeded=function(){var t=this.displayedGroup,e=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(e){var n=new a.a;this.getContext().wireBean(n),n.init({rowNode:t,column:this.params.column}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc((function(){return n.destroy()}))}c.e.addOrRemoveCssClass(this.eCheckbox,"ag-invisible",!e)},e.prototype.addExpandAndContract=function(){var t=this.params,e=t.eGridCell,n=c.e.createIconNoSpan("groupExpanded",this.gridOptionsWrapper,null),r=c.e.createIconNoSpan("groupContracted",this.gridOptionsWrapper,null);this.eExpanded.appendChild(n),this.eContracted.appendChild(r),this.addDestroyableEventListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addDestroyableEventListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addDestroyableEventListener(e,"keydown",this.onKeyDown.bind(this)),this.addDestroyableEventListener(t.node,s.a.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons(),this.addDestroyableEventListener(this.displayedGroup,s.a.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.onAllChildrenCountChanged.bind(this)),this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||t.suppressDoubleClickExpand||this.addDestroyableEventListener(e,"dblclick",this.onCellDblClicked.bind(this))},e.prototype.onAllChildrenCountChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},e.prototype.onKeyDown=function(t){if(c.e.isKeyPressed(t,r.a.KEY_ENTER)){if(this.params.suppressEnterExpand)return;if(this.params.column&&this.params.column.isCellEditable(this.params.node))return;t.preventDefault(),this.onExpandOrContract()}},e.prototype.setupDragOpenParents=function(){var t=this.params.column,e=this.params.node;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(e.hasChildren()){var n=e.rowGroupColumn;this.draggedFromHideOpenParents=!!n&&!t.isRowGroupDisplayed(n.getId())}else this.draggedFromHideOpenParents=!0;else this.draggedFromHideOpenParents=!1;if(this.draggedFromHideOpenParents)for(var r=e.parent;!c.e.missing(r);){if(r.rowGroupColumn&&t.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroup=r;break}r=r.parent}c.e.missing(this.displayedGroup)&&(this.displayedGroup=e)},e.prototype.onExpandClicked=function(t){c.e.isStopPropagationForAgGrid(t)||(c.e.stopPropagationForAgGrid(t),this.onExpandOrContract())},e.prototype.onCellDblClicked=function(t){c.e.isStopPropagationForAgGrid(t)||(c.e.isElementInEventPath(this.eExpanded,t)||c.e.isElementInEventPath(this.eContracted,t)||this.onExpandOrContract())},e.prototype.onExpandOrContract=function(){var t=this.displayedGroup;t.setExpanded(!t.expanded)},e.prototype.isExpandable=function(){var t=this.params.node,e=this.columnController.isPivotMode()&&t.leafGroup;return this.draggedFromHideOpenParents||t.isExpandable()&&!t.footer&&!e},e.prototype.showExpandAndContractIcons=function(){var t=this.params.node;if(this.isExpandable()){var e=!!this.draggedFromHideOpenParents||t.expanded;c.e.setDisplayed(this.eContracted,!e),c.e.setDisplayed(this.eExpanded,e)}else c.e.setDisplayed(this.eExpanded,!1),c.e.setDisplayed(this.eContracted,!1);var n=this.displayedGroup,r=this.columnController.isPivotMode()&&n.leafGroup,i=!n.isExpandable(),o=n.footer||i||r;this.addOrRemoveCssClass("ag-row-group",!o),this.addOrRemoveCssClass("ag-row-group-leaf-indent",o)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.innerCellRenderer&&this.innerCellRenderer.destroy&&this.innerCellRenderer.destroy()},e.prototype.refresh=function(){return!1},e.TEMPLATE='<span class="ag-cell-wrapper"><span class="ag-group-expanded" ref="eExpanded"></span><span class="ag-group-contracted" ref="eContracted"></span><span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span><span class="ag-group-value" ref="eValue"></span><span class="ag-group-child-count" ref="eChildCount"></span></span>',p([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),p([Object(i.a)("expressionService")],e.prototype,"expressionService",void 0),p([Object(i.a)("eventService")],e.prototype,"eventService",void 0),p([Object(i.a)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),p([Object(i.a)("columnController")],e.prototype,"columnController",void 0),p([Object(i.a)("mouseEventService")],e.prototype,"mouseEventService",void 0),p([Object(i.a)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),p([Object(u.c)("eExpanded")],e.prototype,"eExpanded",void 0),p([Object(u.c)("eContracted")],e.prototype,"eContracted",void 0),p([Object(u.c)("eCheckbox")],e.prototype,"eCheckbox",void 0),p([Object(u.c)("eValue")],e.prototype,"eValue",void 0),p([Object(u.c)("eChildCount")],e.prototype,"eChildCount",void 0),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(39),i=n(19),o=n(7),s=n(10),a=n(0),u=n(5),l=n(15),c=n(14),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},d=function(t){function e(e,n,r,i,o,s,a,u,l,c,h){var p=t.call(this)||this;return p.eAllRowContainers=[],p.active=!0,p.rowContainerReadyCount=0,p.refreshNeeded=!1,p.columnRefreshPending=!1,p.cellComps={},p.createSecondPassFuncs=[],p.removeFirstPassFuncs=[],p.removeSecondPassFuncs=[],p.initialised=!1,p.elementOrderChanged=!1,p.parentScope=e,p.beans=a,p.bodyContainerComp=n,p.pinnedLeftContainerComp=r,p.pinnedRightContainerComp=i,p.fullWidthContainerComp=o,p.rowNode=s,p.rowIsEven=p.rowNode.rowIndex%2===0,p.paginationPage=p.beans.paginationProxy.getCurrentPage(),p.useAnimationFrameForCreate=l,p.printLayout=c,p.embedFullWidth=h,p.setAnimateFlags(u),p}return h(e,t),e.prototype.init=function(){var t=this;this.rowFocused=this.beans.focusedCellController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.scope=this.createChildScopeOrNull(this.rowNode.data),this.setupRowContainers(),this.addListeners(),this.slideRowIn&&this.createSecondPassFuncs.push((function(){t.onTopChanged()})),this.fadeRowIn&&this.createSecondPassFuncs.push((function(){t.eAllRowContainers.forEach((function(t){return a.e.removeCssClass(t,"ag-opacity-zero")}))}))},e.prototype.createTemplate=function(t,e){void 0===e&&(e=null);var n=[],r=this.rowNode.rowHeight,i=this.getInitialRowClasses(e).join(" "),o=a.e.escape(this.rowNode.id),s=this.preProcessStylesFromGridOptions(),u=this.getRowBusinessKey(),l=a.e.escape(u),c=this.getInitialRowTopStyle(),h=this.rowNode.getRowIndexString(),p=this.beans.gridPanel.headerRootComp.getHeaderRowCount();return n.push("<div"),n.push(' role="row"'),n.push(' row-index="'+h+'" aria-rowindex="'+(p+this.rowNode.rowIndex+1)+'"'),n.push(o?' row-id="'+o+'"':""),n.push(u?' row-business-key="'+l+'"':""),n.push(' comp-id="'+this.getCompId()+'"'),n.push(' class="'+i+'"'),n.push(' style="height: '+r+"px; "+c+" "+s+'">'),n.push(t),n.push("</div>"),n.join("")},e.prototype.getCellForCol=function(t){var e=this.cellComps[t.getColId()];return e?e.getGui():null},e.prototype.afterFlush=function(){this.initialised||(this.initialised=!0,this.executeProcessRowPostCreateFunc())},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();t&&t({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},e.prototype.getInitialRowTopStyle=function(){if(this.printLayout)return"";var t=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,e=this.applyPaginationOffset(t),n=this.beans.maxDivHeightScaler.getRealPixelPosition(e);return this.beans.gridOptionsWrapper.isSuppressRowTransform()?"top: "+n+"px; ":"transform: translateY("+n+"px);"},e.prototype.getRowBusinessKey=function(){var t=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"===typeof t)return t(this.rowNode)},e.prototype.areAllContainersReady=function(){return 3===this.rowContainerReadyCount},e.prototype.lazyCreateCells=function(t,e){if(this.active){var n=this.createCells(t);e.innerHTML=n.template,this.callAfterRowAttachedOnCells(n.cellComps,e),this.rowContainerReadyCount++,this.areAllContainersReady()&&this.refreshNeeded&&this.refreshCells()}},e.prototype.createRowContainer=function(t,e,n){var r=this,i=this.useAnimationFrameForCreate,o=i?{cellComps:[],template:""}:this.createCells(e),s=this.createTemplate(o.template);t.appendRowTemplate(s,(function(){var s=t.getRowElement(r.getCompId());r.afterRowAttached(t,s),n(s),i?r.beans.taskQueue.createTask(r.lazyCreateCells.bind(r,e,s),r.rowNode.rowIndex,"createTasksP1"):(r.callAfterRowAttachedOnCells(o.cellComps,s),r.rowContainerReadyCount=3)}))},e.prototype.createChildScopeOrNull=function(t){if(!this.beans.gridOptionsWrapper.isAngularCompileRows())return null;var e=this.parentScope.$new();return e.data=p({},t),e.rowNode=this.rowNode,e.context=this.beans.gridOptionsWrapper.getContext(),this.addDestroyFunc((function(){e.$destroy(),e.data=null,e.rowNode=null,e.context=null})),e},e.prototype.setupRowContainers=function(){var t=this.rowNode.isFullWidthCell(),n=this.beans.doingMasterDetail&&this.rowNode.detail,r=this.beans.columnController.isPivotMode(),i=this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(r);this.rowNode.stub?this.createFullWidthRows(e.LOADING_CELL_RENDERER,e.LOADING_CELL_RENDERER_COMP_NAME):n?this.createFullWidthRows(e.DETAIL_CELL_RENDERER,e.DETAIL_CELL_RENDERER_COMP_NAME):t?this.createFullWidthRows(e.FULL_WIDTH_CELL_RENDERER,null):i?this.createFullWidthRows(e.GROUP_ROW_RENDERER,e.GROUP_ROW_RENDERER_COMP_NAME):this.setupNormalRowContainers()},e.prototype.setupNormalRowContainers=function(){var t,e,n,r=this;this.printLayout?(t=this.beans.columnController.getAllDisplayedColumns(),e=[],n=[]):(t=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),e=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.createRowContainer(this.bodyContainerComp,t,(function(t){return r.eBodyRow=t})),this.createRowContainer(this.pinnedRightContainerComp,n,(function(t){return r.ePinnedRightRow=t})),this.createRowContainer(this.pinnedLeftContainerComp,e,(function(t){return r.ePinnedLeftRow=t}))},e.prototype.createFullWidthRows=function(t,e){var n=this;this.fullWidthRow=!0,this.embedFullWidth?(this.createFullWidthRowContainer(this.bodyContainerComp,null,null,t,e,(function(t){n.eFullWidthRowBody=t}),(function(t){n.fullWidthRowComponentBody=t})),this.printLayout||(this.createFullWidthRowContainer(this.pinnedLeftContainerComp,u.a.PINNED_LEFT,"ag-cell-last-left-pinned",t,e,(function(t){n.eFullWidthRowLeft=t}),(function(t){n.fullWidthRowComponentLeft=t})),this.createFullWidthRowContainer(this.pinnedRightContainerComp,u.a.PINNED_RIGHT,"ag-cell-first-right-pinned",t,e,(function(t){n.eFullWidthRowRight=t}),(function(t){n.fullWidthRowComponentRight=t})))):this.createFullWidthRowContainer(this.fullWidthContainerComp,null,null,t,e,(function(t){n.eFullWidthRow=t}),(function(t){n.fullWidthRowComponent=t}))},e.prototype.setAnimateFlags=function(t){if(t){var e=a.e.exists(this.rowNode.oldRowTop);this.slideRowIn=e,this.fadeRowIn=!e}else this.slideRowIn=!1,this.fadeRowIn=!1},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(t){this.stopEditing(t)},e.prototype.isFullWidth=function(){return this.fullWidthRow},e.prototype.refreshFullWidth=function(){var t=this,e=function(e,n,r){if(!e||!n)return!0;if(!n.refresh)return!1;var i=t.createFullWidthParams(e,r);return n.refresh(i)},n=e(this.eFullWidthRow,this.fullWidthRowComponent,null),r=e(this.eFullWidthRowBody,this.fullWidthRowComponentBody,null),i=e(this.eFullWidthRowLeft,this.fullWidthRowComponentLeft,u.a.PINNED_LEFT),o=e(this.eFullWidthRowRight,this.fullWidthRowComponentRight,u.a.PINNED_RIGHT);return n&&r&&i&&o},e.prototype.addListeners=function(){this.addDestroyableEventListener(this.rowNode,i.a.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_EXPANDED_CHANGED,this.onExpandedChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this));var t=this.beans.eventService;this.addDestroyableEventListener(t,o.a.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addDestroyableEventListener(t,o.a.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addDestroyableEventListener(t,o.a.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addDestroyableEventListener(t,o.a.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addDestroyableEventListener(t,o.a.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addDestroyableEventListener(t,o.a.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addDestroyableEventListener(t,o.a.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addDestroyableEventListener(t,o.a.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addDestroyableEventListener(t,o.a.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},e.prototype.addListenersForCellComps=function(){var t=this;this.addDestroyableEventListener(this.rowNode,i.a.EVENT_ROW_INDEX_CHANGED,(function(){t.forEachCellComp((function(t){return t.onRowIndexChanged()}))})),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_CELL_CHANGED,(function(e){t.forEachCellComp((function(t){return t.onCellChanged(e)}))}))},e.prototype.onGridColumnsChanged=function(){this.removeRenderedCells(Object.keys(this.cellComps))},e.prototype.onRowNodeDataChanged=function(t){this.forEachCellComp((function(e){return e.refreshCell({suppressFlash:!t.update,newData:!t.update})})),this.onRowSelected(),this.postProcessCss()},e.prototype.onRowNodeCellChanged=function(t){this.postProcessCss()},e.prototype.postProcessCss=function(){this.postProcessStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.eAllRowContainers.forEach((function(e){return a.e.addOrRemoveCssClass(e,"ag-row-dragging",t)}))},e.prototype.onExpandedChanged=function(){var t=this.rowNode;this.eAllRowContainers.forEach((function(e){return a.e.addOrRemoveCssClass(e,"ag-row-group-expanded",t.expanded)})),this.eAllRowContainers.forEach((function(e){return a.e.addOrRemoveCssClass(e,"ag-row-group-contracted",!t.expanded)}))},e.prototype.onDisplayedColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},e.prototype.destroyFullWidthComponents=function(){this.fullWidthRowComponent&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponent),this.fullWidthRowComponent=null),this.fullWidthRowComponentBody&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponentBody),this.fullWidthRowComponent=null),this.fullWidthRowComponentLeft&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,u.a.PINNED_LEFT,this.fullWidthRowComponentLeft),this.fullWidthRowComponentLeft=null),this.fullWidthRowComponentRight&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,u.a.PINNED_RIGHT,this.fullWidthRowComponentRight),this.fullWidthRowComponent=null)},e.prototype.getContainerForCell=function(t){switch(t){case u.a.PINNED_LEFT:return this.ePinnedLeftRow;case u.a.PINNED_RIGHT:return this.ePinnedRightRow;default:return this.eBodyRow}},e.prototype.onVirtualColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},e.prototype.onColumnResized=function(){this.fullWidthRow||this.refreshCells()},e.prototype.refreshCells=function(){if(this.areAllContainersReady())if(this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)this.refreshCellsInAnimationFrame();else{if(this.columnRefreshPending)return;this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this),this.rowNode.rowIndex,"createTasksP1")}else this.refreshNeeded=!0},e.prototype.refreshCellsInAnimationFrame=function(){if(this.active){var t,e,n;this.columnRefreshPending=!1,this.printLayout?(t=this.beans.columnController.getAllDisplayedColumns(),e=[],n=[]):(t=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),e=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.insertCellsIntoContainer(this.eBodyRow,t),this.insertCellsIntoContainer(this.ePinnedLeftRow,e),this.insertCellsIntoContainer(this.ePinnedRightRow,n),this.elementOrderChanged=!1;var r=Object.keys(this.cellComps);t.forEach((function(t){return a.e.removeFromArray(r,t.getId())})),e.forEach((function(t){return a.e.removeFromArray(r,t.getId())})),n.forEach((function(t){return a.e.removeFromArray(r,t.getId())}));var i=r.filter(this.isCellEligibleToBeRemoved.bind(this));this.removeRenderedCells(i)}},e.prototype.onColumnMoved=function(){this.elementOrderChanged=!0},e.prototype.removeRenderedCells=function(t){var e=this;t.forEach((function(t){var n=e.cellComps[t];a.e.missing(n)||(n.detach(),n.destroy(),e.cellComps[t]=null)}))},e.prototype.isCellEligibleToBeRemoved=function(t){var e=this.beans.columnController.getAllDisplayedColumns(),n=this.cellComps[t];if(!n)return!0;if(this.isCellInWrongRow(n))return!0;var r=n.isEditing(),i=this.beans.focusedCellController.isCellFocused(n.getCellPosition());if(r||i){var o=n.getColumn();return!(e.indexOf(o)>=0)}return!0},e.prototype.ensureCellInCorrectContainer=function(t){if(!this.printLayout){var e=t.getGui(),n=t.getColumn().getPinned(),r=this.getContainerForCell(n),i=t.getParentRow();i!==r&&(i&&i.removeChild(e),r.appendChild(e),t.setParentRow(r),this.elementOrderChanged=!0)}},e.prototype.isCellInWrongRow=function(t){var e=t.getColumn(),n=this.getContainerForCell(e.getPinned());return t.getParentRow()!==n},e.prototype.insertCellsIntoContainer=function(t,e){var n=this;if(t){var r=[],i=[];if(e.forEach((function(e){var o=e.getId(),s=n.cellComps[o];s?n.ensureCellInCorrectContainer(s):n.createNewCell(e,t,r,i)})),r.length>0&&(a.e.appendHtml(t,r.join("")),this.callAfterRowAttachedOnCells(i,t)),this.elementOrderChanged&&this.beans.gridOptionsWrapper.isEnsureDomOrder()){var o=e.map((function(t){return n.getCellForCol(t)}));a.e.setDomChildOrder(t,o)}}},e.prototype.addDomData=function(t){var n=this.beans.gridOptionsWrapper;n.setDomData(t,e.DOM_DATA_KEY_RENDERED_ROW,this),this.addDestroyFunc((function(){n.setDomData(t,e.DOM_DATA_KEY_RENDERED_ROW,null)}))},e.prototype.createNewCell=function(t,e,n,i){var o=new r.a(this.scope,this.beans,t,this.rowNode,this,!1,this.printLayout),s=o.getCreateTemplate();n.push(s),i.push(o),this.cellComps[t.getId()]=o,o.setParentRow(e),this.elementOrderChanged=!0},e.prototype.onMouseEvent=function(t,e){switch(t){case"dblclick":this.onRowDblClick(e);break;case"click":this.onRowClick(e)}},e.prototype.createRowEvent=function(t,e){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:e}},e.prototype.createRowEventWithSource=function(t,e){var n=this.createRowEvent(t,e);return n.source=this,n},e.prototype.onRowDblClick=function(t){if(!a.e.isStopPropagationForAgGrid(t)){var e=this.createRowEventWithSource(o.a.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(e)}},e.prototype.onRowClick=function(t){if(!a.e.isStopPropagationForAgGrid(t)){var e=this.createRowEventWithSource(o.a.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(e);var n=t.ctrlKey||t.metaKey,r=t.shiftKey;if(!this.rowNode.group&&this.rowNode.selectable&&!this.rowNode.rowPinned&&this.beans.gridOptionsWrapper.isRowSelection()&&!this.beans.gridOptionsWrapper.isSuppressRowClickSelection()){var i=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),s=this.beans.gridOptionsWrapper.isRowDeselection();if(this.rowNode.isSelected())i?this.rowNode.setSelectedParams({newValue:!1}):n?s&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!0});else{var u=!i&&!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:u,rangeSelect:r})}}}},e.prototype.createFullWidthRowContainer=function(t,e,n,r,i,o,s){var a=this,u=this.createTemplate("",n);t.appendRowTemplate(u,(function(){var n=t.getRowElement(a.getCompId()),u=a.createFullWidthParams(n,e),h=function(t){if(a.isAlive()){var e=t.getGui();n.appendChild(e),s(t)}else t.destroy&&t.destroy()},p=a.beans.detailRowCompCache.get(a.rowNode,e);if(p)h(p);else{var d=a.beans.userComponentFactory.newFullWidthCellRenderer(u,r,i);if(!d){var f=c.a.isRegistered(l.a.MasterDetailModule);return void("agDetailCellRenderer"!==i||f?console.error("ag-Grid: fullWidthCellRenderer "+i+" not found"):console.warn("ag-Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?"))}d.then(h)}a.afterRowAttached(t,n),o(n),a.angular1Compile(n)}))},e.prototype.angular1Compile=function(t){this.scope&&this.beans.$compile(t)(this.scope)},e.prototype.createFullWidthParams=function(t,e){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:t,eParentOfValue:t,pinned:e,addRenderedRowListener:this.addEventListener.bind(this)}},e.prototype.getInitialRowClasses=function(t){var e=[],n=this.beans.gridOptionsWrapper.isTreeData(),r=this.rowNode;return a.e.exists(t)&&e.push(t),e.push("ag-row"),e.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeRowIn&&e.push("ag-opacity-zero"),e.push(this.rowIsEven?"ag-row-even":"ag-row-odd"),r.isSelected()&&e.push("ag-row-selected"),r.group?(e.push("ag-row-group"),e.push("ag-row-level-"+r.level),r.footer&&e.push("ag-row-footer")):e.push("ag-row-level-"+(r.parent?r.parent.level+1:"0")),r.stub&&e.push("ag-row-stub"),this.fullWidthRow&&e.push("ag-full-width-row"),(n?r.allChildrenCount:r.group&&!r.footer)&&e.push(r.expanded?"ag-row-group-expanded":"ag-row-group-contracted"),r.dragging&&e.push("ag-row-dragging"),a.e.pushAll(e,this.processClassesFromGridOptions()),a.e.pushAll(e,this.preProcessRowClassRules()),e.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.firstRowOnPage=this.isFirstRowOnPage(),this.lastRowOnPage=this.isLastRowOnPage(),this.firstRowOnPage&&e.push("ag-row-first"),this.lastRowOnPage&&e.push("ag-row-last"),e},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){var t=this.isFirstRowOnPage(),e=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.eAllRowContainers.forEach((function(e){return a.e.addOrRemoveCssClass(e,"ag-row-first",t)}))),this.lastRowOnPage!==e&&(this.lastRowOnPage=e,this.eAllRowContainers.forEach((function(t){return a.e.addOrRemoveCssClass(t,"ag-row-last",e)})))},e.prototype.preProcessRowClassRules=function(){var t=[];return this.processRowClassRules((function(e){t.push(e)}),(function(t){})),t},e.prototype.processRowClassRules=function(t,e){this.beans.stylingService.processClassRules(this.beans.gridOptionsWrapper.rowClassRules(),{value:void 0,colDef:void 0,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},t,e)},e.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),this.forEachCellComp((function(e){e.stopEditing(t)})),this.editingRow){if(!t){var e=this.createRowEvent(o.a.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(e)}this.setEditingRow(!1)}},e.prototype.setEditingRow=function(t){this.editingRow=t,this.eAllRowContainers.forEach((function(e){return a.e.addOrRemoveCssClass(e,"ag-row-editing",t)}));var e=t?this.createRowEvent(o.a.EVENT_ROW_EDITING_STARTED):this.createRowEvent(o.a.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(e)},e.prototype.startRowEditing=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),this.editingRow||(this.forEachCellComp((function(r){var i=r===n;i?r.startEditingIfEnabled(t,e,i):r.startEditingIfEnabled(null,null,i)})),this.setEditingRow(!0))},e.prototype.forEachCellComp=function(t){a.e.iterateObject(this.cellComps,(function(e,n){n&&t(n)}))},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,e=this.processClassesFromGridOptions();e&&e.length&&e.forEach((function(e){t.eAllRowContainers.forEach((function(t){return a.e.addCssClass(t,e)}))}))},e.prototype.postProcessRowClassRules=function(){var t=this;this.processRowClassRules((function(e){t.eAllRowContainers.forEach((function(t){return a.e.addCssClass(t,e)}))}),(function(e){t.eAllRowContainers.forEach((function(t){return a.e.removeCssClass(t,e)}))}))},e.prototype.processClassesFromGridOptions=function(){var t=[],e=function(e){"string"===typeof e?t.push(e):Array.isArray(e)&&e.forEach((function(e){return t.push(e)}))},n=this.beans.gridOptionsWrapper.getRowClass();if(n){if("function"===typeof n)return void console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead");e(n)}var r=this.beans.gridOptionsWrapper.getRowClassFunc();r&&e(r({node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()}));return t},e.prototype.preProcessStylesFromGridOptions=function(){var t=this.processStylesFromGridOptions();return a.e.cssStyleObjectToMarkup(t)},e.prototype.postProcessStylesFromGridOptions=function(){var t=this.processStylesFromGridOptions();this.eAllRowContainers.forEach((function(e){return a.e.addStylesToElement(e,t)}))},e.prototype.processStylesFromGridOptions=function(){var t=this.beans.gridOptionsWrapper.getRowStyle();if(!t||"function"!==typeof t){var e,n=this.beans.gridOptionsWrapper.getRowStyleFunc();if(n)e=n({data:this.rowNode.data,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope});return a.e.assign({},t,e)}console.warn("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},e.prototype.createCells=function(t){var e=this,n=[],i=[];return t.forEach((function(t){var o=new r.a(e.scope,e.beans,t,e.rowNode,e,!1,e.printLayout),s=o.getCreateTemplate();n.push(s),i.push(o),e.cellComps[t.getId()]=o})),{template:n.join(""),cellComps:i}},e.prototype.onRowSelected=function(){var t=this.rowNode.isSelected();this.eAllRowContainers.forEach((function(e){return a.e.addOrRemoveCssClass(e,"ag-row-selected",t)}))},e.prototype.callAfterRowAttachedOnCells=function(t,e){var n=this;t.forEach((function(t){t.setParentRow(e),t.afterAttached(),n.editingRow&&t.startEditingIfEnabled()}))},e.prototype.afterRowAttached=function(t,e){var n=this;this.addDomData(e),this.removeSecondPassFuncs.push((function(){t.removeRowElement(e)})),this.removeFirstPassFuncs.push((function(){if(a.e.exists(n.rowNode.rowTop)){var t=n.roundRowTopToBounds(n.rowNode.rowTop);n.setRowTop(t)}else a.e.addCssClass(e,"ag-opacity-zero")})),this.eAllRowContainers.push(e),this.useAnimationFrameForCreate?this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e)},e.prototype.addHoverFunctionality=function(t){var e=this;this.active&&(this.addDestroyableEventListener(t,"mouseenter",(function(){return e.rowNode.onMouseEnter()})),this.addDestroyableEventListener(t,"mouseleave",(function(){return e.rowNode.onMouseLeave()})),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_MOUSE_ENTER,(function(){e.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||a.e.addCssClass(t,"ag-row-hover")})),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_MOUSE_LEAVE,(function(){a.e.removeCssClass(t,"ag-row-hover")})))},e.prototype.roundRowTopToBounds=function(t){var e=this.beans.gridPanel.getVScrollPosition(),n=this.applyPaginationOffset(e.top,!0)-100,r=this.applyPaginationOffset(e.bottom,!0)+100;return Math.min(Math.max(n,t),r)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.onRowHeightChanged=function(){if(a.e.exists(this.rowNode.rowHeight)){var t=this.rowNode.rowHeight+"px";this.eAllRowContainers.forEach((function(e){return e.style.height=t}))}},e.prototype.addEventListener=function(e,n){"renderedRowRemoved"!==e&&"rowRemoved"!==e||(e=o.a.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved is now called "+o.a.EVENT_VIRTUAL_ROW_REMOVED)),t.prototype.addEventListener.call(this,e,n)},e.prototype.removeEventListener=function(e,n){"renderedRowRemoved"!==e&&"rowRemoved"!==e||(e=o.a.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+o.a.EVENT_VIRTUAL_ROW_REMOVED)),t.prototype.removeEventListener.call(this,e,n)},e.prototype.destroy=function(e){(void 0===e&&(e=!1),t.prototype.destroy.call(this),this.active=!1,this.destroyFullWidthComponents(),e)?(this.removeFirstPassFuncs.forEach((function(t){return t()})),this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this))):(this.destroyContainingCells(),this.getAndClearDelayedDestroyFunctions().forEach((function(t){return t()})));var n=this.createRowEvent(o.a.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(n),this.beans.eventService.dispatchEvent(n)},e.prototype.destroyContainingCells=function(){this.forEachCellComp((function(t){return t.destroy()})),this.destroyFullWidthComponents()},e.prototype.getAndClearDelayedDestroyFunctions=function(){var t=this.removeSecondPassFuncs;return this.removeSecondPassFuncs=[],t},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusedCellController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.eAllRowContainers.forEach((function(e){return a.e.addOrRemoveCssClass(e,"ag-row-focus",t)})),this.eAllRowContainers.forEach((function(e){return a.e.addOrRemoveCssClass(e,"ag-row-no-focus",!t)})),this.rowFocused=t),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged())},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.applyPaginationOffset=function(t,e){return void 0===e&&(e=!1),this.rowNode.isRowPinned()?t:t+this.beans.paginationProxy.getPixelOffset()*(e?1:-1)},e.prototype.setRowTop=function(t){if(!this.printLayout&&a.e.exists(t)){var e=this.applyPaginationOffset(t),n=this.beans.maxDivHeightScaler.getRealPixelPosition(e)+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.eAllRowContainers.forEach((function(t){return t.style.top=n})):this.eAllRowContainers.forEach((function(t){return t.style.transform="translateY("+n+")"}))}},e.prototype.getAndClearNextVMTurnFunctions=function(){var t=this.createSecondPassFuncs;return this.createSecondPassFuncs=[],t},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getRenderedCellForColumn=function(t){var e=this,n=this.cellComps[t.getColId()];if(n)return n;var r=Object.keys(this.cellComps).map((function(t){return e.cellComps[t]})).filter((function(e){return e&&-1!==e.getColSpanningList().indexOf(t)}));return r.length?r[0]:void 0},e.prototype.onRowIndexChanged=function(){this.onCellFocusChanged(),this.updateRowIndexes()},e.prototype.updateRowIndexes=function(){var t=this,e=this.rowNode.getRowIndexString(),n=this.rowNode.rowIndex%2===0,r=this.rowIsEven!==n,i=this.beans.gridPanel.headerRootComp.getHeaderRowCount();r&&(this.rowIsEven=n),this.eAllRowContainers.forEach((function(o){o.setAttribute("row-index",e),o.setAttribute("aria-rowindex",(i+t.rowNode.rowIndex+1).toString()),r&&(a.e.addOrRemoveCssClass(o,"ag-row-even",n),a.e.addOrRemoveCssClass(o,"ag-row-odd",!n))}))},e.prototype.ensureDomOrder=function(){[{el:this.getBodyRowElement(),ct:this.bodyContainerComp},{el:this.getPinnedLeftRowElement(),ct:this.pinnedLeftContainerComp},{el:this.getPinnedRightRowElement(),ct:this.pinnedRightContainerComp},{el:this.getFullWidthRowElement(),ct:this.fullWidthContainerComp}].forEach((function(t){t.el&&t.ct.ensureDomOrder(t.el)}))},e.prototype.getPinnedLeftRowElement=function(){return this.ePinnedLeftRow?this.ePinnedLeftRow:this.eFullWidthRowLeft},e.prototype.getPinnedRightRowElement=function(){return this.ePinnedRightRow?this.ePinnedRightRow:this.eFullWidthRowRight},e.prototype.getBodyRowElement=function(){return this.eBodyRow?this.eBodyRow:this.eFullWidthRowBody},e.prototype.getFullWidthRowElement=function(){return this.eFullWidthRow},e.DOM_DATA_KEY_RENDERED_ROW="renderedRow",e.FULL_WIDTH_CELL_RENDERER="fullWidthCellRenderer",e.GROUP_ROW_RENDERER="groupRowRenderer",e.GROUP_ROW_RENDERER_COMP_NAME="agGroupRowRenderer",e.LOADING_CELL_RENDERER="loadingCellRenderer",e.LOADING_CELL_RENDERER_COMP_NAME="agLoadingCellRenderer",e.DETAIL_CELL_RENDERER="detailCellRenderer",e.DETAIL_CELL_RENDERER_COMP_NAME="agDetailCellRenderer",e}(s.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),i=n(19),o=n(21),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(n,r){var i=t.call(this)||this;return i.version=0,i.state=e.STATE_DIRTY,i.rowNodeCacheParams=r,i.blockNumber=n,i.startRow=n*r.blockSize,i.endRow=i.startRow+r.blockSize,i}return s(e,t),e.prototype.isAnyNodeOpen=function(t){var e=!1;return this.forEachNodeCallback((function(t){t.expanded&&(e=!0)}),t),e},e.prototype.forEachNodeCallback=function(t,e){for(var n=this.startRow;n<this.endRow;n++){if(n<e)t(this.getRowUsingLocalIndex(n),n)}},e.prototype.forEachNode=function(t,e,n,r){this.forEachNodeCallback((function(n){t(n,e.next()),r&&n.childrenCache&&n.childrenCache.forEachNodeDeep(t,e)}),n)},e.prototype.forEachNodeDeep=function(t,e,n){this.forEachNode(t,e,n,!0)},e.prototype.forEachNodeShallow=function(t,e,n){this.forEachNode(t,e,n,!1)},e.prototype.getVersion=function(){return this.version},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRowUsingLocalIndex=function(t,e){void 0===e&&(e=!1),e||(this.lastAccessed=this.rowNodeCacheParams.lastAccessedSequence.next());var n=t-this.startRow;return this.rowNodes[n]},e.prototype.init=function(t){this.beans=t,this.createRowNodes()},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.getBlockNumber=function(){return this.blockNumber},e.prototype.setDirty=function(){this.version++,this.state=e.STATE_DIRTY},e.prototype.setDirtyAndPurge=function(){this.setDirty(),this.rowNodes.forEach((function(t){t.setData(null)}))},e.prototype.getState=function(){return this.state},e.prototype.setRowNode=function(t,e){var n=t-this.startRow;this.rowNodes[n]=e},e.prototype.setBlankRowNode=function(t){var e=t-this.startRow,n=this.createBlankRowNode(t);return this.rowNodes[e]=n,n},e.prototype.setNewData=function(t,e){var n=this.setBlankRowNode(t);return this.setDataAndId(n,e,this.startRow+t),n},e.prototype.createBlankRowNode=function(t){var e=new i.a;return this.beans.context.wireBean(e),e.setRowHeight(this.rowNodeCacheParams.rowHeight),e},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.rowNodeCacheParams.blockSize;t++){var e=this.startRow+t,n=this.createBlankRowNode(e);this.rowNodes.push(n)}},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.pageLoadFailed=function(){this.state=e.STATE_FAILED;var t={type:e.EVENT_LOAD_COMPLETE,success:!1,page:this,lastRow:null};this.dispatchEvent(t)},e.prototype.populateWithRowData=function(t){var e=this,n=[];this.rowNodes.forEach((function(r,i){var o=t[i];r.stub&&n.push(r),e.setDataAndId(r,o,e.startRow+i)})),n.length>0&&this.beans.rowRenderer.redrawRows(n)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.rowNodes.forEach((function(t){t.childrenCache&&(t.childrenCache.destroy(),t.childrenCache=null),t.clearRowTop()}))},e.prototype.pageLoaded=function(t,n,i){t===this.version&&(this.state=e.STATE_LOADED,this.populateWithRowData(n)),i=r.e.cleanNumber(i);var o={type:e.EVENT_LOAD_COMPLETE,success:!0,page:this,lastRow:i};this.dispatchEvent(o)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_DIRTY="dirty",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(o.a)},function(t,e,n){"use strict";var r=n(56),i=n(1),o=n(64),s=n(10),a=n(12),u=n(32),l=n(8),c=n(7),h=n(0),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return p(e,t),e.prototype.init=function(t){var n=h.e.firstExistingValue(t.template,e.TEMPLATE);n=n&&n.trim?n.trim():n,this.setTemplate(n),this.params=t,this.setupTap(),this.setupIcons(t.column),this.setupMenu(),this.setupSort(),this.setupFilterIcon(),this.setupText(t.displayName)},e.prototype.setupText=function(t){var e=h.e.escape(t);this.eText&&(this.eText.innerHTML=e)},e.prototype.setupIcons=function(t){this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,e,n){if(null!=e){var r=h.e.createIconNoSpan(t,this.gridOptionsWrapper,n);e.appendChild(r)}},e.prototype.setupTap=function(){var t=this,e=this.gridOptionsWrapper;if(!e.isSuppressTouch()){var n=new u.a(this.getGui(),!0),r=e.isSuppressMenuHide(),i=r&&h.e.exists(this.eMenu),o=i?new u.a(this.eMenu,!0):n;if(this.params.enableMenu){var s=i?"EVENT_TAP":"EVENT_LONG_TAP";this.addDestroyableEventListener(o,u.a[s],(function(n){e.getApi().showColumnMenuAfterMouseClick(t.params.column,n.touchStart)}))}if(this.params.enableSorting){this.addDestroyableEventListener(n,u.a.EVENT_TAP,(function(e){var n=e.touchStart.target;r&&t.eMenu.contains(n)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")}))}this.addDestroyFunc((function(){return n.destroy()})),i&&this.addDestroyFunc((function(){return o.destroy()}))}},e.prototype.setupMenu=function(){var t=this;if(this.eMenu){var e=this.gridOptionsWrapper.isSuppressMenuHide();if(!this.params.enableMenu||h.e.isIOSUserAgent()&&!e)h.e.removeFromParent(this.eMenu);else{this.addDestroyableEventListener(this.eMenu,"click",(function(){return t.showMenu(t.eMenu)})),e||(this.eMenu.style.opacity="0",this.addGuiEventListener("mouseover",(function(){t.eMenu.style.opacity="1"})),this.addGuiEventListener("mouseout",(function(){t.eMenu.style.opacity="0"})));var n=this.eMenu.style;n.transition="opacity 0.2s, border 0.2s",n["-webkit-transition"]="opacity 0.2s, border 0.2s"}}},e.prototype.showMenu=function(t){this.menuFactory.showMenuAfterButtonClick(this.params.column,t)},e.prototype.removeSortIcons=function(){h.e.removeFromParent(this.eSortAsc),h.e.removeFromParent(this.eSortDesc),h.e.removeFromParent(this.eSortNone),h.e.removeFromParent(this.eSortOrder)},e.prototype.setupSort=function(){var t=this;if(this.params.enableSorting){var e=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addDestroyableEventListener(this.params.column,a.a.EVENT_MOVING_CHANGED,(function(){t.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addDestroyableEventListener(this.eLabel,"click",(function(n){var r=t.params.column.isMoving(),i=(new Date).getTime()-t.lastMovingChanged<50;if(!(r||i)){var o=e?n.ctrlKey||n.metaKey:n.shiftKey;t.params.progressSort(o)}})),this.addDestroyableEventListener(this.params.column,a.a.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addDestroyableEventListener(this.eventService,c.a.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},e.prototype.onSortChanged=function(){if(h.e.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),h.e.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),h.e.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&h.e.addOrRemoveCssClass(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&h.e.addOrRemoveCssClass(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var t=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();h.e.addOrRemoveCssClass(this.eSortNone,"ag-hidden",t||!this.params.column.isSortNone())}},e.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var t=this.params.column,e=this.sortController.getColumnsWithSortingOrdered(),n=e.indexOf(t),r=e.length>1,i=t.isSorting()&&r;h.e.setDisplayed(this.eSortOrder,i),n>=0?this.eSortOrder.innerHTML=(n+1).toString():h.e.clearElement(this.eSortOrder)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addDestroyableEventListener(this.params.column,a.a.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();h.e.addOrRemoveCssClass(this.eFilter,"ag-hidden",!t)},e.TEMPLATE='<div class="ag-cell-label-container" role="presentation">  <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>  <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">    <span ref="eText" class="ag-header-cell-text" role="columnheader" unselectable="on"></span>    <span ref="eFilter" class="ag-header-icon ag-filter-icon" aria-hidden="true"></span>    <span ref="eSortOrder" class="ag-header-icon ag-sort-order" aria-hidden="true"></span>    <span ref="eSortAsc" class="ag-header-icon ag-sort-ascending-icon" aria-hidden="true"></span>    <span ref="eSortDesc" class="ag-header-icon ag-sort-descending-icon" aria-hidden="true"></span>    <span ref="eSortNone" class="ag-header-icon ag-sort-none-icon" aria-hidden="true"></span>  </div></div>',d([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),d([Object(i.a)("sortController")],e.prototype,"sortController",void 0),d([Object(i.a)("menuFactory")],e.prototype,"menuFactory",void 0),d([Object(i.a)("eventService")],e.prototype,"eventService",void 0),d([Object(l.c)("eFilter")],e.prototype,"eFilter",void 0),d([Object(l.c)("eSortAsc")],e.prototype,"eSortAsc",void 0),d([Object(l.c)("eSortDesc")],e.prototype,"eSortDesc",void 0),d([Object(l.c)("eSortNone")],e.prototype,"eSortNone",void 0),d([Object(l.c)("eSortOrder")],e.prototype,"eSortOrder",void 0),d([Object(l.c)("eMenu")],e.prototype,"eMenu",void 0),d([Object(l.c)("eLabel")],e.prototype,"eLabel",void 0),d([Object(l.c)("eText")],e.prototype,"eText",void 0),e}(s.a),g=n(23),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},y=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return v(e,t),e.prototype.init=function(t){this.params=t,this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var e=function(e){if(!h.e.isStopPropagationForAgGrid(e)){var n=!t.params.columnGroup.isExpanded();t.columnController.setColumnGroupOpened(t.params.columnGroup.getOriginalColumnGroup(),n,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);var n=function(t){h.e.stopPropagationForAgGrid(t)};this.addDestroyableEventListener(this.eCloseIcon,"dblclick",n),this.addDestroyableEventListener(this.eOpenIcon,"dblclick",n),this.addDestroyableEventListener(this.getGui(),"dblclick",e),this.updateIconVisibility();var r=this.params.columnGroup.getOriginalColumnGroup();this.addDestroyableEventListener(r,g.a.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addDestroyableEventListener(r,g.a.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,e){var n=new u.a(t);this.addDestroyableEventListener(n,u.a.EVENT_TAP,e),this.addDestroyFunc((function(){return n.destroy()})),this.addDestroyableEventListener(t,"click",e)},e.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var t=this.params.columnGroup.isExpanded();h.e.setDisplayed(this.eOpenIcon,t),h.e.setDisplayed(this.eCloseIcon,!t)}else h.e.setDisplayed(this.eOpenIcon,!1),h.e.setDisplayed(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,e){var n=h.e.createIconNoSpan(t,this.gridOptionsWrapper,null);this.getRefElement(e).appendChild(n)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return h.e.setDisplayed(this.eOpenIcon,!1),void h.e.setDisplayed(this.eCloseIcon,!1)},e.prototype.setupLabel=function(){this.params.displayName&&""!==this.params.displayName&&(this.getRefElement("agLabel").innerHTML=this.params.displayName)},e.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation"><span ref="agLabel" class="ag-header-group-text" role="columnheader"></span><span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span><span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span></div>',m([Object(i.a)("columnController")],e.prototype,"columnController",void 0),m([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),m([Object(l.c)("agOpened")],e.prototype,"eOpenIcon",void 0),m([Object(l.c)("agClosed")],e.prototype,"eCloseIcon",void 0),e}(s.a),b=n(57),w=n(66),C=n(67),E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},O=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return E(e,t),e.prototype.init=function(t){var e=h.e.createIconNoSpan("groupLoading",this.gridOptionsWrapper,null);this.eLoadingIcon.appendChild(e);var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.TEMPLATE='<div class="ag-stub-cell">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',_([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),_([Object(l.c)("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),_([Object(l.c)("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(s.a),T=n(68),S=n(90),R=n(91),P=n(92),x=n(69),A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},I=function(t){function e(){return t.call(this)||this}return A(e,t),e.prototype.init=function(t){var n=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():e.DEFAULT_LOADING_OVERLAY_TEMPLATE,r=this.gridOptionsWrapper.getLocaleTextFunc(),i=n.replace("[LOADING...]",r("loadingOoo","Loading..."));this.setTemplate(i)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',D([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(s.a),N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},L=function(t){function e(){return t.call(this)||this}return N(e,t),e.prototype.init=function(t){var n=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():e.DEFAULT_NO_ROWS_TEMPLATE,r=this.gridOptionsWrapper.getLocaleTextFunc(),i=n.replace("[NO_ROWS_TO_SHOW]",r("noRowsToShow","No Rows To Show"));this.setTemplate(i)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',k([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(s.a),M=n(37),F=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(t){function e(){return t.call(this,'<div class="ag-tooltip"></div>')||this}return F(e,t),e.prototype.init=function(t){var e=t.value;this.getGui().innerHTML=e},e}(M.a),G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(t){function e(){return t.call(this,'<div class="ag-input-wrapper" role="presentation"><input class="ag-filter-filter" type="text" placeholder="yyyy-mm-dd"></div>')||this}return G(e,t),e.prototype.init=function(t){this.eDateInput=this.getGui().querySelector("input"),(h.e.isBrowserChrome()||t.filterParams&&t.filterParams.browserDatePicker)&&(h.e.isBrowserIE()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11, reverting to plain text date picker"):this.eDateInput.type="date"),this.listener=t.onDateChanged,this.addGuiEventListener("input",this.listener)},e.prototype.getDate=function(){return h.e.parseYyyyMmDdToDate(this.eDateInput.value,"-")},e.prototype.setDate=function(t){this.eDateInput.value=h.e.serializeDateToYyyyMmDd(t,"-")},e}(s.a),W=n(62),B=n(13),H=n(142),U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.getTextFromModel=function(t){if(!t)return null;if(t.operator){var e=t,n=this.conditionToString(e.condition1),r=this.conditionToString(e.condition2);return n+" "+e.operator+" "+r}var i=t;return this.conditionToString(i)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.getLastType=function(){return this.lastType},e.prototype.setLastTypeFromModel=function(t){if(t){var e;if(t.operator)e=t.condition1;else e=t;this.lastType=e.type}else this.lastType=this.optionsFactory.getDefaultOption()},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;var e=t;return this.isTypeEditable(e.type)},e.prototype.init=function(t){this.optionsFactory=new H.a,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption();var e=this.isTypeEditable(this.lastType);this.setEditable(e)},e.prototype.doesFilterHaveHiddenInput=function(t){var e=this.optionsFactory.getCustomOption(t);return e&&e.hideFilterInput},e.prototype.isTypeEditable=function(t){return!this.doesFilterHaveHiddenInput(t)&&(t&&t!=B.b.IN_RANGE&&t!=B.b.EMPTY)},e}(s.a),q=n(45),K=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},X=function(t){function e(){return t.call(this,'<div class="ag-input-wrapper" role="presentation">\n                <input ref="eReadOnlyText" disabled="true" class="ag-floating-filter-input">\n                <div ref="eDateWrapper" style="display: flex; flex: 1 1 auto; overflow: hidden;"></div>\n            </div>')||this}return K(e,t),e.prototype.getDefaultFilterOptions=function(){return o.a.DEFAULT_FILTER_OPTIONS},e.prototype.conditionToString=function(t){return t.type==B.b.IN_RANGE?t.dateFrom+"-"+t.dateTo:null!=t.dateFrom?""+t.dateFrom:""+t.type},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.createDateComponent()},e.prototype.setEditable=function(t){h.e.setDisplayed(this.eDateWrapper,t),h.e.setDisplayed(this.eReadOnlyText,!t)},e.prototype.onParentModelChanged=function(e,n){if(!this.isEventFromFloatingFilter(n)){t.prototype.setLastTypeFromModel.call(this,e);var r=this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(r),r){if(e){var i=e;this.dateComp.setDate(h.e.parseYyyyMmDdToDate(i.dateFrom,"-"))}else this.dateComp.setDate(null);this.eReadOnlyText.value=""}else this.eReadOnlyText.value=this.getTextFromModel(e),this.dateComp.setDate(null)}},e.prototype.onDateChanged=function(){var t=this,e=this.dateComp.getDate(),n=h.e.serializeDateToYyyyMmDd(e,"-");this.params.parentFilterInstance((function(e){e&&e.onFloatingFilterChanged(t.getLastType(),n)}))},e.prototype.createDateComponent=function(){var t=this,e=q.a.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n={onDateChanged:h.e.debounce(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new W.a(this.userComponentFactory,n,this.eDateWrapper),this.addDestroyFunc((function(){t.dateComp.destroy()}))},Y([Object(i.a)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Y([Object(l.c)("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),Y([Object(l.c)("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(z),Q=n(70),$=n(5),J=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.postConstruct=function(){this.setTemplate('<div class="ag-input-wrapper" role="presentation">\n                <input ref="eFloatingFilterText" class="ag-floating-filter-input">\n            </div>')},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,e){if(!this.isEventFromFloatingFilter(e)){this.setLastTypeFromModel(t);var n=this.getTextFromModel(t);this.eFloatingFilterText.value=n;var r=this.canWeEditAfterModelFromParentFilter(t);this.setEditable(r)}},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.applyActive=q.a.isUseApplyButton(this.params.filterParams);var n=q.a.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=h.e.debounce(this.syncUpWithParentFilter.bind(this),n);this.addDestroyableEventListener(this.eFloatingFilterText,"input",r),this.addDestroyableEventListener(this.eFloatingFilterText,"keypress",r),this.addDestroyableEventListener(this.eFloatingFilterText,"keydown",r);var i=e.column.getDefinition();i.filterParams&&i.filterParams.filterOptions&&1===i.filterParams.filterOptions.length&&"inRange"===i.filterParams.filterOptions[0]&&(this.eFloatingFilterText.disabled=!0)},e.prototype.syncUpWithParentFilter=function(t){var e=this,n=this.eFloatingFilterText.value,r=h.e.isKeyPressed(t,$.a.KEY_ENTER);this.applyActive&&!r||this.params.parentFilterInstance((function(t){t&&t.onFloatingFilterChanged(e.getLastType(),n)}))},e.prototype.setEditable=function(t){this.eFloatingFilterText.disabled=!t},Z([Object(l.c)("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),Z([i.e],e.prototype,"postConstruct",null),e}(z),et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e.prototype.getDefaultFilterOptions=function(){return x.a.DEFAULT_FILTER_OPTIONS},e.prototype.conditionToString=function(t){return t.type==B.b.IN_RANGE?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},e}(tt),rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rt(e,t),e.prototype.conditionToString=function(t){return null!=t.filter?""+t.filter:""+t.type},e.prototype.getDefaultFilterOptions=function(){return Q.a.DEFAULT_FILTER_OPTIONS},e}(tt);n.d(e,"a",(function(){return ot})),n.d(e,"b",(function(){return at}));var ot,st=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.REGISTERED=1]="REGISTERED"}(ot||(ot={}));var at=function(){function t(){this.agGridDefaults={agDateInput:V,agColumnHeader:f,agColumnGroupHeader:y,agTextColumnFloatingFilter:it,agNumberColumnFloatingFilter:nt,agDateColumnFloatingFilter:X,agAnimateShowChangeCellRenderer:w.a,agAnimateSlideCellRenderer:C.a,agGroupCellRenderer:b.a,agGroupRowRenderer:b.a,agLoadingCellRenderer:O,agCellEditor:r.a,agTextCellEditor:r.a,agSelectCellEditor:T.a,agPopupTextCellEditor:S.a,agPopupSelectCellEditor:R.a,agLargeTextCellEditor:P.a,agTextColumnFilter:Q.a,agNumberColumnFilter:x.a,agDateColumnFilter:o.a,agLoadingOverlay:I,agNoRowsOverlay:L,agTooltipComponent:j},this.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},this.jsComponents={},this.frameworkComponents={}}return t.prototype.init=function(){var t=this;null!=this.gridOptions.components&&Object.keys(this.gridOptions.components).forEach((function(e){t.registerComponent(e,t.gridOptions.components[e])})),null!=this.gridOptions.frameworkComponents&&Object.keys(this.gridOptions.frameworkComponents).forEach((function(e){t.registerFwComponent(e,t.gridOptions.frameworkComponents[e])}))},t.prototype.registerDefaultComponent=function(t,e){var n=this.translateIfDeprecated(t);this.agGridDefaults[n]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[n]=e},t.prototype.registerComponent=function(t,e){var n=this.translateIfDeprecated(t);this.frameworkComponents[n]?console.error("Trying to register a component that you have already registered for frameworks: "+n):this.jsComponents[n]=e},t.prototype.registerFwComponent=function(t,e){var n=this.translateIfDeprecated(t);this.jsComponents[n]?console.error("Trying to register a component that you have already registered for plain javascript: "+n):this.frameworkComponents[n]=e},t.prototype.retrieve=function(t){var e=this.translateIfDeprecated(t);return this.frameworkComponents[e]?{componentFromFramework:!0,component:this.frameworkComponents[e],source:ot.REGISTERED}:this.jsComponents[e]?{componentFromFramework:!1,component:this.jsComponents[e],source:ot.REGISTERED}:this.agGridDefaults[e]?this.agGridDefaults[e]?{componentFromFramework:!1,component:this.agGridDefaults[e],source:ot.DEFAULT}:null:(Object.keys(this.agGridDefaults).indexOf(e)<0&&console.warn("ag-Grid: Looking for component ["+e+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(t){var e=this.agDeprecatedNames[t];return null!=e?(h.e.doOnce((function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+e.propertyHolder+":"+t+" to "+e.propertyHolder+":"+e.newComponentName)}),"DEPRECATE_COMPONENT_"+t),e.newComponentName):t},st([Object(i.a)("gridOptions")],t.prototype,"gridOptions",void 0),st([Object(i.a)("context")],t.prototype,"context",void 0),st([i.e],t.prototype,"init",null),t=st([Object(i.b)("userComponentRegistry")],t)}()},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t[t.VALUE=0]="VALUE",t[t.DIMENSION=1]="DIMENSION"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(t,e,n){var r=this;this.alive=!0,t.newDateComponent(e).then((function(t){r.alive?(r.dateComp=t,n.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),r.tempValue&&t.setDate(r.tempValue)):t.destroy&&t.destroy()}))}return t.prototype.destroy=function(){this.alive=!1,this.dateComp&&this.dateComp.destroy&&this.dateComp.destroy()},t.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},t.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},t}()},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(8),i=n(1),o=n(0),s=n(62),a=n(13),u=n(29),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.mapRangeFromModel=function(t){return{from:o.e.parseYyyyMmDdToDate(t.dateFrom,"-"),to:o.e.parseYyyyMmDdToDate(t.dateTo,"-")}},e.prototype.setValueFromFloatingFilter=function(t){if(null!=t){var e=o.e.parseYyyyMmDdToDate(t,"-");this.dateCompFrom1.setDate(e)}else this.dateCompFrom1.setDate(null);this.dateCompTo1.setDate(null),this.dateCompFrom2.setDate(null),this.dateCompTo2.setDate(null)},e.prototype.setConditionIntoUi=function(t,e){var n=e===a.a.One,r=t?t.dateFrom:null,i=t?t.dateTo:null,s=o.e.parseYyyyMmDdToDate(r,"-"),u=o.e.parseYyyyMmDdToDate(i,"-"),l=n?this.dateCompFrom1:this.dateCompFrom2,c=n?this.dateCompTo1:this.dateCompTo2;l.setDate(s),c.setDate(u)},e.prototype.resetUiToDefaults=function(){t.prototype.resetUiToDefaults.call(this),this.dateCompTo1.setDate(null),this.dateCompTo2.setDate(null),this.dateCompFrom1.setDate(null),this.dateCompFrom2.setDate(null)},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,e){return e<t?-1:e>t?1:null!=e?0:-1},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.dateFilterParams=e,this.createDateComponents()},e.prototype.createDateComponents=function(){var t=this,e={onDateChanged:function(){return t.onUiChanged()},filterParams:this.dateFilterParams};this.dateCompFrom1=new s.a(this.userComponentFactory,e,this.ePanelFrom1),this.dateCompFrom2=new s.a(this.userComponentFactory,e,this.ePanelFrom2),this.dateCompTo1=new s.a(this.userComponentFactory,e,this.ePanelTo1),this.dateCompTo2=new s.a(this.userComponentFactory,e,this.ePanelTo2),this.addDestroyFunc((function(){t.dateCompFrom1.destroy(),t.dateCompFrom2.destroy(),t.dateCompTo1.destroy(),t.dateCompTo2.destroy()}))},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===a.a.One?"1":"2";return'<div class="ag-filter-body" ref="eCondition'+e+'Body">\n                    <div class="ag-filter-date-from" ref="ePanelFrom'+e+'">\n                    </div>\n                    <div class="ag-filter-date-to" ref="ePanelTo'+e+'"">\n                    </div>\n                </div>'},e.prototype.isConditionUiComplete=function(t){var e=t===a.a.One,n=e?this.getCondition1Type():this.getCondition2Type(),r=e?this.dateCompFrom1:this.dateCompFrom2,i=e?this.dateCompTo1:this.dateCompTo2,o=r.getDate(),s=i.getDate();return n!==a.b.EMPTY&&(!!this.doesFilterHaveHiddenInput(n)||(n===a.b.IN_RANGE?null!=o&&null!=s:null!=o))},e.prototype.areSimpleModelsEqual=function(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type},e.prototype.getFilterType=function(){return e.FILTER_TYPE},e.prototype.createCondition=function(t){var n=t===a.a.One,r=n?this.getCondition1Type():this.getCondition2Type(),i=n?this.dateCompTo1:this.dateCompTo2,s=n?this.dateCompFrom1:this.dateCompFrom2;return{dateTo:o.e.serializeDateToYyyyMmDd(i.getDate(),"-"),dateFrom:o.e.serializeDateToYyyyMmDd(s.getDate(),"-"),type:r,filterType:e.FILTER_TYPE}},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this);var e=this.showValueFrom(this.getCondition1Type());o.e.setDisplayed(this.ePanelFrom1,e);var n=this.showValueTo(this.getCondition1Type());o.e.setDisplayed(this.ePanelTo1,n);var r=this.showValueFrom(this.getCondition2Type());o.e.setDisplayed(this.ePanelFrom2,r);var i=this.showValueTo(this.getCondition2Type());o.e.setDisplayed(this.ePanelTo2,i)},e.FILTER_TYPE="date",e.DEFAULT_FILTER_OPTIONS=[u.a.EQUALS,u.a.GREATER_THAN,u.a.LESS_THAN,u.a.NOT_EQUAL,u.a.IN_RANGE],c([Object(r.c)("ePanelFrom1")],e.prototype,"ePanelFrom1",void 0),c([Object(r.c)("ePanelFrom2")],e.prototype,"ePanelFrom2",void 0),c([Object(r.c)("ePanelTo1")],e.prototype,"ePanelTo1",void 0),c([Object(r.c)("ePanelTo2")],e.prototype,"ePanelTo2",void 0),c([Object(i.a)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(u.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(10),i=n(19),o=n(1),s=n(7),a=n(0),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(t){function e(){return t.call(this,'<span class="ag-selection-checkbox"/>')||this}return u(e,t),e.prototype.createAndAddIcons=function(){var t=this.getGui();this.gridOptionsWrapper.useNativeCheckboxes()?(this.checkbox=document.createElement("input"),this.checkbox.type="checkbox",t.appendChild(this.checkbox)):(this.eCheckedIcon=a.e.createIconNoSpan("checkboxChecked",this.gridOptionsWrapper,this.column),this.eUncheckedIcon=a.e.createIconNoSpan("checkboxUnchecked",this.gridOptionsWrapper,this.column),this.eIndeterminateIcon=a.e.createIconNoSpan("checkboxIndeterminate",this.gridOptionsWrapper,this.column),t.appendChild(this.eCheckedIcon),t.appendChild(this.eUncheckedIcon),t.appendChild(this.eIndeterminateIcon))},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.rowNode.isSelected();this.gridOptionsWrapper.useNativeCheckboxes()?(this.checkbox.checked=!0===t,this.checkbox.indeterminate="boolean"!==typeof t):(a.e.setDisplayed(this.eCheckedIcon,!0===t),a.e.setDisplayed(this.eUncheckedIcon,!1===t),a.e.setDisplayed(this.eIndeterminateIcon,"boolean"!==typeof t))},e.prototype.onCheckedClicked=function(){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,groupSelectsFiltered:t})},e.prototype.onUncheckedClicked=function(t){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey,groupSelectsFiltered:e})},e.prototype.onIndeterminateClicked=function(t){0===this.onUncheckedClicked(t)&&this.onCheckedClicked()},e.prototype.onCheckboxClicked=function(t){this.checkbox.checked?this.onUncheckedClicked(t):this.onCheckedClicked()},e.prototype.init=function(t){this.rowNode=t.rowNode,this.column=t.column,this.createAndAddIcons(),this.onSelectionChanged(),this.addGuiEventListener("click",(function(t){return a.e.stopPropagationForAgGrid(t)})),this.addGuiEventListener("dblclick",(function(t){return a.e.stopPropagationForAgGrid(t)})),this.gridOptionsWrapper.useNativeCheckboxes()?this.addDestroyableEventListener(this.checkbox,"click",this.onCheckboxClicked.bind(this)):(this.addDestroyableEventListener(this.eCheckedIcon,"click",this.onCheckedClicked.bind(this)),this.addDestroyableEventListener(this.eUncheckedIcon,"click",this.onUncheckedClicked.bind(this)),this.addDestroyableEventListener(this.eIndeterminateIcon,"click",this.onIndeterminateClicked.bind(this))),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,i.a.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc(),(this.isRowSelectableFunc||this.checkboxCallbackExists())&&(this.addDestroyableEventListener(this.eventService,s.a.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelect.bind(this)),this.showOrHideSelect())},e.prototype.showOrHideSelect=function(){var t=this.rowNode.selectable;t&&this.checkboxCallbackExists()&&(t=this.column.isCellCheckboxSelection(this.rowNode)),this.setDisplayed(t)},e.prototype.checkboxCallbackExists=function(){var t=this.column?this.column.getColDef():null;return t&&"function"===typeof t.checkboxSelection},l([Object(o.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),l([Object(o.a)("eventService")],e.prototype,"eventService",void 0),l([Object(o.a)("gridApi")],e.prototype,"gridApi",void 0),l([Object(o.a)("columnApi")],e.prototype,"columnApi",void 0),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(10),i=n(0),o=n(1),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n}return s(e,t),e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,e){var n=Math.abs(e),r=t.formatValue(n),o=i.e.exists(r)?r:n,s=e>=0;this.eDelta.innerHTML=s?"\u2191"+o:"\u2193"+o,i.e.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-up",s),i.e.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-down",!s)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var e=this.refreshCount;window.setTimeout((function(){e===t.refreshCount&&t.hideDeltaValue()}),2e3)},e.prototype.hideDeltaValue=function(){i.e.removeCssClass(this.eValue,"ag-value-change-value-highlight"),i.e.clearElement(this.eDelta)},e.prototype.refresh=function(t){var e=t.value;if(e!==this.lastValue&&(i.e.exists(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:i.e.exists(t.value)?this.eValue.innerHTML=e:i.e.clearElement(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())){if("number"===typeof e&&"number"===typeof this.lastValue){var n=e-this.lastValue;this.showDelta(t,n)}return this.lastValue&&i.e.addCssClass(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=e,!0}},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',a([Object(o.a)("filterManager")],e.prototype,"filterManager",void 0),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(10),i=n(0),o=n(1),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return s(e,t),e.prototype.init=function(t){this.params=t,this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=i.e.loadTemplate('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){e===t.refreshCount&&i.e.addCssClass(t.ePrevious,"ag-value-slide-out-end")}),50),window.setTimeout((function(){e===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)}),3e3)},e.prototype.refresh=function(t){var e=t.value;if(i.e.missing(e)&&(e=""),e!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering())return this.addSlideAnimation(),this.lastValue=e,i.e.exists(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:i.e.exists(t.value)?this.eCurrent.innerHTML=e:i.e.clearElement(this.eCurrent),!0},e.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',a([Object(o.a)("filterManager")],e.prototype,"filterManager",void 0),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(37),i=n(5),o=n(1),s=n(0),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t){function e(){var e=t.call(this,'<div class="ag-cell-edit-input"><select class="ag-cell-edit-input"/></div>')||this;return e.eSelect=e.getGui().querySelector("select"),e}return a(e,t),e.prototype.init=function(t){var e=this;this.focusAfterAttached=t.cellStartedEdit,s.e.missing(t.values)?console.warn("ag-Grid: no values found for select cellEditor"):(t.values.forEach((function(n){var r=document.createElement("option");r.value=n;var i=e.valueFormatterService.formatValue(t.column,null,null,n),o=null!==i&&void 0!==i;r.text=o?i:n,t.value===n&&(r.selected=!0),e.eSelect.appendChild(r)})),this.gridOptionsWrapper.isFullRowEdit()||this.addDestroyableEventListener(this.eSelect,"change",(function(){return t.stopEditing()})),this.addDestroyableEventListener(this.eSelect,"keydown",(function(t){(t.keyCode===i.a.KEY_UP||t.keyCode===i.a.KEY_DOWN)&&t.stopPropagation()})),this.addDestroyableEventListener(this.eSelect,"mousedown",(function(t){t.stopPropagation()})))},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.focus()},e.prototype.focusIn=function(){this.eSelect.focus()},e.prototype.getValue=function(){return this.eSelect.value},e.prototype.isPopup=function(){return!1},u([Object(o.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),u([Object(o.a)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(8),i=n(0),o=n(13),s=n(29),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.mapRangeFromModel=function(t){return{from:t.filter,to:t.filterTo}},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.resetUiToDefaults=function(){t.prototype.resetUiToDefaults.call(this),this.eValueFrom1.value=null,this.eValueFrom2.value=null,this.eValueTo1.value=null,this.eValueTo2.value=null},e.prototype.setConditionIntoUi=function(t,e){var n=e===o.a.One,r=n?this.eValueFrom1:this.eValueFrom2,i=n?this.eValueTo1:this.eValueTo2;r.value=t?""+t.filter:null,i.value=t?""+t.filterTo:null},e.prototype.setValueFromFloatingFilter=function(t){this.eValueFrom1.value=t,this.eValueFrom2.value=null,this.eValueTo1.value=null,this.eValueTo2.value=null},e.prototype.comparator=function(){return function(t,e){return t===e?0:t<e?1:t>e?-1:void 0}},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.addValueChangedListeners()},e.prototype.addValueChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.addDestroyableEventListener(this.eValueFrom1,"input",e),this.addDestroyableEventListener(this.eValueFrom2,"input",e),this.addDestroyableEventListener(this.eValueTo1,"input",e),this.addDestroyableEventListener(this.eValueTo2,"input",e)},e.prototype.afterGuiAttached=function(){this.eValueFrom1.focus()},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===o.a.One?"1":"2",n=this.translate.bind(this);return'<div class="ag-filter-body" ref="eCondition'+e+'Body" role="presentation">\n            <div class="ag-input-wrapper" role="presentation">\n                <input class="ag-filter-filter" ref="eValueFrom'+e+'" type="text" placeholder="'+n("filterOoo")+'"/>\n            </div>\n             <div class="ag-input-wrapper ag-filter-number-to" ref="ePanel'+e+'" role="presentation">\n                <input class="ag-filter-filter" ref="eValueTo'+e+'" type="text" placeholder="'+n("filterOoo")+'"/>\n            </div>\n        </div>'},e.prototype.isConditionUiComplete=function(t){var e=t===o.a.One,n=e?this.getCondition1Type():this.getCondition2Type(),r=e?this.eValueFrom1:this.eValueFrom2,i=e?this.eValueTo1:this.eValueTo2,s=this.stringToFloat(r.value),a=this.stringToFloat(i.value);return n!==o.b.EMPTY&&(!!this.doesFilterHaveHiddenInput(n)||(n===o.b.IN_RANGE?null!=s&&null!=a:null!=s))},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getFilterType=function(){return e.FILTER_TYPE},e.prototype.stringToFloat=function(t){var e=i.e.makeNull(t);return e&&""===e.trim()&&(e=null),null!==e&&void 0!==e?parseFloat(e):null},e.prototype.createCondition=function(t){var n=t===o.a.One,r=n?this.getCondition1Type():this.getCondition2Type(),i=n?this.eValueFrom1:this.eValueFrom2,s=this.stringToFloat(i.value),a=n?this.eValueTo1:this.eValueTo2,u=this.stringToFloat(a.value),l={filterType:e.FILTER_TYPE,type:r};return this.doesFilterHaveHiddenInput(r)||(l.filter=s,l.filterTo=u),l},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this);var e=this.showValueFrom(this.getCondition1Type());i.e.setDisplayed(this.eValueFrom1,e);var n=this.showValueTo(this.getCondition1Type());i.e.setDisplayed(this.eValueTo1,n);var r=this.showValueFrom(this.getCondition2Type());i.e.setDisplayed(this.eValueFrom2,r);var o=this.showValueTo(this.getCondition2Type());i.e.setDisplayed(this.eValueTo2,o)},e.FILTER_TYPE="number",e.DEFAULT_FILTER_OPTIONS=[s.a.EQUALS,s.a.NOT_EQUAL,s.a.LESS_THAN,s.a.LESS_THAN_OR_EQUAL,s.a.GREATER_THAN,s.a.GREATER_THAN_OR_EQUAL,s.a.IN_RANGE],u([Object(r.c)("eValueFrom1")],e.prototype,"eValueFrom1",void 0),u([Object(r.c)("eValueFrom2")],e.prototype,"eValueFrom2",void 0),u([Object(r.c)("eValueTo1")],e.prototype,"eValueTo1",void 0),u([Object(r.c)("eValueTo2")],e.prototype,"eValueTo2",void 0),e}(s.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(8),i=n(0),o=n(13),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.getValue=function(t){var e=t.value;return(e=i.e.makeNull(e))&&""===e.trim()&&(e=null),e},e.prototype.addValueChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.addDestroyableEventListener(this.eValue1,"input",e),this.addDestroyableEventListener(this.eValue2,"input",e)},e.prototype.setParams=function(n){t.prototype.setParams.call(this,n),this.textFilterParams=n,this.comparator=this.textFilterParams.textCustomComparator?this.textFilterParams.textCustomComparator:e.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter?this.textFilterParams.textFormatter:1==this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER,this.addValueChangedListeners()},e.prototype.setConditionIntoUi=function(t,e){(e===o.a.One?this.eValue1:this.eValue2).value=t?t.filter:null},e.prototype.createCondition=function(t){var n=t===o.a.One,r=n?this.getCondition1Type():this.getCondition2Type(),i=n?this.eValue1:this.eValue2,s=this.getValue(i),a={filterType:e.FILTER_TYPE,type:r};return this.doesFilterHaveHiddenInput(r)||(a.filter=s),a},e.prototype.getFilterType=function(){return e.FILTER_TYPE},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.type===e.type},e.prototype.resetUiToDefaults=function(){t.prototype.resetUiToDefaults.call(this),this.eValue1.value=null,this.eValue2.value=null},e.prototype.setValueFromFloatingFilter=function(t){this.eValue1.value=t,this.eValue2.value=null},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===o.a.One?"1":"2";return'<div class="ag-filter-body" ref="eCondition'+e+'Body" role="presentation">\n            <div class="ag-input-wrapper" ref="eInputWrapper'+e+'" role="presentation">\n                <input class="ag-filter-filter" ref="eValue'+e+'" type="text" placeholder="'+this.gridOptionsWrapper.getLocaleTextFunc()("filterOoo","Filter...")+'"/>\n            </div>\n        </div>'},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this);var e=this.showValueFrom(this.getCondition1Type());i.e.setDisplayed(this.eInputWrapper1,e);var n=this.showValueFrom(this.getCondition2Type());i.e.setDisplayed(this.eInputWrapper2,n)},e.prototype.afterGuiAttached=function(){this.eValue1.focus()},e.prototype.isConditionUiComplete=function(t){var e=t===o.a.One,n=e?this.getCondition1Type():this.getCondition2Type(),r=e?this.eValue1:this.eValue2;if(n===o.b.EMPTY)return!1;var i=this.getValue(r);return!!this.doesFilterHaveHiddenInput(n)||null!=i},e.prototype.individualConditionPasses=function(t,e){var n=e.filter,r=e.type,i=this.textFilterParams.valueGetter(t.node),s=this.formatter(i),a=this.optionsFactory.getCustomOption(r);if(a&&(null!=n||a.hideFilterInput))return a.test(n,s);if(null==i)return r===o.b.NOT_EQUAL||r===o.b.NOT_CONTAINS;var u=this.formatter(n);return this.comparator(r,s,u)},e.FILTER_TYPE="text",e.DEFAULT_FILTER_OPTIONS=[o.b.CONTAINS,o.b.NOT_CONTAINS,o.b.EQUALS,o.b.NOT_EQUAL,o.b.STARTS_WITH,o.b.ENDS_WITH],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return null==t?null:t.toString().toLowerCase()},e.DEFAULT_COMPARATOR=function(t,n,r){switch(t){case e.CONTAINS:return n.indexOf(r)>=0;case e.NOT_CONTAINS:return-1===n.indexOf(r);case e.EQUALS:return n===r;case e.NOT_EQUAL:return n!=r;case e.STARTS_WITH:return 0===n.indexOf(r);case e.ENDS_WITH:var i=n.lastIndexOf(r);return i>=0&&i===n.length-r.length;default:return console.warn("invalid filter type "+t),!1}},a([Object(r.c)("eValue1")],e.prototype,"eValue1",void 0),a([Object(r.c)("eValue2")],e.prototype,"eValue2",void 0),a([Object(r.c)("eInputWrapper1")],e.prototype,"eInputWrapper1",void 0),a([Object(r.c)("eInputWrapper2")],e.prototype,"eInputWrapper2",void 0),e}(o.b)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return t.prototype.setInactive=function(){this.active=!1},t.prototype.isActive=function(){return this.active},t.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},t.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var r=0;r<t.childrenAfterGroup.length;r++){var i=t.childrenAfterGroup[r];i.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[r],e,n):n&&e(i)}e(t)},t.prototype.forEachChangedNodeDepthFirst=function(t,e){void 0===e&&(e=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},t.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},t.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];){var r={rowNode:e,children:null};this.mapToItems[e.id]=r,n++,e=e.parent}return n},t.prototype.populateColumnsMap=function(t,e){var n=this;if(this.keepingColumns&&e)for(var r=t;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),e.forEach((function(t){return n.nodeIdsToColumns[r.id][t.getId()]=!0})),r=r.parent},t.prototype.linkPathItems=function(t,e){for(var n=t,r=0;r<e;r++){var i=this.mapToItems[n.id],o=this.mapToItems[n.parent.id];o.children||(o.children=[]),o.children.push(i),n=n.parent}},t.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},t.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},t.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return n[t.getId()]}))},t.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return!n[t.getId()]}))},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(37),i=n(1),o=n(0),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(e){var n=t.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.getGuiCalledOnChild=!1,n.cellEditor=e,n}return s(e,t),e.prototype.onKeyDown=function(t){o.e.isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,t,this.params.node,this.params.column,!0)||this.params.onKeyDown(t)},e.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),t.prototype.getGui.call(this)},e.prototype.init=function(n){var r=this;this.params=n,this.gridOptionsWrapper.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addDestroyFunc((function(){r.cellEditor.destroy&&r.cellEditor.destroy()})),this.addDestroyableEventListener(t.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))},e.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},e.prototype.getValue=function(){return this.cellEditor.getValue()},e.prototype.isCancelBeforeStart=function(){if(this.cellEditor.isCancelBeforeStart)return this.cellEditor.isCancelBeforeStart()},e.prototype.isCancelAfterEnd=function(){if(this.cellEditor.isCancelAfterEnd)return this.cellEditor.isCancelAfterEnd()},e.prototype.focusIn=function(){this.cellEditor.focusIn&&this.cellEditor.focusIn()},e.prototype.focusOut=function(){this.cellEditor.focusOut&&this.cellEditor.focusOut()},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",a([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(){function t(){}return t.addHeaderClassesFromColDef=function(t,e,n,i,o){r.e.missing(t)||this.addColumnClassesFromCollDef(t.headerClass,t,e,n,i,o)},t.addToolPanelClassesFromColDef=function(t,e,n,i,o){r.e.missing(t)||this.addColumnClassesFromCollDef(t.toolPanelClass,t,e,n,i,o)},t.addColumnClassesFromCollDef=function(t,e,n,i,o,s){if(!r.e.missing(t)){var a;if("function"===typeof t)a=t({colDef:e,column:o,columnGroup:s,context:i.getContext(),api:i.getApi()});else a=t;"string"===typeof a?r.e.addCssClass(n,a):Array.isArray(a)&&a.forEach((function(t){r.e.addCssClass(n,t)}))}},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(49),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.className="ag-radio-button",e.nativeInputClassName="ag-native-radio-button",e.inputType="radio",e.iconMap={selected:"radioButtonOn",unselected:"radioButtonOff"},e}return i(e,t),e.prototype.toggle=function(){var t=this.getNextValue();this.setValue(t)},e.prototype.getIconName=function(){var t=this.getValue()?"selected":"unselected",e=this.isReadOnly()?"ReadOnly":"";return""+this.iconMap[t]+e},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(8),i=n(1),o=n(10),s=n(0),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.closable=!0,r.positioned=!1,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.size={width:void 0,height:void 0},r.config=n,r}return a(e,t),e.prototype.postConstruct=function(){var t=this,e=this.config,n=e.component,r=e.closable,i=e.hideTitleBar,o=e.title,a=e.minWidth,u=e.width,l=e.minHeight,c=e.height,h=e.centered,p=e.x,d=e.y,f=this.getGui();n&&this.setBodyComponent(n),i?s.e.addCssClass(this.eTitleBar,"ag-hidden"):(o&&this.setTitle(o),this.setClosable(null!=r?r:this.closable)),this.addDestroyableEventListener(this.eTitleBar,"mousedown",(function(e){if(f.contains(e.relatedTarget)||f.contains(document.activeElement)||t.eTitleBarButtons.contains(e.target))e.preventDefault();else{var n=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");n&&n.focus()}})),this.positioned||(this.minHeight=null!=l?l:250,this.minWidth=null!=a?a:250,this.popupParent=this.popupService.getPopupParent(),u&&this.setWidth(u),c&&this.setHeight(c),this.renderComponent&&this.renderComponent(),u&&c||this.refreshSize(),h?this.center():(p||d)&&this.offsetElement(p,d),this.positioned=!0,this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,e=this.getGui();e.focus(),this.close=function(){e.parentElement.removeChild(e),t.destroy()}},e.prototype.updateDragStartPosition=function(t,e){this.dragStartPosition={x:t,y:e}},e.prototype.calculateMouseMovement=function(t){var e=this.popupParent.getBoundingClientRect(),n=t.e,r=t.isLeft,i=t.isTop,o=t.anywhereWithin,s=t.topBuffer,a=n.clientX-this.dragStartPosition.x,u=n.clientY-this.dragStartPosition.y,l=this.getWidth(),c=this.getHeight(),h=e.left>=n.clientX&&this.position.x<=0||e.right<=n.clientX&&e.right<=this.position.x+e.left+l;return h||(h=r?a<0&&n.clientX>this.position.x+e.left||a>0&&n.clientX<this.position.x+e.left:o?a<0&&n.clientX>this.position.x+e.left+l||a>0&&n.clientX<this.position.x+e.left:a<0&&n.clientX>this.position.x+e.left+l||a>0&&n.clientX<this.position.x+e.left+l),{movementX:a=h?0:a,movementY:u=e.top>=n.clientY&&this.position.y<=0||e.bottom<=n.clientY&&e.bottom<=this.position.y+e.top+c||i&&(u<0&&n.clientY>this.position.y+e.top+(s||0)||u>0&&n.clientY<this.position.y+e.top)||!i&&(u<0&&n.clientY>this.position.y+e.top+c||u>0&&n.clientY<this.position.y+e.top+c)?0:u}},e.prototype.refreshSize=function(){var t=this.size,e=t.width,n=t.height;e||this.setWidth(this.getGui().offsetWidth),n||this.setHeight(this.getGui().offsetHeight)},e.prototype.offsetElement=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getGui();this.popupService.positionPopup({ePopup:n,x:t,y:e,minWidth:this.minWidth,minHeight:this.minHeight,keepWithinBounds:!0}),this.position.x=parseInt(n.style.left,10),this.position.y=parseInt(n.style.top,10)},e.prototype.getHeight=function(){return this.size.height},e.prototype.setHeight=function(t){var e=this.getGui(),n=!1;if("string"===typeof t&&-1!==t.indexOf("%"))s.e.setFixedHeight(e,t),t=s.e.getAbsoluteHeight(e),n=!0;else{t=Math.max(this.minHeight,t);var r=e.offsetParent;r&&r.clientHeight&&t+this.position.y>r.clientHeight&&(t=r.clientHeight-this.position.y)}this.size.height!==t&&(this.size.height=t,n?(e.style.maxHeight="unset",e.style.minHeight="unset"):s.e.setFixedHeight(e,t))},e.prototype.getWidth=function(){return this.size.width},e.prototype.setWidth=function(t){var e=this.getGui(),n=!1;if("string"===typeof t&&-1!==t.indexOf("%"))s.e.setFixedWidth(e,t),t=s.e.getAbsoluteWidth(e),n=!0;else{t=Math.max(this.minWidth,t);var r=e.offsetParent;r&&r.clientWidth&&t+this.position.x>r.clientWidth&&(t=r.clientWidth-this.position.x)}this.size.width!==t&&(this.size.width=t,n?(e.style.maxWidth="unset",e.style.minWidth="unset"):s.e.setFixedWidth(e,t))},e.prototype.center=function(){var t=this.getGui(),e=t.offsetParent.clientWidth/2-this.getWidth()/2,n=t.offsetParent.clientHeight/2-this.getHeight()/2;this.offsetElement(e,n)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new o.a(e.CLOSE_BTN_TEMPLATE);this.getContext().wireBean(n),(r=n.getGui()).appendChild(s.e.createIconNoSpan("close",this.gridOptionsWrapper)),this.addTitleBarButton(n),n.addDestroyableEventListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var r;(r=this.closeButtonComp.getGui()).parentElement.removeChild(r),this.closeButtonComp.destroy(),this.closeButtonComp=void 0}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,e){var n=this.eTitleBarButtons,r=n.children,i=r.length;null==e&&(e=i),e=Math.max(0,Math.min(e,i));var o=t.getGui();s.e.addCssClass(o,"ag-button"),0===e?n.insertAdjacentElement("afterbegin",o):e===i?n.insertAdjacentElement("beforeend",o):r[e-1].insertAdjacentElement("afterend",o),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return s.e.getInnerHeight(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return s.e.getInnerWidth(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.closeButtonComp&&(this.closeButtonComp.destroy(),this.closeButtonComp=void 0);var e=this.getGui();e&&e.offsetParent&&this.close()},e.TEMPLATE='<div class="ag-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper"></div>\n        </div>',e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',u([Object(i.a)("popupService")],e.prototype,"popupService",void 0),u([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),u([Object(r.c)("eContentWrapper")],e.prototype,"eContentWrapper",void 0),u([Object(r.c)("eTitleBar")],e.prototype,"eTitleBar",void 0),u([Object(r.c)("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),u([Object(r.c)("eTitle")],e.prototype,"eTitle",void 0),u([i.e],e.prototype,"postConstruct",null),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(42),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){var n=t.call(this)||this;return n.className="ag-text-field",n.displayTag="input",n.inputType="text",n.setTemplate(n.TEMPLATE.replace(/%displayField%/g,n.displayTag)),e&&(n.config=e),n}return i(e,t),e.prototype.setValue=function(e,n){var r=t.prototype.setValue.call(this,e,n);return this.eInput.value!==e&&(this.eInput.value=e),r},e}(r.a)},function(t,e,n){"use strict";var r,i=n(18),o=n(93),s=n(94),a=n(86),u=n(95),l=n(96),c=n(100),h=n(101),p=n(28),d=n(138),f=n(102),g=n(140),v=n(89),m=n(103),y=n(104),b=n(105),w=n(50),C=n(88),E=n(106),_=n(107),O=n(1),T=n(108),S=n(109),R=n(16),P=n(110),x=n(111),A=n(112),D=n(113),I=n(114),N=n(7),k=n(115),L=n(116),M=n(49),F=n(74),j=n(117),G=n(118),V=n(119),W=n(21),B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.setMouseOver=function(t){this.selectedColumns=t;var e={type:N.a.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:N.a.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},H([Object(O.a)("eventService")],e.prototype,"eventService",void 0),H([Object(O.a)("columnApi")],e.prototype,"columnApi",void 0),H([Object(O.a)("gridApi")],e.prototype,"gridApi",void 0),e=H([Object(O.b)("columnHoverService")],e)}(W.a),z=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},q=function(){function t(){this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.animationThreadCount=0}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},t.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},t.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var e=this.animationThreadCount;this.gridPanel.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){t.animationThreadCount===e&&t.gridPanel.setColumnMovingCss(!1)}))},t.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var e=this.executeLaterFuncs;this.executeLaterFuncs=[],0===t.length&&0===e.length||(window.setTimeout((function(){return t.forEach((function(t){return t()}))}),0),window.setTimeout((function(){return e.forEach((function(t){return t()}))}),300))},z([Object(O.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=z([Object(O.b)("columnAnimationService")],t)}(),K=n(12),Y=n(5),X=n(0),Q=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},$=function(){function t(){}var e;return e=t,t.prototype.createAutoGroupColumns=function(t){var e=this,n=[],r=this.gridOptionsWrapper.isTreeData(),i=this.gridOptionsWrapper.isGroupMultiAutoColumn();return r&&i&&(console.warn("ag-Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),i=!1),i?t.forEach((function(t,r){n.push(e.createOneAutoGroupColumn(t,r))})):n.push(this.createOneAutoGroupColumn()),n},t.prototype.createOneAutoGroupColumn=function(t,n){var r,i=this.generateDefaultColDef(t);r=t?Y.a.GROUP_AUTO_COLUMN_ID+"-"+t.getId():e.GROUP_AUTO_COLUMN_BUNDLE_ID;var o=this.gridOptionsWrapper.getAutoGroupColumnDef();(X.e.mergeDeep(i,o),(i=this.columnFactory.mergeColDefs(i)).colId=r,this.gridOptionsWrapper.isTreeData())||X.e.missing(i.field)&&X.e.missing(i.valueGetter)&&X.e.missing(i.filterValueGetter)&&(i.filter=!1);n&&n>0&&(i.headerCheckboxSelection=!1);var s=new K.a(i,null,r,!0);return this.context.wireBean(s),s},t.prototype.generateDefaultColDef=function(t){var e=this.gridOptionsWrapper.getAutoGroupColumnDef(),n={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererFramework)||(n.cellRenderer="agGroupCellRenderer"),t){var r=t.getColDef();X.e.assign(n,{headerName:this.columnController.getDisplayNameForColumn(t,"header"),headerValueGetter:r.headerValueGetter}),r.cellRenderer&&X.e.assign(n,{cellRendererParams:{innerRenderer:r.cellRenderer,innerRendererParams:r.cellRendererParams}}),n.showRowGroup=t.getColId()}else n.showRowGroup=!0;return n},t.GROUP_AUTO_COLUMN_BUNDLE_ID=Y.a.GROUP_AUTO_COLUMN_ID,Q([Object(O.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Q([Object(O.a)("context")],t.prototype,"context",void 0),Q([Object(O.a)("columnController")],t.prototype,"columnController",void 0),Q([Object(O.a)("columnFactory")],t.prototype,"columnFactory",void 0),t=e=Q([Object(O.b)("autoGroupColService")],t)}(),J=n(120),Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t,this.addDestroyableEventListener(this.eventService,N.a.EVENT_BODY_HEIGHT_CHANGED,this.onBodyHeightChanged.bind(this)),this.addDestroyableEventListener(this.eventService,N.a.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.checkPageSize()},e.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},e.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},e.prototype.onBodyHeightChanged=function(){this.checkPageSize()},e.prototype.checkPageSize=function(){if(!this.notActive()){var t=this.gridOptionsWrapper.getRowHeightAsNumber(),e=this.gridPanel.getBodyHeight();if(e>0){var n=Math.floor(e/t);this.gridOptionsWrapper.setProperty("paginationPageSize",n)}}},tt([Object(O.a)("eventService")],e.prototype,"eventService",void 0),tt([Object(O.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),tt([Object(O.a)("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),e=tt([Object(O.b)("paginationAutoPageSizeService")],e)}(W.a),nt=n(121),rt=n(71),it=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ot=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return it(e,t),e.prototype.init=function(){this.rowModel.getType()===Y.a.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addDestroyableEventListener(this.eventService,N.a.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==Y.a.SOURCE_PASTE&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,e){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!t.isRowPinned()){var n=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),r=new rt.a(n,this.clientSideRowModel.getRootNode());r.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(r)}this.rowRenderer.refreshCells()}},ot([Object(O.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ot([Object(O.a)("rowModel")],e.prototype,"rowModel",void 0),ot([Object(O.a)("rowRenderer")],e.prototype,"rowRenderer",void 0),ot([Object(O.a)("eventService")],e.prototype,"eventService",void 0),ot([O.e],e.prototype,"init",null),e=ot([Object(O.b)("changeDetectionService")],e)}(W.a),at=n(122),ut=n(52),lt=n(60),ct=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ht=function(){function t(){}return t.prototype.adaptFunction=function(t,e,n,r){if(null==e)return{component:null,componentFromFramework:n,source:r,paramsFromSelector:null};var i=this.componentMetadataProvider.retrieve(t);return i&&i.functionAdapter?{componentFromFramework:n,component:i.functionAdapter(e),source:r,paramsFromSelector:null}:null},t.prototype.adaptCellRendererFunction=function(t){return function(){function e(){}return e.prototype.refresh=function(t){return!1},e.prototype.getGui=function(){var e=t(this.params),n=typeof e;return"string"===n||"number"===n||"boolean"===n?X.e.loadTemplate("<span>"+e+"</span>"):e},e.prototype.init=function(t){this.params=t},e}()},t.prototype.doesImplementIComponent=function(t){return!!t&&(t.prototype&&"getGui"in t.prototype)},ct([Object(O.a)("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=ct([Object(O.b)("agComponentUtils")],t)}(),pt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},dt=function(){function t(){}return t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerComponent:{mandatoryMethodList:[],optionalMethodList:[]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowInnerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(t){return this.componentMetaData[t]},pt([Object(O.a)("agComponentUtils")],t.prototype,"agComponentUtils",void 0),pt([O.e],t.prototype,"postConstruct",null),t=pt([Object(O.b)("componentMetadataProvider")],t)}(),ft=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},gt=function(){function t(){}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},ft([Object(O.a)("paginationProxy")],t.prototype,"paginationProxy",void 0),ft([Object(O.a)("context")],t.prototype,"context",void 0),ft([Object(O.a)("columnApi")],t.prototype,"columnApi",void 0),ft([Object(O.a)("gridApi")],t.prototype,"gridApi",void 0),ft([Object(O.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ft([Object(O.a)("expressionService")],t.prototype,"expressionService",void 0),ft([Object(O.a)("rowRenderer")],t.prototype,"rowRenderer",void 0),ft([Object(O.a)("$compile")],t.prototype,"$compile",void 0),ft([Object(O.a)("templateService")],t.prototype,"templateService",void 0),ft([Object(O.a)("valueService")],t.prototype,"valueService",void 0),ft([Object(O.a)("eventService")],t.prototype,"eventService",void 0),ft([Object(O.a)("columnController")],t.prototype,"columnController",void 0),ft([Object(O.a)("columnAnimationService")],t.prototype,"columnAnimationService",void 0),ft([Object(O.d)("rangeController")],t.prototype,"rangeController",void 0),ft([Object(O.a)("focusedCellController")],t.prototype,"focusedCellController",void 0),ft([Object(O.d)("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),ft([Object(O.a)("cellRendererFactory")],t.prototype,"cellRendererFactory",void 0),ft([Object(O.a)("popupService")],t.prototype,"popupService",void 0),ft([Object(O.a)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ft([Object(O.a)("stylingService")],t.prototype,"stylingService",void 0),ft([Object(O.a)("columnHoverService")],t.prototype,"columnHoverService",void 0),ft([Object(O.a)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ft([Object(O.a)("animationFrameService")],t.prototype,"taskQueue",void 0),ft([Object(O.a)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ft([Object(O.a)("sortController")],t.prototype,"sortController",void 0),ft([Object(O.a)("filterManager")],t.prototype,"filterManager",void 0),ft([Object(O.a)("maxDivHeightScaler")],t.prototype,"maxDivHeightScaler",void 0),ft([Object(O.a)("tooltipManager")],t.prototype,"tooltipManager",void 0),ft([Object(O.a)("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),ft([Object(O.a)("detailRowCompCache")],t.prototype,"detailRowCompCache",void 0),ft([Object(O.a)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ft([Object(O.a)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ft([O.e],t.prototype,"postConstruct",null),t=ft([Object(O.b)("beans")],t)}(),vt=n(123),mt=n(17),yt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},bt=function(){function t(){this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}return t.prototype.setScrollTop=function(t){this.scrollGoingDown=t>this.lastScrollTop,this.lastScrollTop=t},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.verifyAnimationFrameOn=function(t){!1===this.useAnimationFrame&&console.warn("ag-Grid: AnimationFrameService."+t+" called but animation frames are off")},t.prototype.createTask=function(t,e,n){this.verifyAnimationFrameOn(n);var r={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[n],r),this.schedule()},t.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},t.prototype.addTaskToList=function(t,e){t.list.push(e),t.sorted=!1},t.prototype.sortTaskList=function(t){if(!t.sorted){var e=this.scrollGoingDown?1:-1;t.list.sort((function(t,n){return t.index!==n.index?e*(n.index-t.index):n.createOrder-t.createOrder})),t.sorted=!0}},t.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},t.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var e=this.createTasksP1,n=e.list,r=this.createTasksP2,i=r.list,o=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,u=t<=0;u||a<t;){var l=void 0;if(n.length)this.sortTaskList(e),l=n.pop().task;else if(i.length)this.sortTaskList(r),l=i.pop().task;else{if(!o.length){this.cancelledTasks.clear();break}l=o.pop()}this.cancelledTasks.has(l)||l(),a=(new Date).getTime()-s}n.length||i.length||o.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1;var t={type:mt.a.EVENT_ANIMATION_QUEUE_EMPTY,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(t)},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(t):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(t):window.setTimeout(t,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},yt([Object(O.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),yt([Object(O.a)("eventService")],t.prototype,"eventService",void 0),yt([O.e],t.prototype,"init",null),t=yt([Object(O.b)("animationFrameService")],t)}(),wt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ct=function(){function t(){this.timeLastPageEventProcessed=0}return t.prototype.init=function(){this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth()},t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.handlePageScrollingKey=function(t){var e=t.which||t.keyCode,n=t.altKey,r=t.ctrlKey,i=this.mouseEventService.getCellPositionForEvent(t);if(!i)return!1;var o=!1;switch(e){case Y.a.KEY_PAGE_HOME:case Y.a.KEY_PAGE_END:r||n||(this.onHomeOrEndKey(e),o=!0);break;case Y.a.KEY_LEFT:case Y.a.KEY_RIGHT:r&&!n&&(this.onCtrlLeftOrRight(e,i),o=!0);break;case Y.a.KEY_UP:case Y.a.KEY_DOWN:r&&!n&&(this.onCtrlUpOrDown(e,i),o=!0);break;case Y.a.KEY_PAGE_DOWN:r||n||(this.onPageDown(i),o=!0);break;case Y.a.KEY_PAGE_UP:r||n||(this.onPageUp(i),o=!0)}return o&&t.preventDefault(),o},t.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},t.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},t.prototype.onPageDown=function(t){if(!this.isTimeSinceLastPageEventToRecent()){var e=this.gridPanel.getVScrollPosition(),n=e.bottom-e.top;this.gridPanel.isHorizontalScrollShowing()&&(n-=this.scrollWidth);var r=this.paginationProxy.getPixelOffset(),i=e.top+n,o=this.paginationProxy.getRowIndexAtPixel(i+r),s=this.paginationProxy.getRow(t.rowIndex).rowTop+n-r,a=this.paginationProxy.getRowIndexAtPixel(s+r),u=this.paginationProxy.getPageLastRow();a>u&&(a=u),o>u&&(o=u),this.navigateTo(o,"top",null,a,t.column),this.setTimeLastPageEventProcessed()}},t.prototype.onPageUp=function(t){if(!this.isTimeSinceLastPageEventToRecent()){var e=this.gridPanel.getVScrollPosition(),n=e.bottom-e.top;this.gridPanel.isHorizontalScrollShowing()&&(n-=this.scrollWidth);var r=this.paginationProxy.getPixelOffset(),i=e.top,o=this.paginationProxy.getRowIndexAtPixel(i+r),s=this.paginationProxy.getRow(t.rowIndex),a=s.rowTop+s.rowHeight-n-r,u=this.paginationProxy.getRowIndexAtPixel(a+r),l=this.paginationProxy.getPageFirstRow();u<l&&(u=l),o<l&&(o=l),this.navigateTo(o,"bottom",null,u,t.column),this.setTimeLastPageEventProcessed()}},t.prototype.navigateTo=function(t,e,n,r,i){if(X.e.exists(n)&&this.gridPanel.ensureColumnVisible(n),X.e.exists(t)&&this.gridPanel.ensureIndexVisible(t,e),this.animationFrameService.flushAllFrames(),this.focusedCellController.setFocusedCell(r,i,null,!0),this.rangeController){var o={rowIndex:r,rowPinned:null,column:i};this.rangeController.setRangeToCell(o)}},t.prototype.onCtrlUpOrDown=function(t,e){var n=t===Y.a.KEY_UP?0:this.paginationProxy.getPageLastRow();this.navigateTo(n,null,e.column,n,e.column)},t.prototype.onCtrlLeftOrRight=function(t,e){var n=t===Y.a.KEY_LEFT,r=this.columnController.getAllDisplayedColumns(),i=n?r[0]:X.e.last(r);this.navigateTo(e.rowIndex,null,i,e.rowIndex,i)},t.prototype.onHomeOrEndKey=function(t){var e=t===Y.a.KEY_PAGE_HOME,n=this.columnController.getAllDisplayedColumns(),r=e?n[0]:X.e.last(n),i=e?0:this.paginationProxy.getPageLastRow();this.navigateTo(i,null,r,i,r)},wt([Object(O.a)("mouseEventService")],t.prototype,"mouseEventService",void 0),wt([Object(O.a)("paginationProxy")],t.prototype,"paginationProxy",void 0),wt([Object(O.a)("focusedCellController")],t.prototype,"focusedCellController",void 0),wt([Object(O.a)("animationFrameService")],t.prototype,"animationFrameService",void 0),wt([Object(O.d)("rangeController")],t.prototype,"rangeController",void 0),wt([Object(O.a)("columnController")],t.prototype,"columnController",void 0),wt([Object(O.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),wt([O.e],t.prototype,"init",null),t=wt([Object(O.b)("navigationService")],t)}(),Et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ot=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return Et(e,t),e.prototype.postConstruct=function(){this.addDestroyableEventListener(this.eventService,mt.a.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.scrollBarWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.maxDivHeight=X.e.getMaxDivHeight()},e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.isScaling=function(){return this.scaling},e.prototype.getOffset=function(){return this.offset},e.prototype.updateOffset=function(){if(this.scaling){var t=this.gridPanel.getVScrollPosition().top,e=this.getUiBodyHeight();(t!==this.scrollY||e!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=e,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.uiContainerHeight=this.maxDivHeight,this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY;this.setOffset(t*this.pixelsToShave)},e.prototype.clearOffset=function(){this.uiContainerHeight=this.modelHeight,this.pixelsToShave=0,this.setOffset(0)},e.prototype.setOffset=function(t){var e="number"===typeof t?Math.floor(t):null;this.offset!==e&&(this.offset=e,this.eventService.dispatchEvent({type:mt.a.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.scaling=this.maxDivHeight>0&&t>this.maxDivHeight,this.scaling?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.offset},e.prototype.getUiBodyHeight=function(){var t=this.gridPanel.getVScrollPosition();return t.bottom-t.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var e=t/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*e},_t([Object(O.a)("eventService")],e.prototype,"eventService",void 0),_t([Object(O.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),_t([O.e],e.prototype,"postConstruct",null),e=_t([Object(O.b)("maxDivHeightScaler")],e)}(W.a),Tt=n(124),St=n(39),Rt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Pt=function(){function t(){}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.getPreferredHeightForRow=function(t){var e=this;this.eDummyContainer||(this.eDummyContainer=document.createElement("div"),X.e.addCssClass(this.eDummyContainer,"ag-row ag-row-no-focus"));var n=this.gridPanel.getCenterContainer();n.appendChild(this.eDummyContainer);var r=[];this.columnController.getAllAutoRowHeightCols().filter((function(t){return t.isVisible()})).forEach((function(n){var i=new St.a(e.$scope,e.beans,n,t,null,!0,!1);i.setParentRow(e.eDummyContainer),r.push(i)}));var i=r.map((function(t){return t.getCreateTemplate()})).join(" ");this.eDummyContainer.innerHTML=i,r.forEach((function(t){return t.afterAttached()}));for(var o=0,s=0;s<this.eDummyContainer.children.length;s++){var a=this.eDummyContainer.children[s];a.offsetHeight>o&&(o=a.offsetHeight)}return n.removeChild(this.eDummyContainer),r.forEach((function(t){t.detach(),t.destroy()})),X.e.clearElement(this.eDummyContainer),o},Rt([Object(O.a)("beans")],t.prototype,"beans",void 0),Rt([Object(O.a)("$scope")],t.prototype,"$scope",void 0),Rt([Object(O.a)("columnController")],t.prototype,"columnController",void 0),t=Rt([Object(O.b)("autoHeightCalculator")],t)}(),xt=n(10),At=n(8),Dt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),It=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Nt=function(t){function e(){return t.call(this)||this}return Dt(e,t),e.prototype.postConstruct=function(){var t=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",X.e.createIconNoSpan(t?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",X.e.createIconNoSpan(t?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",X.e.createIconNoSpan(t?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",X.e.createIconNoSpan(t?"first":"last",this.gridOptionsWrapper)),this.rowModel.getType()===Y.a.ROW_MODEL_TYPE_SERVER_SIDE&&(this.serverSideRowModel=this.rowModel),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addDestroyableEventListener(this.eventService,N.a.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addDestroyableEventListener(this.btFirst,"click",this.onBtFirst.bind(this)),this.addDestroyableEventListener(this.btLast,"click",this.onBtLast.bind(this)),this.addDestroyableEventListener(this.btNext,"click",this.onBtNext.bind(this)),this.addDestroyableEventListener(this.btPrevious,"click",this.onBtPrevious.bind(this)),this.onPaginationChanged()):this.setDisplayed(!1)},e.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage(),n=t?e+1:0;this.lbCurrent.innerHTML=this.formatNumber(n)},e.prototype.formatNumber=function(t){var e=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return e?e({value:t}):X.e.formatNumberCommas(t)},e.prototype.getTemplate=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=t("page","Page"),n=t("to","to"),r=t("of","of");return'<div class="ag-paging-panel ag-unselectable">\n                <span ref="eSummaryPanel" class="ag-paging-row-summary-panel">\n                    <span ref="lbFirstRowOnPage"></span> '+n+' <span ref="lbLastRowOnPage"></span> '+r+' <span ref="lbRecordCount"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel">\n                    <div ref="btFirst" class="ag-paging-button">\n                        <button type="button">'+t("first","First")+'</button>\n                    </div>\n                    <div ref="btPrevious" class="ag-paging-button">\n                        <button type="button">'+t("previous","Previous")+"</button>\n                    </div>\n                    "+e+' <span ref="lbCurrent"></span> '+r+' <span ref="lbTotal"></span>\n                    <div ref="btNext" class="ag-paging-button">\n                        <button type="button">'+t("next","Next")+'</button>\n                    </div>\n                    <div ref="btLast" class="ag-paging-button">\n                        <button type="button">'+t("last","Last")+"</button>\n                    </div>\n                </span>\n            </div>"},e.prototype.onBtNext=function(){this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.paginationProxy.goToPreviousPage()},e.prototype.onBtFirst=function(){this.paginationProxy.goToFirstPage()},e.prototype.onBtLast=function(){this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),r=0===t;X.e.addOrRemoveCssClass(this.btPrevious,"ag-disabled",r),X.e.addOrRemoveCssClass(this.btFirst,"ag-disabled",r);var i=this.isZeroPagesToDisplay(),o=e&&t===n-1||i;X.e.addOrRemoveCssClass(this.btNext,"ag-disabled",o);var s=!e||i||t===n-1;X.e.addOrRemoveCssClass(this.btLast,"ag-disabled",s)},e.prototype.updateRowLabels=function(){var t,e,n=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?(t=0,e=0):(e=(t=r*n+1)+r-1,i&&e>o&&(e=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(t),this.serverSideRowModel&&this.serverSideRowModel.isLoading()?this.lbLastRowOnPage.innerHTML="?":this.lbLastRowOnPage.innerHTML=this.formatNumber(e)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),n=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(t)this.lbTotal.innerHTML=this.formatNumber(e),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var r=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}},It([Object(O.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),It([Object(O.a)("eventService")],e.prototype,"eventService",void 0),It([Object(O.a)("paginationProxy")],e.prototype,"paginationProxy",void 0),It([Object(O.a)("rowRenderer")],e.prototype,"rowRenderer",void 0),It([Object(O.a)("rowModel")],e.prototype,"rowModel",void 0),It([Object(At.c)("btFirst")],e.prototype,"btFirst",void 0),It([Object(At.c)("btPrevious")],e.prototype,"btPrevious",void 0),It([Object(At.c)("btNext")],e.prototype,"btNext",void 0),It([Object(At.c)("btLast")],e.prototype,"btLast",void 0),It([Object(At.c)("lbRecordCount")],e.prototype,"lbRecordCount",void 0),It([Object(At.c)("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),It([Object(At.c)("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),It([Object(At.c)("eSummaryPanel")],e.prototype,"eSummaryPanel",void 0),It([Object(At.c)("lbCurrent")],e.prototype,"lbCurrent",void 0),It([Object(At.c)("lbTotal")],e.prototype,"lbTotal",void 0),It([O.e],e.prototype,"postConstruct",null),e}(xt.a),kt=n(125),Lt=n(126),Mt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Loading=0]="Loading",t[t.NoRows=1]="NoRows"}(r||(r={}));var jt=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n}return Mt(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper),this.setDisplayed(!1)},e.prototype.setWrapperTypeClass=function(t){X.e.addOrRemoveCssClass(this.eOverlayWrapper,"ag-overlay-loading-wrapper",t===r.Loading),X.e.addOrRemoveCssClass(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",t===r.NoRows)},e.prototype.showLoadingOverlay=function(){var t=this.userComponentFactory.newLoadingOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(t)},e.prototype.showNoRowsOverlay=function(){var t=this.userComponentFactory.newNoRowsOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(t)},e.prototype.showOverlay=function(t){var e=this;this.inProgress||(this.setWrapperTypeClass(r.NoRows),this.destroyActiveOverlay(),this.inProgress=!0,t.then((function(t){e.inProgress=!1,e.eOverlayWrapper.appendChild(t.getGui()),e.activeOverlay=t,e.destroyRequested&&(e.destroyRequested=!1,e.destroyActiveOverlay())})),this.setDisplayed(!0))},e.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay.destroy&&this.activeOverlay.destroy(),this.activeOverlay=void 0,X.e.clearElement(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.destroyActiveOverlay()},e.TEMPLATE='<div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Ft([Object(O.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ft([Object(O.a)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ft([Object(At.c)("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Ft([O.e],e.prototype,"postConstruct",null),e}(xt.a),Gt=n(127),Vt=n(51),Wt=n(75),Bt=n(76),Ht=n(128),Ut=n(129),zt=n(139),qt=n(130),Kt=n(131),Yt=n(132),Xt=n(133),Qt=n(134),$t=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Jt=function(){function t(){this.cacheItems=[]}return t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isKeepDetailRows(),this.maxCacheSize=this.gridOptionsWrapper.getKeepDetailRowsCount()},t.prototype.addOrDestroy=function(t,e,n){if(!this.active||!t.detail)this.destroyFullWidthRow(n);else{var r=this.getCacheItem(t,!0);switch(e){case Y.a.PINNED_LEFT:this.destroyFullWidthRow(r.left),r.left=n;break;case Y.a.PINNED_RIGHT:this.destroyFullWidthRow(r.right),r.right=n;break;default:this.destroyFullWidthRow(r.center),r.center=n}this.cacheItems.sort((function(t,e){return e.lastAccessedTime-t.lastAccessedTime})),this.purgeCache(this.maxCacheSize)}},t.prototype.getCacheItem=function(t,e){var n;void 0===e&&(e=!1);for(var r=0;r<this.cacheItems.length;r++){var i=this.cacheItems[r];if(i.rowNode===t){n=i;break}}return!n&&e&&(n={rowNode:t},this.cacheItems.push(n)),n&&this.stampCacheItem(n),n},t.prototype.stampCacheItem=function(t){t.lastAccessedTime=(new Date).getTime()},t.prototype.destroyFullWidthRow=function(t){t&&t.destroy&&t.destroy()},t.prototype.purgeCache=function(t){for(var e=t;e<this.cacheItems.length;e++){var n=this.cacheItems[e];this.destroyFullWidthRow(n.center),this.destroyFullWidthRow(n.left),this.destroyFullWidthRow(n.right)}this.cacheItems.length>t&&(this.cacheItems.length=t)},t.prototype.get=function(t,e){if(t.detail){var n,r=this.getCacheItem(t);if(r)switch(e){case Y.a.PINNED_LEFT:r.left&&(n=r.left,r.left=void 0);break;case Y.a.PINNED_RIGHT:r.right&&(n=r.right,r.right=void 0);break;default:r.center&&(n=r.center,r.center=void 0)}return n}},t.prototype.destroy=function(){this.purgeCache(0)},$t([Object(O.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),$t([O.e],t.prototype,"postConstruct",null),$t([O.g],t.prototype,"destroy",null),t=$t([Object(O.b)("detailRowCompCache")],t)}(),Zt=n(135),te=n(136),ee=n(137),ne=n(14),re=n(15),ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oe=function(t){this.cellValueChanges=t},se=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.initialRange=n,i.finalRange=r,i}return ie(e,t),e}(oe),ae=function(){function t(e){this.actionStack=[],this.maxStackSize=e||t.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return t.prototype.pop=function(){return this.actionStack.pop()},t.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},t.prototype.clear=function(){this.actionStack=[]},t.DEFAULT_STACK_SIZE=10,t}(),ue=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},le=function(){function t(){var t=this;this.cellValueChanges=[],this.isCellEditing=!1,this.isRowEditing=!1,this.isPasting=!1,this.isFilling=!1,this.onCellValueChanged=function(e){if(t.isCellEditing||t.isRowEditing||t.isPasting||t.isFilling){var n=e.rowPinned,r=e.rowIndex,i=e.column,o=e.oldValue,s=e.value,a={rowPinned:n,rowIndex:r,columnId:i.getColId(),oldValue:o,newValue:s};t.cellValueChanges.push(a)}},this.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()}}return t.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var t=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();t<=0||(this.undoStack=new ae(t),this.redoStack=new ae(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.eventService.addEventListener(mt.a.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.eventService.addEventListener(mt.a.EVENT_MODEL_UPDATED,this.clearStacks),this.eventService.addEventListener(mt.a.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.eventService.addEventListener(mt.a.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearStacks),this.eventService.addEventListener(mt.a.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.eventService.addEventListener(mt.a.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.eventService.addEventListener(mt.a.EVENT_COLUMN_MOVED,this.clearStacks),this.eventService.addEventListener(mt.a.EVENT_COLUMN_PINNED,this.clearStacks),this.eventService.addEventListener(mt.a.EVENT_COLUMN_VISIBLE,this.clearStacks),this.eventService.addEventListener(mt.a.EVENT_ROW_DRAG_END,this.clearStacks))}},t.prototype.undo=function(){if(this.undoStack){var t=this.undoStack.pop();t&&t.cellValueChanges&&(this.processAction(t,(function(t){return t.oldValue})),t instanceof se?this.processRangeAndCellFocus(t.cellValueChanges,t.initialRange):this.processRangeAndCellFocus(t.cellValueChanges),this.redoStack.push(t))}},t.prototype.redo=function(){if(this.redoStack){var t=this.redoStack.pop();t&&t.cellValueChanges&&(this.processAction(t,(function(t){return t.newValue})),t instanceof se?this.processRangeAndCellFocus(t.cellValueChanges,t.finalRange):this.processRangeAndCellFocus(t.cellValueChanges),this.undoStack.push(t))}},t.prototype.processAction=function(t,e){var n=this;t.cellValueChanges.forEach((function(t){var r=t.rowIndex,i=t.rowPinned,o=t.columnId,s={rowIndex:r,rowPinned:i},a=n.getRowNode(s);null!=a.rowTop&&a.setDataValue(o,e(t))}))},t.prototype.processRangeAndCellFocus=function(t,e){if(e){var n=e.startRow,r=e.endRow,i={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:e.startColumn.getColId()};this.setLastFocusedCell(i);var o={rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:e.startColumn,columns:e.columns};this.gridApi.addCellRange(o)}else{var s=t[0],a={rowIndex:s.rowIndex,rowPinned:s.rowPinned},u=this.getRowNode(a),l={rowPinned:s.rowPinned,rowIndex:u.rowIndex,columnId:s.columnId};this.setLastFocusedCell(l)}},t.prototype.setLastFocusedCell=function(t){var e=t.rowIndex,n=t.columnId,r=t.rowPinned;this.gridApi.ensureIndexVisible(e),this.gridApi.ensureColumnVisible(n),ne.a.isRegistered(re.a.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusedCellController.setFocusedCell(e,n,r,!0)},t.prototype.addRowEditingListeners=function(){var t=this;this.eventService.addEventListener(mt.a.EVENT_ROW_EDITING_STARTED,(function(){t.isRowEditing=!0})),this.eventService.addEventListener(mt.a.EVENT_ROW_EDITING_STOPPED,(function(){var e=new oe(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isRowEditing=!1}))},t.prototype.addCellEditingListeners=function(){var t=this;this.eventService.addEventListener(mt.a.EVENT_CELL_EDITING_STARTED,(function(){t.isCellEditing=!0})),this.eventService.addEventListener(mt.a.EVENT_CELL_EDITING_STOPPED,(function(){if(t.isCellEditing=!1,!t.isRowEditing&&!t.isPasting&&!t.isFilling){var e=new oe(t.cellValueChanges);t.pushActionsToUndoStack(e)}}))},t.prototype.addPasteListeners=function(){var t=this;this.eventService.addEventListener(mt.a.EVENT_PASTE_START,(function(){t.isPasting=!0})),this.eventService.addEventListener(mt.a.EVENT_PASTE_END,(function(){var e=new oe(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isPasting=!1}))},t.prototype.addFillListeners=function(){var t=this;this.eventService.addEventListener(mt.a.EVENT_FILL_START,(function(){t.isFilling=!0})),this.eventService.addEventListener(mt.a.EVENT_FILL_END,(function(e){var n=new se(t.cellValueChanges,e.initialRange,e.finalRange);t.pushActionsToUndoStack(n),t.isFilling=!1}))},t.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(t){switch(t.rowPinned){case Y.a.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case Y.a.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},ue([Object(O.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ue([Object(O.a)("focusedCellController")],t.prototype,"focusedCellController",void 0),ue([Object(O.a)("eventService")],t.prototype,"eventService",void 0),ue([Object(O.a)("gridApi")],t.prototype,"gridApi",void 0),ue([Object(O.a)("rowModel")],t.prototype,"rowModel",void 0),ue([Object(O.a)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ue([O.e],t.prototype,"init",null),t=ue([Object(O.b)("undoRedoService")],t)}();n.d(e,"a",(function(){return ce}));var ce=function(){function t(t,e,n){if(t)if(e){var r=!!e.debug;this.gridOptions=e;var i=this.getRegisteredModules(n),o=this.createBeansList(i),s=this.createAgStackComponentsList(i),a=this.createProvidedBeans(t,n);if(o){var u={providedBeanInstances:a,beanClasses:o,components:s,debug:r};this.logger=new w.a("ag-Grid",(function(){return e.debug}));var l=new w.a("Context",(function(){return u.debug}));this.context=new O.c(u,l),this.registerModuleUserComponents(i);var c=new T.a;this.context.wireBean(c),this.setColumnsAndData(),this.dispatchGridReadyEvent(e);var h=ne.a.isRegistered(re.a.EnterpriseCoreModule);this.logger.log("initialised successfully, enterprise = "+h)}}else console.error("ag-Grid: no gridOptions provided to the grid");else console.error("ag-Grid: no div element provided to the grid")}return t.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,n=ne.a.getRegisteredModules(),r=[],i={};function o(t){!function(t){i[t.moduleName]||(i[t.moduleName]=!0,r.push(t),ne.a.register(t))}(t),t.dependantModules&&t.dependantModules.forEach(o)}return e&&e.forEach(o),n&&n.forEach(o),r},t.prototype.registerModuleUserComponents=function(t){var e=this.context.getBean("userComponentRegistry");this.extractModuleEntity(t,(function(t){return t.userComponents?t.userComponents:[]})).forEach((function(t){e.registerDefaultComponent(t.componentName,t.componentClass)}))},t.prototype.createProvidedBeans=function(t,e){var n=e?e.frameworkOverrides:null;X.e.missing(n)&&(n=new j.a);var r={gridOptions:this.gridOptions,eGridDiv:t,$scope:e?e.$scope:null,$compile:e?e.$compile:null,quickFilterOnScope:e?e.quickFilterOnScope:null,globalEventListener:e?e.globalEventListener:null,frameworkOverrides:n};return e&&e.providedBeanInstances&&X.e.assign(r,e.providedBeanInstances),r},t.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:M.a},{componentName:"AgRadioButton",componentClass:F.a},{componentName:"AgToggleButton",componentClass:Qt.a},{componentName:"AgInputTextField",componentClass:Bt.a},{componentName:"AgInputTextArea",componentClass:Ht.a},{componentName:"AgInputNumberField",componentClass:qt.a},{componentName:"AgInputRange",componentClass:Kt.a},{componentName:"AgSelect",componentClass:Yt.a},{componentName:"AgSlider",componentClass:Ut.a},{componentName:"AgAngleSelect",componentClass:Xt.a},{componentName:"AgColorPicker",componentClass:zt.a},{componentName:"AgGridComp",componentClass:d.a},{componentName:"AgHeaderRoot",componentClass:l.a},{componentName:"AgPagination",componentClass:Nt},{componentName:"AgOverlayWrapper",componentClass:jt},{componentName:"AgGroupComponent",componentClass:Gt.a},{componentName:"AgPanel",componentClass:Wt.a},{componentName:"AgDialog",componentClass:Vt.a}],n=this.extractModuleEntity(t,(function(t){return t.agStackComponents?t.agStackComponents:[]}));return e=e.concat(n)},t.prototype.createBeansList=function(t){var e=this.getRowModelClass(t);if(e){var n=[e,gt,Zt.a,te.a,et,f.a,lt.b,ht,dt,kt.a,ut.b,Ot,Pt,k.a,_.a,ee.a,P.a,v.a,p.a,i.a,b.a,o.a,c.a,a.a,J.a,u.a,m.a,g.a,y.a,at.a,Ct,nt.a,h.a,w.b,C.a,E.a,S.a,R.a,s.a,A.a,D.a,vt.a,I.a,L.a,V.a,G.a,x.a,U,q,Tt.a,$,st,bt,Lt.a,Jt,le],r=this.extractModuleEntity(t,(function(t){return t.beans?t.beans:[]}));n.push.apply(n,r);var l=[];return n.forEach((function(t){l.indexOf(t)<0&&l.push(t)})),l}},t.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],t.map(e))},t.prototype.setColumnsAndData=function(){var t=this.context.getBean("gridOptionsWrapper"),e=this.context.getBean("columnController"),n=t.getColumnDefs();X.e.exists(n)&&e.setColumnDefs(n,"gridInitializing"),this.context.getBean("rowModel").start()},t.prototype.dispatchGridReadyEvent=function(t){var e=this.context.getBean("eventService"),n={type:N.a.EVENT_GRID_READY,api:t.api,columnApi:t.columnApi};e.dispatchEvent(n)},t.prototype.getRowModelClass=function(t){var e=this.gridOptions.rowModelType;"enterprise"===e&&(console.warn("ag-Grid: enterprise rowModel deprecated. Should now be called server side row model instead."),e=Y.a.ROW_MODEL_TYPE_SERVER_SIDE),"normal"===e&&(console.warn("ag-Grid: normal rowModel deprecated. Should now be called client side row model instead."),e=Y.a.ROW_MODEL_TYPE_CLIENT_SIDE),e||(e=Y.a.ROW_MODEL_TYPE_CLIENT_SIDE);var n={};t.forEach((function(t){X.e.iterateObject(t.rowModels,(function(t,e){n[t]=e}))}));var r=n[e];return X.e.exists(r)?r:(e===Y.a.ROW_MODEL_TYPE_INFINITE&&console.error("ag-Grid: Row Model \"Infinite\" not found. Please ensure the InfiniteRowModelModule is loaded using: import '@ag-grid-community/infinite-row-model';"),console.error("ag-Grid: could not find matching row model for rowModelType "+e),e===Y.a.ROW_MODEL_TYPE_VIEWPORT&&console.error('ag-Grid: Row Model "Viewport" not found. For this row model to work you must a) be using ag-Grid Enterprise and b) ensure ViewportRowModelModule is loaded using: import \'@ag-grid-enterprise/viewport-row-model;'),e===Y.a.ROW_MODEL_TYPE_SERVER_SIDE&&console.error("ag-Grid: Row Model \"Server Side\" not found. For this row model to work you must a) be using ag-Grid Enterprise and b) ensure ServerSideRowModelModule is loaded using: import '@ag-grid-enterprise/server-server-side-row-model';"),void(e===Y.a.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error("ag-Grid: Row Model \"Client Side\" not found. Please ensure the ClientSideRowModelModule is loaded using: import '@ag-grid-community/client-side-row-model';")))},t.prototype.destroy=function(){this.gridOptions.api.destroy()},t}()},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(1),i=n(7),o=n(53),s=n(97),a=n(0),u=n(5),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(){function t(t,e,n){this.headerRowComps=[],this.eContainer=t,this.pinned=n,this.eViewport=e}return t.prototype.registerGridComp=function(t){this.setupDragAndDrop(t)},t.prototype.forEachHeaderElement=function(t){this.headerRowComps.forEach((function(e){return e.forEachHeaderElement(t)}))},t.prototype.init=function(){this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.eventService.addEventListener(i.a.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.eventService.addEventListener(i.a.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.eventService.addEventListener(i.a.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.eventService.addEventListener(i.a.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.eventService.addEventListener(i.a.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.eventService.addEventListener(i.a.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this))},t.prototype.onColumnRowGroupChanged=function(){this.onGridColumnsChanged()},t.prototype.onColumnValueChanged=function(){this.onGridColumnsChanged()},t.prototype.onColumnResized=function(){this.setWidthOfPinnedContainer()},t.prototype.onDisplayedColumnsChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.onScrollVisibilityChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.setWidthOfPinnedContainer=function(){var t=this.pinned===u.a.PINNED_LEFT,e=this.pinned===u.a.PINNED_RIGHT,n=this.columnController,r=this.gridOptionsWrapper.isEnableRtl();if(t||e){var i=n[t?"getPinnedLeftContainerWidth":"getPinnedRightContainerWidth"]();this.scrollVisibleService.isVerticalScrollShowing()&&(r&&t||!r&&e)&&(i+=this.scrollWidth),a.e.setFixedWidth(this.eContainer,i)}},t.prototype.destroy=function(){this.removeHeaderRowComps()},t.prototype.getRowComps=function(){return this.headerRowComps},t.prototype.onGridColumnsChanged=function(){this.removeAndCreateAllRowComps()},t.prototype.removeAndCreateAllRowComps=function(){this.removeHeaderRowComps(),this.createHeaderRowComps()},t.prototype.refresh=function(){this.removeAndCreateAllRowComps()},t.prototype.setupDragAndDrop=function(t){var e=this.eViewport?this.eViewport:this.eContainer,n=new s.a(this.pinned,e);this.context.wireBean(n),n.registerGridComp(t)},t.prototype.removeHeaderRowComps=function(){this.headerRowComps.forEach((function(t){t.destroy()})),this.headerRowComps.length=0,a.e.clearElement(this.eContainer)},t.prototype.createHeaderRowComps=function(){for(var t=this.columnController.getHeaderRowCount(),e=0;e<t;e++){var n=e!==t-1?o.b.COLUMN_GROUP:o.b.COLUMN,r=new o.a(e,n,this.pinned,this.dropTarget);this.context.wireBean(r),this.headerRowComps.push(r),r.getGui().setAttribute("aria-rowindex",this.headerRowComps.length.toString()),this.eContainer.appendChild(r.getGui())}if(this.gridOptionsWrapper.isFloatingFilter()&&!this.columnController.isPivotMode()){r=new o.a(t,o.b.FLOATING_FILTER,this.pinned,this.dropTarget);this.context.wireBean(r),this.headerRowComps.push(r),r.getGui().setAttribute("aria-rowindex",this.headerRowComps.length.toString()),this.eContainer.appendChild(r.getGui())}},l([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),l([Object(r.a)("context")],t.prototype,"context",void 0),l([Object(r.a)("$scope")],t.prototype,"$scope",void 0),l([Object(r.a)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),l([Object(r.a)("columnController")],t.prototype,"columnController",void 0),l([Object(r.a)("eventService")],t.prototype,"eventService",void 0),l([Object(r.a)("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),l([r.e],t.prototype,"init",null),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(10),i=n(1),o=n(0),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelSeparator="",e.labelAlignment="left",e.config={},e.label="",e}return s(e,t),e.prototype.postConstruct=function(){o.e.addCssClass(this.getGui(),"ag-labeled");var t=this.config,e=t.labelSeparator,n=t.label,r=t.labelWidth,i=t.labelAlignment;null!=e&&this.setLabelSeparator(e),null!=n&&this.setLabel(n),null!=r&&this.setLabelWidth(r),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){this.eLabel.innerText=this.label+this.labelSeparator,o.e.addOrRemoveCssClass(this.eLabel,"ag-hidden",""===this.label)},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t?this:(this.labelSeparator=t,null!=this.label&&this.refreshLabel(),this)},e.prototype.setLabel=function(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)},e.prototype.setLabelAlignment=function(t){var e=this.getGui();return o.e.addOrRemoveCssClass(e,"ag-label-align-left","left"===t),o.e.addOrRemoveCssClass(e,"ag-label-align-right","right"===t),o.e.addOrRemoveCssClass(e,"ag-label-align-top","top"===t),this},e.prototype.setLabelWidth=function(t){return null==this.label?this:(o.e.setElementWidth(this.eLabel,t),this)},a([i.e],e.prototype,"postConstruct",null),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(21),i=n(1),o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=function(t){function e(e,n){var r=t.call(this)||this;return r.columns=e,r.element=n,r}return o(e,t),e.prototype.postConstruct=function(){this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addDestroyableEventListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addDestroyableEventListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},s([Object(i.a)("columnHoverService")],e.prototype,"columnHoverService",void 0),s([i.e],e.prototype,"postConstruct",null),e}(r.a)},function(t,e,n){"use strict";function r(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(l){return void n(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var s=t.apply(e,n);function a(t){r(s,i,o,a,u,"next",t)}function u(t){r(s,i,o,a,u,"throw",t)}a(void 0)}))}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){}return t.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","aggFunc","cellRenderer","cellEditor","pinned","chartDataType"],t.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData"],t.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],t.NUMBER_PROPERTIES=["sortedAt","flex","width","minWidth","maxWidth","rowGroupIndex","pivotIndex"],t.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","rowGroup","pivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressSorting","suppressMovable","suppressFilter","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressResize","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","sortable","resizable","singleClickEdit"],t.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","tooltip","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],t.ALL_PROPERTIES=t.ARRAY_PROPERTIES.concat(t.OBJECT_PROPERTIES).concat(t.STRING_PROPERTIES).concat(t.NUMBER_PROPERTIES).concat(t.FUNCTION_PROPERTIES).concat(t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}()},function(t,e,n){"use strict";var r=n(9);n.d(e,"a",(function(){return r.default}));r.default.registerVersion("firebase","8.7.0","app"),r.default.SDK_VERSION="8.7.0"},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(){function t(){this.existingKeys={}}return t.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},t.prototype.getUniqueKey=function(t,e){t=r.e.toStringOrNull(t);for(var n=0;;){var i=void 0;if(t?(i=t,0!==n&&(i+="_"+n)):e?(i=e,0!==n&&(i+="_"+n)):i=""+n,!this.existingKeys[i])return this.existingKeys[i]=!0,i;n++}},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(25),i=n(12),o=n(7),s=n(23),a=n(87),u=n(1),l=n(5),c=n(0),h=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},p=function(t,e){return function(n,r){e(n,r,t)}},d=function(){function t(){this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.secondaryColumnsPresent=!1,this.gridHeaderRowCount=0,this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[],this.allDisplayedCenterVirtualColumns=[],this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.autoGroupsNeedBuilding=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.flexActive=!1}return t.prototype.init=function(){var t=this.gridOptionsWrapper.isPivotMode();this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation(),this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.usingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api");var n=!!this.columnDefs;this.columnDefs=t,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var r=this.primaryColumns,i=this.columnFactory.createColumnTree(t,!0,r);this.primaryColumnTree=i.columnTree,this.primaryHeaderRowCount=i.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.extractRowGroupColumns(e,r),this.extractPivotColumns(e,r),this.createValueColumns(e,r),this.ready=!0,this.updateGridColumns(),this.updateDisplayedColumns(e),this.checkDisplayedVirtualColumns(),this.gridOptionsWrapper.isDeltaColumnMode()&&n&&this.resetColumnState(!0,e);var s={type:o.a.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(s);var a={type:o.a.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(a),this.flexActive=!!c.e.find(this.getDisplayedCenterColumns(),(function(t){return!!t.getFlex()}))},t.prototype.isAutoRowHeightActive=function(){return this.autoRowHeightColumns&&this.autoRowHeightColumns.length>0},t.prototype.getAllAutoRowHeightCols=function(){return this.autoRowHeightColumns},t.prototype.setVirtualViewportLeftAndRight=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(t){for(var e=t,n=[];e&&c.e.exists(e);)n.push(e),e=this.getDisplayedColAfter(e);return n},t.prototype.checkDisplayedVirtualColumns=function(){if(c.e.exists(this.displayedCenterColumns)){var t=this.allDisplayedVirtualColumns.map((function(t){return t.getId()})).join("#");if(this.updateVirtualSets(),t!==this.allDisplayedVirtualColumns.map((function(t){return t.getId()})).join("#")){var e={type:o.a.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)}}},t.prototype.setVirtualViewportPosition=function(t,e){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setVirtualViewportLeftAndRight(),this.ready&&this.checkDisplayedVirtualColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(t){return!t||(!this.gridOptionsWrapper.isTreeData()||(console.warn("ag-Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1))},t.prototype.setPivotMode=function(t,e){if(void 0===e&&(e="api"),t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)){this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e);var n={type:o.a.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)}},t.prototype.getSecondaryPivotColumn=function(t,e){if(!this.secondaryColumnsPresent)return null;var n=this.getPrimaryColumn(e),r=null;return this.secondaryColumns&&this.secondaryColumns.forEach((function(e){var i=e.getColDef().pivotKeys,o=e.getColDef().pivotValueColumn;c.e.compareArrays(i,t)&&o===n&&(r=e)})),r},t.prototype.setBeans=function(t){this.logger=t.create("ColumnController")},t.prototype.setFirstRightAndLastLeftPinned=function(t){var e,n;this.gridOptionsWrapper.isEnableRtl()?(e=this.displayedLeftColumns?this.displayedLeftColumns[0]:null,n=this.displayedRightColumns?c.e.last(this.displayedRightColumns):null):(e=this.displayedLeftColumns?c.e.last(this.displayedLeftColumns):null,n=this.displayedRightColumns?this.displayedRightColumns[0]:null),this.gridColumns.forEach((function(r){r.setLastLeftPinned(r===e,t),r.setFirstRightPinned(r===n,t)}))},t.prototype.autoSizeColumns=function(t,e,n){var r=this;void 0===n&&(n="api");var i=[],s=-1;for(null==e&&(e=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==s;)s=0,this.actionOnGridColumns(t,(function(t){if(i.indexOf(t)>=0)return!1;var o=r.autoWidthCalculator.getPreferredWidthForColumn(t,e);if(o>0){var a=r.normaliseColumnWidth(t,o);t.setActualWidth(a,n),i.push(t),s++}return!0}),n);if(i.length){var a={type:o.a.EVENT_COLUMN_RESIZED,columns:i,column:1===i.length?i[0]:null,finished:!0,api:this.gridApi,columnApi:this.columnApi,source:"autosizeColumns"};this.eventService.dispatchEvent(a)}},t.prototype.autoSizeColumn=function(t,e,n){void 0===n&&(n="api"),t&&this.autoSizeColumns([t],e,n)},t.prototype.autoSizeAllColumns=function(t,e){void 0===e&&(e="api");var n=this.getAllDisplayedColumns();this.autoSizeColumns(n,t,e)},t.prototype.getColumnsFromTree=function(t){var e=[];return function t(n){for(var r=0;r<n.length;r++){var o=n[r];o instanceof i.a?e.push(o):o instanceof s.a&&t(o.getChildren())}}(t),e},t.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},t.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},t.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},t.prototype.getDisplayedColumnGroups=function(t){switch(t){case l.a.PINNED_LEFT:return this.getLeftDisplayedColumnGroups();case l.a.PINNED_RIGHT:return this.getRightDisplayedColumnGroups();default:return this.getCenterDisplayedColumnGroups()}},t.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},t.prototype.getAllDisplayedColumns=function(){return this.allDisplayedColumns},t.prototype.getAllDisplayedVirtualColumns=function(){return this.allDisplayedVirtualColumns},t.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedLeftColumns):this.displayedLeftColumns},t.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedRightColumns):this.displayedRightColumns},t.prototype.getDisplayedColumnsForRow=function(t,e,n,r){for(var i,o=[],s=null,a=function(a){var u,l=e[a],c=e.length-a,h=Math.min(l.getColSpan(t),c),p=[l];if(h>1){for(var d=h-1,f=1;f<=d;f++)p.push(e[a+f]);a+=d}if(n?(u=!1,p.forEach((function(t){n(t)&&(u=!0)}))):u=!0,u){if(0===o.length&&s)!!r&&r(l)&&o.push(s);o.push(l)}s=l,i=a},u=0;u<e.length;u++)a(u),u=i;return o},t.prototype.getAllDisplayedCenterVirtualColumnsForRow=function(t){var e=this;if(!this.colSpanActive)return this.allDisplayedCenterVirtualColumns;var n=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedCenterColumns,n,(function(t){return t.getLeft()>e.viewportLeft}))},t.prototype.isColumnInViewport=function(t){var e=t.getLeft(),n=t.getLeft()+t.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200;return!(e<r&&n<r)&&!(e>i&&n>i)},t.prototype.getPinnedLeftContainerWidth=function(){return this.getWidthOfColsInList(this.displayedLeftColumns)},t.prototype.getPinnedRightContainerWidth=function(){return this.getWidthOfColsInList(this.displayedRightColumns)},t.prototype.updatePrimaryColumnList=function(t,e,n,r,i,o){var s=this;if(void 0===o&&(o="api"),t&&!c.e.missingOrEmpty(t)){var a=!1;if(t.forEach((function(t){var i=s.getPrimaryColumn(t);if(i){if(n){if(e.indexOf(i)>=0)return;e.push(i)}else{if(e.indexOf(i)<0)return;c.e.removeFromArray(e,i)}r(i),a=!0}})),a){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o);var u={type:i,columns:e,column:1===e.length?e[0]:null,api:this.gridApi,columnApi:this.columnApi,source:o};this.eventService.dispatchEvent(u)}}},t.prototype.setRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,o.a.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),e)},t.prototype.setRowGroupActive=function(t,e,n){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,n),t||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||e.setVisible(!0,n))},t.prototype.addRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.addRowGroupColumns([t],e)},t.prototype.addRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),o.a.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},t.prototype.removeRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),o.a.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},t.prototype.removeRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.removeRowGroupColumns([t],e)},t.prototype.addPivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,(function(t){return t.setPivotActive(!0,e)}),o.a.EVENT_COLUMN_PIVOT_CHANGED,e)},t.prototype.setPivotColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.pivotColumns,o.a.EVENT_COLUMN_PIVOT_CHANGED,(function(t,n){n.setPivotActive(t,e)}),e)},t.prototype.addPivotColumn=function(t,e){void 0===e&&(e="api"),this.addPivotColumns([t],e)},t.prototype.removePivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,(function(t){return t.setPivotActive(!1,e)}),o.a.EVENT_COLUMN_PIVOT_CHANGED,e)},t.prototype.removePivotColumn=function(t,e){void 0===e&&(e="api"),this.removePivotColumns([t],e)},t.prototype.setPrimaryColumnList=function(t,e,n,r,i){var o=this;e.length=0,c.e.exists(t)&&t.forEach((function(t){var n=o.getPrimaryColumn(t);n&&e.push(n)})),this.primaryColumns.forEach((function(t){var n=e.indexOf(t)>=0;r(n,t)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i);var s={type:n,columns:e,column:1===e.length?e[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(s)},t.prototype.setValueColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.valueColumns,o.a.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),e)},t.prototype.setValueActive=function(t,e,n){if(t!==e.isValueActive()&&(e.setValueActive(t,n),t&&!e.getAggFunc())){var r=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(r)}},t.prototype.addValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),o.a.EVENT_COLUMN_VALUE_CHANGED,e)},t.prototype.addValueColumn=function(t,e){void 0===e&&(e="api"),t&&this.addValueColumns([t],e)},t.prototype.removeValueColumn=function(t,e){void 0===e&&(e="api"),this.removeValueColumns([t],e)},t.prototype.removeValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),o.a.EVENT_COLUMN_VALUE_CHANGED,e)},t.prototype.normaliseColumnWidth=function(t,e){return e<t.getMinWidth()&&(e=t.getMinWidth()),t.isGreaterThanMax(e)&&(e=t.getMaxWidth()),e},t.prototype.getPrimaryOrGridColumn=function(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)},t.prototype.setColumnWidth=function(t,e,n,r,i){void 0===i&&(i="api");var o=this.getPrimaryOrGridColumn(t);if(o){var s=[];if(s.push({width:e,ratios:[1],columns:[o]}),"shift"===this.gridOptionsWrapper.getColResizeDefault()&&(n=!n),n){var a=this.getDisplayedColAfter(o);if(!a)return;var u=o.getActualWidth()-e,l=a.getActualWidth()+u;s.push({width:l,ratios:[1],columns:[a]})}this.resizeColumnSets(s,r,i),this.flexActive&&this.refreshFlexedColumns()}},t.prototype.checkMinAndMaxWidthsForSet=function(t){var e=t.columns,n=t.width,r=0,i=0,o=!0;return e.forEach((function(t){r+=t.getMinWidth(),t.getMaxWidth()>0?i+=t.getMaxWidth():o=!1})),n>=r&&(!o||n<=i)},t.prototype.resizeColumnSets=function(t,e,n){if(c.e.every(t,this.checkMinAndMaxWidthsForSet.bind(this))){var r=[],i=[];t.forEach((function(t){var e=t.width,o=t.columns,s=t.ratios,a={},u={};o.forEach((function(t){return i.push(t)}));for(var l=!0,c=0,h=function(){if(++c>1e3)return console.error("ag-Grid: infinite loop in resizeColumnSets"),"break";l=!1;var t=[],n=[],r=0,i=e;o.forEach((function(e,o){if(u[e.getId()])i-=a[e.getId()];else{t.push(e);var l=s[o];r+=l,n.push(l)}}));var h=1/r;t.forEach((function(n,r){var o;r===t.length-1?o=i:(o=Math.round(s[r]*e*h),i-=o),o<n.getMinWidth()?(o=n.getMinWidth(),u[n.getId()]=!0,l=!0):n.getMaxWidth()>0&&o>n.getMaxWidth()&&(o=n.getMaxWidth(),u[n.getId()]=!0,l=!0),a[n.getId()]=o}))};l;){if("break"===h())break}o.forEach((function(t){var e=a[t.getId()];t.getActualWidth()!==e&&(t.setActualWidth(e,n),r.push(t))}))}));var s=r.length>0;if(s&&(this.setLeftValues(n),this.updateBodyWidths(),this.checkDisplayedVirtualColumns()),s||e){var a={type:o.a.EVENT_COLUMN_RESIZED,columns:i,column:1===i.length?i[0]:null,finished:e,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(a)}}else if(e){var u=t&&t.length>0?t[0].columns:null,l={type:o.a.EVENT_COLUMN_RESIZED,columns:u,column:u&&1===u.length?u[0]:null,finished:e,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(l)}},t.prototype.setColumnAggFunc=function(t,e,n){if(void 0===n&&(n="api"),t){t.setAggFunc(e);var r={type:o.a.EVENT_COLUMN_VALUE_CHANGED,columns:[t],column:t,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(r)}},t.prototype.moveRowGroupColumn=function(t,e,n){void 0===n&&(n="api");var r=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,r);var i={type:o.a.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(i)},t.prototype.moveColumns=function(t,e,n){if(void 0===n&&(n="api"),this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var r=this.getGridColumns(t);if(!!this.doesMovePassRules(r,e)){c.e.moveInArray(this.gridColumns,r,e),this.updateDisplayedColumns(n);var i={type:o.a.EVENT_COLUMN_MOVED,columns:r,column:1===r.length?r[0]:null,toIndex:e,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(i),this.columnAnimationService.finish()}},t.prototype.doesMovePassRules=function(t,e){var n=this.gridColumns.slice();return c.e.moveInArray(n,t,e),!!this.doesMovePassMarryChildren(n)&&!!this.doesMovePassLockedPositions(n)},t.prototype.doesMovePassLockedPositions=function(t){var e=!1,n=!0;return t.forEach((function(t){t.getColDef().lockPosition?e&&(n=!1):e=!0})),n},t.prototype.doesMovePassMarryChildren=function(t){var e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof s.a){var r=n;if(r.getColGroupDef()&&r.getColGroupDef().marryChildren){var i=[];r.getLeafColumns().forEach((function(e){var n=t.indexOf(e);i.push(n)})),Math.max.apply(Math,i)-Math.min.apply(Math,i)>r.getLeafColumns().length-1&&(e=!1)}}})),e},t.prototype.moveColumn=function(t,e,n){void 0===n&&(n="api"),this.moveColumns([t],e,n)},t.prototype.moveColumnByIndex=function(t,e,n){void 0===n&&(n="api");var r=this.gridColumns[t];this.moveColumn(r,e,n)},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(t){switch(t){case l.a.PINNED_LEFT:return this.leftWidth;case l.a.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedCenterColumns),e=this.getWidthOfColsInList(this.displayedLeftColumns),n=this.getWidthOfColsInList(this.displayedRightColumns);if(this.bodyWidthDirty=this.bodyWidth!==t,this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==n){this.bodyWidth=t,this.leftWidth=e,this.rightWidth=n;var r={type:o.a.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},t.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},t.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},t.prototype.getDisplayedColumns=function(t){switch(t){case l.a.PINNED_LEFT:return this.getDisplayedLeftColumns();case l.a.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return c.e.missingOrEmpty(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return c.e.missingOrEmpty(this.rowGroupColumns)},t.prototype.setColumnVisible=function(t,e,n){void 0===n&&(n="api"),this.setColumnsVisible([t],e,n)},t.prototype.setColumnsVisible=function(t,e,n){var r=this;void 0===n&&(n="api"),this.columnAnimationService.start(),this.actionOnGridColumns(t,(function(t){return t.isVisible()!==e&&(t.setVisible(e,n),!0)}),n,(function(){return{type:o.a.EVENT_COLUMN_VISIBLE,visible:e,column:null,columns:null,api:r.gridApi,columnApi:r.columnApi,source:n}})),this.columnAnimationService.finish()},t.prototype.setColumnPinned=function(t,e,n){void 0===n&&(n="api"),t&&this.setColumnsPinned([t],e,n)},t.prototype.setColumnsPinned=function(t,e,n){var r,i=this;(void 0===n&&(n="api"),"print"!==this.gridOptionsWrapper.getDomLayout())?(this.columnAnimationService.start(),r=!0===e||e===l.a.PINNED_LEFT?l.a.PINNED_LEFT:e===l.a.PINNED_RIGHT?l.a.PINNED_RIGHT:null,this.actionOnGridColumns(t,(function(t){return t.getPinned()!==r&&(t.setPinned(r),!0)}),n,(function(){return{type:o.a.EVENT_COLUMN_PINNED,pinned:r,column:null,columns:null,api:i.gridApi,columnApi:i.columnApi,source:n}})),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},t.prototype.actionOnGridColumns=function(t,e,n,r){var i=this;if(!c.e.missingOrEmpty(t)){var o=[];if(t.forEach((function(t){var n=i.getGridColumn(t);n&&(!1!==e(n)&&o.push(n))})),o.length&&(this.updateDisplayedColumns(n),c.e.exists(r)&&r)){var s=r();s.columns=o,s.column=1===o.length?o[0]:null,this.eventService.dispatchEvent(s)}}},t.prototype.getDisplayedColBefore=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n>0?e[n-1]:null},t.prototype.getDisplayedColAfter=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n<e.length-1?e[n+1]:null},t.prototype.getDisplayedGroupAfter=function(t){for(var e=t.getDisplayedLeafColumns()[0],n=t.getOriginalColumnGroup().getLevel();;){if(!(e=this.getDisplayedColAfter(e)))return null;for(var r=e.getParent();r.getOriginalColumnGroup().getLevel()!==n;)r=r.getParent();if(r!==t)return r}},t.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},t.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&c.e.exists(this.groupAutoColumns)&&this.groupAutoColumns.forEach((function(e){return t.push(e)})),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach((function(e){return t.push(e)})),t},t.prototype.createStateItemFromColumn=function(t){var e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,n=t.isPivotActive()?this.pivotColumns.indexOf(t):null,r=t.isValueActive()?t.getAggFunc():null;return{colId:t.getColId(),hide:!t.isVisible(),aggFunc:r,width:t.getActualWidth(),pivotIndex:n,pinned:t.getPinned(),rowGroupIndex:e}},t.prototype.getColumnState=function(){if(c.e.missing(this.primaryColumns))return[];var t=this.primaryColumns.map(this.createStateItemFromColumn.bind(this)),e=(this.groupAutoColumns?this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this)):[]).concat(t);return this.pivotMode||this.orderColumnStateList(e),e},t.prototype.orderColumnStateList=function(t){var e=this.gridColumns.map((function(t){return t.getColId()}));t.sort((function(t,n){return e.indexOf(t.colId)-e.indexOf(n.colId)}))},t.prototype.resetColumnState=function(t,e){void 0===t&&(t=!1),void 0===e&&(e="api");var n=this.getColumnsFromTree(this.primaryColumnTree),r=[],i=1e3,o=1e3;n&&n.forEach((function(t){var e=t.getColDef().rowGroupIndex,n=t.getColDef().rowGroup,s=t.getColDef().pivotIndex,a=t.getColDef().pivot,u={colId:t.getColId(),aggFunc:t.getColDef().aggFunc,hide:t.getColDef().hide,pinned:t.getColDef().pinned,rowGroupIndex:e,pivotIndex:t.getColDef().pivotIndex,width:t.getColDef().width};c.e.missing(e)&&n&&(u.rowGroupIndex=i++),c.e.missing(s)&&a&&(u.pivotIndex=o++),r.push(u)})),this.setColumnState(r,t,e)},t.prototype.setColumnState=function(t,e,n){var r=this;if(void 0===e&&(e=!1),void 0===n&&(n="api"),c.e.missingOrEmpty(this.primaryColumns))return!1;var i=this.getColumnState();this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns.slice();this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[];var a=!0,u={},l={},h=[];if(t&&t.forEach((function(t){if(c.e.exists(r.getAutoColumn(t.colId)))h.push(t);else{var e=r.getPrimaryColumn(t.colId);e?(r.syncColumnWithStateItem(e,t,u,l,n),c.e.removeFromArray(s,e)):(console.warn("ag-grid: column "+t.colId+" not found"),a=!1)}})),s.forEach(this.syncColumnWithNoState.bind(this)),this.rowGroupColumns.sort(this.sortColumnListUsingIndexes.bind(this,u)),this.pivotColumns.sort(this.sortColumnListUsingIndexes.bind(this,l)),this.updateGridColumns(),h.forEach((function(t){var e=r.getAutoColumn(t.colId);r.syncColumnWithStateItem(e,t,u,l,n)})),t){var p=t.map((function(t){return t.colId}));this.gridColumns.sort((function(t,e){return p.indexOf(t.getId())-p.indexOf(e.getId())}))}if(this.putFixedColumnsFirst(),this.updateDisplayedColumns(n),!e){var d={type:o.a.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(d)}return this.raiseColumnEvents(i,n),a},t.prototype.raiseColumnEvents=function(t,e){var n=this;if(!this.gridOptionsWrapper.isSuppressSetColumnStateEvents()){var r=this.getColumnState(),i=function(i,o,s){if(!c.e.compareArrays(t.map(o).sort(),r.map(o).sort())){var a={type:i,columns:s,column:1===s.length?s[0]:null,api:n.gridApi,columnApi:n.columnApi,source:e};n.eventService.dispatchEvent(a)}},s=function(e){var r=[],i={};return t.forEach((function(t){i[t.colId]=t})),n.gridColumns.forEach((function(t){var n=i[t.getColId()];n&&!e(n,t)||r.push(t)})),r};i(o.a.EVENT_COLUMN_VALUE_CHANGED,(function(t){return t.colId+"-"+t.aggFunc}),this.valueColumns);i(o.a.EVENT_COLUMN_PIVOT_CHANGED,(function(t){return t.colId+"-"+t.pivotIndex}),this.pivotColumns);i(o.a.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(t){return t.colId+"-"+t.rowGroupIndex}),this.rowGroupColumns);this.raiseColumnPinnedEvent(s((function(t,e){return t.pinned!==e.getPinned()})),e);var a=s((function(t,e){return t.hide===e.isVisible()}));this.raiseColumnVisibleEvent(a,e);this.raiseColumnResizeEvent(s((function(t,e){return t.width!==e.getActualWidth()})),e),this.raiseColumnMovedEvent(t,e)}},t.prototype.raiseColumnPinnedEvent=function(t,e){if(t.length){var n={type:o.a.EVENT_COLUMN_PINNED,pinned:null,columns:t,column:null,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(n)}},t.prototype.raiseColumnVisibleEvent=function(t,e){if(t.length){var n={type:o.a.EVENT_COLUMN_VISIBLE,visible:void 0,columns:t,column:null,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(n)}},t.prototype.raiseColumnResizeEvent=function(t,e){if(t.length){var n={type:o.a.EVENT_COLUMN_RESIZED,columns:t,column:null,finished:!0,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(n)}},t.prototype.raiseColumnMovedEvent=function(t,e){for(var n=[],r=this.getColumnState(),i=function(e){var i=t[e],o=r[e];if(!i||o.hide)return"continue";if(i.colId!==o.colId){var a=c.e.find(s.allDisplayedColumns,(function(t){return t.getColId()===o.colId}));n.push(a)}},s=this,a=0;a<r.length;a++)i(a);if(n.length){var u={type:o.a.EVENT_COLUMN_MOVED,columns:n,column:null,toIndex:void 0,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(u)}},t.prototype.sortColumnListUsingIndexes=function(t,e,n){return t[e.getId()]-t[n.getId()]},t.prototype.syncColumnWithNoState=function(t,e){t.setVisible(!1,e),t.setAggFunc(null),t.setPinned(null),t.setRowGroupActive(!1,e),t.setPivotActive(!1,e),t.setValueActive(!1,e)},t.prototype.syncColumnWithStateItem=function(t,e,n,r,i){if(t){t.setVisible(!e.hide,i),t.setPinned(e.pinned);var o=this.gridOptionsWrapper.getMinColWidth();e.width&&o&&e.width>=o&&t.setActualWidth(e.width,i),"string"===typeof e.aggFunc?(t.setAggFunc(e.aggFunc),t.setValueActive(!0,i),this.valueColumns.push(t)):(c.e.exists(e.aggFunc)&&console.warn("ag-Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it isintended for the column state to be stored and retrieved as simple JSON."),t.setAggFunc(null),t.setValueActive(!1,i)),"number"===typeof e.rowGroupIndex?(this.rowGroupColumns.push(t),t.setRowGroupActive(!0,i),n[t.getId()]=e.rowGroupIndex):t.setRowGroupActive(!1,i),"number"===typeof e.pivotIndex?(this.pivotColumns.push(t),t.setPivotActive(!0,i),r[t.getId()]=e.pivotIndex):t.setPivotActive(!1,i)}},t.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},t.prototype.getColumns=function(t,e){var n=[];return t&&t.forEach((function(t){var r=e(t);r&&n.push(r)})),n},t.prototype.getColumnWithValidation=function(t){if(null==t)return null;var e=this.getGridColumn(t);return e||console.warn("ag-Grid: could not find column "+t),e},t.prototype.getPrimaryColumn=function(t){return this.getColumn(t,this.primaryColumns)},t.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns)},t.prototype.getColumn=function(t,e){if(!t)return null;for(var n=0;n<e.length;n++)if(this.columnsMatch(e[n],t))return e[n];return this.getAutoColumn(t)},t.prototype.getAutoColumn=function(t){var e=this;return this.groupAutoColumns&&c.e.exists(this.groupAutoColumns)&&!c.e.missing(this.groupAutoColumns)?c.e.find(this.groupAutoColumns,(function(n){return e.columnsMatch(n,t)})):null},t.prototype.columnsMatch=function(t,e){var n=t===e,r=t.getColDef()===e,i=t.getColId()==e;return n||r||i},t.prototype.getDisplayNameForColumn=function(t,e,n){if(void 0===n&&(n=!1),!t)return null;var r=this.getHeaderName(t.getColDef(),t,null,null,e);return n?this.wrapHeaderNameWithAggFunc(t,r):r},t.prototype.getDisplayNameForOriginalColumnGroup=function(t,e,n){var r=e?e.getColGroupDef():null;return r?this.getHeaderName(r,null,t,e,n):null},t.prototype.getDisplayNameForColumnGroup=function(t,e){return this.getDisplayNameForOriginalColumnGroup(t,t.getOriginalColumnGroup(),e)},t.prototype.getHeaderName=function(t,e,n,r,i){var o=t.headerValueGetter;if(o){var s={colDef:t,column:e,columnGroup:n,originalColumnGroup:r,location:i,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"===typeof o?o(s):"string"===typeof o?this.expressionService.evaluate(o,s):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?c.e.camelCaseToHumanText(t.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(t,e){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return e;var n,r=t.getColDef().pivotValueColumn,i=null;if(c.e.exists(r))i=r?r.getAggFunc():null,n=!0;else{var o=t.isValueActive(),s=this.pivotMode||!this.isRowGroupEmpty();o&&s?(i=t.getAggFunc(),n=!0):n=!1}if(n){var a="string"===typeof i?i:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(a,a)+"("+e+")"}return e},t.prototype.getColumnGroup=function(t,e){if(!t)return null;if(t instanceof r.a)return t;var n=this.getAllDisplayedColumnGroups(),i="number"===typeof e,o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,(function(n){if(n instanceof r.a){var s=n;(i?t===s.getGroupId()&&e===s.getInstanceId():t===s.getGroupId())&&(o=s)}})),o},t.prototype.isReady=function(){return this.ready},t.prototype.createValueColumns=function(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(function(e,n){return e.setValueActive(n,t)}),(function(){return null}),(function(t){return!!t.aggFunc})),this.valueColumns.forEach((function(t){t.getAggFunc()||t.setAggFunc(t.getColDef().aggFunc)}))},t.prototype.extractRowGroupColumns=function(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(function(e,n){return e.setRowGroupActive(n,t)}),(function(t){return t.rowGroupIndex}),(function(t){return t.rowGroup}))},t.prototype.extractColumns=function(t,e,n,r,i){var o=this;e||(e=[]);var s=e.filter((function(t){return o.primaryColumns.indexOf(t)<0})),a=e.filter((function(t){return o.primaryColumns.indexOf(t)>=0})),u=this.primaryColumns.filter((function(e){return!t||t.indexOf(e)<0}));s.forEach((function(t){return n(t,!1)}));var l=[];return u.forEach((function(t){"number"===typeof r(t.getColDef())&&l.push(t)})),l.sort((function(t,e){var n=r(t.getColDef()),i=r(e.getColDef());return n===i?0:n<i?-1:1})),u.forEach((function(t){if(i(t.getColDef())){if(l.indexOf(t)>=0)return;l.push(t)}})),l.forEach((function(t){return n(t,!0)})),a.concat(l)},t.prototype.extractPivotColumns=function(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(function(e,n){return e.setPivotActive(n,t)}),(function(t){return t.pivotIndex}),(function(t){return t.pivot}))},t.prototype.resetColumnGroupState=function(t){void 0===t&&(t="api");var e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(t){if(t instanceof s.a){var n={groupId:t.getGroupId(),open:t.getColGroupDef().openByDefault};e.push(n)}})),this.setColumnGroupState(e,t)},t.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(e){if(e instanceof s.a){var n=e;t.push({groupId:n.getGroupId(),open:n.isExpanded()})}})),t},t.prototype.setColumnGroupState=function(t,e){var n=this;void 0===e&&(e="api"),this.columnAnimationService.start();var r=[];t.forEach((function(t){var e=t.groupId,i=t.open,o=n.getOriginalColumnGroup(e);o&&o.isExpanded()!==i&&(n.logger.log("columnGroupOpened("+o.getGroupId()+","+i+")"),o.setExpanded(i),r.push(o))})),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),r.forEach((function(t){var e={type:o.a.EVENT_COLUMN_GROUP_OPENED,columnGroup:t,api:n.gridApi,columnApi:n.columnApi};n.eventService.dispatchEvent(e)})),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(t,e,n){var r;void 0===n&&(n="api"),r=t instanceof s.a?t.getId():t,this.setColumnGroupState([{groupId:r,open:e}],n)},t.prototype.getOriginalColumnGroup=function(t){if(t instanceof s.a)return t;"string"!==typeof t&&console.error("ag-Grid: group key must be a string");var e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof s.a){var r=n;r.getId()===t&&(e=r)}})),e},t.prototype.calculateColumnsForDisplay=function(){var t=this;return this.pivotMode&&!this.secondaryColumnsPresent?this.gridColumns.filter((function(e){var n=t.groupAutoColumns&&c.e.includes(t.groupAutoColumns,e),r=t.valueColumns&&c.e.includes(t.valueColumns,e);return n||r})):this.gridColumns.filter((function(e){return t.groupAutoColumns&&c.e.includes(t.groupAutoColumns,e)||e.isVisible()}))},t.prototype.checkColSpanActiveInCols=function(t){var e=!1;return t.forEach((function(t){c.e.exists(t.getColDef().colSpan)&&(e=!0)})),e},t.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[];var e=function(e){var n=e.getColDef();n&&c.e.exists(n.showRowGroup)&&t.groupDisplayColumns.push(e)};this.gridColumns.forEach(e),this.groupAutoColumns&&this.groupAutoColumns.forEach(e)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.updateDisplayedColumns=function(t){var e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},t.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},t.prototype.setSecondaryColumns=function(t,e){void 0===e&&(e="api");var n=t&&t.length>0;if(n||this.secondaryColumnsPresent){if(n){this.processSecondaryColumnDefinitions(t);var r=this.columnFactory.createColumnTree(t,!1);this.secondaryBalancedTree=r.columnTree,this.secondaryHeaderRowCount=r.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(e)}},t.prototype.processSecondaryColumnDefinitions=function(t){var e=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),n=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(e||n){t&&function t(r){r.forEach((function(r){if(c.e.exists(r.children)){var i=r;n&&n(i),t(i.children)}else{e&&e(r)}}))}(t)}},t.prototype.updateGridColumns=function(){this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.autoRowHeightColumns=this.gridColumns.filter((function(t){return t.getColDef().autoHeight})),this.putFixedColumnsFirst(),this.setupQuickFilterColumns(),this.clearDisplayedColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns);var t={type:o.a.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.orderGridColsLikeLastPrimary=function(){var t=this;if(!c.e.missing(this.lastPrimaryOrder)){var e=!0;if(this.gridColumns.forEach((function(n){t.lastPrimaryOrder.indexOf(n)>=0&&(e=!1)})),!e){var n=this.lastPrimaryOrder.filter((function(e){return t.gridColumns.indexOf(e)>=0})),r=this.gridColumns.filter((function(t){return n.indexOf(t)<0})),i=n.slice();r.forEach((function(t){var e=t.getOriginalParent();if(e){for(var n=[];!n.length&&e;){e.getLeafColumns().forEach((function(t){var e=i.indexOf(t)>=0,r=n.indexOf(t)<0;e&&r&&n.push(t)})),e=e.getOriginalParent()}if(n.length){var r=n.map((function(t){return i.indexOf(t)})),o=Math.max.apply(Math,r);c.e.insertIntoArray(i,t,o+1)}else i.push(t)}else i.push(t)})),this.gridColumns=i}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=this.primaryColumns.concat(this.groupAutoColumns):this.columnsForQuickFilter=this.primaryColumns},t.prototype.putFixedColumnsFirst=function(){var t=this.gridColumns.filter((function(t){return t.getColDef().lockPosition})),e=this.gridColumns.filter((function(t){return!t.getColDef().lockPosition}));this.gridColumns=t.concat(e)},t.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!c.e.missing(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=t.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedColumns=function(){this.displayedLeftColumnTree=[],this.displayedRightColumnTree=[],this.displayedCentreColumnTree=[],this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[]},t.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.updateDisplayedColumnsFromTrees(t),this.updateVirtualSets(),this.updateBodyWidths();var e={type:o.a.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.updateDisplayedColumnsFromTrees=function(t){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.setupAllDisplayedColumns(),this.setLeftValues(t)},t.prototype.setupAllDisplayedColumns=function(){this.gridOptionsWrapper.isEnableRtl()?this.allDisplayedColumns=this.displayedRightColumns.concat(this.displayedCenterColumns).concat(this.displayedLeftColumns):this.allDisplayedColumns=this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},t.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(t){var e=this,n=this.primaryColumns.slice(0),r=this.gridOptionsWrapper.isEnableRtl();[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach((function(i){if(r){var o=e.getWidthOfColsInList(i);i.forEach((function(e){o-=e.getActualWidth(),e.setLeft(o,t)}))}else{var s=0;i.forEach((function(e){e.setLeft(s,t),s+=e.getActualWidth()}))}c.e.removeAllFromArray(n,i)})),n.forEach((function(e){e.setLeft(null,t)}))},t.prototype.setLeftValuesOfGroups=function(){[this.displayedLeftColumnTree,this.displayedRightColumnTree,this.displayedCentreColumnTree].forEach((function(t){t.forEach((function(t){t instanceof r.a&&t.checkLeft()}))}))},t.prototype.addToDisplayedColumns=function(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,(function(t){t instanceof i.a&&e.push(t)}))},t.prototype.updateDisplayedCenterVirtualColumns=function(){this.suppressColumnVirtualisation?this.allDisplayedCenterVirtualColumns=this.displayedCenterColumns:this.allDisplayedCenterVirtualColumns=this.filterOutColumnsWithinViewport(),this.allDisplayedVirtualColumns=this.allDisplayedCenterVirtualColumns.concat(this.displayedLeftColumns).concat(this.displayedRightColumns);var t={};return this.allDisplayedVirtualColumns.forEach((function(e){t[e.getId()]=!0})),t},t.prototype.getVirtualHeaderGroupRow=function(t,e){var n;switch(t){case l.a.PINNED_LEFT:n=this.displayedLeftHeaderRows[e];break;case l.a.PINNED_RIGHT:n=this.displayedRightHeaderRows[e];break;default:n=this.displayedCentreHeaderRows[e]}return c.e.missing(n)&&(n=[]),n},t.prototype.updateDisplayedVirtualGroups=function(t){this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={};var e=function e(n,r,o){for(var s=!1,a=0;a<n.length;a++){var u=n[a],l=void 0;if(u instanceof i.a)l=!0===t[u.getId()];else l=e(u.getDisplayedChildren(),r,o+1);l&&(s=!0,r[o]||(r[o]=[]),r[o].push(u))}return s};e(this.displayedLeftColumnTree,this.displayedLeftHeaderRows,0),e(this.displayedRightColumnTree,this.displayedRightHeaderRows,0),e(this.displayedCentreColumnTree,this.displayedCentreHeaderRows,0)},t.prototype.updateVirtualSets=function(){var t=this.updateDisplayedCenterVirtualColumns();this.updateDisplayedVirtualGroups(t)},t.prototype.filterOutColumnsWithinViewport=function(){return this.displayedCenterColumns.filter(this.isColumnInViewport.bind(this))},t.prototype.refreshFlexedColumns=function(t,e){if(void 0===e&&(e="flex"),this.flexActive&&(this.flexViewportWidth=t||this.flexViewportWidth,this.flexViewportWidth)){var n,r=this.displayedCenterColumns.filter((function(t){return!t.getFlex()})),i=this.displayedCenterColumns.filter((function(t){return t.getFlex()})),o=[];t:for(;;){var s=i.reduce((function(t,e){return t+e.getFlex()}),0);n=this.flexViewportWidth-this.getWidthOfColsInList(r);for(var a=0;a<i.length;a++){var u=i[a],l=n*u.getFlex()/s,h=void 0;if(l<u.getMinWidth()?h=u.getMinWidth():null!=u.getMaxWidth()&&l>u.getMaxWidth()&&(h=u.getMaxWidth()),h){u.setActualWidth(h,e),c.e.removeFromArray(i,u),r.push(u);continue t}o[a]=Math.round(l)}break}var p=n;i.forEach((function(t,n){t.setActualWidth(Math.min(o[n],p),e),p-=o[n]})),this.setLeftValues(e),this.updateBodyWidths(),this.fireResizedEventForColumns(i,e)}},t.prototype.sizeColumnsToFit=function(t,e,n){void 0===e&&(e="sizeColumnsToFit");var r=this.getAllDisplayedColumns();if(!(t<=0)&&r.length){var i=[],o=[];r.forEach((function(t){!0===t.getColDef().suppressSizeToFit?o.push(t):i.push(t)}));for(var s=i.slice(0),a=!1,u=function(t){c.e.removeFromArray(i,t),o.push(t)};!a;){a=!0;var l=t-this.getWidthOfColsInList(o);if(l<=0)i.forEach((function(t){t.setMinimum(e)}));else for(var h=l/this.getWidthOfColsInList(i),p=l,d=i.length-1;d>=0;d--){var f=i[d],g=Math.round(f.getActualWidth()*h);if(g<f.getMinWidth())f.setMinimum(e),u(f),a=!1;else if(f.isGreaterThanMax(g))f.setActualWidth(f.getMaxWidth(),e),u(f),a=!1;else{0===d?f.setActualWidth(p,e):f.setActualWidth(g,e)}p-=g}}this.setLeftValues(e),this.updateBodyWidths(),n||this.fireResizedEventForColumns(s,e)}},t.prototype.fireResizedEventForColumns=function(t,e){var n=this;t.forEach((function(t){var r={type:o.a.EVENT_COLUMN_RESIZED,column:t,columns:[t],finished:!0,api:n.gridApi,columnApi:n.columnApi,source:e};n.eventService.dispatchEvent(r)}))},t.prototype.buildDisplayedTrees=function(t){var e=[],n=[],r=[];t.forEach((function(t){switch(t.getPinned()){case"left":e.push(t);break;case"right":n.push(t);break;default:r.push(t)}}));var i=new a.a;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(e,this.gridBalancedTree,i,l.a.PINNED_LEFT,this.displayedLeftColumnTree),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,i,l.a.PINNED_RIGHT,this.displayedRightColumnTree),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(r,this.gridBalancedTree,i,null,this.displayedCentreColumnTree)},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedColumnGroups();this.columnUtils.depthFirstAllColumnTreeSearch(t,(function(t){t instanceof r.a&&t.calculateDisplayedColumns()}))},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),e=this.gridOptionsWrapper.isGroupSuppressAutoColumn()&&!this.pivotMode,n=this.gridOptionsWrapper.isGroupSuppressRow();if((this.rowGroupColumns.length>0||this.usingTreeData)&&!e&&!t&&!n){var r=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);!this.autoColsEqual(r,this.groupAutoColumns)&&(this.groupAutoColumns=r)}else this.groupAutoColumns=null}},t.prototype.autoColsEqual=function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!==e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(r.getColId()!==i.getColId())return!1}return!0},t.prototype.getWidthOfColsInList=function(t){return t.reduce((function(t,e){return t+e.getActualWidth()}),0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},h([Object(u.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),h([Object(u.a)("expressionService")],t.prototype,"expressionService",void 0),h([Object(u.a)("columnFactory")],t.prototype,"columnFactory",void 0),h([Object(u.a)("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),h([Object(u.a)("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),h([Object(u.a)("eventService")],t.prototype,"eventService",void 0),h([Object(u.a)("columnUtils")],t.prototype,"columnUtils",void 0),h([Object(u.a)("context")],t.prototype,"context",void 0),h([Object(u.a)("columnAnimationService")],t.prototype,"columnAnimationService",void 0),h([Object(u.a)("autoGroupColService")],t.prototype,"autoGroupColService",void 0),h([Object(u.d)("aggFuncService")],t.prototype,"aggFuncService",void 0),h([Object(u.d)("valueCache")],t.prototype,"valueCache",void 0),h([Object(u.a)("columnApi")],t.prototype,"columnApi",void 0),h([Object(u.a)("gridApi")],t.prototype,"gridApi",void 0),h([u.e],t.prototype,"init",null),h([p(0,Object(u.h)("loggerFactory"))],t.prototype,"setBeans",null),t=h([Object(u.b)("columnController")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){this.existingIds={}}return t.prototype.getInstanceIdForKey=function(t){var e,n=this.existingIds[t];return e="number"!==typeof n?0:n+1,this.existingIds[t]=e,e},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(25),i=n(23),o=n(1),s=n(0),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(){function t(){}return t.prototype.calculateColInitialWidth=function(t){var e=this.gridOptionsWrapper,n=null!=t.minWidth?t.minWidth:e.getMinColWidth(),r=null!=t.maxWidth?t.maxWidth:e.getMaxColWidth()||s.e.getMaxSafeInteger(),i=null!=t.width?t.width:e.getColWidth();return Math.max(Math.min(i,r),n)},t.prototype.getOriginalPathForColumn=function(t,e){var n=[],r=!1;return function e(o,s){for(var a=0;a<o.length;a++){if(r)return;var u=o[a];if(u instanceof i.a)e(u.getChildren(),s+1),n[s]=u;else u===t&&(r=!0)}}(e,0),r?n:null},t.prototype.depthFirstOriginalTreeSearch=function(t,e,n){var r=this;e&&e.forEach((function(e){e instanceof i.a&&r.depthFirstOriginalTreeSearch(e,e.getChildren(),n),n(e,t)}))},t.prototype.depthFirstAllColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof r.a&&n.depthFirstAllColumnTreeSearch(t.getChildren(),e),e(t)}))},t.prototype.depthFirstDisplayedColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof r.a&&n.depthFirstDisplayedColumnTreeSearch(t.getDisplayedChildren(),e),e(t)}))},a([Object(o.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=a([Object(o.b)("columnUtils")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(1),i=n(25),o=n(23),s=n(0),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(){function t(){}return t.prototype.createDisplayedGroups=function(t,e,n,r,i){var o,a,u=this,l=[],c=this.mapOldGroupsById(i);return t.forEach((function(t){for(var i=u.getOriginalPathForColumn(e,t),h=[],p=!a,d=0;d<i.length;d++)if(p||i[d]!==a[d]){var f=u.createColumnGroup(i[d],n,c,r);h[d]=f,0==d?l.push(f):h[d-1].addChild(f)}else h[d]=o[d];0===h.length?l.push(t):s.e.last(h).addChild(t);o=h,a=i})),this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(t,e,n,r){var o=t.getGroupId(),a=e.getInstanceIdForKey(o),u=n[i.a.createUniqueId(o,a)];return u&&u.getOriginalColumnGroup()!==t&&(u=null),s.e.exists(u)?u.reset():(u=new i.a(t,o,a,r),this.context.wireBean(u)),u},t.prototype.mapOldGroupsById=function(t){var e={};return t&&function t(n){n.forEach((function(n){if(n instanceof i.a){var r=n;e[n.getUniqueId()]=r,t(r.getChildren())}}))}(t),e},t.prototype.setupParentsIntoColumns=function(t,e){var n=this;t.forEach((function(t){if(t.setParent(e),t instanceof i.a){var r=t;n.setupParentsIntoColumns(r.getChildren(),r)}}))},t.prototype.getOriginalPathForColumn=function(t,e){var n=[],r=!1;return function t(i,s){for(var a=0;a<i.length;a++){if(r)return;var u=i[a];if(u instanceof o.a)t(u.getChildren(),s+1),n[s]=u;else u===e&&(r=!0)}}(t,0),r?n:(console.warn("could not get path"),null)},a([Object(r.a)("columnUtils")],t.prototype,"columnUtils",void 0),a([Object(r.a)("context")],t.prototype,"context",void 0),t=a([Object(r.b)("displayedGroupCreator")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(56),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isPopup=function(){return!0},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(68),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isPopup=function(){return!0},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(37),i=n(5),o=n(0),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return s(e,t),e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.textarea=document.createElement("textarea"),this.textarea.maxLength=t.maxLength?t.maxLength:"200",this.textarea.cols=t.cols?t.cols:"60",this.textarea.rows=t.rows?t.rows:"10",o.e.exists(t.value)&&(this.textarea.value=t.value.toString()),this.getGui().querySelector(".ag-large-textarea").appendChild(this.textarea),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},e.prototype.onKeyDown=function(t){var e=t.which||t.keyCode;(e==i.a.KEY_LEFT||e==i.a.KEY_UP||e==i.a.KEY_RIGHT||e==i.a.KEY_DOWN||t.shiftKey&&e==i.a.KEY_ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.textarea.focus()},e.prototype.getValue=function(){return this.params.parseValue(this.textarea.value)},e.TEMPLATE='<div class="ag-large-text" tabindex="0"><div class="ag-large-textarea"></div></div>',e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(1),i=n(7),o=n(5),s=n(0),a=n(71),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t,e){return function(n,r){e(n,r,t)}},c=function(){function t(){}return t.prototype.setBeans=function(t){this.logger=t.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()?this.eventService.addEventListener(i.a.EVENT_ROW_DATA_CHANGED,this.reset.bind(this)):this.logger.log("dont know what to do here")},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.eventService.addEventListener(i.a.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var t=[];return s.e.iterateObject(this.selectedNodes,(function(e,n){n&&t.push(n)})),t},t.prototype.getSelectedRows=function(){var t=[];return s.e.iterateObject(this.selectedNodes,(function(e,n){n&&n.data&&t.push(n.data)})),t},t.prototype.removeGroupsFromSelection=function(){var t=this;s.e.iterateObject(this.selectedNodes,(function(e,n){n&&n.group&&(t.selectedNodes[n.id]=void 0)}))},t.prototype.updateGroupsFromChildrenSelections=function(t){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===o.a.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getRootNode();t||(t=new a.a(!0,e)).setInactive(),t.forEachChangedNodeDepthFirst((function(t){t!==e&&t.calculateSelectedFromChildren()}))}},t.prototype.getNodeForIdIfSelected=function(t){return this.selectedNodes[t]},t.prototype.clearOtherNodes=function(t){var e=this,n={},r=0;return s.e.iterateObject(this.selectedNodes,(function(i,o){if(o&&o.id!==t.id){var s=e.selectedNodes[o.id];r+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),e.groupSelectsChildren&&o.parent&&(n[o.parent.id]=o.parent)}})),s.e.iterateObject(n,(function(t,e){e.calculateSelectedFromChildren()})),r},t.prototype.onRowSelected=function(t){var e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes[e.id]=e:this.selectedNodes[e.id]=void 0)},t.prototype.syncInRowNode=function(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)},t.prototype.syncInOldRowNode=function(t,e){s.e.exists(e)&&t.id!==e.id&&(s.e.exists(this.selectedNodes[e.id])&&(this.selectedNodes[e.id]=e))},t.prototype.syncInNewRowNode=function(t){s.e.exists(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===o.a.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getTopLevelNodes();if(null!==t){var e=[];return function t(n){for(var r=0,i=n.length;r<i;r++){var o=n[r];o.isSelected()?e.push(o):o.group&&o.children&&t(o.children)}}(t),e}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},t.prototype.setRowModel=function(t){this.rowModel=t},t.prototype.isEmpty=function(){var t=0;return s.e.iterateObject(this.selectedNodes,(function(e,n){n&&t++})),0===t},t.prototype.deselectAllRowNodes=function(t){void 0===t&&(t=!1);var e=function(t){return t.selectThisNode(!1)},n=this.rowModel.getType()===o.a.ROW_MODEL_TYPE_CLIENT_SIDE;if(t){if(!n)return void console.error("ag-Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(e)}else s.e.iterateObject(this.selectedNodes,(function(t,n){n&&e(n)})),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var r={type:i.a.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},t.prototype.selectAllRowNodes=function(t){if(void 0===t&&(t=!1),this.rowModel.getType()!==o.a.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var e=this.rowModel,n=function(t){return t.selectThisNode(!0)};t?e.forEachNodeAfterFilter(n):e.forEachNode(n),this.rowModel.getType()===o.a.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var r={type:i.a.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},t.prototype.selectNode=function(t,e){t&&t.setSelectedParams({newValue:!0,clearSelection:!e})},t.prototype.deselectIndex=function(t){var e=this.rowModel.getRow(t);this.deselectNode(e)},t.prototype.deselectNode=function(t){t&&t.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(t,e){var n=this.rowModel.getRow(t);this.selectNode(n,e)},u([Object(r.a)("eventService")],t.prototype,"eventService",void 0),u([Object(r.a)("rowModel")],t.prototype,"rowModel",void 0),u([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),u([Object(r.a)("columnApi")],t.prototype,"columnApi",void 0),u([Object(r.a)("gridApi")],t.prototype,"gridApi",void 0),u([l(0,Object(r.h)("loggerFactory"))],t.prototype,"setBeans",null),u([r.e],t.prototype,"init",null),t=u([Object(r.b)("selectionController")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=function(){function t(){}return t.prototype.sizeColumnsToFit=function(t){"undefined"===typeof t&&console.error("ag-Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnController.sizeColumnsToFit(t,"api")},t.prototype.setColumnGroupOpened=function(t,e){this.columnController.setColumnGroupOpened(t,e,"api")},t.prototype.getColumnGroup=function(t,e){return this.columnController.getColumnGroup(t,e)},t.prototype.getOriginalColumnGroup=function(t){return this.columnController.getOriginalColumnGroup(t)},t.prototype.getDisplayNameForColumn=function(t,e){return this.columnController.getDisplayNameForColumn(t,e)||""},t.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnController.getDisplayNameForColumnGroup(t,e)||""},t.prototype.getColumn=function(t){return this.columnController.getPrimaryColumn(t)},t.prototype.setColumnState=function(t){return this.columnController.setColumnState(t,!1,"api")},t.prototype.getColumnState=function(){return this.columnController.getColumnState()},t.prototype.resetColumnState=function(){this.columnController.resetColumnState(!1,"api")},t.prototype.getColumnGroupState=function(){return this.columnController.getColumnGroupState()},t.prototype.setColumnGroupState=function(t){this.columnController.setColumnGroupState(t,"api")},t.prototype.resetColumnGroupState=function(){this.columnController.resetColumnGroupState("api")},t.prototype.isPinning=function(){return this.columnController.isPinningLeft()||this.columnController.isPinningRight()},t.prototype.isPinningLeft=function(){return this.columnController.isPinningLeft()},t.prototype.isPinningRight=function(){return this.columnController.isPinningRight()},t.prototype.getDisplayedColAfter=function(t){return this.columnController.getDisplayedColAfter(t)},t.prototype.getDisplayedColBefore=function(t){return this.columnController.getDisplayedColBefore(t)},t.prototype.setColumnVisible=function(t,e){this.columnController.setColumnVisible(t,e,"api")},t.prototype.setColumnsVisible=function(t,e){this.columnController.setColumnsVisible(t,e,"api")},t.prototype.setColumnPinned=function(t,e){this.columnController.setColumnPinned(t,e,"api")},t.prototype.setColumnsPinned=function(t,e){this.columnController.setColumnsPinned(t,e,"api")},t.prototype.getAllColumns=function(){return this.columnController.getAllPrimaryColumns()},t.prototype.getAllGridColumns=function(){return this.columnController.getAllGridColumns()},t.prototype.getDisplayedLeftColumns=function(){return this.columnController.getDisplayedLeftColumns()},t.prototype.getDisplayedCenterColumns=function(){return this.columnController.getDisplayedCenterColumns()},t.prototype.getDisplayedRightColumns=function(){return this.columnController.getDisplayedRightColumns()},t.prototype.getAllDisplayedColumns=function(){return this.columnController.getAllDisplayedColumns()},t.prototype.getAllDisplayedVirtualColumns=function(){return this.columnController.getAllDisplayedVirtualColumns()},t.prototype.moveColumn=function(t,e){"number"===typeof t?(console.warn("ag-Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnController.moveColumnByIndex(t,e,"api")):this.columnController.moveColumn(t,e,"api")},t.prototype.moveColumnByIndex=function(t,e){this.columnController.moveColumnByIndex(t,e,"api")},t.prototype.moveColumns=function(t,e){this.columnController.moveColumns(t,e,"api")},t.prototype.moveRowGroupColumn=function(t,e){this.columnController.moveRowGroupColumn(t,e)},t.prototype.setColumnAggFunc=function(t,e){this.columnController.setColumnAggFunc(t,e)},t.prototype.setColumnWidth=function(t,e,n){void 0===n&&(n=!0),this.columnController.setColumnWidth(t,e,!1,n)},t.prototype.setPivotMode=function(t){this.columnController.setPivotMode(t)},t.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},t.prototype.getSecondaryPivotColumn=function(t,e){return this.columnController.getSecondaryPivotColumn(t,e)},t.prototype.setValueColumns=function(t){this.columnController.setValueColumns(t,"api")},t.prototype.getValueColumns=function(){return this.columnController.getValueColumns()},t.prototype.removeValueColumn=function(t){this.columnController.removeValueColumn(t,"api")},t.prototype.removeValueColumns=function(t){this.columnController.removeValueColumns(t,"api")},t.prototype.addValueColumn=function(t){this.columnController.addValueColumn(t,"api")},t.prototype.addValueColumns=function(t){this.columnController.addValueColumns(t,"api")},t.prototype.setRowGroupColumns=function(t){this.columnController.setRowGroupColumns(t,"api")},t.prototype.removeRowGroupColumn=function(t){this.columnController.removeRowGroupColumn(t,"api")},t.prototype.removeRowGroupColumns=function(t){this.columnController.removeRowGroupColumns(t,"api")},t.prototype.addRowGroupColumn=function(t){this.columnController.addRowGroupColumn(t,"api")},t.prototype.addRowGroupColumns=function(t){this.columnController.addRowGroupColumns(t,"api")},t.prototype.getRowGroupColumns=function(){return this.columnController.getRowGroupColumns()},t.prototype.setPivotColumns=function(t){this.columnController.setPivotColumns(t,"api")},t.prototype.removePivotColumn=function(t){this.columnController.removePivotColumn(t,"api")},t.prototype.removePivotColumns=function(t){this.columnController.removePivotColumns(t,"api")},t.prototype.addPivotColumn=function(t){this.columnController.addPivotColumn(t,"api")},t.prototype.addPivotColumns=function(t){this.columnController.addPivotColumns(t,"api")},t.prototype.getPivotColumns=function(){return this.columnController.getPivotColumns()},t.prototype.getLeftDisplayedColumnGroups=function(){return this.columnController.getLeftDisplayedColumnGroups()},t.prototype.getCenterDisplayedColumnGroups=function(){return this.columnController.getCenterDisplayedColumnGroups()},t.prototype.getRightDisplayedColumnGroups=function(){return this.columnController.getRightDisplayedColumnGroups()},t.prototype.getAllDisplayedColumnGroups=function(){return this.columnController.getAllDisplayedColumnGroups()},t.prototype.autoSizeColumn=function(t,e){return this.columnController.autoSizeColumn(t,e,"api")},t.prototype.autoSizeColumns=function(t,e){return this.columnController.autoSizeColumns(t,e,"api")},t.prototype.autoSizeAllColumns=function(t){this.columnController.autoSizeAllColumns(t,"api")},t.prototype.setSecondaryColumns=function(t){this.columnController.setSecondaryColumns(t,"api")},t.prototype.getSecondaryColumns=function(){return this.columnController.getSecondaryColumns()},t.prototype.getPrimaryColumns=function(){return this.columnController.getAllPrimaryColumns()},t.prototype.columnGroupOpened=function(t,e){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(t,e)},t.prototype.hideColumns=function(t,e){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnController.setColumnsVisible(t,!e,"api")},t.prototype.hideColumn=function(t,e){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this.columnController.setColumnVisible(t,!e,"api")},t.prototype.setState=function(t){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(t)},t.prototype.getState=function(){return console.error("ag-Grid: getState is deprecated, use getColumnState"),this.getColumnState()},t.prototype.resetState=function(){console.error("ag-Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},t.prototype.getAggregationColumns=function(){return console.error("ag-Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnController.getValueColumns()},t.prototype.removeAggregationColumn=function(t){console.error("ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnController.removeValueColumn(t,"api")},t.prototype.removeAggregationColumns=function(t){console.error("ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnController.removeValueColumns(t,"api")},t.prototype.addAggregationColumn=function(t){console.error("ag-Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnController.addValueColumn(t,"api")},t.prototype.addAggregationColumns=function(t){console.error("ag-Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnController.addValueColumns(t,"api")},t.prototype.setColumnAggFunction=function(t,e){console.error("ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnController.setColumnAggFunc(t,e,"api")},t.prototype.getDisplayNameForCol=function(t){return console.error("ag-Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(t,null)},i([Object(r.a)("columnController")],t.prototype,"columnController",void 0),t=i([Object(r.b)("columnApi")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(18),i=n(58),o=n(12),s=n(7),a=n(5),u=n(39),l=n(1),c=n(21),h=n(0),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},f=function(t,e){return function(n,r){e(n,r,t)}},g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCompsByIndex={},e.floatingTopRowComps=[],e.floatingBottomRowComps=[],e.refreshInProgress=!1,e}return p(e,t),e.prototype.registerGridCore=function(t){this.gridCore=t},e.prototype.getGridCore=function(){return this.gridCore},e.prototype.agWire=function(t){this.logger=t.create("RowRenderer")},e.prototype.registerGridComp=function(t){this.gridPanel=t,this.rowContainers=this.gridPanel.getRowContainers(),this.addDestroyableEventListener(this.eventService,s.a.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addDestroyableEventListener(this.eventService,s.a.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addDestroyableEventListener(this.eventService,s.a.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addDestroyableEventListener(this.eventService,s.a.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addDestroyableEventListener(this.eventService,s.a.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,r.a.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.registerCellEventListeners(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===a.a.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},e.prototype.registerCellEventListeners=function(){var t=this;this.addDestroyableEventListener(this.eventService,s.a.EVENT_CELL_FOCUSED,(function(e){t.forEachCellComp((function(t){return t.onCellFocused(e)}))})),this.addDestroyableEventListener(this.eventService,s.a.EVENT_FLASH_CELLS,(function(e){t.forEachCellComp((function(t){return t.onFlashCells(e)}))})),this.addDestroyableEventListener(this.eventService,s.a.EVENT_COLUMN_HOVER_CHANGED,(function(){t.forEachCellComp((function(t){return t.onColumnHover()}))})),this.addDestroyableEventListener(this.eventService,s.a.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){t.printLayout&&t.forEachCellComp((function(t){return t.onLeftChanged()}))})),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addDestroyableEventListener(this.eventService,s.a.EVENT_RANGE_SELECTION_CHANGED,(function(){t.forEachCellComp((function(t){return t.onRangeSelectionChanged()}))})),this.addDestroyableEventListener(this.eventService,s.a.EVENT_COLUMN_MOVED,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addDestroyableEventListener(this.eventService,s.a.EVENT_COLUMN_PINNED,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addDestroyableEventListener(this.eventService,s.a.EVENT_COLUMN_VISIBLE,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addDestroyableEventListener(this.eventService,s.a.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(t){return t()})),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var e=this.columnController.getAllGridColumns();e&&e.forEach((function(e){var n=function(n){t.forEachCellComp((function(t){t.getColumn()===e&&n(t)}))},r=function(){n((function(t){return t.onLeftChanged()}))},i=function(){n((function(t){return t.onWidthChanged()}))},s=function(){n((function(t){return t.onFirstRightPinnedChanged()}))},a=function(){n((function(t){return t.onLastLeftPinnedChanged()}))};e.addEventListener(o.a.EVENT_LEFT_CHANGED,r),e.addEventListener(o.a.EVENT_WIDTH_CHANGED,i),e.addEventListener(o.a.EVENT_FIRST_RIGHT_PINNED_CHANGED,s),e.addEventListener(o.a.EVENT_LAST_LEFT_PINNED_CHANGED,a),t.destroyFuncsForColumnListeners.push((function(){e.removeEventListener(o.a.EVENT_LEFT_CHANGED,r),e.removeEventListener(o.a.EVENT_WIDTH_CHANGED,i),e.removeEventListener(o.a.EVENT_FIRST_RIGHT_PINNED_CHANGED,s),e.removeEventListener(o.a.EVENT_LAST_LEFT_PINNED_CHANGED,a)}))}))},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===a.a.DOM_LAYOUT_PRINT,e=t||this.gridOptionsWrapper.isEmbedFullWidthRows(),n=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,n&&this.redrawAfterModelUpdate()},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCompsByIndex);this.removeRowComps(t)},e.prototype.onPageLoaded=function(t){h.e.missing(t)&&(t={type:s.a.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1}),this.onModelUpdated(t)},e.prototype.getAllCellsForColumn=function(t){var e=[];function n(n,r){var i=r.getCellForCol(t);i&&e.push(i)}return h.e.iterateObject(this.rowCompsByIndex,n),h.e.iterateObject(this.floatingBottomRowComps,n),h.e.iterateObject(this.floatingTopRowComps,n),e},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.floatingTopRowComps,this.pinnedRowModel.getPinnedTopRowData(),this.rowContainers.floatingTopPinnedLeft,this.rowContainers.floatingTopPinnedRight,this.rowContainers.floatingTop,this.rowContainers.floatingTopFullWidth),this.refreshFloatingRows(this.floatingBottomRowComps,this.pinnedRowModel.getPinnedBottomRowData(),this.rowContainers.floatingBottomPinnedLeft,this.rowContainers.floatingBottomPinnedRight,this.rowContainers.floatingBottom,this.rowContainers.floatingBottomFullWith)},e.prototype.refreshFloatingRows=function(t,e,n,r,o,s){var a=this;t.forEach((function(t){t.destroy()})),t.length=0,e&&e.forEach((function(e){var u=new i.a(a.$scope,o,n,r,s,e,a.beans,!1,!1,a.printLayout,a.embedFullWidthRows);u.init(),t.push(u)})),this.flushContainers(t)},e.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},e.prototype.onModelUpdated=function(t){var e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)},e.prototype.getRenderedIndexesForRowNodes=function(t){var e=[];return h.e.missing(t)?e:(h.e.iterateObject(this.rowCompsByIndex,(function(n,r){var i=r.getRowNode();t.indexOf(i)>=0&&e.push(n)})),e)},e.prototype.redrawRows=function(t){if(t&&0!=t.length){var e=this.getRenderedIndexesForRowNodes(t);this.removeRowComps(e),this.redrawAfterModelUpdate({recycleRows:!0})}},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var e=t.suppressKeepFocus?null:this.focusedCellController.getFocusCellToUseAfterRefresh();if(h.e.missing(e))return null;var n=document.activeElement,r=this.gridOptionsWrapper.getDomData(n,u.a.DOM_DATA_KEY_CELL_COMP);return h.e.missing(r)?null:e},e.prototype.redrawAfterModelUpdate=function(t){void 0===t&&(t={}),this.getLockOnRefresh();var e=this.getCellToRestoreFocusToAfterRefresh(t);this.sizeContainerToPageHeight(),this.scrollToTopIfNewData(t);var n=!this.printLayout&&t.recycleRows,r=t.animate&&this.gridOptionsWrapper.isAnimateRows(),i=this.binRowComps(n);this.redraw(i,r),t.onlyBody||this.refreshFloatingRowComps(),this.restoreFocusedCell(e),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var e=t.newData||t.newPage,n=this.gridOptionsWrapper.isSuppressScrollOnNewData();e&&!n&&this.gridPanel.scrollToTop()},e.prototype.sizeContainerToPageHeight=function(){var t=[this.rowContainers.body,this.rowContainers.fullWidth,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight];if(this.printLayout)t.forEach((function(t){return t.setHeight(null)}));else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.maxDivHeightScaler.setModelHeight(e);var n=this.maxDivHeightScaler.getUiContainerHeight();t.forEach((function(t){return t.setHeight(n)}))}},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("ag-Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, eg instead of api.refreshView(), call setTimeout(function(){api.refreshView(),0}). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.restoreFocusedCell=function(t){t&&this.focusedCellController.setFocusedCell(t.rowIndex,t.column,t.rowPinned,!0)},e.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.forEachRowComp((function(e,n){n.stopEditing(t)}))},e.prototype.forEachCellComp=function(t){this.forEachRowComp((function(e,n){return n.forEachCellComp(t)}))},e.prototype.forEachRowComp=function(t){h.e.iterateObject(this.rowCompsByIndex,t),h.e.iterateObject(this.floatingTopRowComps,t),h.e.iterateObject(this.floatingBottomRowComps,t)},e.prototype.addRenderedRowListener=function(t,e,n){var r=this.rowCompsByIndex[e];r&&r.addEventListener(t,n)},e.prototype.flashCells=function(t){void 0===t&&(t={}),this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){return t.flashCell()}))},e.prototype.refreshCells=function(t){void 0===t&&(t={});var e={forceRefresh:t.force,newData:!1};this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){return t.refreshCell(e)}))},e.prototype.getCellRendererInstances=function(t){var e=[];return this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){var n=t.getCellRenderer();n&&e.push(n)})),e},e.prototype.getCellEditorInstances=function(t){var e=[];return this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){var n=t.getCellEditor();n&&e.push(n)})),e},e.prototype.getEditingCells=function(){var t=[];return this.forEachCellComp((function(e){if(e.isEditing()){var n=e.getCellPosition();t.push(n)}})),t},e.prototype.forEachCellCompFiltered=function(t,e,n){var r,i,o=this;h.e.exists(t)&&(r={top:{},bottom:{},normal:{}},t.forEach((function(t){t.rowPinned===a.a.PINNED_TOP?r.top[t.id]=!0:t.rowPinned===a.a.PINNED_BOTTOM?r.bottom[t.id]=!0:r.normal[t.id]=!0}))),h.e.exists(e)&&(i={},e.forEach((function(t){var e=o.columnController.getGridColumn(t);h.e.exists(e)&&(i[e.getId()]=!0)})));var s=function(t){var e=t.getRowNode(),o=e.id,s=e.rowPinned;if(h.e.exists(r))if(s===a.a.PINNED_BOTTOM){if(!r.bottom[o])return}else if(s===a.a.PINNED_TOP){if(!r.top[o])return}else if(!r.normal[o])return;t.forEachCellComp((function(t){var e=t.getColumn().getId();i&&!i[e]||n(t)}))};h.e.iterateObject(this.rowCompsByIndex,(function(t,e){s(e)})),this.floatingTopRowComps&&this.floatingTopRowComps.forEach(s),this.floatingBottomRowComps&&this.floatingBottomRowComps.forEach(s)},e.prototype.destroy=function(){t.prototype.destroy.call(this);var e=Object.keys(this.rowCompsByIndex);this.removeRowComps(e)},e.prototype.binRowComps=function(t){var e,n=this,r={};return t?(e=[],h.e.iterateObject(this.rowCompsByIndex,(function(t,i){var o=i.getRowNode();h.e.exists(o.id)?(r[o.id]=i,delete n.rowCompsByIndex[t]):e.push(t)}))):e=Object.keys(this.rowCompsByIndex),this.removeRowComps(e),r},e.prototype.removeRowComps=function(t){var e=this;t.forEach((function(t){e.rowCompsByIndex[t].destroy(),delete e.rowCompsByIndex[t]}))},e.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh()},e.prototype.removeRowCompsNotToDraw=function(t){var e={};t.forEach((function(t){return e[t]=!0}));var n=Object.keys(this.rowCompsByIndex).filter((function(t){return!e[t]}));this.removeRowComps(n)},e.prototype.calculateIndexesToDraw=function(){var t=this,e=h.e.createArrayOfNumbers(this.firstRenderedRow,this.lastRenderedRow);return h.e.iterateObject(this.rowCompsByIndex,(function(n,r){var i=Number(n);(i<t.firstRenderedRow||i>t.lastRenderedRow)&&t.doNotUnVirtualiseRow(r)&&e.push(i)})),e.sort((function(t,e){return t-e})),e},e.prototype.redraw=function(t,e,n){var r=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.maxDivHeightScaler.updateOffset(),this.workOutFirstAndLastRowsToRender();var i=this.calculateIndexesToDraw();this.removeRowCompsNotToDraw(i),this.printLayout&&(e=!1);var o=[],s=[];i.forEach((function(i){var a=r.createOrUpdateRowComp(i,t,e,n);h.e.exists(a)&&(s.push(a),h.e.pushAll(o,a.getAndClearNextVMTurnFunctions()))})),this.flushContainers(s),h.e.executeNextVMTurn(o),n&&!this.gridOptionsWrapper.isSuppressAnimationFrame()&&!this.printLayout?this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this,t,e)):this.destroyRowComps(t,e),this.checkAngularCompile(),this.gridPanel.updateRowCount()},e.prototype.flushContainers=function(t){h.e.iterateObject(this.rowContainers,(function(t,e){e&&e.flushRowTemplates()})),t.forEach((function(t){return t.afterFlush()}))},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnController.isPinningLeft(),e=this.columnController.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];h.e.iterateObject(this.rowCompsByIndex,(function(e,n){if(n.isFullWidth()){var r=n.getRowNode().rowIndex;t.push(r.toString())}})),this.refreshFloatingRowComps(),this.removeRowComps(t),this.redrawAfterScroll()},e.prototype.refreshFullWidthRows=function(){var t=[];h.e.iterateObject(this.rowCompsByIndex,(function(e,n){if(n.isFullWidth()&&!n.refreshFullWidth()){var r=n.getRowNode().rowIndex;t.push(r.toString())}})),this.removeRowComps(t),this.redrawAfterScroll()},e.prototype.createOrUpdateRowComp=function(t,e,n,r){var i,o=this.rowCompsByIndex[t];if(o||(i=this.paginationProxy.getRow(t),h.e.exists(i)&&h.e.exists(e)&&e[i.id]&&i.alreadyRendered&&(o=e[i.id],e[i.id]=null)),!o){if(i||(i=this.paginationProxy.getRow(t)),!h.e.exists(i))return;o=this.createRowComp(i,n,r)}else o.ensureDomOrder();return i&&(i.alreadyRendered=!0),this.rowCompsByIndex[t]=o,o},e.prototype.destroyRowComps=function(t,e){var n=[];h.e.iterateObject(t,(function(t,r){r&&(r.destroy(e),h.e.pushAll(n,r.getAndClearDelayedDestroyFunctions()))})),h.e.executeInAWhile(n)},e.prototype.checkAngularCompile=function(){var t=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout((function(){t.$scope.$apply()}),0)},e.prototype.workOutFirstAndLastRowsToRender=function(){var t,e,n=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{var r=this.paginationProxy.getPixelOffset(),i=this.maxDivHeightScaler.getOffset(),o=this.gridPanel.getVScrollPosition(),u=o.top,l=o.bottom,c=this.gridOptionsWrapper.getRowBufferInPixels(),h=u+r+i-c,p=l+r+i+c;this.ensureAllRowsInRangeHaveHeightsCalculated(h,p);var d=this.paginationProxy.getRowIndexAtPixel(h),f=this.paginationProxy.getRowIndexAtPixel(p),g=this.paginationProxy.getPageFirstRow(),v=this.paginationProxy.getPageLastRow();d<g&&(d=g),f>v&&(f=v),t=d,e=f}else t=0,e=-1;var m=this.gridOptionsWrapper.getDomLayout()===a.a.DOM_LAYOUT_NORMAL,y=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),b=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);m&&!y&&e-t>b&&(e=t+b);var w=t!==this.firstRenderedRow,C=e!==this.lastRenderedRow;if(w||C){this.firstRenderedRow=t,this.lastRenderedRow=e;var E={type:s.a.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(E)}if(this.paginationProxy.isRowsToRender()){var _={type:s.a.EVENT_FIRST_DATA_RENDERED,firstRow:t,lastRow:e,api:this.gridApi,columnApi:this.columnApi};window.setTimeout((function(){return n.eventService.dispatchEventOnce(_)}),50)}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,e){this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1)&&(this.sizeContainerToPageHeight(),this.maxDivHeightScaler.updateOffset())},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var e=t.getRowNode(),n=this.focusedCellController.isRowNodeFocused(e),r=t.isEditing(),i=e.detail;return!!(n||r||i)&&!!this.paginationProxy.isRowPresent(e)},e.prototype.createRowComp=function(t,e,n){var r=this.gridOptionsWrapper.isSuppressAnimationFrame(),o=n&&!r&&!this.printLayout,s=new i.a(this.$scope,this.rowContainers.body,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight,this.rowContainers.fullWidth,t,this.beans,e,o,this.printLayout,this.embedFullWidthRows);return s.init(),s},e.prototype.getRenderedNodes=function(){var t=this.rowCompsByIndex;return Object.keys(t).map((function(e){return t[e].getRowNode()}))},e.prototype.navigateToNextCell=function(t,e,n,r){for(var i=n,o=!1;!o;){if(this.gridOptionsWrapper.isEnableRtl()?e===a.a.KEY_LEFT&&(i=this.getLastCellOfColSpan(i)):e===a.a.KEY_RIGHT&&(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextCellToFocus(e,i),h.e.missing(i))o=!0;else{var s=this.rowPositionUtils.getRowNode(i);if(!s.detail&&!s.isFullWidthCell())if(s.group){var u=this.columnController.isPivotMode();this.gridOptionsWrapper.isGroupUseEntireRow(u)||(o=!0)}else o=!0}}if(r){var l=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(h.e.exists(l)){var c=l({key:e,previousCellPosition:n,nextCellPosition:i||null,event:t});h.e.exists(c)?(c.floating&&(h.e.doOnce((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),c.rowPinned=c.floating),i={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):i=null}}i&&(this.ensureCellVisible(i),i=this.getComponentForCell(i).getCellPosition(),this.ensureCellVisible(i),this.focusedCellController.setFocusedCell(i.rowIndex,i.column,i.rowPinned,!0),this.rangeController&&this.rangeController.setRangeToCell(i))},e.prototype.getLastCellOfColSpan=function(t){var e=this.getComponentForCell(t);if(!e)return t;var n=e.getColSpanningList();return 1===n.length?t:{rowIndex:t.rowIndex,column:h.e.last(n),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){h.e.missing(t.rowPinned)&&this.gridPanel.ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridPanel.ensureColumnVisible(t.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},e.prototype.startEditingCell=function(t,e,n){var r=this.getComponentForCell(t);r&&r.startRowOrCellEdit(e,n)},e.prototype.getComponentForCell=function(t){var e;switch(t.rowPinned){case a.a.PINNED_TOP:e=this.floatingTopRowComps[t.rowIndex];break;case a.a.PINNED_BOTTOM:e=this.floatingBottomRowComps[t.rowIndex];break;default:e=this.rowCompsByIndex[t.rowIndex]}return e?e.getRenderedCellForColumn(t.column):null},e.prototype.getRowNode=function(t){switch(t.rowPinned){case a.a.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case a.a.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.onTabKeyDown=function(t,e){var n=e.shiftKey;this.moveToCellAfter(t,n)&&e.preventDefault()},e.prototype.tabToNextCell=function(t){var e=this.focusedCellController.getFocusedCell();if(h.e.missing(e))return!1;var n=this.getComponentForCell(e);return!h.e.missing(n)&&this.moveToCellAfter(n,t)},e.prototype.moveToCellAfter=function(t,e){return t.isEditing()?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(t,e):this.moveToNextEditingCell(t,e):this.moveToNextCellNotEditing(t,e)},e.prototype.moveToNextEditingCell=function(t,e){var n=t.getCellPosition();t.stopEditing();var r=this.findNextCellToFocusOn(n,e,!0),i=h.e.exists(r);return i&&(r.startEditingIfEnabled(null,null,!0),r.focusCell(!1)),i},e.prototype.moveToNextEditingRow=function(t,e){var n=t.getCellPosition(),r=this.findNextCellToFocusOn(n,e,!0),i=h.e.exists(r);return i&&this.moveEditToNextCellOrRow(t,r),i},e.prototype.moveToNextCellNotEditing=function(t,e){var n=t.getCellPosition(),r=this.findNextCellToFocusOn(n,e,!1),i=h.e.exists(r);return i&&r.focusCell(!0),i},e.prototype.moveEditToNextCellOrRow=function(t,e){var n=t.getCellPosition(),r=e.getCellPosition();if(n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned)t.setFocusOutOnEditor(),e.setFocusInOnEditor();else{var i=t.getRenderedRow(),o=e.getRenderedRow();t.setFocusOutOnEditor(),i.stopEditing(),o.startRowEditing(),e.setFocusInOnEditor()}e.focusCell()},e.prototype.findNextCellToFocusOn=function(t,e,n){for(var r=t;;){e||(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextTabbedCell(r,e);var i=this.gridOptionsWrapper.getTabToNextCellFunc();if(h.e.exists(i)){var o=i({backwards:e,editing:n,previousCellPosition:t,nextCellPosition:r||null});h.e.exists(o)?(o.floating&&(h.e.doOnce((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),o.rowPinned=o.floating),r={rowIndex:o.rowIndex,column:o.column,rowPinned:o.rowPinned}):r=null}if(!r)return null;if(n){var s=this.lookupRowNodeForCell(r);if(!r.column.isCellEditable(s))continue}h.e.missing(r.rowPinned)&&this.gridPanel.ensureIndexVisible(r.rowIndex),r.column.isPinned()||this.gridPanel.ensureColumnVisible(r.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames();var a=this.getComponentForCell(r);if(!h.e.missing(a)&&!a.isSuppressNavigable())return this.rangeController&&this.rangeController.setRangeToCell(r),a}},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned===a.a.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned===a.a.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},d([Object(l.a)("paginationProxy")],e.prototype,"paginationProxy",void 0),d([Object(l.a)("columnController")],e.prototype,"columnController",void 0),d([Object(l.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),d([Object(l.a)("$scope")],e.prototype,"$scope",void 0),d([Object(l.a)("eventService")],e.prototype,"eventService",void 0),d([Object(l.a)("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),d([Object(l.a)("rowModel")],e.prototype,"rowModel",void 0),d([Object(l.a)("loggerFactory")],e.prototype,"loggerFactory",void 0),d([Object(l.a)("focusedCellController")],e.prototype,"focusedCellController",void 0),d([Object(l.a)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),d([Object(l.a)("columnApi")],e.prototype,"columnApi",void 0),d([Object(l.a)("gridApi")],e.prototype,"gridApi",void 0),d([Object(l.a)("beans")],e.prototype,"beans",void 0),d([Object(l.a)("maxDivHeightScaler")],e.prototype,"maxDivHeightScaler",void 0),d([Object(l.a)("animationFrameService")],e.prototype,"animationFrameService",void 0),d([Object(l.a)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),d([Object(l.d)("rangeController")],e.prototype,"rangeController",void 0),d([f(0,Object(l.h)("loggerFactory"))],e.prototype,"agWire",null),e=d([Object(l.b)("rowRenderer")],e)}(c.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(18),i=n(1),o=n(79),s=n(7),a=n(10),u=n(8),l=n(5),c=n(0),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},d=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return h(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t,this.childContainers.forEach((function(e){return e.registerGridComp(t)}))},e.prototype.postConstruct=function(){var t=this;this.printLayout=this.gridOptionsWrapper.getDomLayout()===l.a.DOM_LAYOUT_PRINT,this.gridApi.registerHeaderRootComp(this),this.autoWidthCalculator.registerHeaderRootComp(this);var e=new o.a(this.eHeaderContainer,this.eHeaderViewport,null),n=new o.a(this.ePinnedLeftHeader,null,l.a.PINNED_LEFT),i=new o.a(this.ePinnedRightHeader,null,l.a.PINNED_RIGHT);this.childContainers=[e,n,i],this.childContainers.forEach((function(e){return t.getContext().wireBean(e)})),this.addDestroyableEventListener(this.eventService,s.a.EVENT_COLUMN_VALUE_CHANGED,this.refreshHeader.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,r.a.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addDestroyableEventListener(this.eventService,s.a.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.addPreventHeaderScroll(),this.columnController.isReady()&&this.refreshHeader()},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===l.a.DOM_LAYOUT_PRINT;this.printLayout!==t&&(this.printLayout=t,this.refreshHeader())},e.prototype.setHorizontalScroll=function(t){this.eHeaderContainer.style.transform="translateX("+t+"px)"},e.prototype.forEachHeaderElement=function(t){this.childContainers.forEach((function(e){return e.forEachHeaderElement(t)}))},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.childContainers.forEach((function(t){return t.destroy()}))},e.prototype.refreshHeader=function(){this.childContainers.forEach((function(t){return t.refresh()}))},e.prototype.onPivotModeChanged=function(){var t=this.columnController.isPivotMode();c.e.addOrRemoveCssClass(this.getGui(),"ag-pivot-on",t),c.e.addOrRemoveCssClass(this.getGui(),"ag-pivot-off",!t)},e.prototype.setHeight=function(t){var e=t+1+"px";this.getGui().style.height=e,this.getGui().style.minHeight=e},e.prototype.addPreventHeaderScroll=function(){var t=this;this.addDestroyableEventListener(this.eHeaderViewport,"scroll",(function(){var e=t.eHeaderViewport.scrollLeft;0!==e&&(t.gridPanel.scrollHorizontally(e),t.eHeaderViewport.scrollLeft=0)}))},e.prototype.setHeaderContainerWidth=function(t){this.eHeaderContainer.style.width=t+"px"},e.prototype.setLeftVisible=function(t){c.e.setDisplayed(this.ePinnedLeftHeader,t)},e.prototype.setRightVisible=function(t){c.e.setDisplayed(this.ePinnedRightHeader,t)},e.prototype.getHeaderRowCount=function(){return 0===this.childContainers.length?0:this.childContainers[0].getRowComps().length},e.TEMPLATE='<div class="ag-header" role="presentation">\n            <div class="ag-pinned-left-header" ref="ePinnedLeftHeader" role="presentation"></div>\n            <div class="ag-header-viewport" ref="eHeaderViewport" role="presentation">\n                <div class="ag-header-container" ref="eHeaderContainer" role="rowgroup"></div>\n            </div>\n            <div class="ag-pinned-right-header" ref="ePinnedRightHeader" role="presentation"></div>\n        </div>',p([Object(u.c)("ePinnedLeftHeader")],e.prototype,"ePinnedLeftHeader",void 0),p([Object(u.c)("ePinnedRightHeader")],e.prototype,"ePinnedRightHeader",void 0),p([Object(u.c)("eHeaderContainer")],e.prototype,"eHeaderContainer",void 0),p([Object(u.c)("eHeaderViewport")],e.prototype,"eHeaderViewport",void 0),p([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),p([Object(i.a)("columnController")],e.prototype,"columnController",void 0),p([Object(i.a)("eventService")],e.prototype,"eventService",void 0),p([Object(i.a)("gridApi")],e.prototype,"gridApi",void 0),p([Object(i.a)("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),p([i.e],e.prototype,"postConstruct",null),e}(a.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i=n(16),o=n(1),s=n(98),a=n(99),u=n(5),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.ColumnMove=0]="ColumnMove",t[t.Pivot=1]="Pivot"}(r||(r={}));var c=function(){function t(t,e){this.dropListeners={},this.pinned=t,this.eContainer=e}return t.prototype.registerGridComp=function(t){switch(this.gridPanel=t,this.moveColumnController.registerGridComp(t),this.pinned){case u.a.PINNED_LEFT:this.eSecondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case u.a.PINNED_RIGHT:this.eSecondaryContainers=this.gridPanel.getDropTargetRightContainers();break;default:this.eSecondaryContainers=this.gridPanel.getDropTargetBodyContainers()}},t.prototype.isInterestedIn=function(t){return t===i.b.HeaderCell||t===i.b.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnController=new s.a(this.pinned,this.eContainer),this.context.wireBean(this.moveColumnController);var t=new a.a(this.pinned);this.context.wireBean(t),this.dropListeners[r.ColumnMove]=this.moveColumnController,this.dropListeners[r.Pivot]=t,this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.getDropType=function(t){return this.columnController.isPivotMode()&&t.dragSource.type===i.b.ToolPanel?r.Pivot:r.ColumnMove},t.prototype.onDragEnter=function(t){var e=this.getDropType(t);this.currentDropListener=this.dropListeners[e],this.currentDropListener.onDragEnter(t)},t.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},t.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},t.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},l([Object(o.a)("context")],t.prototype,"context",void 0),l([Object(o.a)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),l([Object(o.a)("columnController")],t.prototype,"columnController",void 0),l([Object(o.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),l([o.e],t.prototype,"init",null),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(1),i=n(0),o=n(16),s=n(5),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(){function t(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=t,this.eContainer=e,this.centerContainer=!i.e.exists(t)}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},t.prototype.getIconName=function(){return this.pinned?o.a.ICON_PINNED:o.a.ICON_MOVE},t.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===o.b.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var n=t.dragItem.visibleState,r=e.filter((function(t){return n[t.getId()]}));this.setColumnsVisible(r,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0)},t.prototype.onDragLeave=function(t){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!t.fromNudge){var e=t.dragSource.getDragItem().columns;this.setColumnsVisible(e,!1,"uiColumnDragged")}this.ensureIntervalCleared()},t.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var r=t.filter((function(t){return!t.getColDef().lockVisible}));this.columnController.setColumnsVisible(r,e,n)}},t.prototype.setColumnsPinned=function(t,e,n){if(void 0===n&&(n="api"),t){var r=t.filter((function(t){return!t.getColDef().lockPinned}));this.columnController.setColumnsPinned(r,e,n)}},t.prototype.onDragStop=function(){this.ensureIntervalCleared()},t.prototype.normaliseX=function(t){this.gridOptionsWrapper.isEnableRtl()&&(t=this.eContainer.clientWidth-t);return this.centerContainer&&(t+=this.gridPanel.getCenterViewportScrollLeft()),t},t.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.gridPanel.getCenterViewportScrollLeft(),n=e+this.gridPanel.getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},t.prototype.onDragging=function(t,e){var n=this;if(void 0===e&&(e=!1),this.lastDraggingEvent=t,!i.e.missing(t.hDirection)){var r=this.normaliseX(t.x);e||this.checkCenterForScrolling(r);var o=this.normaliseDirection(t.hDirection),s=t.dragSource.type,a=t.dragSource.getDragItem().columns;a=a.filter((function(t){return!t.getColDef().lockPinned||t.getPinned()==n.pinned})),this.attemptMoveColumns(s,a,o,r,e)}},t.prototype.normaliseDirection=function(t){if(!this.gridOptionsWrapper.isEnableRtl())return t;switch(t){case o.c.Left:return o.c.Right;case o.c.Right:return o.c.Left;default:console.error("ag-Grid: Unknown direction "+t)}},t.prototype.calculateOldIndex=function(t){var e=this.columnController.getAllGridColumns(),n=i.e.sortNumerically(t.map((function(t){return e.indexOf(t)}))),r=n[0];return i.e.last(n)-r!==n.length-1?null:r},t.prototype.attemptMoveColumns=function(t,e,n,r,i){var s=n===o.c.Left,a=n===o.c.Right,u=this.calculateValidMoves(e,a,r),l=this.calculateOldIndex(e);if(0!==u.length){var c=u[0],h=null!==l&&!i;if(t==o.b.HeaderCell&&(h=null!==l),h){if(s&&c>=l)return;if(a&&c<=l)return}for(var p=0;p<u.length;p++){var d=u[p];if(this.columnController.doesMovePassRules(e,d))return void this.columnController.moveColumns(e,d,"uiColumnDragged")}}},t.prototype.calculateValidMoves=function(t,e,n){var r,o=this.columnController.getDisplayedColumns(this.pinned),s=this.columnController.getAllGridColumns(),a=o.filter((function(e){return i.e.includes(t,e)})),u=o.filter((function(e){return!i.e.includes(t,e)})),l=s.filter((function(e){return!i.e.includes(t,e)})),c=0,h=n;if(e){var p=0;a.forEach((function(t){return p+=t.getActualWidth()})),h-=p}if(h>0){for(var d=0;d<u.length;d++){if((h-=u[d].getActualWidth())<0)break;c++}e&&c++}if(c>0){var f=u[c-1];r=l.indexOf(f)+1}else-1===(r=l.indexOf(u[0]))&&(r=0);var g=[r];if(e)for(var v=r+1,m=s.length-1;v<=m;)g.push(v),v++;else{v=r,m=s.length-1;for(var y=s[v];v<=m&&this.isColumnHidden(o,y);)v++,g.push(v),y=s[v];v=r-1;for(;v>=0;)g.push(v),v--}return g},t.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(o.a.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(o.a.ICON_RIGHT,!0))},t.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(o.a.ICON_MOVE))},t.prototype.moveInterval=function(){var t,e;if(this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100),this.needToMoveLeft?e=this.gridPanel.scrollHorizontally(-t):this.needToMoveRight&&(e=this.gridPanel.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var n=this.lastDraggingEvent.dragItem.columns.filter((function(t){return!t.getColDef().lockPinned}));if(n.length>0&&(this.dragAndDropService.setGhostIcon(o.a.ICON_PINNED),this.failedMoveAttempts>7)){var r=this.needToMoveLeft?s.a.PINNED_LEFT:s.a.PINNED_RIGHT;this.setColumnsPinned(n,r,"uiColumnDragged"),this.dragAndDropService.nudge()}}},a([Object(r.a)("loggerFactory")],t.prototype,"loggerFactory",void 0),a([Object(r.a)("columnController")],t.prototype,"columnController",void 0),a([Object(r.a)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),a([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),a([r.e],t.prototype,"init",null),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(16),i=n(1),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=function(){function t(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return t.prototype.onDragEnter=function(t){var e=this;(this.clearColumnsList(),this.gridOptionsWrapper.isFunctionsReadOnly())||t.dragItem.columns.forEach((function(t){t.isPrimary()&&(t.isAnyFunctionActive()||(t.isAllowValue()?e.columnsToAggregate.push(t):t.isAllowRowGroup()?e.columnsToGroup.push(t):t.isAllowRowGroup()&&e.columnsToPivot.push(t)))}))},t.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?r.a.ICON_PINNED:r.a.ICON_MOVE:null},t.prototype.onDragLeave=function(t){this.clearColumnsList()},t.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},t.prototype.onDragging=function(t){},t.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnController.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnController.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnController.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},o([Object(i.a)("columnController")],t.prototype,"columnController",void 0),o([Object(i.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(0),i=n(1),o=n(7),s=n(15),a=n(14),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(){function t(){this.allFilters={},this.quickFilter=null,this.quickFilterParts=null,this.processingFilterChange=!1}var e;return e=t,t.prototype.registerGridCore=function(t){this.gridCore=t},t.prototype.init=function(){this.eventService.addEventListener(o.a.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.eventService.addEventListener(o.a.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.checkExternalFilter()},t.prototype.setQuickFilterParts=function(){this.quickFilter?this.quickFilterParts=this.quickFilter.split(" "):this.quickFilterParts=null},t.prototype.setFilterModel=function(t){var e=this,n=[];if(t){var i=Object.keys(t);r.e.iterateObject(this.allFilters,(function(o,s){r.e.removeFromArray(i,o);var a=t[o];e.setModelOnFilterWrapper(s.filterPromise,a),n.push(s.filterPromise)})),i.forEach((function(r){var i=e.columnController.getPrimaryColumn(r);if(i){var o=e.getOrCreateFilterWrapper(i,"NO_UI");e.setModelOnFilterWrapper(o.filterPromise,t[r]),n.push(o.filterPromise)}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+r)}))}else r.e.iterateObject(this.allFilters,(function(t,r){e.setModelOnFilterWrapper(r.filterPromise,null),n.push(r.filterPromise)}));r.c.all(n).then((function(t){e.onFilterChanged()}))},t.prototype.setModelOnFilterWrapper=function(t,e){t.then((function(t){"function"===typeof t.setModel?t.setModel(e):console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel")}))},t.prototype.getFilterModel=function(){var t={};return r.e.iterateObject(this.allFilters,(function(e,n){var i=n.filterPromise.resolveNow(null,(function(t){return t}));if(null==i)return null;if("function"===typeof i.getModel){var o=i.getModel();r.e.exists(o)&&(t[e]=o)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")})),t},t.prototype.isAdvancedFilterPresent=function(){return this.advancedFilterPresent},t.prototype.setAdvancedFilterPresent=function(){var t=!1;r.e.iterateObject(this.allFilters,(function(e,n){n.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))&&(t=!0)})),this.advancedFilterPresent=t},t.prototype.updateFilterFlagInColumns=function(t,e){r.e.iterateObject(this.allFilters,(function(n,r){var i=r.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}));r.column.setFilterActive(i,t,e)}))},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.advancedFilterPresent||this.externalFilterPresent},t.prototype.doesFilterPass=function(t,e){for(var n=t.data,r=Object.keys(this.allFilters),i=0,o=r.length;i<o;i++){var s=r[i],a=this.allFilters[s];if(void 0!==a){var u=a.filterPromise.resolveNow(void 0,(function(t){return t}));if(void 0!==u&&u!==e&&u.isFilterActive()){u.doesFilterPass||console.error("Filter is missing method doesFilterPass");var l={node:t,data:n};if(!u.doesFilterPass(l))return!1}}}return!0},t.prototype.parseQuickFilter=function(t){return r.e.missing(t)||""===t?null:this.gridOptionsWrapper.isRowModelDefault()?t.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-side Row Model"),null)},t.prototype.setQuickFilter=function(t){var e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.onFilterChanged())},t.prototype.checkExternalFilter=function(){this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},t.prototype.onFilterChanged=function(t){this.setAdvancedFilterPresent(),this.updateFilterFlagInColumns("filterChanged",t),this.checkExternalFilter(),r.e.iterateObject(this.allFilters,(function(t,e){e.filterPromise.then((function(t){t.onAnyFilterChanged&&t.onAnyFilterChanged()}))}));var e={type:o.a.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi};t&&r.e.mergeDeep(e,t),this.processingFilterChange=!0,this.eventService.dispatchEvent(e),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassOtherFilters=function(t,e){return this.doesRowPassFilter(e,t)},t.prototype.doesRowPassQuickFilterNoCache=function(t,e){var n=this,i=this.columnController.getAllColumnsForQuickFilter(),o=!1;return i.forEach((function(i){if(!o){var s=n.getQuickFilterTextForColumn(i,t);r.e.exists(s)&&s.indexOf(e)>=0&&(o=!0)}})),o},t.prototype.doesRowPassQuickFilterCache=function(t,e){return t.quickFilterAggregateText||this.aggregateRowForQuickFilter(t),t.quickFilterAggregateText.indexOf(e)>=0},t.prototype.doesRowPassQuickFilter=function(t){var e=this,n=!0,r=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.forEach((function(i){(r?e.doesRowPassQuickFilterCache(t,i):e.doesRowPassQuickFilterNoCache(t,i))||(n=!1)})),n},t.prototype.doesRowPassFilter=function(t,e){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(t))&&(!(this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(t))&&!(this.advancedFilterPresent&&!this.doesFilterPass(t,e)))},t.prototype.getQuickFilterTextForColumn=function(t,e){var n,i=this.valueService.getValue(t,e,!0),o=t.getColDef();if(t.getColDef().getQuickFilterText){var s={value:i,node:e,data:e.data,column:t,colDef:o,context:this.gridOptionsWrapper.getContext()};n=t.getColDef().getQuickFilterText(s)}else n=i;return r.e.exists(n)?n.toString().toUpperCase():null},t.prototype.aggregateRowForQuickFilter=function(t){var n=this,i=[];this.columnController.getAllColumnsForQuickFilter().forEach((function(e){var o=n.getQuickFilterTextForColumn(e,t);r.e.exists(o)&&i.push(o)})),t.quickFilterAggregateText=i.join(e.QUICK_FILTER_SEPARATOR)},t.prototype.onNewRowsLoaded=function(t){r.e.iterateObject(this.allFilters,(function(t,e){e.filterPromise.then((function(t){t.onNewRowsLoaded&&t.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(t),this.setAdvancedFilterPresent()},t.prototype.createValueGetter=function(t){var e=this;return function(n){return e.valueService.getValue(t,n,!0)}},t.prototype.getFilterComponent=function(t,e){return this.getOrCreateFilterWrapper(t,e).filterPromise},t.prototype.isFilterActive=function(t){var e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))},t.prototype.getOrCreateFilterWrapper=function(t,e){var n=this.cachedFilter(t);return n?"NO_UI"!==e&&this.putIntoGui(n,e):(n=this.createFilterWrapper(t,e),this.allFilters[t.getColId()]=n),n},t.prototype.cachedFilter=function(t){return this.allFilters[t.getColId()]},t.prototype.createFilterInstance=function(t,e){var n=this,i="agTextColumnFilter";a.a.isRegistered(s.a.SetFilterModule)&&(i="agSetColumnFilter");var u,l=r.e.cloneObject(t.getColDef()),c=this.createFilterParams(t,l,e);c.filterChangedCallback=this.onFilterChanged.bind(this),c.filterModifiedCallback=function(){var e={type:o.a.EVENT_FILTER_MODIFIED,api:n.gridApi,columnApi:n.columnApi,column:t,filterInstance:u};n.eventService.dispatchEvent(e)};var h=this.userComponentFactory.newFilterComponent(l,c,i,(function(t,e){return r.e.assign(t,{doesRowPassOtherFilter:n.doesRowPassOtherFilters.bind(n,e)})}));return h&&h.then((function(t){return u=t})),h},t.prototype.createFilterParams=function(t,e,n){void 0===n&&(n=null);var r={api:this.gridOptionsWrapper.getApi(),column:t,colDef:e,rowModel:this.rowModel,filterChangedCallback:null,filterModifiedCallback:null,valueGetter:this.createValueGetter(t),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:null};return n&&(r.$scope=n),r},t.prototype.createFilterWrapper=function(t,e){var n={column:t,filterPromise:null,scope:null,compiledElement:null,guiPromise:r.c.external()};return n.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,n.filterPromise=this.createFilterInstance(t,n.scope),n.filterPromise&&this.putIntoGui(n,e),n},t.prototype.putIntoGui=function(t,e){var n=this,i=document.createElement("div");i.className="ag-filter",t.filterPromise.then((function(s){var a=s.getGui();if(r.e.missing(a)&&console.warn("getGui method from filter returned "+a+", it should be a DOM element or an HTML template string."),"string"===typeof a&&(a=r.e.loadTemplate(a)),i.appendChild(a),t.scope){var u=n.$compile(i)(t.scope);t.compiledElement=u,window.setTimeout((function(){return t.scope.$apply()}),0)}t.guiPromise.resolve(i),n.eventService.dispatchEvent({type:o.a.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:i,api:n.gridApi,columnApi:n.columnApi})}))},t.prototype.onNewColumnsLoaded=function(){var t=this,e=!1;r.e.iterateObject(this.allFilters,(function(n,r){!t.columnController.getPrimaryColumn(r.column)&&(e=!0,t.disposeFilterWrapper(r,"filterDestroyed"))})),e&&this.onFilterChanged()},t.prototype.destroyFilter=function(t,e){void 0===e&&(e="api");var n=this.allFilters[t.getColId()];n&&(this.disposeFilterWrapper(n,e),this.onFilterChanged())},t.prototype.disposeFilterWrapper=function(t,e){var n=this;t.filterPromise.then((function(r){r.setModel(null),r.destroy&&r.destroy(),t.column.setFilterActive(!1,e),t.scope&&(t.compiledElement&&t.compiledElement.remove(),t.scope.$destroy()),delete n.allFilters[t.column.getColId()]}))},t.prototype.destroy=function(){var t=this;r.e.iterateObject(this.allFilters,(function(e,n){t.disposeFilterWrapper(n,"filterDestroyed")}))},t.QUICK_FILTER_SEPARATOR="\n",u([Object(i.a)("$compile")],t.prototype,"$compile",void 0),u([Object(i.a)("$scope")],t.prototype,"$scope",void 0),u([Object(i.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),u([Object(i.a)("popupService")],t.prototype,"popupService",void 0),u([Object(i.a)("valueService")],t.prototype,"valueService",void 0),u([Object(i.a)("columnController")],t.prototype,"columnController",void 0),u([Object(i.a)("rowModel")],t.prototype,"rowModel",void 0),u([Object(i.a)("eventService")],t.prototype,"eventService",void 0),u([Object(i.a)("context")],t.prototype,"context",void 0),u([Object(i.a)("columnApi")],t.prototype,"columnApi",void 0),u([Object(i.a)("gridApi")],t.prototype,"gridApi",void 0),u([Object(i.a)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),u([i.e],t.prototype,"init",null),u([i.g],t.prototype,"destroy",null),t=e=u([Object(i.b)("filterManager")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(1),i=n(7),o=n(0),s=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=function(){function t(){this.initialised=!1}return t.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},t.prototype.getValue=function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),this.initialised||this.init(),e){var i,s=t.getColDef(),a=s.field,u=t.getId(),l=e.data,c=e.groupData&&void 0!==e.groupData[u],h=!r&&e.aggData&&void 0!==e.aggData[u];if(n&&s.filterValueGetter?i=this.executeFilterValueGetter(s.filterValueGetter,l,t,e):this.gridOptionsWrapper.isTreeData()&&h?i=e.aggData[u]:this.gridOptionsWrapper.isTreeData()&&s.valueGetter?i=this.executeValueGetter(s.valueGetter,l,t,e):this.gridOptionsWrapper.isTreeData()&&a&&l?i=o.e.getValueUsingField(l,a,t.isFieldContainsDots()):c?i=e.groupData[u]:h?i=e.aggData[u]:s.valueGetter?i=this.executeValueGetter(s.valueGetter,l,t,e):a&&l&&(i=o.e.getValueUsingField(l,a,t.isFieldContainsDots())),this.cellExpressions&&"string"===typeof i&&0===i.indexOf("=")){var p=i.substring(1);i=this.executeValueGetter(p,l,t,e)}return i}},t.prototype.setValue=function(t,e,n,r){var s=this.columnController.getPrimaryColumn(e);if(t&&s){var a=t.data;o.e.missing(a)&&(t.data={});var u=s.getColDef(),l=u.field,c=u.newValueHandler,h=u.valueSetter;if(o.e.missing(l)&&o.e.missing(c)&&o.e.missing(h))console.warn("ag-Grid: you need either field or valueSetter set on colDef for editing to work");else{var p,d={node:t,data:t.data,oldValue:this.getValue(s,t),newValue:n,colDef:s.getColDef(),column:s,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(d.newValue=n,void 0===(p=c&&o.e.exists(c)?c(d):o.e.exists(h)?this.expressionService.evaluate(h,d):this.setValueUsingField(a,l,n,s.isFieldContainsDots()))&&(p=!0),p){t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),d.newValue=this.getValue(s,t);var f=s.getColDef().onCellValueChanged;"function"===typeof f&&setTimeout((function(){return f(d)}),0);var g={type:i.a.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:d.column,api:d.api,colDef:d.colDef,columnApi:d.columnApi,context:d.context,data:t.data,node:t,oldValue:d.oldValue,newValue:d.newValue,value:d.newValue,source:r};this.eventService.dispatchEvent(g)}}}},t.prototype.setValueUsingField=function(t,e,n,r){if(!e)return!1;if(r)for(var i=e.split("."),o=t;i.length>0&&o;){var s=i.shift();0===i.length?o[s]=n:o=o[s]}else t[e]=n;return!0},t.prototype.executeFilterValueGetter=function(t,e,n,r){var i={data:e,node:r,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)};return this.expressionService.evaluate(t,i)},t.prototype.executeValueGetter=function(t,e,n,r){var i=n.getId(),o=this.valueCache.getValue(r,i);if(void 0!==o)return o;var s={data:e,node:r,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)},a=this.expressionService.evaluate(t,s);return this.valueCache.setValue(r,i,a),a},t.prototype.getValueCallback=function(t,e){var n=this.columnController.getPrimaryColumn(e);return n?this.getValue(n,t):null},t.prototype.getKeyForNode=function(t,e){var n=this.getValue(t,e),r=t.getColDef().keyCreator,i=r?r({value:n}):n;return"string"===typeof i||null==i?i:("[object Object]"===(i=String(i))&&o.e.doOnce((function(){console.warn("ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]"),i)},s([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),s([Object(r.a)("expressionService")],t.prototype,"expressionService",void 0),s([Object(r.a)("columnController")],t.prototype,"columnController",void 0),s([Object(r.a)("eventService")],t.prototype,"eventService",void 0),s([Object(r.a)("valueCache")],t.prototype,"valueCache",void 0),s([r.e],t.prototype,"init",null),t=s([Object(r.b)("valueService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(18),i=n(5),o=n(1),s=n(15),a=n(0),u=n(14),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(){function t(){this.detailGridInfoMap={}}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.registerGridCore=function(t){this.gridCore=t},t.prototype.registerHeaderRootComp=function(t){this.headerRootComp=t},t.prototype.init=function(){switch(this.rowModel.getType()){case i.a.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case i.a.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case i.a.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}},t.prototype.__getAlignedGridService=function(){return this.alignedGridsService},t.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},t.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},t.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},t.prototype.forEachDetailGridInfo=function(t){var e=0;a.e.iterateObject(this.detailGridInfoMap,(function(n,r){a.e.exists(r)&&(t(r,e),e++)}))},t.prototype.getDataAsCsv=function(t){if(u.a.assertRegistered(s.a.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},t.prototype.exportDataAsCsv=function(t){u.a.assertRegistered(s.a.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},t.prototype.getDataAsExcel=function(t){if(u.a.assertRegistered(s.a.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getDataAsExcelXml(t)},t.prototype.exportDataAsExcel=function(t){u.a.assertRegistered(s.a.ExcelExportModule,"api.exportDataAsExcel")&&this.excelCreator.exportDataAsExcel(t)},t.prototype.setEnterpriseDatasource=function(t){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(t)},t.prototype.setServerSideDatasource=function(t){this.gridOptionsWrapper.isRowModelServerSide()?this.rowModel.setDatasource(t):console.warn("ag-Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+i.a.ROW_MODEL_TYPE_SERVER_SIDE+"'")},t.prototype.setDatasource=function(t){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(t):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+i.a.ROW_MODEL_TYPE_INFINITE+"'")},t.prototype.setViewportDatasource=function(t){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(t):console.warn("ag-Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+i.a.ROW_MODEL_TYPE_VIEWPORT+"'")},t.prototype.setRowData=function(t){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isDeltaRowDataMode()){var e=this.immutableService.createTransactionForRowData(t),n=e[0],r=e[1];this.clientSideRowModel.updateRowData(n,r),this.rowRenderer.refreshFullWidthRows()}else this.selectionController.reset(),this.clientSideRowModel.setRowData(t);else console.warn("cannot call setRowData unless using normal row model")},t.prototype.setFloatingTopRowData=function(t){console.warn("ag-Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(t)},t.prototype.setFloatingBottomRowData=function(t){console.warn("ag-Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(t)},t.prototype.getFloatingTopRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},t.prototype.getFloatingBottomRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},t.prototype.getFloatingTopRow=function(t){return console.warn("ag-Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(t)},t.prototype.getFloatingBottomRow=function(t){return console.warn("ag-Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(t)},t.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},t.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},t.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},t.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},t.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnController.setColumnDefs(t,e)},t.prototype.expireValueCache=function(){this.valueCache.expire()},t.prototype.getVerticalPixelRange=function(){return this.gridPanel.getVScrollPosition()},t.prototype.getHorizontalPixelRange=function(){return this.gridPanel.getHScrollPosition()},t.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",t)},t.prototype.refreshToolPanel=function(){this.gridCore.refreshSideBar()},t.prototype.refreshCells=function(t){void 0===t&&(t={}),Array.isArray(t)?console.warn("since ag-Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(t)},t.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},t.prototype.redrawRows=function(t){void 0===t&&(t={}),t&&t.rowNodes?this.rowRenderer.redrawRows(t.rowNodes):this.rowRenderer.redrawAfterModelUpdate()},t.prototype.timeFullRedraw=function(t){void 0===t&&(t=1);var e=0,n=0,r=0,i=this;!function o(){var s=(new Date).getTime();i.rowRenderer.redrawAfterModelUpdate();var a=(new Date).getTime();window.setTimeout((function(){var i=(new Date).getTime(),u=a-s,l=i-a;console.log("duration:  processing = "+u+"ms, reflow = "+l+"ms"),n+=u,r+=l,++e<t?window.setTimeout(o,1e3):(console.log("tests complete. iteration count = "+e),console.log("average processing = "+n/e+"ms"),console.log("average reflow = "+r/e+"ms"))}),0)}()},t.prototype.refreshView=function(){console.warn("ag-Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},t.prototype.refreshRows=function(t){console.warn("since ag-Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:t})},t.prototype.rowDataChanged=function(t){console.warn("ag-Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},t.prototype.softRefreshView=function(){console.error("ag-Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},t.prototype.refreshGroupRows=function(){console.warn("ag-Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},t.prototype.setFunctionsReadOnly=function(t){this.gridOptionsWrapper.setProperty("functionsReadOnly",t)},t.prototype.refreshHeader=function(){this.headerRootComp.refreshHeader(),this.gridPanel.setHeaderAndFloatingHeights()},t.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return console.warn("ag-Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},t.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},t.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},t.prototype.getModel=function(){return this.rowModel},t.prototype.setRowNodeExpanded=function(t,e){t&&t.setExpanded(e)},t.prototype.onGroupExpandedOrCollapsed=function(t){a.e.missing(this.clientSideRowModel)&&console.warn("ag-Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),a.e.exists(t)&&console.warn("ag-Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:i.a.STEP_MAP})},t.prototype.refreshInMemoryRowModel=function(t){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(t)},t.prototype.refreshClientSideRowModel=function(t){a.e.missing(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var e=i.a.STEP_EVERYTHING,n={group:i.a.STEP_EVERYTHING,filter:i.a.STEP_FILTER,map:i.a.STEP_MAP,aggregate:i.a.STEP_AGGREGATE,sort:i.a.STEP_SORT,pivot:i.a.STEP_PIVOT};if(a.e.exists(t)&&(e=n[t]),a.e.missing(e))console.error("ag-Grid: invalid step "+t+", available steps are "+Object.keys(n).join(", "));else{var r={step:e,keepRenderedRows:!0,animate:!0,keepEditingRows:!0};this.clientSideRowModel.refreshModel(r)}},t.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},t.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},t.prototype.expandAll=function(){a.e.missing(this.clientSideRowModel)?console.warn("ag-Grid: cannot call expandAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!0)},t.prototype.collapseAll=function(){a.e.missing(this.clientSideRowModel)?console.warn("ag-Grid: cannot call collapseAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!1)},t.prototype.getToolPanelInstance=function(t){return this.gridCore.getToolPanelInstance(t)},t.prototype.addVirtualRowListener=function(t,e,n){"string"!==typeof t&&console.warn("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(t,e,n)},t.prototype.addRenderedRowListener=function(t,e,n){"virtualRowSelected"===t&&console.warn("ag-Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(t,e,n)},t.prototype.setQuickFilter=function(t){this.filterManager.setQuickFilter(t)},t.prototype.selectIndex=function(t,e,n){console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),n&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(t,e)},t.prototype.deselectIndex=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),e&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(t)},t.prototype.selectNode=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),n&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!0,clearSelection:!e})},t.prototype.deselectNode=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),e&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!1})},t.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},t.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},t.prototype.selectAllFiltered=function(){this.selectionController.selectAllRowNodes(!0)},t.prototype.deselectAllFiltered=function(){this.selectionController.deselectAllRowNodes(!0)},t.prototype.recomputeAggregates=function(){a.e.missing(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:i.a.STEP_AGGREGATE})},t.prototype.sizeColumnsToFit=function(){this.gridPanel.sizeColumnsToFit()},t.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},t.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},t.prototype.isNodeSelected=function(t){return console.warn("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),t.isSelected()},t.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},t.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},t.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},t.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},t.prototype.ensureColIndexVisible=function(t){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},t.prototype.ensureColumnVisible=function(t){this.gridPanel.ensureColumnVisible(t)},t.prototype.ensureIndexVisible=function(t,e){this.gridPanel.ensureIndexVisible(t,e)},t.prototype.ensureNodeVisible=function(t,e){this.gridCore.ensureNodeVisible(t,e)},t.prototype.forEachLeafNode=function(t){a.e.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(t)},t.prototype.forEachNode=function(t){this.rowModel.forEachNode(t)},t.prototype.forEachNodeAfterFilter=function(t){a.e.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(t)},t.prototype.forEachNodeAfterFilterAndSort=function(t){a.e.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},t.prototype.getFilterApiForColDef=function(t){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterApi instead"),this.getFilterInstance(t)},t.prototype.getFilterInstance=function(t){var e=this.columnController.getPrimaryColumn(t);if(e)return this.filterManager.getFilterComponent(e,"NO_UI").resolveNow(null,(function(t){return t}))},t.prototype.getFilterApi=function(t){return console.warn("ag-Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(t)},t.prototype.destroyFilter=function(t){var e=this.columnController.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"filterDestroyed")},t.prototype.getStatusPanel=function(t){if(this.statusBarService)return this.statusBarService.getStatusPanel(t)},t.prototype.getColumnDef=function(t){var e=this.columnController.getPrimaryColumn(t);return e?e.getColDef():null},t.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},t.prototype.onSortChanged=function(){this.sortController.onSortChanged()},t.prototype.setSortModel=function(t,e){void 0===e&&(e="api"),this.sortController.setSortModel(t,e)},t.prototype.getSortModel=function(){return this.sortController.getSortModel()},t.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.getFocusedCell=function(){return this.focusedCellController.getFocusedCell()},t.prototype.clearFocusedCell=function(){return this.focusedCellController.clearFocusedCell()},t.prototype.setFocusedCell=function(t,e,n){this.focusedCellController.setFocusedCell(t,e,n,!0)},t.prototype.setSuppressRowDrag=function(t){this.gridOptionsWrapper.setProperty(r.a.PROP_SUPPRESS_ROW_DRAG,t)},t.prototype.setHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(r.a.PROP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setGridAutoHeight=function(t){console.warn("api.setGridAutoHeight(boolean) is deprecated, please use api.setDomLayout() instead"),this.setDomLayout(t?"autoHeight":"normal")},t.prototype.setDomLayout=function(t){this.gridOptionsWrapper.setProperty(r.a.PROP_DOM_LAYOUT,t)},t.prototype.setEnableCellTextSelection=function(t){this.gridPanel.setCellTextSelection(t)},t.prototype.setGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(r.a.PROP_GROUP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsWrapper.setProperty(r.a.PROP_FLOATING_FILTERS_HEIGHT,t),this.doLayout()},t.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(r.a.PROP_PIVOT_GROUP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setPivotHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(r.a.PROP_PIVOT_HEADER_HEIGHT,t),this.doLayout()},t.prototype.isSideBarVisible=function(){return this.gridCore.isSideBarVisible()},t.prototype.setSideBarVisible=function(t){this.gridCore.setSideBarVisible(t)},t.prototype.setSideBarPosition=function(t){this.gridCore.setSideBarPosition(t)},t.prototype.showToolPanel=function(t){console.warn("ag-grid: from v19 api.showToolPanel has been deprecated in favour of api.setSideBarVisible"),this.setSideBarVisible(t)},t.prototype.openToolPanel=function(t){this.gridCore.openToolPanel(t)},t.prototype.closeToolPanel=function(){this.gridCore.closeToolPanel()},t.prototype.getOpenedToolPanel=function(){return this.gridCore.getOpenedToolPanel()},t.prototype.getSideBar=function(){return this.gridCore.getSideBar()},t.prototype.setSideBar=function(t){return this.gridCore.setSideBar(t)},t.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsWrapper.setProperty(r.a.PROP_SUPPRESS_CLIPBOARD_PASTE,t)},t.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},t.prototype.doLayout=function(){this.gridPanel.checkViewportAndScrolls()},t.prototype.resetRowHeights=function(){a.e.exists(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},t.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsWrapper.setProperty(r.a.PROP_GROUP_REMOVE_SINGLE_CHILDREN,t)},t.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsWrapper.setProperty(r.a.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,t)},t.prototype.onRowHeightChanged=function(){a.e.exists(this.clientSideRowModel)&&this.clientSideRowModel.onRowHeightChanged()},t.prototype.getValue=function(t,e){var n=this.columnController.getPrimaryColumn(t);return a.e.missing(n)&&(n=this.columnController.getGridColumn(t)),a.e.missing(n)?null:this.valueService.getValue(n,e)},t.prototype.addEventListener=function(t,e){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(t,e,n)},t.prototype.addGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(t,e)},t.prototype.removeEventListener=function(t,e){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(t,e,n)},t.prototype.removeGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},t.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},t.prototype.destroy=function(){this.gridCore.destroy(),this.context.destroy()},t.prototype.resetQuickFilter=function(){this.rowModel.forEachNode((function(t){return t.quickFilterAggregateText=null}))},t.prototype.getRangeSelections=function(){return console.warn("ag-Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the ag-Grid documentation."),null},t.prototype.getCellRanges=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},t.prototype.camelCaseToHumanReadable=function(t){return a.e.camelCaseToHumanText(t)},t.prototype.addRangeSelection=function(t){console.warn("ag-Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},t.prototype.addCellRange=function(t){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addCellRange(t)},t.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.removeAllCellRanges()},t.prototype.undoCellEditing=function(){this.undoRedoService.undo()},t.prototype.redoCellEditing=function(){this.undoRedoService.redo()},t.prototype.getChartModels=function(){if(u.a.assertRegistered(s.a.RangeSelectionModule,"api.getChartModels")&&u.a.assertRegistered(s.a.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},t.prototype.createRangeChart=function(t){if(u.a.assertRegistered(s.a.RangeSelectionModule,"api.createRangeChart")&&u.a.assertRegistered(s.a.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},t.prototype.createPivotChart=function(t){if(u.a.assertRegistered(s.a.RangeSelectionModule,"api.createPivotChart")&&u.a.assertRegistered(s.a.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},t.prototype.copySelectedRowsToClipboard=function(t,e){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(t,e)},t.prototype.copySelectedRangeToClipboard=function(t){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(t)},t.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},t.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnController.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e)},t.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnController.getGridColumn(t);this.menuFactory.showMenuAfterMouseEvent(n,e)},t.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},t.prototype.setPopupParent=function(t){this.gridOptionsWrapper.setProperty(r.a.PROP_POPUP_PARENT,t)},t.prototype.tabToNextCell=function(){return this.rowRenderer.tabToNextCell(!1)},t.prototype.tabToPreviousCell=function(){return this.rowRenderer.tabToNextCell(!0)},t.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t)},t.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t)},t.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},t.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},t.prototype.startEditingCell=function(t){var e=this.columnController.getGridColumn(t.colKey);if(e){var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e};a.e.missing(t.rowPinned)&&this.gridPanel.ensureIndexVisible(t.rowIndex),this.rowRenderer.startEditingCell(n,t.keyPress,t.charPress)}else console.warn("ag-Grid: no column found for "+t.colKey)},t.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},t.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},t.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},t.prototype.updateRowData=function(t){var e=null;return this.clientSideRowModel?e=this.clientSideRowModel.updateRowData(t):this.infiniteRowModel?this.infiniteRowModel.updateRowData(t):console.error("ag-Grid: updateRowData() only works with ClientSideRowModel and InfiniteRowModel."),this.rowRenderer.refreshFullWidthRows(),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),e},t.prototype.batchUpdateRowData=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):console.error("ag-Grid: api.batchUpdateRowData() only works with ClientSideRowModel.")},t.prototype.insertItemsAtIndex=function(t,e,n){void 0===n&&(n=!1),console.warn("ag-Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:t,update:null,remove:null})},t.prototype.removeItems=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var n=t.map((function(t){return t.data}));this.updateRowData({add:null,addIndex:null,update:null,remove:n})},t.prototype.addItems=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:null,update:null,remove:null})},t.prototype.refreshVirtualPageCache=function(){console.warn("ag-Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},t.prototype.refreshInfinitePageCache=function(){console.warn("ag-Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},t.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("ag-Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},t.prototype.purgeVirtualPageCache=function(){console.warn("ag-Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},t.prototype.purgeInfinitePageCache=function(){console.warn("ag-Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},t.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("ag-Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},t.prototype.purgeEnterpriseCache=function(t){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(t)},t.prototype.purgeServerSideCache=function(t){this.serverSideRowModel?this.serverSideRowModel.purgeCache(t):console.warn("ag-Grid: api.purgeServerSideCache is only available when rowModelType='enterprise'.")},t.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},t.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getVirtualRowCount();console.warn("ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},t.prototype.isMaxRowFound=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isMaxRowFound();console.warn("ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},t.prototype.setVirtualRowCount=function(t,e){console.warn("ag-Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setInfiniteRowCount(t,e)},t.prototype.setInfiniteRowCount=function(t,e){this.infiniteRowModel?this.infiniteRowModel.setVirtualRowCount(t,e):console.warn("ag-Grid: api.setVirtualRowCount is only available when rowModelType='virtual'.")},t.prototype.getVirtualPageState=function(){return console.warn("ag-Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},t.prototype.getInfinitePageState=function(){return console.warn("ag-Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},t.prototype.getCacheBlockState=function(){return this.infiniteRowModel?this.infiniteRowModel.getBlockState():this.serverSideRowModel?this.serverSideRowModel.getBlockState():void console.warn("ag-Grid: api.getCacheBlockState() is only available when rowModelType='infinite' or rowModelType='serverSide'.")},t.prototype.checkGridSize=function(){this.gridPanel.setHeaderAndFloatingHeights()},t.prototype.getFirstRenderedRow=function(){return console.warn("in ag-Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},t.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},t.prototype.getLastRenderedRow=function(){return console.warn("in ag-Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},t.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},t.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},t.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},t.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},t.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},t.prototype.paginationSetPageSize=function(t){this.gridOptionsWrapper.setProperty("paginationPageSize",t)},t.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},t.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},t.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},t.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},t.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},t.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},t.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},t.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},l([Object(o.d)("immutableService")],t.prototype,"immutableService",void 0),l([Object(o.d)("csvCreator")],t.prototype,"csvCreator",void 0),l([Object(o.d)("excelCreator")],t.prototype,"excelCreator",void 0),l([Object(o.a)("rowRenderer")],t.prototype,"rowRenderer",void 0),l([Object(o.a)("filterManager")],t.prototype,"filterManager",void 0),l([Object(o.a)("columnController")],t.prototype,"columnController",void 0),l([Object(o.a)("selectionController")],t.prototype,"selectionController",void 0),l([Object(o.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),l([Object(o.a)("valueService")],t.prototype,"valueService",void 0),l([Object(o.a)("alignedGridsService")],t.prototype,"alignedGridsService",void 0),l([Object(o.a)("eventService")],t.prototype,"eventService",void 0),l([Object(o.a)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),l([Object(o.a)("context")],t.prototype,"context",void 0),l([Object(o.a)("rowModel")],t.prototype,"rowModel",void 0),l([Object(o.a)("sortController")],t.prototype,"sortController",void 0),l([Object(o.a)("paginationProxy")],t.prototype,"paginationProxy",void 0),l([Object(o.a)("focusedCellController")],t.prototype,"focusedCellController",void 0),l([Object(o.d)("rangeController")],t.prototype,"rangeController",void 0),l([Object(o.d)("clipboardService")],t.prototype,"clipboardService",void 0),l([Object(o.d)("aggFuncService")],t.prototype,"aggFuncService",void 0),l([Object(o.a)("menuFactory")],t.prototype,"menuFactory",void 0),l([Object(o.d)("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),l([Object(o.a)("cellRendererFactory")],t.prototype,"cellRendererFactory",void 0),l([Object(o.a)("valueCache")],t.prototype,"valueCache",void 0),l([Object(o.a)("animationFrameService")],t.prototype,"animationFrameService",void 0),l([Object(o.d)("statusBarService")],t.prototype,"statusBarService",void 0),l([Object(o.d)("chartService")],t.prototype,"chartService",void 0),l([Object(o.d)("undoRedoService")],t.prototype,"undoRedoService",void 0),l([o.e],t.prototype,"init",null),t=l([Object(o.b)("gridApi")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=function(t,e){return function(n,r){e(n,r,t)}},s=function(){function t(){this.expressionToFunctionCache={}}return t.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},t.prototype.evaluate=function(t,e){if("function"===typeof t)return t(e);if("string"===typeof t){var n=t;return this.evaluateExpression(n,e)}console.error("ag-Grid: value should be either a string or a function",t)},t.prototype.evaluateExpression=function(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+n),null}},t.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var e=this.createFunctionBody(t),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=n,n},t.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},i([o(0,Object(r.h)("loggerFactory"))],t.prototype,"setBeans",null),t=i([Object(r.b)("expressionService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=function(){function t(){this.templateCache={},this.waitingCallbacks={}}return t.prototype.getTemplate=function(t,e){var n=this.templateCache[t];if(n)return n;var r=this.waitingCallbacks[t],i=this;if(!r){r=[],this.waitingCallbacks[t]=r;var o=new XMLHttpRequest;o.onload=function(){i.handleHttpResult(this,t)},o.open("GET",t),o.send()}return e&&r.push(e),null},t.prototype.handleHttpResult=function(t,e){if(200===t.status&&null!==t.response){this.templateCache[e]=t.response||t.responseText;for(var n=this.waitingCallbacks[e],r=0;r<n.length;r++){(0,n[r])()}if(this.$scope){var i=this;window.setTimeout((function(){i.$scope.$apply()}),0)}}else console.warn("Unable to get template error "+t.status+" - "+e)},i([Object(r.a)("$scope")],t.prototype,"$scope",void 0),t=i([Object(r.b)("templateService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(5),i=n(1),o=n(7),s=n(0),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(){function t(){this.popupList=[]}return t.prototype.registerGridCore=function(t){this.gridCore=t},t.prototype.getDocument=function(){return this.gridOptionsWrapper.getDocument()},t.prototype.getPopupParent=function(){var t=this.gridOptionsWrapper.getPopupParent();return t||this.gridCore.getRootGui()},t.prototype.positionPopupForMenu=function(t){var e,n=t.eventSource.getBoundingClientRect(),r=this.getDocument(),i=this.getPopupParent();e=i===r.body?r.documentElement.getBoundingClientRect():i.getBoundingClientRect();var o=n.top-e.top;o=this.keepYWithinBounds(t,o);var s=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;t.ePopup.style.minWidth=s+"px";var a,u=e.right-e.left-s;function l(){return n.right-e.left-2}function c(){return n.left-e.left-s}this.gridOptionsWrapper.isEnableRtl()?((a=c())<0&&(a=l()),a>u&&(a=0)):((a=l())>u&&(a=c()),a<0&&(a=0)),t.ePopup.style.left=a+"px",t.ePopup.style.top=o+"px"},t.prototype.positionPopupUnderMouseEvent=function(t){var e=this.calculatePointerAlign(t.mouseEvent),n=e.x,r=e.y,i=t.ePopup,o=t.nudgeX,s=t.nudgeY;this.positionPopup({ePopup:i,x:n,y:r,nudgeX:o,nudgeY:s,keepWithinBounds:!0}),this.callPostProcessPopup(t.ePopup,null,t.mouseEvent,t.type,t.column,t.rowNode)},t.prototype.calculatePointerAlign=function(t){var e=this.getDocument(),n=this.getPopupParent(),r=n.getBoundingClientRect(),i=e.documentElement.getBoundingClientRect();return{x:t.clientX-(n===e.body?i.left:r.left),y:t.clientY-(n===e.body?i.top:r.top)}},t.prototype.positionPopupUnderComponent=function(t){var e,n=t.eventSource.getBoundingClientRect(),r=this.getDocument(),i=this.getPopupParent(),o=t.alignSide||"left";e=i===r.body?r.documentElement.getBoundingClientRect():i.getBoundingClientRect();var s=n.left-e.left;"right"===o&&(s-=t.ePopup.offsetWidth-n.width),this.positionPopup({ePopup:t.ePopup,minWidth:t.minWidth,minHeight:t.minHeight,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:s,y:n.top-e.top+n.height,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.ePopup,t.eventSource,null,t.type,t.column,t.rowNode)},t.prototype.positionPopupOverComponent=function(t){var e,n=t.eventSource.getBoundingClientRect(),r=this.getDocument(),i=this.getPopupParent();e=i===r.body?r.documentElement.getBoundingClientRect():i.getBoundingClientRect(),this.positionPopup({ePopup:t.ePopup,minWidth:t.minWidth,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:n.left-e.left,y:n.top-e.top,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.ePopup,t.eventSource,null,t.type,t.column,t.rowNode)},t.prototype.callPostProcessPopup=function(t,e,n,r,i,o){var s=this.gridOptionsWrapper.getPostProcessPopupFunc();s&&s({column:i,rowNode:o,ePopup:t,type:r,eventSource:e,mouseEvent:n})},t.prototype.positionPopup=function(t){var e=t.x,n=t.y;t.nudgeX&&(e+=t.nudgeX),t.nudgeY&&(n+=t.nudgeY),t.keepWithinBounds&&(e=this.keepXWithinBounds(t,e),n=this.keepYWithinBounds(t,n)),t.ePopup.style.left=e+"px",t.ePopup.style.top=n+"px"},t.prototype.keepYWithinBounds=function(t,e){var n=this.gridOptionsWrapper.getDocument(),r=n.documentElement,i=this.getPopupParent(),o=i.getBoundingClientRect(),a=n.documentElement.getBoundingClientRect(),u=i===n.body,l=Math.min(200,o.height),c=0;t.minHeight&&t.minHeight<l?l=t.minHeight:t.ePopup.offsetHeight>0&&(l=t.ePopup.clientHeight,c=s.e.getAbsoluteHeight(t.ePopup)-l);var h=u?s.e.getAbsoluteHeight(r)+r.scrollTop:o.height;u&&(h-=Math.abs(a.top-o.top));var p=h-l-c-3;return Math.min(Math.max(e,0),Math.abs(p))},t.prototype.keepXWithinBounds=function(t,e){var n=this.gridOptionsWrapper.getDocument(),r=n.documentElement,i=this.getPopupParent(),o=i.getBoundingClientRect(),a=n.documentElement.getBoundingClientRect(),u=i===n.body,l=t.ePopup,c=Math.min(200,o.width),h=0;t.minWidth&&t.minWidth<c?c=t.minWidth:l.offsetWidth>0&&(c=l.offsetWidth,l.style.minWidth=c+"px",h=s.e.getAbsoluteWidth(l)-c);var p=u?s.e.getAbsoluteWidth(r)+r.scrollLeft:o.width;u&&(p-=Math.abs(a.left-o.left));var d=p-c-h-3;return Math.min(Math.max(e,0),Math.abs(d))},t.prototype.addAsModalPopup=function(t,e,n,r){return this.addPopup(!0,t,e,n,r)},t.prototype.addPopup=function(t,e,n,i,a,u){var l=this,c=this.gridOptionsWrapper.getDocument();if(!c)return console.warn("ag-grid: could not find the document, document is empty"),function(){};var h=s.e.findIndex(this.popupList,(function(t){return t.element===e}));if(-1!==h)return this.popupList[h].hideFunc;var p=this.getPopupParent();p.appendChild(e),e.style.top="0px",e.style.left="0px";var d=document.createElement("div"),f=this.environment.getTheme().theme;f&&s.e.addCssClass(d,f),s.e.addCssClass(d,"ag-popup"),s.e.addCssClass(e,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),d.appendChild(e),p.appendChild(d),u?this.setAlwaysOnTop(d,!0):this.bringPopupToFront(d);var g=!1,v=function(t){(t.which||t.keyCode)===r.a.KEY_ESCAPE&&d.contains(document.activeElement)&&b(null)},m=function(t){b(t)},y=function(t){b(null,t)},b=function(t,n){l.isEventFromCurrentPopup(t,n,e)||l.isEventSameChainAsOriginalEvent(a,t,n)||g||(g=!0,p.removeChild(d),c.removeEventListener("keydown",v),c.removeEventListener("mousedown",m),c.removeEventListener("touchstart",y),c.removeEventListener("contextmenu",m),l.eventService.removeEventListener(o.a.EVENT_DRAG_STARTED,m),i&&i(),l.popupList=l.popupList.filter((function(t){return t.element!==e})))};return window.setTimeout((function(){n&&c.addEventListener("keydown",v),t&&(c.addEventListener("mousedown",m),l.eventService.addEventListener(o.a.EVENT_DRAG_STARTED,m),c.addEventListener("touchstart",y),c.addEventListener("contextmenu",m))}),0),this.popupList.push({element:e,hideFunc:b}),b},t.prototype.isEventFromCurrentPopup=function(t,e,n){var r=t||e;if(!r)return!1;var i=s.e.findIndex(this.popupList,(function(t){return t.element===n}));if(-1===i)return!1;for(var o=i;o<this.popupList.length;o++){var a=this.popupList[o];if(s.e.isElementInEventPath(a.element,r))return!0}for(var u=r.target;u&&u!=document.body;){if(u.classList.contains("ag-custom-component-popup")||null===u.parentElement)return!0;u=u.parentElement}},t.prototype.isEventSameChainAsOriginalEvent=function(t,e,n){var r=null;if(e?r=e:n&&(r=n.touches[0]),r&&t){var i=e?e.screenX:0,o=e?e.screenY:0,s=Math.abs(t.screenX-i)<5,a=Math.abs(t.screenY-o)<5;if(s&&a)return!0}return!1},t.prototype.getWrapper=function(t){for(;!s.e.containsClass(t,"ag-popup")&&t.parentElement;)t=t.parentElement;return s.e.containsClass(t,"ag-popup")?t:null},t.prototype.setAlwaysOnTop=function(t,e){var n=this.getWrapper(t);n&&(s.e.addOrRemoveCssClass(n,"ag-always-on-top",!!e),e&&this.bringPopupToFront(n))},t.prototype.bringPopupToFront=function(t){var e=this.getPopupParent(),n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),r=n.length,i=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),o=i.length,a=this.getWrapper(t);if(a&&!(r<=1)&&e.contains(t)){var u=n.indexOf(a);if(o)s.e.containsClass(a,"ag-always-on-top")?u!==r-1&&s.e.last(i).insertAdjacentElement("afterend",a):u!==r-o-1&&i[0].insertAdjacentElement("beforebegin",a);else u!==r-1&&s.e.last(n).insertAdjacentElement("afterend",a);var l={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:a};this.eventService.dispatchEvent(l)}},a([Object(i.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),a([Object(i.a)("environment")],t.prototype,"environment",void 0),a([Object(i.a)("eventService")],t.prototype,"eventService",void 0),t=a([Object(i.b)("popupService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),i=n(144),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=function(){function t(){}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.registerHeaderRootComp=function(t){this.headerRootComp=t},t.prototype.getPreferredWidthForColumn=function(t,e){var n=this.getHeaderCellForColumn(t);if(!n)return-1;var r=document.createElement("span");r.style.position="fixed";var i=this.gridPanel.getCenterContainer();i.appendChild(r),this.putRowCellsIntoDummyContainer(t,r),e||this.cloneItemIntoDummy(n,r);var o=r.offsetWidth;return i.removeChild(r),o+this.gridOptionsWrapper.getAutoSizePadding()},t.prototype.getHeaderCellForColumn=function(t){var e=null;return this.headerRootComp.forEachHeaderElement((function(n){if(n instanceof i.a){var r=n;r.getColumn()===t&&(e=r)}})),e?e.getGui():null},t.prototype.putRowCellsIntoDummyContainer=function(t,e){var n=this;this.rowRenderer.getAllCellsForColumn(t).forEach((function(t){return n.cloneItemIntoDummy(t,e)}))},t.prototype.cloneItemIntoDummy=function(t,e){var n=t.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var r=document.createElement("div");r.style.display="table-row",r.appendChild(n),e.appendChild(r)},o([Object(r.a)("rowRenderer")],t.prototype,"rowRenderer",void 0),o([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=o([Object(r.b)("autoWidthCalculator")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=function(){function t(){}return t.prototype.addResizeBar=function(t){var e=this,n={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t)};this.dragService.addDragSource(n,!0);return function(){return e.dragService.removeDragSource(n)}},t.prototype.onDragStart=function(t,e){this.draggingStarted=!0,this.dragStartX=e.clientX,this.setResizeIcons();var n=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(n)},t.prototype.setResizeIcons=function(){this.oldBodyCursor=this.eGridDiv.style.cursor,this.oldMsUserSelect=this.eGridDiv.style.msUserSelect,this.oldWebkitUserSelect=this.eGridDiv.style.webkitUserSelect,this.eGridDiv.style.cursor="col-resize",this.eGridDiv.style.msUserSelect="none",this.eGridDiv.style.webkitUserSelect="none"},t.prototype.onDragStop=function(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){this.eGridDiv.style.cursor=this.oldBodyCursor,this.eGridDiv.style.msUserSelect=this.oldMsUserSelect,this.eGridDiv.style.webkitUserSelect=this.oldWebkitUserSelect},t.prototype.onDragging=function(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},i([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),i([Object(r.a)("dragService")],t.prototype,"dragService",void 0),i([Object(r.a)("eGridDiv")],t.prototype,"eGridDiv",void 0),t=i([Object(r.b)("horizontalResizeService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(1),i=n(10),o=n(8),s=n(7),a=n(141),u=n(0),l=n(15),c=n(14),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.init=function(){var t=this;this.logger=this.loggerFactory.create("GridCore");var e=this.createTemplate();if(this.setTemplate(e),[this.gridApi,this.filterManager,this.rowRenderer,this.popupService].forEach((function(e){return e.registerGridCore(t)})),c.a.isRegistered(l.a.ClipboardModule)&&this.clipboardService.registerGridCore(this),this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.eGridDiv.appendChild(this.getGui()),this.addDestroyFunc((function(){t.eGridDiv.removeChild(t.getGui())})),this.$scope){var n=this.$scope.$watch(this.quickFilterOnScope,(function(e){return t.filterManager.setQuickFilter(e)}));this.addDestroyFunc(n)}this.addRtlSupport(),this.logger.log("ready"),this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);var r=this.gridPanel.getGui();this.addDestroyableEventListener(r,"focusin",(function(){u.e.addCssClass(r,"ag-has-focus")})),this.addDestroyableEventListener(r,"focusout",(function(t){r.contains(t.relatedTarget)||u.e.removeCssClass(r,"ag-has-focus")}));var i=this.resizeObserverService.observeResize(this.eGridDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return i()}));var o=this.environment.getTheme().theme;/^ag-theme-(fresh|dark|blue|bootstrap)$/.test(o)&&console.warn('ag-Grid: "'+o+'" theme is deprecated and will be removed in the next major release (v23)')},e.prototype.createTemplate=function(){var t=c.a.isRegistered(l.a.SideBarModule),e=c.a.isRegistered(l.a.StatusBarModule);return'<div class="ag-root-wrapper">\n                '+(c.a.isRegistered(l.a.RowGroupingModule)?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-comp ref="gridPanel"></ag-grid-comp>                    \n                    '+(t?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(e?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(c.a.isRegistered(l.a.EnterpriseCoreModule)?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},e.prototype.onGridSizeChanged=function(){var t={type:s.a.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridDiv.clientWidth,clientHeight:this.eGridDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";u.e.addCssClass(this.getGui(),t)},e.prototype.getRootGui=function(){return this.getGui()},e.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},e.prototype.setSideBarVisible=function(t){this.sideBarComp?this.sideBarComp.setDisplayed(t):t&&console.warn("ag-Grid: sideBar is not loaded")},e.prototype.setSideBarPosition=function(t){this.sideBarComp?this.sideBarComp.setSideBarPosition(t):console.warn("ag-Grid: sideBar is not loaded")},e.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},e.prototype.getSideBar=function(){return this.gridOptions.sideBar},e.prototype.getToolPanelInstance=function(t){if(this.sideBarComp)return this.sideBarComp.getToolPanelInstance(t);console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},e.prototype.refreshSideBar=function(){this.sideBarComp&&this.sideBarComp.refresh()},e.prototype.setSideBar=function(t){this.sideBarComp&&(this.eRootWrapperBody.removeChild(this.sideBarComp.getGui()),this.gridOptions.sideBar=a.a.parse(t),this.sideBarComp.reset(),this.eRootWrapperBody.appendChild(this.sideBarComp.getGui()))},e.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},e.prototype.openToolPanel=function(t){this.sideBarComp?this.sideBarComp.openToolPanel(t):console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},e.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.logger.log("Grid DOM removed")},e.prototype.ensureNodeVisible=function(t,e){if(void 0===e&&(e="top"),this.doingVirtualPaging)throw new Error("Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory");for(var n=this.rowModel.getRowCount(),r="function"===typeof t,i=-1,o=0;o<n;o++){var s=this.rowModel.getRow(o);if(r){if(t(s)){i=o;break}}else if(t===s||t===s.data){i=o;break}}i>=0&&this.gridPanel.ensureIndexVisible(i,e)},p([Object(r.a)("gridOptions")],e.prototype,"gridOptions",void 0),p([Object(r.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),p([Object(r.a)("rowModel")],e.prototype,"rowModel",void 0),p([Object(r.a)("resizeObserverService")],e.prototype,"resizeObserverService",void 0),p([Object(r.a)("columnController")],e.prototype,"columnController",void 0),p([Object(r.a)("rowRenderer")],e.prototype,"rowRenderer",void 0),p([Object(r.a)("filterManager")],e.prototype,"filterManager",void 0),p([Object(r.a)("eventService")],e.prototype,"eventService",void 0),p([Object(r.a)("eGridDiv")],e.prototype,"eGridDiv",void 0),p([Object(r.a)("$scope")],e.prototype,"$scope",void 0),p([Object(r.a)("quickFilterOnScope")],e.prototype,"quickFilterOnScope",void 0),p([Object(r.a)("popupService")],e.prototype,"popupService",void 0),p([Object(r.a)("focusedCellController")],e.prototype,"focusedCellController",void 0),p([Object(r.a)("loggerFactory")],e.prototype,"loggerFactory",void 0),p([Object(r.a)("columnApi")],e.prototype,"columnApi",void 0),p([Object(r.a)("gridApi")],e.prototype,"gridApi",void 0),p([Object(r.a)("environment")],e.prototype,"environment",void 0),p([Object(r.d)("clipboardService")],e.prototype,"clipboardService",void 0),p([Object(o.c)("gridPanel")],e.prototype,"gridPanel",void 0),p([Object(o.c)("sideBar")],e.prototype,"sideBarComp",void 0),p([Object(o.c)("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),p([r.e],e.prototype,"init",null),e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),i=n(0),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=function(){function t(){}return t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(t,e){var n=this;this.showPopup(t,(function(r){n.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:e,ePopup:r})}))},t.prototype.showMenuAfterButtonClick=function(t,e){var n=this;this.showPopup(t,(function(r){n.popupService.positionPopupUnderComponent({type:"columnMenu",eventSource:e,ePopup:r,keepWithinBounds:!0,column:t})}))},t.prototype.showPopup=function(t,e){var n,r=this,o=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU"),s=document.createElement("div");i.e.addCssClass(s,"ag-menu"),o.guiPromise.promise.then((function(t){s.appendChild(t)}));var a=function(t){"horizontal"===t.direction&&n()};this.eventService.addEventListener("bodyScroll",a);n=this.popupService.addAsModalPopup(s,!0,(function(){r.eventService.removeEventListener("bodyScroll",a),t.setMenuVisible(!1,"contextMenu")})),e(s),o.filterPromise.then((function(t){if(t.afterGuiAttached){var e={hidePopup:n};t.afterGuiAttached(e)}})),this.hidePopup=n,t.setMenuVisible(!0,"contextMenu")},t.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()},o([Object(r.a)("eventService")],t.prototype,"eventService",void 0),o([Object(r.a)("filterManager")],t.prototype,"filterManager",void 0),o([Object(r.a)("popupService")],t.prototype,"popupService",void 0),o([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=o([Object(r.b)("menuFactory")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(1),i=n(7),o=n(0),s=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=function(){function t(){this.onMouseUpListener=this.onMouseUp.bind(this),this.onMouseMoveListener=this.onMouseMove.bind(this),this.onTouchEndListener=this.onTouchUp.bind(this),this.onTouchMoveListener=this.onTouchMove.bind(this),this.dragEndFunctions=[],this.dragSources=[]}return t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.destroy=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(t){var e=t.dragSource.eElement,n=t.mouseDownListener;if(e.removeEventListener("mousedown",n),t.touchEnabled){var r=t.touchStartListener;e.removeEventListener("touchstart",r,{passive:!0})}},t.prototype.removeDragSource=function(t){var e=o.e.find(this.dragSources,(function(e){return e.dragSource===t}));e&&(this.removeListener(e),o.e.removeFromArray(this.dragSources,e))},t.prototype.setNoSelectToBody=function(t){var e=this.gridOptionsWrapper.getDocument().querySelector("body");o.e.exists(e)&&o.e.addOrRemoveCssClass(e,"ag-unselectable",t)},t.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var n=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",n);var r=null,i=this.gridOptionsWrapper.isSuppressTouch();e&&!i&&(r=this.onTouchStart.bind(this,t),t.eElement.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:n,touchStartListener:r,touchEnabled:e})},t.prototype.onTouchStart=function(t,e){var n=this;this.currentDragParams=t,this.dragging=!1;var r=e.touches[0];this.touchLastTime=r,this.touchStart=r,e.preventDefault(),t.eElement.addEventListener("touchmove",this.onTouchMoveListener,{passive:!0}),t.eElement.addEventListener("touchend",this.onTouchEndListener,{passive:!0}),t.eElement.addEventListener("touchcancel",this.onTouchEndListener,{passive:!0}),this.dragEndFunctions.push((function(){t.eElement.removeEventListener("touchmove",n.onTouchMoveListener,{passive:!0}),t.eElement.removeEventListener("touchend",n.onTouchEndListener,{passive:!0}),t.eElement.removeEventListener("touchcancel",n.onTouchEndListener,{passive:!0})})),0===t.dragStartPixels&&this.onCommonMove(r,this.touchStart)},t.prototype.onMouseDown=function(t,e){var n=this;if((!t.skipMouseEvent||!t.skipMouseEvent(e))&&!e._alreadyProcessedByDragService&&(e._alreadyProcessedByDragService=!0,0===e.button)){this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e;var r=this.gridOptionsWrapper.getDocument();this.setNoSelectToBody(!0),r.addEventListener("mousemove",this.onMouseMoveListener),r.addEventListener("mouseup",this.onMouseUpListener),this.dragEndFunctions.push((function(){r.removeEventListener("mousemove",n.onMouseMoveListener),r.removeEventListener("mouseup",n.onMouseUpListener)})),0===t.dragStartPixels&&this.onMouseMove(e)}},t.prototype.isEventNearStartEvent=function(t,e){var n=this.currentDragParams.dragStartPixels,r=o.e.exists(n)?n:4;return o.e.areEventsNear(t,e,r)},t.prototype.getFirstActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},t.prototype.onCommonMove=function(t,e){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0;var n={type:i.a.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n),this.currentDragParams.onDragStart(e)}this.currentDragParams.onDragging(t)},t.prototype.onTouchMove=function(t){var e=this.getFirstActiveTouch(t.touches);e&&this.onCommonMove(e,this.touchStart)},t.prototype.onMouseMove=function(t){this.onCommonMove(t,this.mouseStartEvent)},t.prototype.onTouchUp=function(t){var e=this.getFirstActiveTouch(t.changedTouches);e||(e=this.touchLastTime),this.onUpCommon(e)},t.prototype.onMouseUp=function(t){this.onUpCommon(t)},t.prototype.onUpCommon=function(t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var e={type:i.a.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)}this.setNoSelectToBody(!1),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(t){return t()})),this.dragEndFunctions.length=0},s([Object(r.a)("loggerFactory")],t.prototype,"loggerFactory",void 0),s([Object(r.a)("eventService")],t.prototype,"eventService",void 0),s([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),s([Object(r.a)("columnApi")],t.prototype,"columnApi",void 0),s([Object(r.a)("gridApi")],t.prototype,"gridApi",void 0),s([r.e],t.prototype,"init",null),s([r.g],t.prototype,"destroy",null),t=s([Object(r.b)("dragService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(1),i=n(7),o=n(5),s=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=function(){function t(){var t=this;this.getSortModel=function(){return t.getColumnsWithSortingOrdered().map((function(t){return{colId:t.getColId(),sort:t.getSort()}}))}}var e;return e=t,t.prototype.progressSort=function(t,e,n){void 0===n&&(n="api");var r=this.getNextSortDirection(t);this.setSortForColumn(t,r,e,n)},t.prototype.setSortForColumn=function(t,e,n,r){if(void 0===r&&(r="api"),e!==o.a.SORT_ASC&&e!==o.a.SORT_DESC&&(e=null),t.setSort(e,r),t.getSort()){var i=Number((new Date).valueOf());t.setSortedAt(i)}else t.setSortedAt(null);n&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(t,r),this.dispatchSortChangedEvents()},t.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},t.prototype.dispatchSortChangedEvents=function(){var t={type:i.a.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.clearSortBarThisColumn=function(t,e){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach((function(n){n!==t&&n.setSort(void 0,e)}))},t.prototype.getNextSortDirection=function(t){var n;if(n=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():e.DEFAULT_SORTING_ORDER,!Array.isArray(n)||n.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+n),null;var r,i=n.indexOf(t.getSort()),o=i<0,s=i==n.length-1;return r=o||s?n[0]:n[i+1],e.DEFAULT_SORTING_ORDER.indexOf(r)<0?(console.warn("ag-grid: invalid sort type "+r),null):r},t.prototype.setSortModel=function(t,e){var n=this;void 0===e&&(e="api");var r=t&&t.length>0;this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach((function(i){var o=null,s=-1;if(r&&i.getColDef().sortable)for(var a=0;a<t.length;a++){var u=t[a];"string"===typeof u.colId&&"string"===typeof i.getColId()&&n.compareColIds(u,i)&&(o=u.sort,s=a)}o?(i.setSort(o,e),i.setSortedAt(s)):(i.setSort(null,e),i.setSortedAt(null))})),this.dispatchSortChangedEvents()},t.prototype.compareColIds=function(t,e){return t.colId===e.getColId()},t.prototype.getColumnsWithSortingOrdered=function(){var t=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));return t.sort((function(t,e){return t.sortedAt-e.sortedAt})),t},t.prototype.getSortForRowController=function(){return this.getColumnsWithSortingOrdered().map((function(t){return{inverter:t.getSort()===o.a.SORT_ASC?1:-1,column:t}}))},t.DEFAULT_SORTING_ORDER=[o.a.SORT_ASC,o.a.SORT_DESC,null],s([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),s([Object(r.a)("columnController")],t.prototype,"columnController",void 0),s([Object(r.a)("eventService")],t.prototype,"eventService",void 0),s([Object(r.a)("columnApi")],t.prototype,"columnApi",void 0),s([Object(r.a)("gridApi")],t.prototype,"gridApi",void 0),t=e=s([Object(r.b)("sortController")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(1),i=n(7),o=n(39),s=n(0),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(){function t(){}return t.prototype.init=function(){this.eventService.addEventListener(i.a.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(i.a.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(i.a.EVENT_COLUMN_GROUP_OPENED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(i.a.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearFocusedCell.bind(this))},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()?null:this.focusedCellPosition&&this.getGridCellForDomElement(document.activeElement)?this.focusedCellPosition:null},t.prototype.getGridCellForDomElement=function(t){for(var e=t;e;){var n=this.gridOptionsWrapper.getDomData(e,o.a.DOM_DATA_KEY_CELL_COMP);if(n)return n.getCellPosition();e=e.parentNode}return null},t.prototype.setFocusedCell=function(t,e,n,r){void 0===r&&(r=!1);var i=s.e.makeNull(this.columnController.getGridColumn(e));this.focusedCellPosition={rowIndex:t,rowPinned:s.e.makeNull(n),column:i},this.onCellFocused(r)},t.prototype.isCellFocused=function(t){return!s.e.missing(this.focusedCellPosition)&&(this.focusedCellPosition.column===t.column&&this.isRowFocused(t.rowIndex,t.rowPinned))},t.prototype.isRowNodeFocused=function(t){return this.isRowFocused(t.rowIndex,t.rowPinned)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(t,e){if(s.e.missing(this.focusedCellPosition))return!1;var n=s.e.makeNull(e);return this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===n},t.prototype.onCellFocused=function(t){var e={type:i.a.EVENT_CELL_FOCUSED,forceBrowserFocus:t,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null};this.focusedCellPosition&&(e.rowIndex=this.focusedCellPosition.rowIndex,e.column=this.focusedCellPosition.column,e.rowPinned=this.focusedCellPosition.rowPinned),this.eventService.dispatchEvent(e)},a([Object(r.a)("eventService")],t.prototype,"eventService",void 0),a([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),a([Object(r.a)("columnController")],t.prototype,"columnController",void 0),a([Object(r.a)("columnApi")],t.prototype,"columnApi",void 0),a([Object(r.a)("gridApi")],t.prototype,"gridApi",void 0),a([r.e],t.prototype,"init",null),t=a([Object(r.b)("focusedCellController")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),i=n(0),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=function(){function t(){this.gridInstanceId=e.gridInstanceSequence.next()}var e;return e=t,t.prototype.init=function(){this.stampDomElementWithGridInstance()},t.prototype.stampDomElementWithGridInstance=function(){this.eGridDiv[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(t){return i.e.getCellCompForEvent(this.gridOptionsWrapper,t)},t.prototype.isEventFromThisGrid=function(t){for(var n=i.e.getEventPath(t),r=0;r<n.length;r++){var o=n[r][e.GRID_DOM_KEY];if(i.e.exists(o))return o===this.gridInstanceId}return!1},t.prototype.getCellPositionForEvent=function(t){var e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null},t.gridInstanceSequence=new i.b,t.GRID_DOM_KEY="__ag_grid_instance",o([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),o([Object(r.a)("eGridDiv")],t.prototype,"eGridDiv",void 0),o([r.e],t.prototype,"init",null),t=e=o([Object(r.b)("mouseEventService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(1),i=n(5),o=n(0),s=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=function(){function t(){}return t.prototype.getNextCellToFocus=function(t,e){for(var n=e,r=!1;!r;){switch(t){case i.a.KEY_UP:n=this.getCellAbove(n);break;case i.a.KEY_DOWN:n=this.getCellBelow(n);break;case i.a.KEY_RIGHT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(n):this.getCellToRight(n);break;case i.a.KEY_LEFT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("ag-Grid: unknown key for navigation "+t)}r=!n||this.isCellGoodToFocusOn(n)}return n},t.prototype.isCellGoodToFocusOn=function(t){var e,n=t.column;switch(t.rowPinned){case i.a.PINNED_TOP:e=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case i.a.PINNED_BOTTOM:e=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:e=this.rowModel.getRow(t.rowIndex)}return!n.isSuppressNavigable(e)},t.prototype.getCellToLeft=function(t){if(!t)return null;var e=this.columnController.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},t.prototype.getCellToRight=function(t){if(!t)return null;var e=this.columnController.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},t.prototype.getRowBelow=function(t){var e=t.rowIndex,n=t.rowPinned;if(this.isLastRowInContainer(t))switch(n){case i.a.PINNED_BOTTOM:return null;case i.a.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:0,rowPinned:null}:this.pinnedRowModel.isRowsToRender(i.a.PINNED_BOTTOM)?{rowIndex:0,rowPinned:i.a.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(i.a.PINNED_BOTTOM)?{rowIndex:0,rowPinned:i.a.PINNED_BOTTOM}:null}return{rowIndex:e+1,rowPinned:n}},t.prototype.getCellBelow=function(t){if(!t)return null;var e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},t.prototype.isLastRowInContainer=function(t){var e=t.rowPinned,n=t.rowIndex;return e===i.a.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:e===i.a.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.rowModel.getRowCount()-1<=n},t.prototype.getRowAbove=function(t){var e=t.rowIndex,n=t.rowPinned;return 0===e?n===i.a.PINNED_TOP?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(i.a.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:e-1,rowPinned:n}},t.prototype.getCellAbove=function(t){if(!t)return null;var e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:i.a.PINNED_TOP}},t.prototype.getNextTabbedCell=function(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},t.prototype.getNextTabbedCellForwards=function(t){var e=this.columnController.getAllDisplayedColumns(),n=t.rowIndex,r=t.rowPinned,i=this.columnController.getDisplayedColAfter(t.column);if(!i){i=e[0];var s=this.getRowBelow(t);if(o.e.missing(s))return null;n=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:n,column:i,rowPinned:r}},t.prototype.getNextTabbedCellBackwards=function(t){var e=this.columnController.getAllDisplayedColumns(),n=t.rowIndex,r=t.rowPinned,i=this.columnController.getDisplayedColBefore(t.column);if(!i){i=o.e.last(e);var s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(o.e.missing(s))return null;n=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:n,column:i,rowPinned:r}},s([Object(r.a)("columnController")],t.prototype,"columnController",void 0),s([Object(r.a)("rowModel")],t.prototype,"rowModel",void 0),s([Object(r.a)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),s([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=s([Object(r.b)("cellNavigationService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(1),i=n(67),o=n(66),s=n(57),a=n(0),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(){function t(){this.cellRendererMap={}}var e;return e=t,t.prototype.init=function(){this.cellRendererMap[e.ANIMATE_SLIDE]=i.a,this.cellRendererMap[e.ANIMATE_SHOW_CHANGE]=o.a,this.cellRendererMap[e.GROUP]=s.a},t.prototype.addCellRenderer=function(t,e){this.cellRendererMap[t]=e},t.prototype.getCellRenderer=function(t){var e=this.cellRendererMap[t];return a.e.missing(e)?(console.warn("ag-Grid: unable to find cellRenderer for key "+t),null):e},t.ANIMATE_SLIDE="animateSlide",t.ANIMATE_SHOW_CHANGE="animateShowChange",t.GROUP="group",u([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),u([Object(r.a)("expressionService")],t.prototype,"expressionService",void 0),u([Object(r.a)("eventService")],t.prototype,"eventService",void 0),u([r.e],t.prototype,"init",null),t=e=u([Object(r.b)("cellRendererFactory")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=function(){function t(){}return t.prototype.formatValue=function(t,e,n,r){var i,o=t.getColDef(),s=null;if(i=e&&e.rowPinned&&o.pinnedRowValueFormatter?o.pinnedRowValueFormatter:o.valueFormatter){var a={value:r,node:e,data:e?e.data:null,colDef:t.getColDef(),column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};a.$scope=n,s=this.expressionService.evaluate(i,a)}else if(o.refData)return o.refData[r]||"";return null!==s&&void 0!==s||!Array.isArray(r)||(s=r.join(", ")),s},i([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),i([Object(r.a)("expressionService")],t.prototype,"expressionService",void 0),t=i([Object(r.b)("valueFormatterService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){}return t.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},t.prototype.addEventListenerOutsideAngular=function(t,e,n,r){t.addEventListener(e,n,r)},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),i=n(7),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=function(){function t(){}return t.prototype.setScrollsVisible=function(t){if(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var e={type:i.a.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},o([Object(r.a)("eventService")],t.prototype,"eventService",void 0),o([Object(r.a)("columnController")],t.prototype,"columnController",void 0),o([Object(r.a)("columnApi")],t.prototype,"columnApi",void 0),o([Object(r.a)("gridApi")],t.prototype,"gridApi",void 0),o([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=o([Object(r.b)("scrollVisibleService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=function(){function t(){}return t.prototype.processAllCellClasses=function(t,e,n,r){this.processClassRules(t.cellClassRules,e,n,r),this.processStaticCellClasses(t,e,n)},t.prototype.processClassRules=function(t,e,n,r){if("object"===typeof t&&null!==t)for(var i=Object.keys(t),o=0;o<i.length;o++){var s=i[o],a=t[s],u=void 0;"string"===typeof a?u=this.expressionService.evaluate(a,e):"function"===typeof a&&(u=a(e)),u?n(s):r&&r(s)}},t.prototype.processStaticCellClasses=function(t,e,n){if(t.cellClass){var r=void 0;if("function"===typeof t.cellClass)r=(0,t.cellClass)(e);else r=t.cellClass;"string"===typeof r?n(r):Array.isArray(r)&&r.forEach((function(t){n(t)}))}},i([Object(r.a)("expressionService")],t.prototype,"expressionService",void 0),t=i([Object(r.b)("stylingService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(21),i=n(7),o=n(1),s=n(0),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return a(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addDestroyableEventListener(this.eventService,i.a.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,"paginationPageSize",this.onModelUpdated.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,e,n,r){var i=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return i&&this.calculatePages(),i},e.prototype.onModelUpdated=function(t){this.calculatePages();var e={type:i.a.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,keepRenderedRows:!!t&&t.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.goToPage=function(t){if(this.active&&this.currentPage!==t){this.currentPage=t;var e={type:i.a.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi};this.onModelUpdated(e)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return s.e.missing(this.topRowBounds)||s.e.missing(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.isRowPresent=function(t){return!!this.rowModel.isRowPresent(t)&&(t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex)},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.getNodesInRangeForSelection=function(t,e){return this.rowModel.getNodesInRangeForSelection(t,e)},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.goToPageWithIndex=function(t){if(this.active){var e=Math.floor(t/this.pageSize);this.goToPage(e)}},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowFound()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),this.pageSize>=1||(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.pixelOffset=s.e.exists(this.topRowBounds)?this.topRowBounds.rowTop:0},e.prototype.setZeroRows=function(){this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!s.e.isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var e=this.pageSize*this.currentPage,n=this.pageSize*(this.currentPage+1)-1;if(n>t&&(n=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),n===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var r=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=r-1}}else this.setZeroRows()},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!s.e.isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}else this.setZeroRows()},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},u([Object(o.a)("rowModel")],e.prototype,"rowModel",void 0),u([Object(o.a)("eventService")],e.prototype,"eventService",void 0),u([Object(o.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),u([Object(o.a)("selectionController")],e.prototype,"selectionController",void 0),u([Object(o.a)("columnApi")],e.prototype,"columnApi",void 0),u([Object(o.a)("gridApi")],e.prototype,"gridApi",void 0),u([o.e],e.prototype,"postConstruct",null),e=u([Object(o.b)("paginationProxy")],e)}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=function(){function t(){this.cacheVersion=0}return t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(t,e,n){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=n)},t.prototype.getValue=function(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]},i([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),i([r.e],t.prototype,"init",null),t=i([Object(r.b)("valueCache")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(7),i=n(1),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=function(t,e){return function(n,r){e(n,r,t)}},a=function(){function t(){this.consuming=!1}return t.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.init=function(){this.eventService.addEventListener(r.a.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(r.a.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(r.a.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(r.a.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(r.a.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(r.a.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(t){if(!this.consuming){var e=this.gridOptionsWrapper.getAlignedGrids();e&&e.forEach((function(e){if(e.api){var n=e.api.__getAlignedGridService();t(n)}}))}},t.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},t.prototype.fireColumnEvent=function(t){this.fireEvent((function(e){e.onColumnEvent(t)}))},t.prototype.fireScrollEvent=function(t){"horizontal"===t.direction&&this.fireEvent((function(e){e.onScrollEvent(t)}))},t.prototype.onScrollEvent=function(t){var e=this;this.onEvent((function(){e.gridPanel.setHorizontalScrollPosition(t.left)}))},t.prototype.getMasterColumns=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t)})):t.column&&e.push(t.column),e},t.prototype.getColumnIds=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t.getColId())})):t.column&&e.push(t.column.getColId()),e},t.prototype.onColumnEvent=function(t){var e=this;this.onEvent((function(){switch(t.type){case r.a.EVENT_COLUMN_MOVED:case r.a.EVENT_COLUMN_VISIBLE:case r.a.EVENT_COLUMN_PINNED:case r.a.EVENT_COLUMN_RESIZED:var n=t;e.processColumnEvent(n);break;case r.a.EVENT_COLUMN_GROUP_OPENED:var i=t;e.processGroupOpenedEvent(i);break;case r.a.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},t.prototype.processGroupOpenedEvent=function(t){var e,n=t.columnGroup;if(n){var r=n.getGroupId();e=this.columnController.getOriginalColumnGroup(r)}n&&!e||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+n.isExpanded()),this.columnController.setColumnGroupOpened(e,n.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(t){var e,n=this,i=t.column;if(i&&(e=this.columnController.getPrimaryColumn(i.getColId())),!i||e){var o=this.getColumnIds(t),s=this.getMasterColumns(t);switch(t.type){case r.a.EVENT_COLUMN_MOVED:var a=t;this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+a.toIndex),this.columnController.moveColumns(o,a.toIndex,"alignedGridChanged");break;case r.a.EVENT_COLUMN_VISIBLE:var u=t;this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+u.visible),this.columnController.setColumnsVisible(o,u.visible,"alignedGridChanged");break;case r.a.EVENT_COLUMN_PINNED:var l=t;this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+l.pinned),this.columnController.setColumnsPinned(o,l.pinned,"alignedGridChanged");break;case r.a.EVENT_COLUMN_RESIZED:var c=t;s.forEach((function(e){n.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+e.getActualWidth()),n.columnController.setColumnWidth(e.getColId(),e.getActualWidth(),!1,c.finished,"alignedGridChanged")}))}var h=this.gridPanel.isVerticalScrollShowing();this.gridOptionsWrapper.getAlignedGrids().forEach((function(t){t.api.setAlwaysShowVerticalScroll(h)}))}},o([Object(i.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),o([Object(i.a)("columnController")],t.prototype,"columnController",void 0),o([Object(i.a)("eventService")],t.prototype,"eventService",void 0),o([s(0,Object(i.h)("loggerFactory"))],t.prototype,"setBeans",null),o([i.e],t.prototype,"init",null),t=o([Object(i.b)("alignedGridsService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(1),i=n(0),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s={"ag-theme-material":{headerHeight:56,virtualItemHeight:40,rowHeight:48,chartMenuPanelWidth:220},"ag-theme-classic":{headerHeight:25,virtualItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-balham":{headerHeight:32,virtualItemHeight:28,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,virtualItemHeight:30,rowHeight:42,chartMenuPanelWidth:240}},a={headerHeight:["ag-header-row"],virtualItemHeight:["ag-virtual-list-container","ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},u={},l=function(){function t(){}return t.prototype.getSassVariable=function(t,e){var n="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"classic"),r=s[n][e],o=0;if(u[t]||(u[t]={}),u[t][e])return u[t][e];if(a[e]){var l=a[e],c=document.createElement("div"),h=l.reduce((function(e,n,r){0===r&&i.e.addCssClass(e,t);var o=document.createElement("div");return i.e.addCssClass(o,n),e.appendChild(o),o}),c);document.body&&(document.body.appendChild(c),o=parseInt(window.getComputedStyle(h).height,10),document.body.removeChild(c))}return u[t][e]=o||r,u[t][e]},t.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},t.prototype.useNativeCheckboxes=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("alpine")>=0},t.prototype.chartMenuPanelWidth=function(){return s[this.getTheme().themeFamily].chartMenuPanelWidth},t.prototype.getTheme=function(){for(var t,e=/\bag-(fresh|dark|blue|material|bootstrap|(?:theme-([\w\-]*)))\b/,n=this.eGridDiv;n&&!(t=e.exec(n.className));)n=n.parentElement;if(!t)return{};var r=t[0];if(void 0===t[2]){var o=r.replace("ag-","ag-theme-");i.e.doOnce((function(){return console.warn("ag-Grid: As of v19 old theme are no longer provided. Please replace "+r+" with "+o+".")}),"using-old-theme")}return{theme:r,el:n,themeFamily:r.replace(/-dark$/,"")}},o([Object(r.a)("eGridDiv")],t.prototype,"eGridDiv",void 0),t=o([Object(r.b)("environment")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),i=n(0),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=function(){function t(){}return t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(t){if(this.isRowSelectableFunc){this.recurseDown(t.childrenAfterGroup,(function(t){return t.childrenAfterGroup}))}},t.prototype.updateSelectableAfterFiltering=function(t){if(this.isRowSelectableFunc){this.recurseDown(t.childrenAfterGroup,(function(t){return t.childrenAfterFilter}))}},t.prototype.recurseDown=function(t,e){var n=this;t.forEach((function(t){if(t.group){var r;if(t.hasChildren()&&n.recurseDown(e(t),e),n.groupSelectsChildren){var o=i.e.find(e(t),"selectable",!0);r=i.e.exists(o)}else r=!!n.isRowSelectableFunc&&n.isRowSelectableFunc(t);t.setRowSelectable(r)}}))},o([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),o([r.e],t.prototype,"init",null),t=o([Object(r.b)("selectableService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),i=n(0),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=function(){function t(){}return t.prototype.observeResize=function(t,e,n){void 0===n&&(n=50);var r=this.frameworkOverrides,o=i.e.debounce(e,n),s=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return!!window.ResizeObserver&&!s?function(){var e=new window.ResizeObserver(o);return e.observe(t),function(){return e.disconnect()}}():function(){var o=i.e.offsetWidth(t),s=i.e.offsetHeight(t),a=!0;return function u(){if(a){var l=i.e.offsetWidth(t),c=i.e.offsetHeight(t);(l!==o||c!==s)&&(o=l,s=c,e()),r.setTimeout(u,n)}}(),function(){return a=!1}}()},o([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),o([Object(r.a)("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),t=o([Object(r.b)("resizeObserverService")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),i=n(0),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=function(){function t(){this.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,this.MOUSEOUT_HIDE_TOOLTIP_TIMEOUT=1e3,this.MOUSEOVER_SHOW_TOOLTIP_TIMEOUT=2e3,this.HIDE_SHOW_ONLY=!0,this.showTimeoutId=0,this.hideTimeoutId=0,this.registeredComponents={}}return t.prototype.registerTooltip=function(t){var e=this,n=t.getGui(),r=t.getCompId();this.registeredComponents[r]={tooltipComp:void 0,destroyFunc:void 0,eventDestroyFuncs:[t.addDestroyableEventListener(n,"mouseover",(function(n){return e.processMouseOver(n,t)})),t.addDestroyableEventListener(n,"mousemove",(function(t){return e.processMouseMove(t)})),t.addDestroyableEventListener(n,"mousedown",this.hideTooltip.bind(this)),t.addDestroyableEventListener(n,"mouseout",this.processMouseOut.bind(this))]},t.addDestroyFunc((function(){return e.unregisterTooltip(t)}))},t.prototype.unregisterTooltip=function(t){var e=t.getCompId(),n=this.registeredComponents[e];this.activeComponent===t&&this.hideTooltip(),t.isAlive()&&n&&n.eventDestroyFuncs.length&&n.eventDestroyFuncs.forEach((function(t){return t()})),delete this.registeredComponents[e]},t.prototype.processMouseOver=function(t,e){var n=this.MOUSEOVER_SHOW_TOOLTIP_TIMEOUT;if(this.activeComponent){if(this.lastHoveredComponent===this.activeComponent)return;n=200}else if(this.showTimeoutId&&this.lastHoveredComponent===e)return;this.clearTimers(this.HIDE_SHOW_ONLY),this.lastHoveredComponent!==e&&(this.lastHoveredComponent=e,this.lastMouseEvent=t,this.showTimeoutId=window.setTimeout(this.showTooltip.bind(this),n,t))},t.prototype.processMouseOut=function(t){var e=this.activeComponent,n=t.relatedTarget;if(e){if(!e.getGui().contains(n)){var r=this.registeredComponents[e.getCompId()];i.e.addCssClass(r.tooltipComp.getGui(),"ag-tooltip-hiding"),this.lastHoveredComponent=void 0,this.clearTimers(),this.hideTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.MOUSEOUT_HIDE_TOOLTIP_TIMEOUT)}}else{if(this.lastHoveredComponent){var o=this.lastHoveredComponent.getGui().contains(n);if(this.showTimeoutId&&o)return;o||(this.lastHoveredComponent=void 0)}this.clearTimers()}},t.prototype.processMouseMove=function(t){this.lastMouseEvent=t},t.prototype.showTooltip=function(t){var e=this.lastHoveredComponent,n=e,r=this.registeredComponents[e.getCompId()];this.hideTooltip();var i={api:this.gridApi,columnApi:this.columnApi,colDef:e.getComponentHolder(),column:n.getColumn&&n.getColumn(),context:this.gridOptionsWrapper.getContext(),rowIndex:n.getCellPosition&&n.getCellPosition().rowIndex,value:e.getTooltipText()};this.createTooltipComponent(i,r,t)},t.prototype.createTooltipComponent=function(t,e,n){var r=this,o=this.lastMouseEvent;o&&this.userComponentFactory.newTooltipComponent(t).then((function(t){if(e){e.tooltipComp=t;var n=t.getGui();i.e.containsClass(n,"ag-tooltip")||i.e.addCssClass(n,"ag-tooltip-custom");var s=r.popupService.addPopup(!1,n,!1);e.destroyFunc=function(){s(),t.destroy&&t.destroy()},r.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:o,ePopup:n,nudgeY:18}),r.activeComponent=r.lastHoveredComponent,r.hideTimeoutId=window.setTimeout(r.hideTooltip.bind(r),r.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}}))},t.prototype.hideTooltip=function(){var t=this.activeComponent;if(this.clearTimers(),t){var e=t.getCompId(),n=this.registeredComponents[e];this.activeComponent=void 0,n&&(n.destroyFunc&&n.destroyFunc(),this.clearRegisteredComponent(n))}},t.prototype.clearRegisteredComponent=function(t){delete t.destroyFunc,delete t.tooltipComp},t.prototype.clearTimers=function(t){void 0===t&&(t=!1),this.hideTimeoutId&&!t&&(window.clearTimeout(this.hideTimeoutId),this.hideTimeoutId=0),this.showTimeoutId&&(window.clearTimeout(this.showTimeoutId),this.showTimeoutId=0)},o([Object(r.a)("popupService")],t.prototype,"popupService",void 0),o([Object(r.a)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),o([Object(r.a)("columnApi")],t.prototype,"columnApi",void 0),o([Object(r.a)("gridApi")],t.prototype,"gridApi",void 0),o([Object(r.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=o([Object(r.b)("tooltipManager")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(10),i=n(8),o=n(1),s=n(0),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1,n||(n={});var i=n.title,o=n.enabled,s=n.items,a=n.suppressEnabledCheckbox,u=n.suppressOpenCloseIcons;return r.title=i,r.enabled=null==o||o,r.items=s||[],r.alignItems=n.alignItems||"center",null!=a&&(r.suppressEnabledCheckbox=a),null!=u&&(r.suppressOpenCloseIcons=u),r}return a(e,t),e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(s.e.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(s.e.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.setOpenClosedIcons(),this.addDestroyableEventListener(this.groupTitle,"click",(function(){return t.toggleGroupExpand()}))},e.prototype.setOpenClosedIcons=function(){var t=this.expanded;s.e.setDisplayed(this.eGroupClosedIcon,!t),s.e.setDisplayed(this.eGroupOpenedIcon,t)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){var e=this.getGui();this.alignItems!==t&&s.e.removeCssClass(e,"ag-alignment-"+this.alignItems),this.alignItems=t;var n="ag-alignment-"+this.alignItems;return"center"===t||s.e.containsClass(e,n)||s.e.addCssClass(e,n),this},e.prototype.toggleGroupExpand=function(t){var e=this.getGui();if(this.suppressOpenCloseIcons)return this.expanded=!0,s.e.removeCssClass(e,"ag-collapsed"),this;if(t=null!=t?t:!this.expanded,this.expanded===t)return this;if(this.expanded=t,this.setOpenClosedIcons(),s.e.addOrRemoveCssClass(e,"ag-collapsed",!t),this.expanded){this.dispatchEvent({type:"expanded"})}else{this.dispatchEvent({type:"collapsed"})}return this},e.prototype.addItems=function(t){var e=this;t.forEach((function(t){return e.addItem(t)}))},e.prototype.addItem=function(t){var e=this.groupContainer,n=t instanceof r.a?t.getGui():t;s.e.addCssClass(n,"ag-group-item"),e.appendChild(n),this.items.push(n)},e.prototype.hideItem=function(t,e){var n=this.items[e];s.e.addOrRemoveCssClass(n,"ag-hidden",t)},e.prototype.setTitle=function(t){return this.lbGroupTitle.innerText=t,this},e.prototype.setEnabled=function(t,e){return this.enabled=t,s.e.addOrRemoveCssClass(this.getGui(),"ag-disabled",!t),this.toggleGroupExpand(t),e||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var e=this;return this.cbGroupEnabled.onValueChange((function(n){e.setEnabled(n,!0),t(n)})),this},e.prototype.hideEnabledCheckbox=function(t){return s.e.addOrRemoveCssClass(this.eToolbar,"ag-hidden",t),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,s.e.addOrRemoveCssClass(this.getGui(),"ag-collapsible",!t),t&&this.toggleGroupExpand(!0),this},e.TEMPLATE='<div class="ag-group-component">\n            <div class="ag-group-component-title-bar" ref="groupTitle">\n                 <span class="ag-column-group-icons">\n                    <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n                    <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                </span>\n                <span ref="lbGroupTitle" class="ag-group-component-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-component-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-component-container"></div>\n        </div>',u([Object(o.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),u([Object(i.c)("groupTitle")],e.prototype,"groupTitle",void 0),u([Object(i.c)("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),u([Object(i.c)("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),u([Object(i.c)("eToolbar")],e.prototype,"eToolbar",void 0),u([Object(i.c)("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),u([Object(i.c)("lbGroupTitle")],e.prototype,"lbGroupTitle",void 0),u([Object(i.c)("eContainer")],e.prototype,"groupContainer",void 0),u([o.e],e.prototype,"postConstruct",null),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(42),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){var n=t.call(this)||this;return n.className="ag-text-area",n.displayTag="textarea",n.inputType="",n.setTemplate(n.TEMPLATE.replace(/%displayField%/g,n.displayTag)),e&&(n.config=e),n}return i(e,t),e.prototype.setValue=function(e,n){var r=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,r},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(8),i=n(80),o=n(33),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.labelAlignment="top",n}return s(e,t),e.prototype.onValueChange=function(t){var e=this,n=o.a.EVENT_CHANGED;return this.addDestroyableEventListener(this.eText,n,(function(){var n=parseFloat(e.eText.getValue());e.eSlider.setValue(n.toString(),!0),t(n||0)})),this.addDestroyableEventListener(this.eSlider,n,(function(){var n=e.eSlider.getValue();e.eText.setValue(n,!0),t(parseFloat(n))})),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:o.a.EVENT_CHANGED}),this)},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',a([Object(r.c)("eLabel")],e.prototype,"eLabel",void 0),a([Object(r.c)("eSlider")],e.prototype,"eSlider",void 0),a([Object(r.c)("eText")],e.prototype,"eText",void 0),e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(76),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.className="ag-number-field",e.inputType="number",e}return i(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.addDestroyableEventListener(this.eInput,"blur",(function(){var t=e.normalizeValue(e.eInput.value);e.value!==t&&e.setValue(t)}))},e.prototype.normalizeValue=function(t){if(""===t)return"";this.precision&&(t=this.adjustPrecision(t));var e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t){if(this.precision){var e=parseFloat(t).toFixed(this.precision);t=parseFloat(e).toString()}return t},e.prototype.setMin=function(t){return this.min===t?this:(this.min=t,null!=this.min?this.eInput.setAttribute("min",t.toString()):this.eInput.removeAttribute("min"),this)},e.prototype.setMax=function(t){return this.max===t?this:(this.max=t,null!=this.max?this.eInput.setAttribute("max",t.toString()):this.eInput.removeAttribute("max"),this)},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,null!=t?this.eInput.setAttribute("step",t.toString()):this.eInput.removeAttribute("step"),this)},e.prototype.setValue=function(e,n){return(e=this.adjustPrecision(e))!=this.normalizeValue(e)?this:t.prototype.setValue.call(this,e,n)},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(42),i=n(0),o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){var n=t.call(this)||this;return n.className="ag-range-field",n.displayTag="input",n.inputType="range",n.setTemplate(n.TEMPLATE.replace(/%displayField%/g,n.displayTag)),e&&(n.config=e),n}return o(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this);var e=this.config,n=e.min,r=e.max,i=e.step;null!=n&&this.setMinValue(n),null!=r&&this.setMaxValue(r),this.setStep(i||1)},e.prototype.addInputListeners=function(){var t=this,e=i.e.isBrowserIE()?"change":"input";this.addDestroyableEventListener(this.eInput,e,(function(e){var n=e.target.value;t.setValue(n)}))},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.step=t,this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(e,n){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var r=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,r},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(42),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(){var e=t.call(this)||this;return e.className="ag-select",e.displayTag="select",e.inputType="",e.setTemplate(e.TEMPLATE.replace(/%displayField%/g,e.displayTag)),e}return i(e,t),e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){var e=document.createElement("option");return e.value=t.value,e.text=t.text||t.value,this.eInput.appendChild(e),this},e.prototype.setValue=function(e,n){var r=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,r},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(80),i=n(8),o=n(1),s=n(33),a=n(0),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.radius=0,n.offsetX=0,n.offsetY=0,n}return u(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(t){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(t){return e.calculateAngleDrag(t)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange((function(t){null!=t&&""!==t||(t="0"),t=e.eAngleValue.normalizeValue(t);var n=parseFloat(t);n>180&&(n-=360),e.setValue(n)})),this.updateNumberInput(),a.e.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addDestroyableEventListener(this,s.a.EVENT_CHANGED,(function(){e.eAngleValue.getInputElement().contains(document.activeElement)||e.updateNumberInput()}))},e.prototype.updateNumberInput=function(){var t=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(t.toString())},e.prototype.positionChildCircle=function(t){var e=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,r=e.width/2,i=e.height/2;n.style.left=r+8*Math.cos(t)+"px",n.style.top=i+8*Math.sin(t)+"px"},e.prototype.calculatePolar=function(){var t=this.offsetX,e=this.offsetY,n=Math.atan2(e,t);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(t*t+e*e),this.positionChildCircle(n)},e.prototype.calculateCartesian=function(){var t=this.toRadians(this.getValue()),e=this.getRadius();this.setOffsetX(Math.cos(t)*e).setOffsetY(Math.sin(t)*e)},e.prototype.setOffsetX=function(t){return this.offsetX!==t&&(this.offsetX=t,this.calculatePolar()),this},e.prototype.setOffsetY=function(t){return this.offsetY!==t&&(this.offsetY=t,this.calculatePolar()),this},e.prototype.calculateAngleDrag=function(t){var e=this.parentCircleRect,n=e.width/2,r=e.height/2,i=t.clientX-e.left-n,o=t.clientY-e.top-r,s=Math.atan2(o,i);this.setValue(s,!0)},e.prototype.toDegrees=function(t){return t/Math.PI*180},e.prototype.toRadians=function(t){return t/180*Math.PI},e.prototype.normalizeNegativeValue=function(t){return t<0?360+t:t},e.prototype.normalizeAngle180=function(t){return(t%=2*Math.PI)<-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t},e.prototype.getRadius=function(){return this.radius},e.prototype.setRadius=function(t){return this.radius===t?this:(this.radius=t,this.calculateCartesian(),this)},e.prototype.onValueChange=function(t){var e=this;return this.addDestroyableEventListener(this,s.a.EVENT_CHANGED,(function(){t(e.degrees)})),this},e.prototype.getValue=function(t){return t?this.toRadians(this.degrees):this.degrees},e.prototype.setValue=function(t,e){var n;return n=e?t:this.normalizeAngle180(this.toRadians(t)),t=this.toDegrees(n),this.degrees!==t&&(this.degrees=Math.floor(t),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:s.a.EVENT_CHANGED})),this},e.prototype.setWidth=function(t){return a.e.setFixedWidth(this.getGui(),t),this},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.dragService.removeDragSource(this.dragListener)},e.TEMPLATE='<div class="ag-angle-select">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-parent-circle">\n                        <div ref="eChildCircle" class="ag-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',l([Object(i.c)("eLabel")],e.prototype,"eLabel",void 0),l([Object(i.c)("eParentCircle")],e.prototype,"eParentCircle",void 0),l([Object(i.c)("eChildCircle")],e.prototype,"eChildCircle",void 0),l([Object(i.c)("eAngleValue")],e.prototype,"eAngleValue",void 0),l([Object(o.a)("dragService")],e.prototype,"dragService",void 0),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(74),i=n(0),o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.className="ag-toggle-button",e.nativeInputClassName="ag-native-toggle-button",e.inputType="checkbox",e}return o(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.gridOptionsWrapper.useNativeCheckboxes()||i.e.addCssClass(this.eIconEl,"ag-icon")},e.prototype.updateIcons=function(){if(!this.gridOptionsWrapper.useNativeCheckboxes()){var t=this.getValue();i.e.addOrRemoveCssClass(this.eIconEl,"ag-icon-toggle-on",t),i.e.addOrRemoveCssClass(this.eIconEl,"ag-icon-toggle-off",!t)}},e.prototype.setValue=function(e,n){return t.prototype.setValue.call(this,e,n),i.e.addOrRemoveCssClass(this.getGui(),"ag-selected",this.getValue()),this},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(5),i=n(1),o=n(0),s=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=function(){function t(){}return t.prototype.getRowNode=function(t){switch(t.rowPinned){case r.a.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case r.a.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},t.prototype.sameRow=function(t,e){return!t&&!e||!(t&&!e||!t&&e)&&(t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned)},t.prototype.before=function(t,e){switch(t.rowPinned){case r.a.PINNED_TOP:if(e.rowPinned!==r.a.PINNED_TOP)return!0;break;case r.a.PINNED_BOTTOM:if(e.rowPinned!==r.a.PINNED_BOTTOM)return!1;break;default:if(o.e.exists(e.rowPinned))return e.rowPinned!==r.a.PINNED_TOP}return t.rowIndex<e.rowIndex},s([Object(i.a)("rowModel")],t.prototype,"rowModel",void 0),s([Object(i.a)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),t=s([Object(i.b)("rowPositionUtils")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=function(){function t(){}return t.prototype.createId=function(t){var e=t.rowIndex,n=t.rowPinned,r=t.column;return this.createIdFromValues(e,r,n)},t.prototype.createIdFromValues=function(t,e,n){return t+"."+(null==n?"null":n)+"."+e.getId()},t.prototype.equals=function(t,e){var n=t.column===e.column,r=t.rowPinned===e.rowPinned,i=t.rowIndex===e.rowIndex;return n&&r&&i},t=i([Object(r.b)("cellPositionUtils")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(19),i=n(1),o=n(7),s=n(5),a=n(0),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(){function t(){}return t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(t){var e=t===s.a.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;return a.e.missingOrEmpty(e)},t.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},t.prototype.getRowAtPixel=function(t,e){var n=e===s.a.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(a.e.missingOrEmpty(n))return 0;for(var r=0;r<n.length;r++){var i=n[r];if(i.rowTop+i.rowHeight-1>=t)return r}return n.length-1},t.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0);var e={type:o.a.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1);var e={type:o.a.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.createNodesFromData=function(t,e){var n=this,i=[];if(t){var o=0;t.forEach((function(t,a){var u=new r.a;n.context.wireBean(u),u.data=t,u.id=(e?"t":"b")+"-"+a,u.rowPinned=e?s.a.PINNED_TOP:s.a.PINNED_BOTTOM,u.setRowTop(o),u.setRowHeight(n.gridOptionsWrapper.getRowHeightForNode(u).height),u.setRowIndex(a),o+=u.rowHeight,i.push(u)}))}return i},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},t.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},t.prototype.forEachPinnedTopRow=function(t){a.e.missingOrEmpty(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},t.prototype.forEachPinnedBottomRow=function(t){a.e.missingOrEmpty(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(t){if(t&&0!==t.length){var e=a.e.last(t);return e.rowTop+e.rowHeight}return 0},u([Object(i.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),u([Object(i.a)("eventService")],t.prototype,"eventService",void 0),u([Object(i.a)("context")],t.prototype,"context",void 0),u([Object(i.a)("columnApi")],t.prototype,"columnApi",void 0),u([Object(i.a)("gridApi")],t.prototype,"gridApi",void 0),u([i.e],t.prototype,"init",null),t=u([Object(i.b)("pinnedRowModel")],t)}()},function(t,e,n){"use strict";var r=n(18),i=n(1),o=n(7),s=n(5),a=n(0),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(){function t(t){this.childCount=0,this.rowTemplatesToAdd=[],this.afterGuiAttachedCallbacks=[],this.lastMadeVisibleTime=0,this.eContainer=t.eContainer,this.eViewport=t.eViewport,t.eWrapper&&(this.eWrapper=t.eWrapper),this.hideWhenNoChildren=t.hideWhenNoChildren}return t.prototype.setVerticalScrollPosition=function(t){this.scrollTop=t},t.prototype.postConstruct=function(){this.checkDomOrder(),this.checkVisibility(),this.gridOptionsWrapper.addEventListener(r.a.PROP_DOM_LAYOUT,this.checkDomOrder.bind(this))},t.prototype.checkDomOrder=function(){this.domOrder=this.gridOptionsWrapper.isEnsureDomOrder()},t.prototype.getRowElement=function(t){return this.eContainer.querySelector('[comp-id="'+t+'"]')},t.prototype.setHeight=function(t){null!=t?(this.eContainer.style.height=t+"px",this.eWrapper&&(this.eWrapper.style.height=t+"px")):this.eContainer.style.height=""},t.prototype.flushRowTemplates=function(){if(0!==this.rowTemplatesToAdd.length){var t=this.rowTemplatesToAdd.join("");a.e.appendHtml(this.eContainer,t),this.rowTemplatesToAdd.length=0}this.afterGuiAttachedCallbacks.forEach((function(t){return t()})),this.afterGuiAttachedCallbacks.length=0,this.lastPlacedElement=null},t.prototype.appendRowTemplate=function(t,e){this.domOrder?this.lastPlacedElement=a.e.insertTemplateWithDomOrder(this.eContainer,t,this.lastPlacedElement):this.rowTemplatesToAdd.push(t),this.afterGuiAttachedCallbacks.push(e),this.childCount++,this.checkVisibility()},t.prototype.ensureDomOrder=function(t){this.domOrder&&(a.e.ensureDomOrder(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},t.prototype.removeRowElement=function(t){this.eContainer.removeChild(t),this.childCount--,this.checkVisibility()},t.prototype.checkVisibility=function(){if(this.hideWhenNoChildren){var t=this.eViewport?this.eViewport:this.eContainer,e=this.childCount>0;this.visible!==e&&(this.visible=e,this.lastMadeVisibleTime=(new Date).getTime(),a.e.setDisplayed(t,e),e&&this.eViewport&&(this.eViewport.scrollTop=this.scrollTop))}},t.prototype.isMadeVisibleRecently=function(){return(new Date).getTime()-this.lastMadeVisibleTime<500},u([Object(i.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),u([i.e],t.prototype,"postConstruct",null),t}(),c=n(72),h=n(58),p=n(32),d=n(16),f=n(17),g=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},v=function(){function t(t,e){this.eContainer=t,this.gridPanel=e}return t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(t){return t===d.b.RowDrag},t.prototype.getIconName=function(){return d.a.ICON_MOVE},t.prototype.onDragEnter=function(t){this.dispatchEvent(f.a.EVENT_ROW_DRAG_ENTER,t),this.dragAndDropService.setGhostIcon(d.a.ICON_MOVE),t.dragItem.rowNode.setDragging(!0),this.onEnterOrDragging(t)},t.prototype.onDragging=function(t){this.onEnterOrDragging(t)},t.prototype.onEnterOrDragging=function(t){this.dispatchEvent(f.a.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var e=this.normaliseForScroll(t.y);this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(t,e),this.checkCenterForScrolling(e)},t.prototype.doManagedDrag=function(t,e){var n=t.dragItem.rowNode;this.clientSideRowModel.ensureRowAtPixel(n,e)&&(this.focusedCellController.clearFocusedCell(),this.rangeController&&this.rangeController.removeAllCellRanges())},t.prototype.normaliseForScroll=function(t){return this.gridOptionsWrapper.getDomLayout()===s.a.DOM_LAYOUT_NORMAL?t+this.gridPanel.getVScrollPosition().top:t},t.prototype.checkCenterForScrolling=function(t){var e=this.gridPanel.getVScrollPosition();this.needToMoveUp=t<e.top+50,this.needToMoveDown=t>e.bottom-50,this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100))},t.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null)},t.prototype.moveInterval=function(){var t,e;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100),this.needToMoveDown?e=this.gridPanel.scrollVertically(t):this.needToMoveUp&&(e=this.gridPanel.scrollVertically(-t)),0!==e&&this.onDragging(this.lastDraggingEvent)},t.prototype.dispatchEvent=function(t,e){var n,r=this.normaliseForScroll(e.y),i=-1,o=null;switch(r>this.rowModel.getCurrentPageHeight()||(i=this.rowModel.getRowIndexAtPixel(r),o=this.rowModel.getRow(i)),e.vDirection){case d.d.Down:n="down";break;case d.d.Up:n="up";break;default:n=null}var s={type:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:e.event,node:e.dragItem.rowNode,overIndex:i,overNode:o,y:r,vDirection:n};this.eventService.dispatchEvent(s)},t.prototype.onDragLeave=function(t){this.dispatchEvent(f.a.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t)},t.prototype.onDragStop=function(t){this.dispatchEvent(f.a.EVENT_ROW_DRAG_END,t),this.stopDragging(t)},t.prototype.stopDragging=function(t){this.ensureIntervalCleared(),t.dragItem.rowNode.setDragging(!1)},g([Object(i.a)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),g([Object(i.a)("rowModel")],t.prototype,"rowModel",void 0),g([Object(i.a)("focusedCellController")],t.prototype,"focusedCellController",void 0),g([Object(i.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),g([Object(i.d)("rangeController")],t.prototype,"rangeController",void 0),g([Object(i.a)("eventService")],t.prototype,"eventService",void 0),g([i.e],t.prototype,"postConstruct",null),t}(),m=n(10),y=n(8),b=n(14),w=n(15);n.d(e,"a",(function(){return O}));var C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},_='<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="headerRoot" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-top" ref="eLeftTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-viewport" ref="eTopViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-top-container" ref="eTopContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-top" ref="eRightTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-full-width-container" ref="eTopFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-cols-container" ref="eLeftContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-center-cols-clipper" ref="eCenterColsClipper" role="presentation" unselectable="on">\n                <div class="ag-center-cols-viewport" ref="eCenterViewport" role="presentation" unselectable="on">\n                    <div class="ag-center-cols-container" ref="eCenterContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>\n            <div class="ag-pinned-right-cols-container" ref="eRightContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-full-width-container" ref="eFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-bottom" ref="eLeftBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-viewport" ref="eBottomViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-bottom-container" ref="eBottomContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-bottom" ref="eRightBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-full-width-container" ref="eBottomFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-horizontal-scroll" ref="eHorizontalScrollBody" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eHorizontalLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eBodyHorizontalScrollViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eBodyHorizontalScrollContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eHorizontalRightSpacer"></div>\n        </div>\n        <ag-overlay-wrapper ref="overlayWrapper"></ag-overlay-wrapper>\n    </div>',O=function(t){function e(){var e=t.call(this,_)||this;return e.scrollLeft=-1,e.scrollTop=-1,e.resetLastHorizontalScrollElementDebounce=a.e.debounce(e.resetLastHorizontalScrollElement.bind(e),500),e}return C(e,t),e.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},e.prototype.getHScrollPosition=function(){return{left:this.eCenterViewport.scrollLeft,right:this.eCenterViewport.scrollLeft+this.eCenterViewport.offsetWidth}},e.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),e=this.gridOptionsWrapper.isSuppressNoRowsOverlay();this[t&&!e?"showNoRowsOverlay":"hideOverlay"]()},e.prototype.onNewColumnsLoaded=function(){this.columnController.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},e.prototype.init=function(){var t=this;this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===s.a.DOM_LAYOUT_PRINT,this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport),this.suppressScrollOnFloatingRow(),this.setupRowAnimationCssClass(),this.buildRowContainerComponents(),this.addEventListeners(),this.addDragListeners(),this.addScrollListener(),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.disableBrowserDragging(),this.addMouseListeners(),this.addKeyboardEvents(),this.addBodyViewportListener(),this.addStopEditingWhenGridLosesFocus(),this.mockContextMenuForIPad(),this.addRowDragListener(),this.$scope&&this.addAngularApplyCheck(),this.onDisplayedColumnsWidthChanged(),this.gridApi.registerGridComp(this),this.alignedGridsService.registerGridComp(this),this.headerRootComp.registerGridComp(this),this.navigationService.registerGridComp(this),this.heightScaler.registerGridComp(this),this.autoHeightCalculator.registerGridComp(this),this.columnAnimationService.registerGridComp(this),this.autoWidthCalculator.registerGridComp(this),this.paginationAutoPageSizeService.registerGridComp(this),this.beans.registerGridComp(this),this.rowRenderer.registerGridComp(this),this.rangeController&&this.rangeController.registerGridComp(this),[this.eCenterViewport,this.eBodyViewport].forEach((function(e){var n=t.resizeObserverService.observeResize(e,t.onCenterViewportResized.bind(t));t.addDestroyFunc((function(){return n()}))}))},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===s.a.DOM_LAYOUT_PRINT;this.printLayout!==t&&(this.printLayout=t,this.setWidthsOfContainers(),this.setPinnedContainerSize())},e.prototype.onCenterViewportResized=function(){a.e.isVisible(this.eCenterViewport)?(this.checkViewportAndScrolls(),this.columnController.refreshFlexedColumns(this.getCenterWidth())):this.bodyHeight=0},e.prototype.setColumnMovingCss=function(t){this.addOrRemoveCssClass("ag-column-moving",t)},e.prototype.setCellTextSelection=function(t){void 0===t&&(t=!1),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(e){return a.e.addOrRemoveCssClass(e,"ag-selectable",t)}))},e.prototype.addRowDragListener=function(){var t=new v(this.eBodyViewport,this);this.getContext().wireBean(t),this.dragAndDropService.addDropTarget(t)},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()){var e=function(e){for(var n=!1,r=e.relatedTarget;a.e.exists(r)&&!n;){var i=!!t.gridOptionsWrapper.getDomData(r,c.a.DOM_KEY_POPUP_EDITOR_WRAPPER),o=t.eBodyViewport===r||t.eBottom===r||t.eTop===r;n=i||o,r=r.parentNode}n||t.rowRenderer.stopEditing()};this.addDestroyableEventListener(this.eBodyViewport,"focusout",e),this.addDestroyableEventListener(this.eTop,"focusout",e),this.addDestroyableEventListener(this.eBottom,"focusout",e)}},e.prototype.addAngularApplyCheck=function(){var t=this,e=!1,n=function(){e||(e=!0,window.setTimeout((function(){e=!1,t.$scope.$apply()}),0))};this.addDestroyableEventListener(this.eventService,o.a.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addDestroyableEventListener(this.eventService,o.a.EVENT_VIRTUAL_COLUMNS_CHANGED,n)},e.prototype.disableBrowserDragging=function(){this.addGuiEventListener("dragstart",(function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}))},e.prototype.addEventListeners=function(){this.addDestroyableEventListener(this.eventService,o.a.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addDestroyableEventListener(this.eventService,o.a.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addDestroyableEventListener(this.eventService,o.a.EVENT_PINNED_ROW_DATA_CHANGED,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.eventService,o.a.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addDestroyableEventListener(this.eventService,o.a.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addDestroyableEventListener(this.eventService,o.a.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,r.a.PROP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,r.a.PROP_PIVOT_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,r.a.PROP_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,r.a.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,r.a.PROP_FLOATING_FILTERS_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,r.a.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this))},e.prototype.addDragListeners=function(){var t=this;this.gridOptionsWrapper.isEnableRangeSelection()&&!a.e.missing(this.rangeController)&&[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom].forEach((function(e){var n={eElement:e,onDragStart:t.rangeController.onDragStart.bind(t.rangeController),onDragStop:t.rangeController.onDragStop.bind(t.rangeController),onDragging:t.rangeController.onDragging.bind(t.rangeController)};t.dragService.addDragSource(n),t.addDestroyFunc((function(){return t.dragService.removeDragSource(n)}))}))},e.prototype.addMouseListeners=function(){var t=this;["click","mousedown","dblclick","contextmenu","mouseover","mouseout"].forEach((function(e){var n=t.processMouseEvent.bind(t,e);t.eAllCellContainers.forEach((function(r){return t.addDestroyableEventListener(r,e,n)}))}))},e.prototype.addKeyboardEvents=function(){var t=this;["keydown","keypress"].forEach((function(e){var n=t.processKeyboardEvent.bind(t,e);t.eAllCellContainers.forEach((function(r){t.addDestroyableEventListener(r,e,n)}))}))},e.prototype.addBodyViewportListener=function(){var t=this;this.addDestroyableEventListener(this.eBodyViewport,"contextmenu",(function(e){var n=a.e.getTarget(e);n!==t.eBodyViewport&&n!==t.eCenterViewport||(t.onContextMenu(e,null,null,null,null),t.preventDefaultOnContextMenu(e))}))},e.prototype.getBodyClientRect=function(){if(this.eBodyViewport)return this.eBodyViewport.getBoundingClientRect()},e.prototype.getRowForEvent=function(t){for(var e=a.e.getTarget(t);e;){var n=this.gridOptionsWrapper.getDomData(e,h.a.DOM_DATA_KEY_RENDERED_ROW);if(n)return n;e=e.parentElement}return null},e.prototype.processKeyboardEvent=function(t,e){var n=a.e.getCellCompForEvent(this.gridOptionsWrapper,e);if(n){var r=n.getRenderedRow().getRowNode(),i=n.getColumn(),s=n.isEditing();if(!a.e.isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,e,r,i,s))switch(t){case"keydown":!s&&this.navigationService.handlePageScrollingKey(e)||n.onKeyDown(e),this.doGridOperations(e,n);break;case"keypress":n.onKeyPress(e)}if("keydown"===t){var u=n.createEvent(e,o.a.EVENT_CELL_KEY_DOWN);this.beans.eventService.dispatchEvent(u)}if("keypress"===t){var l=n.createEvent(e,o.a.EVENT_CELL_KEY_PRESS);this.beans.eventService.dispatchEvent(l)}}},e.prototype.doGridOperations=function(t,e){if((t.ctrlKey||t.metaKey)&&!e.isEditing()&&this.mouseEventService.isEventFromThisGrid(t))switch(t.which){case s.a.KEY_A:return this.onCtrlAndA(t);case s.a.KEY_C:return this.onCtrlAndC(t);case s.a.KEY_V:return this.onCtrlAndV();case s.a.KEY_D:return this.onCtrlAndD(t);case s.a.KEY_Z:return t.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case s.a.KEY_Y:return this.undoRedoService.redo()}},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.processMouseEvent=function(t,e){if(this.mouseEventService.isEventFromThisGrid(e)&&!a.e.isStopPropagationForAgGrid(e)){var n=this.getRowForEvent(e),r=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?this.handleContextMenuMouseEvent(e,null,n,r):(r&&r.onMouseEvent(t,e),n&&n.onMouseEvent(t,e)),this.preventDefaultOnContextMenu(e)}},e.prototype.mockContextMenuForIPad=function(){var t=this;a.e.isIOSUserAgent()&&this.eAllCellContainers.forEach((function(e){var n=new p.a(e);t.addDestroyableEventListener(n,p.a.EVENT_LONG_TAP,(function(e){var n=t.getRowForEvent(e.touchEvent),r=t.mouseEventService.getRenderedCellForEvent(e.touchEvent);t.handleContextMenuMouseEvent(null,e.touchEvent,n,r)})),t.addDestroyFunc((function(){return n.destroy()}))}))},e.prototype.handleContextMenuMouseEvent=function(t,e,n,r){var i=n?n.getRowNode():null,o=r?r.getColumn():null,s=null;if(o){var a=t||e;r.dispatchCellContextMenuEvent(a),s=this.valueService.getValue(o,i)}this.onContextMenu(t,e,i,o,s)},e.prototype.onContextMenu=function(t,e,n,r,i){if((this.gridOptionsWrapper.isAllowContextMenuWithControlKey()||!t||!t.ctrlKey&&!t.metaKey)&&this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()){var o=t||e.touches[0];this.contextMenuFactory.showMenu(n,r,i,o),(t||e).preventDefault()}},e.prototype.preventDefaultOnContextMenu=function(t){var e=this.gridOptionsWrapper,n=t.which;(e.isPreventDefaultOnContextMenu()||e.isSuppressMiddleClickScrolls()&&2===n)&&t.preventDefault()},e.prototype.onCtrlAndA=function(t){var e=this.columnController,n=this.pinnedRowModel,r=this.paginationProxy,i=this.rangeController,o=s.a.PINNED_BOTTOM,u=s.a.PINNED_TOP;if(i&&r.isRowsToRender()){var l=[n.isEmpty(u),n.isEmpty(o)],c=l[0]?null:u,h=void 0,p=void 0;l[1]?(h=null,p=this.paginationProxy.getRowCount()-1):(h=o,p=n.getPinnedBottomRowData().length-1);var d=e.getAllDisplayedColumns();if(a.e.missingOrEmpty(d))return;i.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:p,rowEndPinned:h,columnStart:d[0],columnEnd:a.e.last(d)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){if(this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()){var e=this.focusedCellController.getFocusedCell();this.clipboardService.copyToClipboard(),t.preventDefault(),e&&this.focusedCellController.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)}},e.prototype.onCtrlAndV=function(){b.a.isRegistered(w.a.ClipboardModule)&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){b.a.isRegistered(w.a.ClipboardModule)&&(this.clipboardService.copyRangeDown(),t.preventDefault())},e.prototype.ensureIndexVisible=function(t,e){if(!this.printLayout){var n=this.paginationProxy.getRowCount();if("number"!==typeof t||t<0||t>=n)console.warn("invalid row index for ensureIndexVisible: "+t);else{this.paginationProxy.goToPageWithIndex(t);var r,i=this.paginationProxy.getRow(t);do{var o=i.rowTop,s=i.rowHeight,a=this.paginationProxy.getPixelOffset(),u=i.rowTop-a,l=u+i.rowHeight,c=this.getVScrollPosition(),h=this.heightScaler.getOffset(),p=c.top+h,d=c.bottom+h,f=d-p,g=this.heightScaler.getScrollPositionForPixel(u),v=this.heightScaler.getScrollPositionForPixel(l-f),m=Math.min((g+v)/2,u),y=null;"top"===e?y=g:"bottom"===e?y=v:"middle"===e?y=m:p>u?y=g:d<l&&(y=v),null!==y&&(this.eBodyViewport.scrollTop=y,this.rowRenderer.redrawAfterScroll()),r=o!==i.rowTop||s!==i.rowHeight}while(r);this.animationFrameService.flushAllFrames()}}},e.prototype.getCenterWidth=function(){return this.eCenterViewport.clientWidth},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return a.e.addOrRemoveCssClass(this.eBodyViewport,"ag-force-vertical-scroll",t),t||a.e.isVerticalScrollShowing(this.eBodyViewport)},e.prototype.isHorizontalScrollShowing=function(){return a.e.isHorizontalScrollShowing(this.eCenterViewport)},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.setPinnedContainerSize(),this.scrollLeft!==this.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.eCenterViewport)},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:!1,verticalScrollShowing:!1};t.verticalScrollShowing=this.isVerticalScrollShowing(),t.horizontalScrollShowing=this.isHorizontalScrollShowing(),this.scrollVisibleService.setScrollsVisible(t),this.setHorizontalScrollVisible(t.horizontalScrollShowing),this.setVerticalScrollPaddingVisible(t.verticalScrollShowing)},e.prototype.setHorizontalScrollVisible=function(t){var e=this.gridOptionsWrapper.isSuppressHorizontalScroll(),n=t&&this.gridOptionsWrapper.getScrollbarWidth()||0,r=e?0:n,i=a.e.isBrowserIE()&&t;this.eCenterViewport.style.height="calc(100% + "+n+"px)",a.e.setFixedHeight(this.eHorizontalScrollBody,r),a.e.setFixedHeight(this.eBodyHorizontalScrollViewport,r+(i?1:0)),a.e.setFixedHeight(this.eBodyHorizontalScrollContainer,r)},e.prototype.setVerticalScrollPaddingVisible=function(t){var e=t?"scroll":"hidden";this.eTop.style.overflowY=this.eBottom.style.overflowY=e,this.setFakeHScrollSpacerWidths()},e.prototype.updateRowCount=function(){var t=(this.headerRootComp.getHeaderRowCount()+this.paginationProxy.getRowCount()).toString();this.getGui().setAttribute("aria-rowcount",t)},e.prototype.updateColumnCount=function(){var t=this.beans.columnController.getAllDisplayedColumns();this.getGui().setAttribute("aria-colcount",t.length.toString())},e.prototype.ensureColumnVisible=function(t){var e=this.columnController.getGridColumn(t);if(e)if(e.isPinned())console.warn("calling ensureIndexVisible on a "+e.getPinned()+" pinned column doesn't make sense for column "+e.getColId());else if(this.columnController.isColumnDisplayed(e)){var n,r,i=e.getLeft(),o=i+e.getActualWidth(),s=this.eCenterViewport.clientWidth,a=this.getCenterViewportScrollLeft(),u=this.columnController.getBodyContainerWidth();this.enableRtl?(n=u-a-s,r=u-a):(n=a,r=s+a);var l=n>i,c=r<o,h=s<e.getActualWidth(),p=l||h,d=c,f=this.getCenterViewportScrollLeft();(p||d)&&(f=this.enableRtl?p?u-s-i:u-o:p?i:o-s,this.setCenterViewportScrollLeft(f)),this.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}else console.warn("column is not currently visible")},e.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.overlayWrapper.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.overlayWrapper.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.overlayWrapper.hideOverlay()},e.prototype.sizeColumnsToFit=function(t){var e=this,n=this.eBodyViewport.clientWidth;n>0?this.columnController.sizeColumnsToFit(n,"sizeColumnsToFit"):void 0===t?window.setTimeout((function(){e.sizeColumnsToFit(100)}),0):100===t?window.setTimeout((function(){e.sizeColumnsToFit(500)}),100):500===t?window.setTimeout((function(){e.sizeColumnsToFit(-1)}),500):console.warn("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.getCenterContainer=function(){return this.eCenterContainer},e.prototype.getDropTargetBodyContainers=function(){return[this.eCenterViewport,this.eTopViewport,this.eBottomViewport]},e.prototype.getDropTargetLeftContainers=function(){return[this.eLeftContainer,this.eLeftBottom,this.eLeftTop]},e.prototype.getDropTargetRightContainers=function(){return[this.eRightContainer,this.eRightBottom,this.eRightTop]},e.prototype.buildRowContainerComponents=function(){var t=this;this.eAllCellContainers=[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom,this.eFullWidthContainer],this.rowContainerComponents={body:new l({eContainer:this.eCenterContainer,eWrapper:this.eCenterColsClipper,eViewport:this.eBodyViewport}),fullWidth:new l({eContainer:this.eFullWidthContainer}),pinnedLeft:new l({eContainer:this.eLeftContainer}),pinnedRight:new l({eContainer:this.eRightContainer}),floatingTop:new l({eContainer:this.eTopContainer}),floatingTopPinnedLeft:new l({eContainer:this.eLeftTop}),floatingTopPinnedRight:new l({eContainer:this.eRightTop}),floatingTopFullWidth:new l({eContainer:this.eTopFullWidthContainer,hideWhenNoChildren:!0}),floatingBottom:new l({eContainer:this.eBottomContainer}),floatingBottomPinnedLeft:new l({eContainer:this.eLeftBottom}),floatingBottomPinnedRight:new l({eContainer:this.eRightBottom}),floatingBottomFullWith:new l({eContainer:this.eBottomFullWidthContainer,hideWhenNoChildren:!0})},a.e.iterateObject(this.rowContainerComponents,(function(e,n){n&&t.getContext().wireBean(n)}))},e.prototype.setupRowAnimationCssClass=function(){var t=this,e=function(){var e=t.gridOptionsWrapper.isAnimateRows()&&!t.heightScaler.isScaling();a.e.addOrRemoveCssClass(t.eBodyViewport,"ag-row-animation",e),a.e.addOrRemoveCssClass(t.eBodyViewport,"ag-row-no-animation",!e)};e(),this.addDestroyableEventListener(this.eventService,o.a.EVENT_HEIGHT_SCALE_CHANGED,e)},e.prototype.suppressScrollOnFloatingRow=function(){var t=this;this.addDestroyableEventListener(this.eTopViewport,"scroll",(function(){return t.eTopViewport.scrollLeft=0})),this.addDestroyableEventListener(this.eBottomViewport,"scroll",(function(){return t.eTopViewport.scrollLeft=0}))},e.prototype.getRowContainers=function(){return this.rowContainerComponents},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},e.prototype.onDisplayedColumnsChanged=function(){this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.updateColumnCount()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.setWidthsOfContainers(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.setWidthsOfContainers=function(){this.setCenterWidth(),this.setPinnedContainerSize()},e.prototype.setCenterWidth=function(){var t=this.columnController.getBodyContainerWidth();this.printLayout&&(t+=this.columnController.getPinnedLeftContainerWidth()+this.columnController.getPinnedRightContainerWidth());this.headerRootComp.setHeaderContainerWidth(t);var e=t+"px";this.eCenterContainer.style.width=e,this.eBottomContainer.style.width=e,this.eTopContainer.style.width=e,this.printLayout||(this.eBodyHorizontalScrollContainer.style.width=e)},e.prototype.setPinnedLeftWidth=function(){var t=this,e=this.pinningLeft,n=this.columnController.getPinnedLeftContainerWidth(),r=this.pinningLeft=!this.printLayout&&n>0,i=[this.eLeftContainer,this.eLeftTop,this.eLeftBottom];e!==r&&this.headerRootComp.setLeftVisible(r),i.forEach((function(e){return a.e.setDisplayed(e,t.pinningLeft)})),r&&i.forEach((function(t){return a.e.setFixedWidth(t,n)}))},e.prototype.setPinnedRightWidth=function(){var t=this.pinningRight,e=this.columnController.getPinnedRightContainerWidth(),n=this.pinningRight=!this.printLayout&&e>0,r=[this.eRightContainer,this.eRightTop,this.eRightBottom];t!==n&&this.headerRootComp.setRightVisible(n),r.forEach((function(t){return a.e.setDisplayed(t,n)})),n&&r.forEach((function(t){return a.e.setFixedWidth(t,e)}))},e.prototype.setPinnedContainerSize=function(){this.setPinnedLeftWidth(),this.setPinnedRightWidth(),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.columnController.getPinnedRightContainerWidth();!this.enableRtl&&this.isVerticalScrollShowing()&&(t+=this.scrollWidth),a.e.setFixedWidth(this.eHorizontalRightSpacer,t),a.e.addOrRemoveCssClass(this.eHorizontalRightSpacer,"ag-scroller-corner",t<=this.scrollWidth);var e=this.columnController.getPinnedLeftContainerWidth();this.enableRtl&&this.isVerticalScrollShowing()&&(e+=this.scrollWidth),a.e.setFixedWidth(this.eHorizontalLeftSpacer,e),a.e.addOrRemoveCssClass(this.eHorizontalLeftSpacer,"ag-scroller-corner",e<=this.scrollWidth)},e.prototype.checkBodyHeight=function(){var t=this.eBodyViewport.clientHeight;if(this.bodyHeight!==t){this.bodyHeight=t;var e={type:o.a.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)}},e.prototype.setHeaderAndFloatingHeights=function(){var t,e,n,r=this,i=r.columnController,o=r.gridOptionsWrapper,s=r.pinnedRowModel,a=r.eTop,u=r.eBottom,l=0,c=i.getHeaderRowCount();i.isPivotMode()?(l=0,e=o.getPivotGroupHeaderHeight(),n=o.getPivotHeaderHeight()):(o.isFloatingFilter()&&c++,l=o.isFloatingFilter()?1:0,e=o.getGroupHeaderHeight(),n=o.getHeaderHeight());var h=c-(1+l);t=l*o.getFloatingFiltersHeight(),t+=h*e,t+=n,this.headerRootComp.setHeight(t);var p=s.getPinnedTopTotalHeight();p&&(p+=1);var d=s.getPinnedBottomTotalHeight();d&&(d+=1);var f=p+"px",g=d+"px";a.style.minHeight=f,a.style.height=f,a.style.display=p?"inherit":"none",u.style.minHeight=g,u.style.height=g,u.style.display=d?"inherit":"none",this.checkBodyHeight()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.setHorizontalScrollPosition=function(t){this.eCenterViewport.scrollLeft=t,this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.scrollHorizontally=function(t){var e=this.eCenterViewport.scrollLeft;return this.setHorizontalScrollPosition(e+t),this.eCenterViewport.scrollLeft-e},e.prototype.scrollVertically=function(t){var e=this.eBodyViewport.scrollTop;return this.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e},e.prototype.addScrollListener=function(){this.addDestroyableEventListener(this.eCenterViewport,"scroll",this.onCenterViewportScroll.bind(this)),this.addDestroyableEventListener(this.eBodyHorizontalScrollViewport,"scroll",this.onFakeHorizontalScroll.bind(this)),this.addDestroyableEventListener(this.eBodyViewport,"scroll",this.onVerticalScroll.bind(this))},e.prototype.onVerticalScroll=function(){var t=this.eBodyViewport.scrollTop;this.animationFrameService.setScrollTop(t),this.scrollTop=t,this.redrawRowsAfterScroll()},e.prototype.isControllingScroll=function(t){return this.lastHorizontalScrollElement?t===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=t,!0)},e.prototype.onFakeHorizontalScroll=function(){this.isControllingScroll(this.eBodyHorizontalScrollViewport)&&this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport)},e.prototype.onCenterViewportScroll=function(){this.isControllingScroll(this.eCenterViewport)&&this.onBodyHorizontalScroll(this.eCenterViewport)},e.prototype.onBodyHorizontalScroll=function(t){var e=this.eCenterViewport,n=e.scrollWidth,r=e.clientWidth,i=Math.floor(a.e.getScrollLeft(t,this.enableRtl));i<0||i+r>n||(this.doHorizontalScroll(i),this.resetLastHorizontalScrollElementDebounce())},e.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},e.prototype.doHorizontalScroll=function(t){this.scrollLeft=t;var e={type:o.a.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:"horizontal",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged()},e.prototype.redrawRowsAfterScroll=function(){var t={type:o.a.EVENT_BODY_SCROLL,direction:"vertical",api:this.gridApi,columnApi:this.columnApi,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t)},e.prototype.onHorizontalViewportChanged=function(){var t=this.eCenterViewport.clientWidth,e=this.getCenterViewportScrollLeft();this.columnController.setVirtualViewportPosition(t,e)},e.prototype.getCenterViewportScrollLeft=function(){return a.e.getScrollLeft(this.eCenterViewport,this.enableRtl)},e.prototype.setCenterViewportScrollLeft=function(t){a.e.setScrollLeft(this.eCenterViewport,t,this.enableRtl)},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){void 0===t&&(t=this.getCenterViewportScrollLeft());var e=this.enableRtl?t:-t,n=this.eCenterViewport,r=n.clientWidth,i=n.scrollWidth;if(!(Math.abs(e)+r>i||this.enableRtl&&e<0||!this.enableRtl&&e>0)){this.headerRootComp.setHorizontalScroll(e),this.eBottomContainer.style.transform="translateX("+e+"px)",this.eTopContainer.style.transform="translateX("+e+"px)";var o=this.lastHorizontalScrollElement===this.eCenterViewport?this.eBodyHorizontalScrollViewport:this.eCenterViewport;a.e.setScrollLeft(o,t,this.enableRtl)}},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t)},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},E([Object(i.a)("alignedGridsService")],e.prototype,"alignedGridsService",void 0),E([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),E([Object(i.a)("columnController")],e.prototype,"columnController",void 0),E([Object(i.a)("rowRenderer")],e.prototype,"rowRenderer",void 0),E([Object(i.a)("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),E([Object(i.a)("eventService")],e.prototype,"eventService",void 0),E([Object(i.a)("animationFrameService")],e.prototype,"animationFrameService",void 0),E([Object(i.a)("navigationService")],e.prototype,"navigationService",void 0),E([Object(i.a)("autoHeightCalculator")],e.prototype,"autoHeightCalculator",void 0),E([Object(i.a)("columnAnimationService")],e.prototype,"columnAnimationService",void 0),E([Object(i.a)("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),E([Object(i.a)("paginationAutoPageSizeService")],e.prototype,"paginationAutoPageSizeService",void 0),E([Object(i.a)("beans")],e.prototype,"beans",void 0),E([Object(i.a)("paginationProxy")],e.prototype,"paginationProxy",void 0),E([Object(i.a)("columnApi")],e.prototype,"columnApi",void 0),E([Object(i.a)("gridApi")],e.prototype,"gridApi",void 0),E([Object(i.a)("dragService")],e.prototype,"dragService",void 0),E([Object(i.a)("mouseEventService")],e.prototype,"mouseEventService",void 0),E([Object(i.a)("focusedCellController")],e.prototype,"focusedCellController",void 0),E([Object(i.a)("$scope")],e.prototype,"$scope",void 0),E([Object(i.a)("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),E([Object(i.a)("valueService")],e.prototype,"valueService",void 0),E([Object(i.a)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),E([Object(i.a)("maxDivHeightScaler")],e.prototype,"heightScaler",void 0),E([Object(i.a)("resizeObserverService")],e.prototype,"resizeObserverService",void 0),E([Object(i.a)("undoRedoService")],e.prototype,"undoRedoService",void 0),E([Object(i.d)("rangeController")],e.prototype,"rangeController",void 0),E([Object(i.d)("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),E([Object(i.d)("clipboardService")],e.prototype,"clipboardService",void 0),E([Object(y.c)("eBodyViewport")],e.prototype,"eBodyViewport",void 0),E([Object(y.c)("eCenterContainer")],e.prototype,"eCenterContainer",void 0),E([Object(y.c)("eCenterViewport")],e.prototype,"eCenterViewport",void 0),E([Object(y.c)("eLeftContainer")],e.prototype,"eLeftContainer",void 0),E([Object(y.c)("eRightContainer")],e.prototype,"eRightContainer",void 0),E([Object(y.c)("eCenterColsClipper")],e.prototype,"eCenterColsClipper",void 0),E([Object(y.c)("eHorizontalScrollBody")],e.prototype,"eHorizontalScrollBody",void 0),E([Object(y.c)("eHorizontalLeftSpacer")],e.prototype,"eHorizontalLeftSpacer",void 0),E([Object(y.c)("eHorizontalRightSpacer")],e.prototype,"eHorizontalRightSpacer",void 0),E([Object(y.c)("eBodyHorizontalScrollViewport")],e.prototype,"eBodyHorizontalScrollViewport",void 0),E([Object(y.c)("eBodyHorizontalScrollContainer")],e.prototype,"eBodyHorizontalScrollContainer",void 0),E([Object(y.c)("eFullWidthContainer")],e.prototype,"eFullWidthContainer",void 0),E([Object(y.c)("eTop")],e.prototype,"eTop",void 0),E([Object(y.c)("eLeftTop")],e.prototype,"eLeftTop",void 0),E([Object(y.c)("eRightTop")],e.prototype,"eRightTop",void 0),E([Object(y.c)("eTopContainer")],e.prototype,"eTopContainer",void 0),E([Object(y.c)("eTopViewport")],e.prototype,"eTopViewport",void 0),E([Object(y.c)("eTopFullWidthContainer")],e.prototype,"eTopFullWidthContainer",void 0),E([Object(y.c)("eBottom")],e.prototype,"eBottom",void 0),E([Object(y.c)("eLeftBottom")],e.prototype,"eLeftBottom",void 0),E([Object(y.c)("eRightBottom")],e.prototype,"eRightBottom",void 0),E([Object(y.c)("eBottomContainer")],e.prototype,"eBottomContainer",void 0),E([Object(y.c)("eBottomViewport")],e.prototype,"eBottomViewport",void 0),E([Object(y.c)("eBottomFullWidthContainer")],e.prototype,"eBottomFullWidthContainer",void 0),E([Object(y.c)("headerRoot")],e.prototype,"headerRootComp",void 0),E([Object(y.c)("overlayWrapper")],e.prototype,"overlayWrapper",void 0),E([i.e],e.prototype,"init",null),e}(m.a)},function(t,e,n){"use strict";var r=n(10),i=n(0),o=n(8),s=n(1),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.H=1,r.S=1,r.B=1,r.A=1,r.isSpectrumDragging=!1,r.isSpectrumHueDragging=!1,r.isSpectrumAlphaDragging=!1,r.colorChanged=!1,r.picker=n.picker,r}return a(e,t),e.prototype.postConstruct=function(){var t=this.getGui();this.initRecentColors(),this.addDestroyableEventListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addDestroyableEventListener(t,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addDestroyableEventListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addDestroyableEventListener(t,"mousemove",this.onSpectrumHueMove.bind(this)),this.addDestroyableEventListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addDestroyableEventListener(t,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addDestroyableEventListener(document,"mouseup",this.onMouseUp.bind(this)),this.addDestroyableEventListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},e.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},e.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},e.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},e.prototype.onSpectrumDraggerDown=function(t){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(t)},e.prototype.onSpectrumDraggerMove=function(t){this.isSpectrumDragging&&this.moveDragger(t)},e.prototype.onSpectrumHueDown=function(t){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(t)},e.prototype.onSpectrumHueMove=function(t){this.isSpectrumHueDragging&&this.moveHueSlider(t)},e.prototype.onSpectrumAlphaDown=function(t){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(t)},e.prototype.onSpectrumAlphaMove=function(t){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(t)},e.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},e.prototype.moveDragger=function(t){var e=this.spectrumValRect;if(e){var n=t.clientX-e.left,r=t.clientY-e.top;n=Math.max(n,0),n=Math.min(n,e.width),r=Math.max(r,0),r=Math.min(r,e.height),this.setSpectrumValue(n/e.width,1-r/e.height)}},e.prototype.moveHueSlider=function(t){var e=this.spectrumHueRect;if(e){var n=this.spectrumHueSlider,r=n.getBoundingClientRect(),i=t.clientX-e.left;i=Math.max(i,0),i=Math.min(i,e.width),this.H=1-i/e.width,n.style.left=i+r.width/2+"px",this.update()}},e.prototype.moveAlphaSlider=function(t){var e=this.spectrumAlphaRect;if(e){var n=this.spectrumAlphaSlider,r=n.getBoundingClientRect(),i=t.clientX-e.left;i=Math.max(i,0),i=Math.min(i,e.width),this.A=i/e.width,n.style.left=i+r.width/2+"px",this.update()}},e.prototype.update=function(){var t=i.a.fromHSB(360*this.H,this.S,this.B,this.A),e=i.a.fromHSB(360*this.H,1,1),n=t.toRgbaString(),r=this.picker;i.a.fromString(r.getValue()).toRgbaString()!==n&&(this.colorChanged=!0),r.setValue(n),this.spectrumColor.style.backgroundColor=e.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},e.prototype.setSpectrumValue=function(t,e){var n=this.spectrumValRect||this.refreshSpectrumRect();if(n){var r=this.spectrumDragger,i=r.getBoundingClientRect();t=Math.max(0,t),t=Math.min(1,t),e=Math.max(0,e),e=Math.min(1,e),this.S=t,this.B=e,r.style.left=t*n.width-i.width/2+"px",r.style.top=(1-e)*n.height-i.height/2+"px",this.update()}},e.prototype.initRecentColors=function(){var t=e.recentColors.map((function(t,e){return'<div class="ag-recent-color" id='+e+' style="background-color: '+t+'; width: 15px; height: 15px;" recent-color="'+t+'"></div>'}));this.recentColors.innerHTML=t.join("")},e.prototype.setValue=function(t){var e=i.a.fromString(t),n=e.toHSB(),r=n[0],o=n[1],s=n[2];this.H=(isNaN(r)?0:r)/360,this.A=e.a;var a=this.spectrumHueRect||this.refreshHueRect(),u=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-a.width+"px",this.spectrumAlphaSlider.style.left=this.A*u.width+"px",this.setSpectrumValue(o,s)},e.prototype.onRecentColorClick=function(t){var n=t.target;if(i.e.exists(n.id)){var r=parseInt(n.id,10);this.setValue(e.recentColors[r]),this.destroy()}},e.prototype.addRecentColor=function(){var t=i.a.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),n=e.recentColors;this.colorChanged&&n[0]!==t&&(n=n.filter((function(e){return e!=t})),(n=[t].concat(n)).length>e.maxRecentColors&&(n=n.slice(0,e.maxRecentColors)),e.recentColors=n)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.addRecentColor()},e.maxRecentColors=8,e.recentColors=[],e.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-hue-alpha">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-hue-alpha">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',u([Object(o.c)("spectrumColor")],e.prototype,"spectrumColor",void 0),u([Object(o.c)("spectrumVal")],e.prototype,"spectrumVal",void 0),u([Object(o.c)("spectrumDragger")],e.prototype,"spectrumDragger",void 0),u([Object(o.c)("spectrumHue")],e.prototype,"spectrumHue",void 0),u([Object(o.c)("spectrumHueSlider")],e.prototype,"spectrumHueSlider",void 0),u([Object(o.c)("spectrumAlpha")],e.prototype,"spectrumAlpha",void 0),u([Object(o.c)("spectrumAlphaSlider")],e.prototype,"spectrumAlphaSlider",void 0),u([Object(o.c)("recentColors")],e.prototype,"recentColors",void 0),u([s.e],e.prototype,"postConstruct",null),e}(r.a),c=n(51),h=n(33),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TEMPLATE='<div class="ag-picker-field">\n            <label ref="eLabel"></label>\n            <div ref="eWrapper" class="ag-wrapper">\n                <%displayField% ref="eDisplayField"></%displayField%>\n                <button ref="eButton" class="ag-picker-button"> </button>\n            </div>\n        </div>',e.displayedPicker=!1,e.isDestroyingPicker=!1,e}return p(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.addDestroyableEventListener(this.eButton,"click",(function(){e.showPicker()})),this.pickerIcon&&this.eButton.appendChild(i.e.createIconNoSpan(this.pickerIcon,this.gridOptionsWrapper,null))},e.prototype.setInputWidth=function(t){return i.e.setElementWidth(this.eWrapper,t),this},d([Object(s.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),d([Object(o.c)("eLabel")],e.prototype,"eLabel",void 0),d([Object(o.c)("eWrapper")],e.prototype,"eWrapper",void 0),d([Object(o.c)("eDisplayField")],e.prototype,"eDisplayField",void 0),d([Object(o.c)("eButton")],e.prototype,"eButton",void 0),e}(h.a);n.d(e,"a",(function(){return v}));var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(e){var n=t.call(this)||this;return n.displayTag="div",n.className="ag-color-picker",n.pickerIcon="colorPicker",n.setTemplate(n.TEMPLATE.replace(/%displayField%/g,n.displayTag)),e&&e.color&&(n.value=e.color),n}return g(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),i.e.addCssClass(this.getGui(),this.className),this.addDestroyableEventListener(this.eDisplayField,"click",(function(){return e.showPicker()})),this.value&&this.setValue(this.value)},e.prototype.showPicker=function(){var t=this;if(this.displayedPicker)this.displayedPicker=!1;else{var e=this.getGui().getBoundingClientRect(),n=new c.a({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250});this.getContext().wireBean(n),i.e.addCssClass(n.getGui(),"ag-color-dialog");var r=new l({picker:this});this.getContext().wireBean(r),r.addDestroyFunc((function(){n.isAlive()&&n.destroy()})),n.setParentComponent(this),n.setBodyComponent(r),r.setValue(this.getValue()),n.addDestroyFunc((function(){var e=t.isDestroyingPicker;t.displayedPicker=!1,e?t.isDestroyingPicker=!1:(t.isDestroyingPicker=!0,r.isAlive()&&r.destroy())}))}},e.prototype.setValue=function(t){return this.value===t?this:(this.value=t,this.eDisplayField.style.backgroundColor=t,this.dispatchEvent({type:h.a.EVENT_CHANGED}),this)},e.prototype.getValue=function(){return this.value},e}(f)},function(t,e,n){"use strict";var r=n(85),i=n(23),o=n(12),s=n(1),a={numericColumn:{headerClass:"ag-numeric-header",cellClass:"ag-numeric-cell"}},u=n(0);n.d(e,"a",(function(){return h}));var l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(t,e){return function(n,r){e(n,r,t)}},h=function(){function t(){}return t.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},t.prototype.createColumnTree=function(t,e,n){var o=new r.a;if(n){var s=n.map((function(t){return t.getId()}));o.addExistingKeys(s)}var a=n?n.slice():null,u=this.recursivelyCreateColumns(t,0,e,a,o,null),l=this.findMaxDept(u,0);this.logger.log("Number of levels for grouped columns is "+l);var c=this.balanceColumnTree(u,0,l,o);return this.columnUtils.depthFirstOriginalTreeSearch(null,c,(function(t,e){t instanceof i.a&&t.setupExpandable(),t.setOriginalParent(e)})),{columnTree:c,treeDept:l}},t.prototype.createForAutoGroups=function(t,e){var n=this,r=[];return t.forEach((function(t){var i=n.createAutoGroupTreeItem(e,t);r.push(i)})),r},t.prototype.createAutoGroupTreeItem=function(t,e){for(var n=e,r=this.findDepth(t)-1;r>=0;r--){var o=new i.a(null,"FAKE_PATH_"+e.getId()+"}_"+r,!0,r);this.context.wireBean(o),o.setChildren([n]),n.setOriginalParent(o),n=o}return n},t.prototype.findDepth=function(t){for(var e=0,n=t;n&&n[0]&&n[0]instanceof i.a;)e++,n=n[0].getChildren();return e},t.prototype.balanceColumnTree=function(t,e,n,r){for(var o=[],s=0;s<t.length;s++){var a=t[s];if(a instanceof i.a){var u=a,l=this.balanceColumnTree(u.getChildren(),e+1,n,r);u.setChildren(l),o.push(u)}else{for(var c=void 0,h=void 0,p=n-1;p>=e;p--){var d=r.getUniqueKey(null,null),f=this.createMergedColGroupDef(null),g=new i.a(f,d,!0,e);this.context.wireBean(g),h&&h.setChildren([g]),h=g,c||(c=h)}if(c){if(o.push(c),t.some((function(t){return t instanceof i.a}))){h.setChildren([a]);continue}h.setChildren(t);break}o.push(a)}}return o},t.prototype.findMaxDept=function(t,e){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(o instanceof i.a){var s=o,a=this.findMaxDept(s.getChildren(),e+1);n<a&&(n=a)}}return n},t.prototype.recursivelyCreateColumns=function(t,e,n,r,i,o){var s=this,a=[];return t?(t.forEach((function(t){var u;u=s.isColumnGroup(t)?s.createColumnGroup(n,t,e,r,i,o):s.createColumn(n,t,r,i,o),a.push(u)})),a):a},t.prototype.createColumnGroup=function(t,e,n,r,o,s){var a=this.createMergedColGroupDef(e),u=o.getUniqueKey(a.groupId,null),l=new i.a(a,u,!1,n);this.context.wireBean(l);var c=this.recursivelyCreateColumns(a.children,n+1,t,r,o,l);return l.setChildren(c),l},t.prototype.createMergedColGroupDef=function(t){var e={};return u.e.assign(e,this.gridOptionsWrapper.getDefaultColGroupDef()),u.e.assign(e,t),this.checkForDeprecatedItems(e),e},t.prototype.createColumn=function(t,e,n,r,i){var s=this.mergeColDefs(e);this.checkForDeprecatedItems(s);var a=this.findExistingColumn(e,n);if(a)a.setColDef(s,e);else{var u=r.getUniqueKey(s.colId,s.field);a=new o.a(s,e,u,t),this.context.wireBean(a)}return a},t.prototype.findExistingColumn=function(t,e){var n=u.e.find(e,(function(e){var n=e.getUserProvidedColDef();return!!n&&(n===t||!(null===n.colId||void 0===n.colId)&&n.colId===t.colId)}));return n&&u.e.removeFromArray(e,n),n},t.prototype.mergeColDefs=function(t){var e={};return u.e.assign(e,this.gridOptionsWrapper.getDefaultColDef()),t.type&&this.assignColumnTypes(t,e),u.e.assign(e,t),e},t.prototype.assignColumnTypes=function(t,e){var n;if(t.type instanceof Array){t.type.some((function(t){return"string"!==typeof t}))?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=t.type}else{if("string"!==typeof t.type)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");n=t.type.split(",")}var r=u.e.assign({},this.gridOptionsWrapper.getColumnTypes(),a);n.forEach((function(t){var n=r[t.trim()];n?u.e.assign(e,n):console.warn("ag-grid: colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")}))},t.prototype.checkForDeprecatedItems=function(t){if(t){var e=t;void 0!==e.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==e.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(e.suppressRowGroup||e.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),e.displayName&&(console.warn("ag-grid: Found displayName "+e.displayName+", please use headerName instead, displayName is deprecated."),e.headerName=e.displayName)}},t.prototype.isColumnGroup=function(t){return void 0!==t.children},l([Object(s.a)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),l([Object(s.a)("columnUtils")],t.prototype,"columnUtils",void 0),l([Object(s.a)("context")],t.prototype,"context",void 0),l([c(0,Object(s.h)("loggerFactory"))],t.prototype,"setBeans",null),t=l([Object(s.b)("columnFactory")],t)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){}return t.parse=function(e){if(!e)return null;if(!0===e)return{toolPanels:[t.DEFAULT_COLUMN_COMP,t.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"===typeof e)return t.parse([e]);if(Array.isArray(e)){var n=[];return e.forEach((function(e){var r=t.DEFAULT_BY_KEY[e];r?n.push(r):console.warn("ag-grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","))})),0===n.length?null:{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:t.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}},t.parseComponents=function(e){var n=[];return e.forEach((function(e){var r=null;if("string"===typeof e){var i=t.DEFAULT_BY_KEY[e];if(!i)return void console.warn("ag-grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","));r=i}else r=e;n.push(r)})),n},t.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},t.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},t.DEFAULT_BY_KEY={columns:t.DEFAULT_COLUMN_COMP,filters:t.DEFAULT_FILTER_COMP},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){this.customFilterOptions={}}return t.prototype.init=function(t,e){this.filterOptions=t.filterOptions?t.filterOptions:e,this.mapCustomOptions(),this.selectDefaultItem(t)},t.prototype.getFilterOptions=function(){return this.filterOptions},t.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach((function(e){"string"!==typeof e&&(e.displayKey?e.displayName?e.test?t.customFilterOptions[e.displayKey]=e:console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a 'test'"):console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a 'displayName'"):console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a 'displayKey'"))}))},t.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"===typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("ag-Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("ag-Grid: no filter options for filter")},t.prototype.getDefaultOption=function(){return this.defaultOption},t.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},t}()},function(t,e,n){var r;!function(i,o){t.exports?(o.default=o,t.exports=i.document?o(i):o):void 0===(r=function(){return o(i)}.call(e,n,e,t))||(t.exports=r)}("undefined"!==typeof window?window:this,(function(t){function e(t,e,n,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,n))}var n={};return e(n,"parts/Globals.js",[],(function(){var e="undefined"!==typeof t?t:"undefined"!==typeof window?window:{},n=e.document,r=e.navigator&&e.navigator.userAgent||"",i=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(r)&&!e.opera,s=-1!==r.indexOf("Firefox"),a=-1!==r.indexOf("Chrome"),u=s&&4>parseInt(r.split("Firefox/")[1],10);return{product:"Highcharts",version:"7.2.2",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:u,hasTouch:!!e.TouchEvent,isMS:o,isWebKit:-1!==r.indexOf("AppleWebKit"),isFirefox:s,isChrome:a,isSafari:!a&&-1!==r.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(r),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:i,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[],dateFormats:{}}})),e(n,"parts/Utilities.js",[n["parts/Globals.js"]],(function(t){function e(t,e){return parseInt(t,e||10)}function n(t){return"string"===typeof t}function r(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t}function i(t,e){return!!t&&"object"===typeof t&&(!e||!r(t))}function o(t){return i(t)&&"number"===typeof t.nodeType}function s(t){var e=t&&t.constructor;return!(!i(t,!0)||o(t)||!e||!e.name||"Object"===e.name)}function a(t){return"number"===typeof t&&!isNaN(t)&&1/0>t&&-1/0<t}function u(t){return"undefined"!==typeof t&&null!==t}function l(t,e,r){var i;return n(e)?u(r)?t.setAttribute(e,r):t&&t.getAttribute&&((i=t.getAttribute(e))||"class"!==e||(i=t.getAttribute(e+"Name"))):p(e,(function(e,n){t.setAttribute(n,e)})),i}function c(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t}function h(){for(var t=arguments,e=t.length,n=0;n<e;n++){var r=t[n];if("undefined"!==typeof r&&null!==r)return r}}function p(t,e,n){for(var r in t)Object.hasOwnProperty.call(t,r)&&e.call(n||t[r],t[r],r,t)}t.timers=[];var d=t.charts,f=t.doc,g=t.win;return t.error=function(e,n,r,i){var o=a(e),s=o?"Highcharts error #"+e+": www.highcharts.com/errors/"+e+"/":e.toString(),u=function(){if(n)throw Error(s);g.console&&console.log(s)};if("undefined"!==typeof i){var l="";o&&(s+="?"),t.objectEach(i,(function(t,e){l+="\n"+e+": "+t,o&&(s+=encodeURI(e)+"="+encodeURI(t))})),s+=l}r?t.fireEvent(r,"displayError",{code:e,message:s,params:i},u):u()},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t=this.paths[0],e=this.paths[1],n=[],r=this.now,i=t.length;if(1===r)n=this.toD;else if(i===e.length&&1>r)for(;i--;){var o=parseFloat(t[i]);n[i]=isNaN(o)||"A"===e[i-4]||"A"===e[i-5]?e[i]:r*parseFloat(""+(e[i]-o))+o}else n=e;this.elem.attr("d",n,null,!0)},update:function(){var t=this.elem,e=this.prop,n=this.now,r=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,r&&r.call(t,n,this)},run:function(e,n,r){var i=this,o=i.options,s=function t(e){return!t.stopped&&i.step(e)},a=g.requestAnimationFrame||function(t){setTimeout(t,13)};e!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=n,this.unit=r,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===t.timers.push(s)&&a((function e(){for(var n=0;n<t.timers.length;n++)t.timers[n]()||t.timers.splice(n--,1);t.timers.length&&a(e)}))):(delete o.curAnim[this.prop],o.complete&&0===Object.keys(o.curAnim).length&&o.complete.call(this.elem))},step:function(t){var e=+new Date,n=this.options,r=this.elem,i=n.complete,o=n.duration,s=n.curAnim;if(r.attr&&!r.element)t=!1;else if(t||e>=o+this.startTime){this.now=this.end,this.pos=1,this.update();var a=s[this.prop]=!0;p(s,(function(t){!0!==t&&(a=!1)})),a&&i&&i.call(r),t=!1}else this.pos=n.easing((e-this.startTime)/o),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0;return t},initPath:function(t,e,n){function r(t){for(u=t.length;u--;){var e="M"===t[u]||"L"===t[u],n=/[a-zA-Z]/.test(t[u+3]);e&&n&&t.splice(u+1,0,t[u+1],t[u+2],t[u+1],t[u+2])}}function i(t,e){for(;t.length<m;){t[0]=e[m-t.length];var n=t.slice(0,p);[].splice.apply(t,[0,0].concat(n)),d&&(n=t.slice(t.length-p),[].splice.apply(t,[t.length,0].concat(n)),u--)}t[0]="M"}function o(t,e){for(var n=(m-t.length)/p;0<n&&n--;)(s=t.slice().splice(t.length/f-p,p*f))[0]=e[m-p-n*p],h&&(s[p-6]=s[p-2],s[p-5]=s[p-1]),[].splice.apply(t,[t.length/f,0].concat(s)),d&&n--}e=e||"";var s,u,l=t.startX,c=t.endX,h=-1<e.indexOf("C"),p=h?7:3;e=e.split(" "),n=n.slice();var d=t.isArea,f=d?2:1;if(h&&(r(e),r(n)),l&&c){for(u=0;u<l.length;u++){if(l[u]===c[0]){var g=u;break}if(l[0]===c[c.length-l.length+u]){g=u;var v=!0;break}if(l[l.length-1]===c[c.length-l.length+u]){g=l.length-u;break}}"undefined"===typeof g&&(e=[])}if(e.length&&a(g)){var m=n.length+g*f*p;v?(i(e,n),o(n,e)):(i(n,e),o(e,n))}return[e,n]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var t,e=arguments,n={},r=function t(e,n){return"object"!==typeof e&&(e={}),p(n,(function(r,a){!i(r,!0)||s(r)||o(r)?e[a]=n[a]:e[a]=t(e[a]||{},r)})),e};!0===e[0]&&(n=e[1],e=Array.prototype.slice.call(e,2));var a=e.length;for(t=0;t<a;t++)n=r(n,e[t]);return n},t.clearTimeout=function(t){u(t)&&clearTimeout(t)},t.css=function(e,n){t.isMS&&!t.svg&&n&&"undefined"!==typeof n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),c(e.style,n)},t.createElement=function(e,n,r,i,o){e=f.createElement(e);var s=t.css;return n&&c(e,n),o&&s(e,{padding:"0",border:"none",margin:"0"}),r&&s(e,r),i&&i.appendChild(e),e},t.extendClass=function(t,e){var n=function(){};return c(n.prototype=new t,e),n},t.pad=function(t,e,n){return Array((e||2)+1-String(t).replace("-","").length).join(n||"0")+t},t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},t.wrap=function(t,e,n){var r=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,i=this;return i.proceed=function(){r.apply(i,arguments.length?arguments:e)},t.unshift(r),t=n.apply(this,t),i.proceed=null,t}},t.datePropsToTimestamps=function(e){p(e,(function(n,o){i(n)&&"function"===typeof n.getTime?e[o]=n.getTime():(i(n)||r(n))&&t.datePropsToTimestamps(n)}))},t.formatSingle=function(e,n,r){var i=t.defaultOptions.lang;return/f$/.test(e)?(r=(r=e.match(/\.([0-9])/))?r[1]:-1,null!==n&&(n=t.numberFormat(n,r,i.decimalPoint,-1<e.indexOf(",")?i.thousandsSep:""))):n=(r||t.time).dateFormat(e,n),n},t.format=function(e,n,r){for(var i,o,s,a,u,l="{",c=!1,h=[];e&&-1!==(l=e.indexOf(l));){if(i=e.slice(0,l),c){for(a=(o=(i=i.split(":")).shift().split(".")).length,u=n,s=0;s<a;s++)u&&(u=u[o[s]]);i.length&&(u=t.formatSingle(i.join(":"),u,r)),h.push(u)}else h.push(i);e=e.slice(l+1),l=(c=!c)?"}":"{"}return h.push(e),h.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,r,i,o){var s=e,a=e/(r=h(r,1));for(n||(n=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===i&&(1===r?n=n.filter((function(t){return 0===t%1})):.1>=r&&(n=[1/r]))),i=0;i<n.length&&(s=n[i],!(o&&s*r>=e||!o&&a<=(n[i]+(n[i+1]||n[i]))/2));i++);return t.correctFloat(s*r,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var n,r,i=t.length;for(r=0;r<i;r++)t[r].safeI=r;for(t.sort((function(t,r){return 0===(n=e(t,r))?t.safeI-r.safeI:n})),r=0;r<i;r++)delete t[r].safeI},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.animObject=function(e){return i(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(n,r,i,o){n=+n||0,r=+r;var s=t.defaultOptions.lang,u=(n.toString().split(".")[1]||"").split("e")[0].length,l=n.toString().split("e");if(-1===r)r=Math.min(u,20);else if(a(r)){if(r&&l[1]&&0>l[1]){var c=r+ +l[1];0<=c?(l[0]=(+l[0]).toExponential(c).split("e")[0],r=c):(l[0]=l[0].split(".")[0]||0,n=20>r?(l[0]*Math.pow(10,l[1])).toFixed(r):0,l[1]=0)}}else r=2;var p=(Math.abs(l[1]?l[0]:n)+Math.pow(10,-Math.max(r,u)-1)).toFixed(r);return c=3<(u=String(e(p))).length?u.length%3:0,i=h(i,s.decimalPoint),o=h(o,s.thousandsSep),n=(0>n?"-":"")+(c?u.substr(0,c)+o:""),n+=u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+o),r&&(n+=i+p.slice(-r)),l[1]&&0!==+n&&(n+="e"+l[1]),n},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(n,r,i){return"width"===r?(r=Math.min(n.offsetWidth,n.scrollWidth),(i=n.getBoundingClientRect&&n.getBoundingClientRect().width)<r&&i>=r-1&&(r=Math.floor(i)),Math.max(0,r-t.getStyle(n,"padding-left")-t.getStyle(n,"padding-right"))):"height"===r?Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-t.getStyle(n,"padding-top")-t.getStyle(n,"padding-bottom")):(g.getComputedStyle||t.error(27,!0),(n=g.getComputedStyle(n,void 0))&&(n=n.getPropertyValue(r),h(i,"opacity"!==r)&&(n=e(n))),n)},t.inArray=function(t,e,n){return e.indexOf(t,n)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,r=t.length;for(n=0;n<r;n++)if(e(t[n],n))return t[n]},t.keys=Object.keys,t.offset=function(t){var e=f.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top+(g.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(g.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,n){for(var r=t.timers.length;r--;)t.timers[r].elem!==e||n&&n!==t.timers[r].prop||(t.timers[r].stopped=!0)},p({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(e,n){t[n]=function(t){return Array.prototype[e].apply(t,[].slice.call(arguments,1))}})),t.addEvent=function(e,n,r,i){void 0===i&&(i={});var o=e.addEventListener||t.addEventListenerPolyfill,s="function"===typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{};return t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),o&&o.call(e,n,r,!1),s[n]||(s[n]=[]),s[n].push({fn:r,order:"number"===typeof i.order?i.order:1/0}),s[n].sort((function(t,e){return t.order-e.order})),function(){t.removeEvent(e,n,r)}},t.removeEvent=function(e,n,r){function i(n,r){var i=e.removeEventListener||t.removeEventListenerPolyfill;i&&i.call(e,n,r,!1)}function o(t){var r;if(e.nodeName){if(n){var o={};o[n]=!0}else o=t;p(o,(function(e,n){if(t[n])for(r=t[n].length;r--;)i(n,t[n][r].fn)}))}}var s;["protoEvents","hcEvents"].forEach((function(t,a){var u=(a=a?e:e.prototype)&&a[t];u&&(n?(s=u[n]||[],r?(u[n]=s.filter((function(t){return r!==t.fn})),i(n,r)):(o(u),u[n]=[])):(o(u),a[t]={}))}))},t.fireEvent=function(t,e,n,r){var i;if(n=n||{},f.createEvent&&(t.dispatchEvent||t.fireEvent)){var o=f.createEvent("Events");o.initEvent(e,!0,!0),c(o,n),t.dispatchEvent?t.dispatchEvent(o):t.fireEvent(e,o)}else n.target||c(n,{preventDefault:function(){n.defaultPrevented=!0},target:t,type:e}),function(e,r){void 0===e&&(e=[]),void 0===r&&(r=[]);var o=0,s=0,a=e.length+r.length;for(i=0;i<a;i++)!1===(e[o]?r[s]?e[o].order<=r[s].order?e[o++]:r[s++]:e[o++]:r[s++]).fn.call(t,n)&&n.preventDefault()}(t.protoEvents&&t.protoEvents[e],t.hcEvents&&t.hcEvents[e]);r&&!n.defaultPrevented&&r.call(t,n)},t.animate=function(e,n,r){var o,s,u,l="";if(!i(r)){var c=arguments;r={duration:c[2],easing:c[3],complete:c[4]}}a(r.duration)||(r.duration=400),r.easing="function"===typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=t.merge(n),p(n,(function(i,a){t.stop(e,a),u=new t.Fx(e,r,a),s=null,"d"===a?(u.paths=u.initPath(e,e.d,n.d),u.toD=n.d,o=0,s=1):e.attr?o=e.attr(a):(o=parseFloat(t.getStyle(e,a))||0,"opacity"!==a&&(l="px")),s||(s=i),s&&s.match&&s.match("px")&&(s=s.replace(/px/g,"")),u.run(o,s,l)}))},t.seriesType=function(e,n,r,i,o){var s=t.getOptions(),a=t.seriesTypes;return s.plotOptions[e]=t.merge(s.plotOptions[n],r),a[e]=t.extendClass(a[n]||function(){},i),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),t.isFunction=function(t){return"function"===typeof t},g.jQuery&&(g.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[n(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):d[l(this[0],"data-highcharts-chart")]}),{arrayMax:function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},arrayMin:function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},attr:l,defined:u,destroyObjectProperties:function(t,e){p(t,(function(n,r){n&&n!==e&&n.destroy&&n.destroy(),delete t[r]}))},discardElement:function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},erase:function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},extend:c,isArray:r,isClass:s,isDOMElement:o,isNumber:a,isObject:i,isString:n,objectEach:p,pick:h,pInt:e,setAnimation:function(t,e){e.renderer.globalAnimation=h(t,e.options.chart.animation,!0)},splat:function(t){return r(t)?t:[t]},syncTimeout:function(t,e,n){return 0<e?setTimeout(t,e,n):(t.call(0,n),-1)}}})),e(n,"parts/Color.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.isNumber,r=e.pInt,i=t.merge;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var n,r;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=e.stops.map((function(e){return new t.Color(e[1])}));else{if(e&&e.charAt&&"#"===e.charAt()){var i=e.length;e=parseInt(e.substr(1),16),7===i?n=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===i&&(n=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])}if(!n)for(r=this.parsers.length;r--&&!n;){var o=this.parsers[r];(i=o.regex.exec(e))&&(n=o.parse(i))}}this.rgba=n||[]},get:function(t){var e=this.input,r=this.rgba;if(this.stops){var o=i(e);o.stops=[].concat(o.stops),this.stops.forEach((function(e,n){o.stops[n]=[o.stops[n][0],e.get(t)]}))}else o=r&&n(r[0])?"rgb"===t||!t&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===t?r[3]:"rgba("+r.join(",")+")":e;return o},brighten:function(t){var e,i=this.rgba;if(this.stops)this.stops.forEach((function(e){e.brighten(t)}));else if(n(t)&&0!==t)for(e=0;3>e;e++)i[e]+=r(255*t),0>i[e]&&(i[e]=0),255<i[e]&&(i[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var n=this.rgba,r=t.rgba;return r.length&&n&&n.length?e=((t=1!==r[3]||1!==n[3])?"rgba(":"rgb(")+Math.round(r[0]+(n[0]-r[0])*(1-e))+","+Math.round(r[1]+(n[1]-r[1])*(1-e))+","+Math.round(r[2]+(n[2]-r[2])*(1-e))+(t?","+(r[3]+(n[3]-r[3])*(1-e)):"")+")":e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}})),e(n,"parts/SvgRenderer.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.attr,r=e.defined,i=e.destroyObjectProperties,o=e.erase,s=e.extend,a=e.isArray,u=e.isNumber,l=e.isObject,c=e.isString,h=e.objectEach,p=e.pick,d=e.pInt,f=e.splat,g=t.addEvent,v=t.animate,m=t.charts,y=t.color,b=t.css,w=t.createElement,C=t.deg2rad,E=t.doc,_=t.hasTouch,O=t.isFirefox,T=t.isMS,S=t.isWebKit,R=t.merge,P=t.noop,x=t.removeEvent,A=t.stop,D=t.svg,I=t.SVG_NS,N=t.symbolSizes,k=t.win,L=t.SVGElement=function(){return this};s(L.prototype,{opacity:1,SVG_NS:I,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(e,n){this.element="span"===n?w(n):E.createElementNS(this.SVG_NS,n),this.renderer=e,t.fireEvent(this,"afterInit")},animate:function(e,n,r){var i=t.animObject(p(n,this.renderer.globalAnimation,!0));return p(E.hidden,E.msHidden,E.webkitHidden,!1)&&(i.duration=0),0!==i.duration?(r&&(i.complete=r),v(this,e,i)):(this.attr(e,void 0,r),h(e,(function(t,e){i.step&&i.step.call(this,t,{prop:e,pos:1})}),this)),this},complexColor:function(e,n,i){var o,s,u,l,c,p,d,f,g,v,m,y,b=this.renderer,w=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},(function(){e.radialGradient?s="radialGradient":e.linearGradient&&(s="linearGradient"),s&&(u=e[s],c=b.gradients,d=e.stops,v=i.radialReference,a(u)&&(e[s]=u={x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&v&&!r(u.gradientUnits)&&(l=u,u=R(u,b.getRadialAttr(v,l),{gradientUnits:"userSpaceOnUse"})),h(u,(function(t,e){"id"!==e&&w.push(e,t)})),h(d,(function(t){w.push(t)})),w=w.join(","),c[w]?m=c[w].attr("id"):(u.id=m=t.uniqueKey(),c[w]=p=b.createElement(s).attr(u).add(b.defs),p.radAttr=l,p.stops=[],d.forEach((function(e){0===e[1].indexOf("rgba")?(o=t.color(e[1]),f=o.get("rgb"),g=o.get("a")):(f=e[1],g=1),e=b.createElement("stop").attr({offset:e[0],"stop-color":f,"stop-opacity":g}).add(p),p.stops.push(e)}))),y="url("+b.url+"#"+m+")",i.setAttribute(n,y),i.gradient=w,e.toString=function(){return y})}))},applyTextOutline:function(e){var r,i=this.element;-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(i.style.fill)));var o=(e=e.split(" "))[e.length-1];if((r=e[0])&&"none"!==r&&t.svg){this.fakeTS=!0,e=[].slice.call(i.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,n){return 2*e+n})),this.removeTextOutline(e);var s=i.firstChild;e.forEach((function(t,e){0===e&&(t.setAttribute("x",i.getAttribute("x")),e=i.getAttribute("y"),t.setAttribute("y",e||0),null===e&&i.setAttribute("y",0)),t=t.cloneNode(1),n(t,{class:"highcharts-text-outline",fill:o,stroke:o,"stroke-width":r,"stroke-linejoin":"round"}),i.insertBefore(t,s)}))}},removeTextOutline:function(t){for(var e,n=t.length;n--;)"highcharts-text-outline"===(e=t[n]).getAttribute("class")&&o(t,this.element.removeChild(e))},symbolCustomAttribs:"x y width height r start end innerR anchorX anchorY rounded".split(" "),attr:function(e,n,r,i){var o,s,a,u=this.element,l=this,c=this.symbolCustomAttribs;if("string"===typeof e&&void 0!==n){var p=e;(e={})[p]=n}return"string"===typeof e?l=(this[e+"Getter"]||this._defaultGetter).call(this,e,u):(h(e,(function(n,r){s=!1,i||A(this,r),this.symbolName&&-1!==t.inArray(r,c)&&(o||(this.symbolAttr(e),o=!0),s=!0),!this.rotation||"x"!==r&&"y"!==r||(this.doTransform=!0),s||((a=this[r+"Setter"]||this._defaultSetter).call(this,n,r,u),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,n,a))}),this),this.afterSetters()),r&&r.call(this),l},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,n){for(var r=this.shadows,i=r.length;i--;)n.call(r[i],"height"===t?Math.max(e-(r[i].cutHeight||0),0):"d"===t?this.d:e,t,r[i])},addClass:function(t,e){var n=e?"":this.attr("class")||"";return(t=(t||"").split(/ /g).reduce((function(t,e){return-1===n.indexOf(e)&&t.push(e),t}),n?[n]:[]).join(" "))!==n&&this.attr("class",t),this},hasClass:function(t){return-1!==(this.attr("class")||"").split(" ").indexOf(t)},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(c(t)?new RegExp(" ?"+t+" ?"):t,""))},symbolAttr:function(t){var e=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach((function(n){e[n]=p(t[n],e[n])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){e=e||t.strokeWidth||0;var n=Math.round(e)%2/2;return t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),r(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e=this.styles,r={},i=this.element,o="",a=!e,u=["textOutline","textOverflow","width"];if(t&&t.color&&(t.fill=t.color),e&&h(t,(function(t,n){t!==e[n]&&(r[n]=t,a=!0)})),a){if(e&&(t=s(e,r)),t)if(null===t.width||"auto"===t.width)delete this.textWidth;else if("text"===i.nodeName.toLowerCase()&&t.width)var l=this.textWidth=d(t.width);if(this.styles=t,l&&!D&&this.renderer.forExport&&delete t.width,i.namespaceURI===this.SVG_NS){var c=function(t,e){return"-"+e.toLowerCase()};h(t,(function(t,e){-1===u.indexOf(e)&&(o+=e.replace(/([A-Z])/g,c)+":"+t+";")})),o&&n(i,"style",o)}else b(i,t);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))}return this},getStyle:function(t){return k.getComputedStyle(this.element||this,"").getPropertyValue(t)},strokeWidth:function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var t=this.getStyle("stroke-width");if(t.indexOf("px")===t.length-2)t=d(t);else{var e=E.createElementNS(I,"rect");n(e,{width:t,"stroke-width":0}),this.element.parentNode.appendChild(e),t=e.getBBox().width,e.parentNode.removeChild(e)}return t},on:function(t,e){var n=this,r=n.element;return _&&"click"===t?(r.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(r,t)},r.onclick=function(t){(-1===k.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(r,t)}):r["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,o=this.inverted,s=this.rotation,a=this.matrix,u=this.element;o&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],r(a)&&t.push("matrix("+a.join(",")+")"),o?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+p(this.rotationOriginX,u.getAttribute("x"),0)+" "+p(this.rotationOriginY,u.getAttribute("y")||0)+")"),(r(n)||r(i))&&t.push("scale("+p(n,1)+" "+p(i,1)+")"),t.length&&u.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var r,i,s,a={},u=this.renderer,l=u.alignedObjects;t?(this.alignOptions=t,this.alignByTranslate=e,(!n||c(n))&&(this.alignTo=r=n||"renderer",o(l,this),l.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,r=this.alignTo),n=p(n,u[r],u),r=t.align,u=t.verticalAlign,l=(n.x||0)+(t.x||0);var h=(n.y||0)+(t.y||0);return"right"===r?i=1:"center"===r&&(i=2),i&&(l+=(n.width-(t.width||0))/i),a[e?"translateX":"x"]=Math.round(l),"bottom"===u?s=1:"middle"===u&&(s=2),s&&(h+=(n.height-(t.height||0))/s),a[e?"translateY":"y"]=Math.round(h),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(t,e){var n,i,o=this.renderer,a=this.element,u=this.styles,l=this.textStr,c=o.cache,h=o.cacheKeys,d=a.namespaceURI===this.SVG_NS;e=p(e,this.rotation,0);var f=o.styledMode?a&&L.prototype.getStyle.call(a,"font-size"):u&&u.fontSize;if(r(l)){var g=l.toString();-1===g.indexOf("<")&&(g=g.replace(/[0-9]/g,"0")),g+=["",e,f,this.textWidth,u&&u.textOverflow].join()}if(g&&!t&&(n=c[g]),!n){if(d||o.forExport){try{(i=this.fakeTS&&function(t){[].forEach.call(a.querySelectorAll(".highcharts-text-outline"),(function(e){e.style.display=t}))})&&i("none"),n=a.getBBox?s({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},i&&i("")}catch(v){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(o.isSVG&&(t=n.width,o=n.height,d&&(n.height=o={"11px,17":14,"13px,20":16}[u&&u.fontSize+","+Math.round(o)]||o),e&&(u=e*C,n.width=Math.abs(o*Math.sin(u))+Math.abs(t*Math.cos(u)),n.height=Math.abs(o*Math.cos(u))+Math.abs(t*Math.sin(u)))),g&&0<n.height){for(;250<h.length;)delete c[h.shift()];c[g]||h.push(g),c[g]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(t){return t?this.attr({y:-9999}):this.attr({visibility:"hidden"}),this},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e=this.renderer,n=this.element;if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&e.buildText(this),this.added=!0,!t||t.handleZ||this.zIndex)var r=this.zIndexSetter();return r||(t?t.element:e.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},n=t.renderer,r=n.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,i=e.ownerSVGElement,s=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,A(t),s&&i&&([].forEach.call(i.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){-1<t.getAttribute("clip-path").indexOf(s.element.id)&&t.removeAttribute("clip-path")})),t.clipPath=s.destroy()),t.stops){for(i=0;i<t.stops.length;i++)t.stops[i]=t.stops[i].destroy();t.stops=null}for(t.safeRemoveChild(e),n.styledMode||t.destroyShadows();r&&r.div&&0===r.div.childNodes.length;)e=r.parentGroup,t.safeRemoveChild(r.div),delete r.div,r=e;t.alignTo&&o(n.alignedObjects,t),h(t,(function(e,n){t[n]&&t[n].parentGroup===t&&t[n].destroy&&t[n].destroy(),delete t[n]}))},shadow:function(t,e,r){var i,o=[],s=this.element;if(t){if(!this.shadows){var a=p(t.width,3),u=(t.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+p(t.offsetX,1)+", "+p(t.offsetY,1)+")";for(i=1;i<=a;i++){var c=s.cloneNode(0),h=2*a+1-2*i;n(c,{stroke:t.color||"#000000","stroke-opacity":u*i,"stroke-width":h,transform:"translate"+l,fill:"none"}),c.setAttribute("class",(c.getAttribute("class")||"")+" highcharts-shadow"),r&&(n(c,"height",Math.max(n(c,"height")-h,0)),c.cutHeight=h),e?e.element.appendChild(c):s.parentNode&&s.parentNode.insertBefore(c,s),o.push(c)}this.shadows=o}}else this.destroyShadows();return this},destroyShadows:function(){(this.shadows||[]).forEach((function(t){this.safeRemoveChild(t)}),this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=p(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=d(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){var e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=E.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(E.createTextNode(String(p(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))},setTextPath:function(e,n){var i=this.element,o={textAnchor:"text-anchor"},s=!1,a=this.textPathWrapper,u=!a,l=(n=R(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},n)).attributes;if(e&&n&&n.enabled){this.options&&this.options.padding&&(l.dx=-this.options.padding),a||(this.textPathWrapper=a=this.renderer.createElement("textPath"),s=!0);var c=a.element;if((n=e.element.getAttribute("id"))||e.element.setAttribute("id",n=t.uniqueKey()),u)for(e=i.getElementsByTagName("tspan");e.length;)e[0].setAttribute("y",0),c.appendChild(e[0]);s&&a.add({element:this.text?this.text.element:i}),c.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+n),r(l.dy)&&(c.parentNode.setAttribute("dy",l.dy),delete l.dy),r(l.dx)&&(c.parentNode.setAttribute("dx",l.dx),delete l.dx),h(l,(function(t,e){c.setAttribute(o[e]||e,t)})),i.removeAttribute("transform"),this.removeTextOutline.call(a,[].slice.call(i.getElementsByTagName("tspan"))),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=P}else a&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(i,e));return this},destroyTextPath:function(t,e){var n;for(e.element.setAttribute("id",""),n=this.textPathWrapper.element.childNodes;n.length;)t.firstChild.appendChild(n[0]);t.firstChild.removeChild(this.textPathWrapper.element),delete e.textPathWrapper},fillSetter:function(t,e,n){"string"===typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var n=this.renderer,i=this.parentGroup,o=(i||n).element||n.box,s=this.element,a=!1;n=o===n.box;var u,l=this.added;if(r(t)?(s.setAttribute("data-z-index",t),t=+t,this[e]===t&&(l=!1)):r(this[e])&&s.removeAttribute("data-z-index"),this[e]=t,l){for((t=this.zIndex)&&i&&(i.handleZ=!0),u=(e=o.childNodes).length-1;0<=u&&!a;u--){l=(i=e[u]).getAttribute("data-z-index");var c=!r(l);i!==s&&(0>t&&c&&!n&&!u?(o.insertBefore(s,e[u]),a=!0):(d(l)<=t||c&&(!r(t)||0<=t))&&(o.insertBefore(s,e[u+1]||null),a=!0))}a||(o.insertBefore(s,e[n?3:0]||null),a=!0)}return a},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}}),L.prototype.yGetter=L.prototype.xGetter,L.prototype.translateXSetter=L.prototype.translateYSetter=L.prototype.rotationSetter=L.prototype.verticalAlignSetter=L.prototype.rotationOriginXSetter=L.prototype.rotationOriginYSetter=L.prototype.scaleXSetter=L.prototype.scaleYSetter=L.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},L.prototype["stroke-widthSetter"]=L.prototype.strokeSetter=function(t,e,n){this[e]=t,this.stroke&&this["stroke-width"]?(L.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke?(n.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},e=t.SVGRenderer=function(){this.init.apply(this,arguments)},s(e.prototype,{Element:L,SVG_NS:I,init:function(t,e,r,i,o,s,a){var u,l=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"});a||l.css(this.getStyle(i)),i=l.element,t.appendChild(i),n(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&n(i,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=i,this.boxWrapper=l,this.alignedObjects=[],this.url=(O||S)&&E.getElementsByTagName("base").length?k.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(E.createTextNode("Created with Highcharts 7.2.2")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=o,this.styledMode=a,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,r,!1),O&&t.getBoundingClientRect&&((e=function(){b(t,{left:0,top:0}),u=t.getBoundingClientRect(),b(t,{left:Math.ceil(u.left)-u.left+"px",top:Math.ceil(u.top)-u.top+"px"})})(),this.unSubPixelFix=g(k,"resize",e))},definition:function(t){var e=this;return function t(n,r){var i;return f(n).forEach((function(n){var o=e.createElement(n.tagName),s={};h(n,(function(t,e){"tagName"!==e&&"children"!==e&&"textContent"!==e&&(s[e]=t)})),o.attr(s),o.add(r||e.defs),n.textContent&&o.element.appendChild(E.createTextNode(n.textContent)),t(n.children||[],o),i=o})),i}(t)},getStyle:function(t){return this.style=s({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),i(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:P,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,n,r,i,o,s){var a,u,l=this,c=t.rotation,h=r?1:0,p=(n||r).length,d=p,f=[],g=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(E.createTextNode(t))},v=function(o,a){if(void 0===f[a=a||o])if(e.getSubStringLength)try{f[a]=i+e.getSubStringLength(0,r?a+1:a)}catch(u){}else l.getSpanWidth&&(g(s(n||r,o)),f[a]=i+l.getSpanWidth(t,e));return f[a]};t.rotation=0;var m=v(e.textContent.length);if(u=i+m>o){for(;h<=p;)d=Math.ceil((h+p)/2),r&&(a=s(r,d)),m=v(d,a&&a.length-1),h===p?h=p+1:m>o?p=d-1:h=d;0===p?g(""):n&&p===n.length-1||g(a||s(n||r,d))}return r&&r.splice(0,d),t.actualWidth=m,t.rotation=c,u},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,r,i=t.element,o=this,s=o.forExport,a=p(t.textStr,"").toString(),u=-1!==a.indexOf("<"),l=i.childNodes,c=n(i,"x"),f=t.styles,g=t.textWidth,v=f&&f.lineHeight,m=f&&f.textOutline,y=f&&"ellipsis"===f.textOverflow,w=f&&"nowrap"===f.whiteSpace,C=f&&f.fontSize,_=l.length;f=g&&!t.added&&this.box;var O=function(t){var e;return o.styledMode||(e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:C||o.style.fontSize||12),v?d(v):o.fontMetrics(e,t.getAttribute("style")?t:i).h},T=function(t,e){return h(o.escapes,(function(n,r){e&&-1!==e.indexOf(n)||(t=t.toString().replace(new RegExp(n,"g"),r))})),t},S=function(t,e){var n=t.indexOf("<");if(-1!==(n=(t=t.substring(n,t.indexOf(">")-n)).indexOf(e+"="))&&(n=n+e.length+1,'"'===(e=t.charAt(n))||"'"===e))return(t=t.substring(n+1)).substring(0,t.indexOf(e))},R=/<br.*?>/g,P=[a,y,w,v,m,C,g].join();if(P!==t.textCache){for(t.textCache=P;_--;)i.removeChild(l[_]);u||m||y||g||-1!==a.indexOf(" ")&&(!w||R.test(a))?(f&&f.appendChild(i),u?a=(a=o.styledMode?a.replace(/<(b|strong)>/g,'<span class="highcharts-strong">').replace(/<(i|em)>/g,'<span class="highcharts-emphasized">'):a.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">')).replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(R):a=[a],(a=a.filter((function(t){return""!==t}))).forEach((function(a,u){var l=0,h=0,p=(a=a.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||")).split("|||");p.forEach((function(a){if(""!==a||1===p.length){var d,f,v={},m=E.createElementNS(o.SVG_NS,"tspan");if((d=S(a,"class"))&&n(m,"class",d),(d=S(a,"style"))&&(d=d.replace(/(;| |^)color([ :])/,"$1fill$2"),n(m,"style",d)),(f=S(a,"href"))&&!s&&-1===f.split(":")[0].toLowerCase().indexOf("javascript")){var _=E.createElementNS(o.SVG_NS,"a");n(_,"href",f),n(m,"class","highcharts-anchor"),_.appendChild(m),o.styledMode||b(m,{cursor:"pointer"})}if(" "!==(a=T(a.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(m.appendChild(E.createTextNode(a)),l?v.dx=0:u&&null!==c&&(v.x=c),n(m,v),i.appendChild(_||m),!l&&r&&(!D&&s&&b(m,{display:"block"}),n(m,"dy",O(m))),g){var R=a.replace(/([^\^])-/g,"$1- ").split(" ");if(v=!w&&(1<p.length||u||1<R.length),_=0,f=O(m),y)e=o.truncate(t,m,a,void 0,0,Math.max(0,g-parseInt(C||12,10)),(function(t,e){return t.substring(0,e)+"\u2026"}));else if(v)for(;R.length;)R.length&&!w&&0<_&&(m=E.createElementNS(I,"tspan"),n(m,{dy:f,x:c}),d&&n(m,"style",d),m.appendChild(E.createTextNode(R.join(" ").replace(/- /g,"-"))),i.appendChild(m)),o.truncate(t,m,null,R,0===_?h:0,g,(function(t,e){return R.slice(0,e).join(" ").replace(/- /g,"-")})),h=t.actualWidth,_++}l++}}})),r=r||i.childNodes.length})),y&&e&&t.attr("title",T(t.textStr,["&lt;","&gt;"])),f&&f.removeChild(i),m&&t.applyTextOutline&&t.applyTextOutline(m)):i.appendChild(E.createTextNode(T(a)))}},getContrast:function(t){return(t=y(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,r,i,o,a,u,l,c){var h=this.label(t,e,n,l,null,null,c,null,"button"),p=0,d=this.styledMode;if(h.attr(R({padding:8,r:2},i)),!d){var f=(i=R({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},i)).style;delete i.style;var v=(o=R(i,{fill:"#e6e6e6"},o)).style;delete o.style;var m=(a=R(i,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a)).style;delete a.style;var y=(u=R(i,{style:{color:"#cccccc"}},u)).style;delete u.style}return g(h.element,T?"mouseover":"mouseenter",(function(){3!==p&&h.setState(1)})),g(h.element,T?"mouseout":"mouseleave",(function(){3!==p&&h.setState(p)})),h.setState=function(t){1!==t&&(h.state=p=t),h.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),d||h.attr([i,o,a,u][t||0]).css([f,v,m,y][t||0])},d||h.attr(i).css(s({cursor:"default"},f)),h.on("click",(function(t){3!==p&&r.call(h,t)}))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e=this.styledMode?{}:{fill:"none"};return a(t)?e.d=t:l(t)&&s(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=l(t)?t:void 0===t?{}:{x:t,y:e,r:n},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,r,i,o){return l(t)?(e=(r=t).y,n=r.r,t=r.x):r={innerR:r,start:i,end:o},(t=this.symbol("arc",t,e,n,n,r)).r=n,t},rect:function(t,e,r,i,o,s){o=l(t)?t.r:o;var a=this.createElement("rect");return t=l(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(r,0),height:Math.max(i,0)},this.styledMode||(void 0!==s&&(t.strokeWidth=s,t=a.crisp(t)),t.fill="none"),o&&(t.r=o),a.rSetter=function(t,e,r){a.r=t,n(r,{rx:t,ry:t})},a.rGetter=function(){return a.r},a.attr(t)},setSize:function(t,e,n){var r=this.alignedObjects,i=r.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:p(n,!0)?void 0:0});i--;)r[i].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,n,r,i,o){var a={preserveAspectRatio:"none"},u=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},l=function(e){u(c.element,t),o.call(c,e)};1<arguments.length&&s(a,{x:e,y:n,width:r,height:i});var c=this.createElement("image").attr(a);return o?(u(c.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),a=new k.Image,g(a,"load",l),a.src=t,a.complete&&l({})):u(c.element,t),c},symbol:function(t,e,n,i,o,a){var u=this,l=/^url\((.*?)\)$/,c=l.test(t),h=!c&&(this.symbols[t]?t:"circle"),d=h&&this.symbols[h],f=r(e)&&d&&d.call(this.symbols,Math.round(e),Math.round(n),i,o,a);if(d){var g=this.path(f);u.styledMode||g.attr("fill","none"),s(g,{symbolName:h,x:e,y:n,width:i,height:o}),a&&s(g,a)}else if(c){var v=t.match(l)[1];(g=this.image(v)).imgwidth=p(N[v]&&N[v].width,a&&a.width),g.imgheight=p(N[v]&&N[v].height,a&&a.height);var y=function(){g.attr({width:g.width,height:g.height})};["width","height"].forEach((function(t){g[t+"Setter"]=function(t,e){var n={},i=this["img"+e],o="width"===e?"translateX":"translateY";this[e]=t,r(i)&&(a&&"within"===a.backgroundSize&&this.width&&this.height&&(i=Math.round(i*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[o]=((this[e]||0)-i)/2,this.attr(n)))}})),r(e)&&g.attr({x:e,y:n}),g.isImg=!0,r(g.imgwidth)&&r(g.imgheight)?y():(g.attr({width:0,height:0}),w("img",{onload:function(){var t=m[u.chartIndex];0===this.width&&(b(this,{position:"absolute",top:"-999em"}),E.body.appendChild(this)),N[v]={width:this.width,height:this.height},g.imgwidth=this.width,g.imgheight=this.height,g.element&&y(),this.parentNode&&this.parentNode.removeChild(this),u.imgCount--,!u.imgCount&&t&&t.onload&&t.onload()},src:v}),this.imgCount++)}return g},symbols:{circle:function(t,e,n,r){return this.arc(t+n/2,e+r/2,n/2,r/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},square:function(t,e,n,r){return["M",t,e,"L",t+n,e,t+n,e+r,t,e+r,"Z"]},triangle:function(t,e,n,r){return["M",t+n/2,e,"L",t+n,e+r,t,e+r,"Z"]},"triangle-down":function(t,e,n,r){return["M",t,e,"L",t+n,e,t+n/2,e+r,"Z"]},diamond:function(t,e,n,r){return["M",t+n/2,e,"L",t+n,e+r/2,t+n/2,e+r,t,e+r/2,"Z"]},arc:function(t,e,n,i,o){var s=o.start,a=o.r||n,u=o.r||i||n,l=o.end-.001;n=o.innerR,i=p(o.open,.001>Math.abs(o.end-o.start-2*Math.PI));var c=Math.cos(s),h=Math.sin(s),d=Math.cos(l);return l=Math.sin(l),o=["M",t+a*c,e+u*h,"A",a,u,0,s=.001>o.end-s-Math.PI?0:1,p(o.clockwise,1),t+a*d,e+u*l],r(n)&&o.push(i?"M":"L",t+n*d,e+n*l,"A",n,n,0,s,0,t+n*c,e+n*h),o.push(i?"":"Z"),o},callout:function(t,e,n,r,i){var o=Math.min(i&&i.r||0,n,r),s=o+6,a=i&&i.anchorX;i=i&&i.anchorY;var u=["M",t+o,e,"L",t+n-o,e,"C",t+n,e,t+n,e,t+n,e+o,"L",t+n,e+r-o,"C",t+n,e+r,t+n,e+r,t+n-o,e+r,"L",t+o,e+r,"C",t,e+r,t,e+r,t,e+r-o,"L",t,e+o,"C",t,e,t,e,t+o,e];return a&&a>n?i>e+s&&i<e+r-s?u.splice(13,3,"L",t+n,i-6,t+n+6,i,t+n,i+6,t+n,e+r-o):u.splice(13,3,"L",t+n,r/2,a,i,t+n,r/2,t+n,e+r-o):a&&0>a?i>e+s&&i<e+r-s?u.splice(33,3,"L",t,i+6,t-6,i,t,i-6,t,e+o):u.splice(33,3,"L",t,r/2,a,i,t,r/2,t,e+o):i&&i>r&&a>t+s&&a<t+n-s?u.splice(23,3,"L",a+6,e+r,a,e+r+6,a-6,e+r,t+o,e+r):i&&0>i&&a>t+s&&a<t+n-s&&u.splice(3,3,"L",a-6,e,a,e-6,a+6,e,n-o,e),u}},clipRect:function(e,n,r,i){var o=t.uniqueKey()+"-",s=this.createElement("clipPath").attr({id:o}).add(this.defs);return(e=this.rect(e,n,r,i,0).add(s)).id=o,e.clipPath=s,e.count=0,e},text:function(t,e,n,i){var o={};return!i||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),n&&(o.y=Math.round(n)),r(t)&&(o.text=t),t=this.createElement("text").attr(o),i||(t.xSetter=function(t,e,n){var r,i=n.getElementsByTagName("tspan"),o=n.getAttribute(e);for(r=0;r<i.length;r++){var s=i[r];s.getAttribute(e)===o&&s.setAttribute(e,t)}n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,e){return t=!this.styledMode&&/px/.test(t)||!k.getComputedStyle?t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize:e&&L.prototype.getStyle.call(e,"font-size"),{h:e=24>(t=/px/.test(t)?d(t):12)?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},rotCorr:function(t,e,n){var r=t;return e&&n&&(r=Math.max(r*Math.cos(e*C),4)),{x:-t/3*Math.sin(e*C),y:r}},label:function(t,e,n,i,o,a,l,c,h){var p,d,f,g,v,m,y,b,w,C=this,E=C.styledMode,_=C.g("button"!==h&&"label"),O=_.text=C.text("",0,0,l).attr({zIndex:1}),T=0,S=3,P=0,A={},D=/^url\((.*?)\)$/.test(i),I=E||D,N=function(){return E?p.strokeWidth()%2/2:(b?parseInt(b,10):0)%2/2};h&&_.addClass("highcharts-"+h);var k=function(){var t=O.element.style,e={};d=(void 0===f||void 0===g||y)&&r(O.textStr)&&O.getBBox(),_.width=(f||d.width||0)+2*S+P,_.height=(g||d.height||0)+2*S,w=S+Math.min(C.fontMetrics(t&&t.fontSize,O).b,d?d.height:1/0),I&&(p||(_.box=p=C.symbols[i]||D?C.symbol(i):C.rect(),p.addClass(("button"===h?"":"highcharts-label-box")+(h?" highcharts-"+h+"-box":"")),p.add(_),t=N(),e.x=t,e.y=(c?-w:0)+t),e.width=Math.round(_.width),e.height=Math.round(_.height),p.attr(s(e,A)),A={})},M=function(){var t=P+S,e=c?0:w;r(f)&&d&&("center"===y||"right"===y)&&(t+={center:.5,right:1}[y]*(f-d.width)),t===O.x&&e===O.y||(O.attr("x",t),O.hasBoxWidthChanged&&(d=O.getBBox(!0),k()),void 0!==e&&O.attr("y",e)),O.x=t,O.y=e},F=function(t,e){p?p.attr(t,e):A[t]=e};_.onAdd=function(){O.add(_),_.attr({text:t||0===t?t:"",x:e,y:n}),p&&r(o)&&_.attr({anchorX:o,anchorY:a})},_.widthSetter=function(t){f=u(t)?t:null},_.heightSetter=function(t){g=t},_["text-alignSetter"]=function(t){y=t},_.paddingSetter=function(t){r(t)&&t!==S&&(S=_.padding=t,M())},_.paddingLeftSetter=function(t){r(t)&&t!==P&&(P=t,M())},_.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==T&&(T=t,d&&_.attr({x:v}))},_.textSetter=function(t){void 0!==t&&O.attr({text:t}),k(),M()},_["stroke-widthSetter"]=function(t,e){t&&(I=!0),b=this["stroke-width"]=t,F(e,t)},E?_.rSetter=function(t,e){F(e,t)}:_.strokeSetter=_.fillSetter=_.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(I=!0),_[e]=t),F(e,t)},_.anchorXSetter=function(t,e){o=_.anchorX=t,F(e,Math.round(t)-N()-v)},_.anchorYSetter=function(t,e){a=_.anchorY=t,F(e,t-m)},_.xSetter=function(t){_.x=t,T&&(t-=T*((f||d.width)+2*S),_["forceAnimate:x"]=!0),v=Math.round(t),_.attr("translateX",v)},_.ySetter=function(t){m=_.y=Math.round(t),_.attr("translateY",m)};var j=_.css;return l={css:function(t){if(t){var e={};t=R(t),_.textProps.forEach((function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])})),O.css(e),"width"in e&&k(),"fontSize"in e&&(k(),M())}return j.call(_,t)},getBBox:function(){return{width:d.width+2*S,height:d.height+2*S,x:d.x-S,y:d.y-S}},destroy:function(){x(_.element,"mouseenter"),x(_.element,"mouseleave"),O&&(O=O.destroy()),p&&(p=p.destroy()),L.prototype.destroy.call(_),_=C=k=M=F=null}},E||(l.shadow=function(t){return t&&(k(),p&&p.shadow(t)),_}),s(_,l)}}),t.Renderer=e})),e(n,"parts/Html.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.attr,r=e.defined,i=e.extend,o=e.pick,s=e.pInt,a=t.createElement,u=t.css,l=t.isFirefox,c=t.isMS,h=t.isWebKit,p=t.SVGElement;e=t.SVGRenderer;var d=t.win;i(p.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,n=o(e&&t.width,void 0);if(e){delete t.width,this.textWidth=n;var r=!0}return t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=i(this.styles,t),u(this.element,t),r&&this.htmlUpdateTransform(),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,i=this.translateY||0,o=this.x||0,a=this.y||0,l=this.textAlign||"left",c={left:0,center:.5,right:1}[l],h=this.styles,p=h&&h.whiteSpace;if(u(e,{marginLeft:n,marginTop:i}),!t.styledMode&&this.shadows&&this.shadows.forEach((function(t){u(t,{marginLeft:n+1,marginTop:i+1})})),this.inverted&&[].forEach.call(e.childNodes,(function(n){t.invertChild(n,e)})),"SPAN"===e.tagName){h=this.rotation;var d,f=this.textWidth&&s(this.textWidth),g=[h,l,e.innerHTML,this.textWidth,this.textAlign].join();(d=f!==this.oldTextWidth)&&!(d=f>this.oldTextWidth)&&((d=this.textPxLength)||(u(e,{width:"",whiteSpace:p||"nowrap"}),d=e.offsetWidth),d=d>f),d&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)?(u(e,{width:f+"px",display:"block",whiteSpace:p||"normal"}),this.oldTextWidth=f,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,g!==this.cTT&&(p=t.fontMetrics(e.style.fontSize,e).b,!r(h)||h===(this.oldRotation||0)&&l===this.oldAlign||this.setSpanRotation(h,c,p),this.getSpanCorrection(!r(h)&&this.textPxLength||e.offsetWidth,p,c,h,l)),u(e,{left:o+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=h,this.oldAlign=l}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var r={},i=this.renderer.getTransformKey();r[i]=r.transform="rotate("+t+"deg)",r[i+(l?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",u(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),i(e.prototype,{getTransformKey:function(){return c&&!/Edge/.test(d.navigator.userAgent)?"-ms-transform":h?"-webkit-transform":l?"MozTransform":d.opera?"-o-transform":""},html:function(t,e,r){var s=this.createElement("span"),u=s.element,l=s.renderer,c=l.isSVG,h=function(t,e){["opacity","visibility"].forEach((function(n){t[n+"Setter"]=function(r,i,o){var s=t.div?t.div.style:e;p.prototype[n+"Setter"].call(this,r,i,o),s&&(s[i]=r)}})),t.addedSetters=!0};return s.textSetter=function(t){t!==u.innerHTML&&(delete this.bBox,delete this.oldTextWidth),this.textStr=t,u.innerHTML=o(t,""),s.doTransform=!0},c&&h(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.doTransform=!0},s.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},s.attr({text:t,x:Math.round(e),y:Math.round(r)}).css({position:"absolute"}),l.styledMode||s.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),u.style.whiteSpace="nowrap",s.css=s.htmlCss,c&&(s.add=function(t){var e=l.box.parentNode,r=[];if(this.parentGroup=t){var o=t.div;if(!o){for(;t;)r.push(t),t=t.parentGroup;r.reverse().forEach((function(t){function u(e,n){t[n]=e,"translateX"===n?c.left=e+"px":c.top=e+"px",t.doTransform=!0}var l=n(t.element,"class"),c=(o=t.div=t.div||a("div",l?{className:l}:void 0,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},o||e)).style;i(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(o),on:function(){return r[0].div&&s.on.apply({element:r[0].div},arguments),t},translateXSetter:u,translateYSetter:u}),t.addedSetters||h(t)}))}}else o=e;return o.appendChild(u),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})})),e(n,"parts/Time.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.defined,r=e.extend,i=e.isObject,o=e.objectEach,s=e.pick,a=e.splat,u=t.merge,l=t.timeUnits,c=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},update:function(t){var e=s(t&&t.useUTC,!0),n=this;this.options=t=u(!0,this.options||{},t),this.Date=t.Date||c.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var r=e.getTime(),i=r-n.getTimezoneOffset(e);return e.setTime(i),t=e["getUTC"+t](),e.setTime(r),t},this.set=function(t,e,r){if("Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0===e.getTimezoneOffset()%60)e["set"+t](r);else{var i=n.getTimezoneOffset(e);i=e.getTime()-i,e.setTime(i),e["setUTC"+t](r),t=n.getTimezoneOffset(e),i=e.getTime()+t,e.setTime(i)}}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,n){return e["setUTC"+t](n)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,n){return e["set"+t](n)})},makeTime:function(e,n,r,i,o,a){if(this.useUTC){var u=this.Date.UTC.apply(0,arguments),l=this.getTimezoneOffset(u);u+=l;var c=this.getTimezoneOffset(u);l!==c?u+=c-l:l-36e5!==this.getTimezoneOffset(u-36e5)||t.isSafari||(u-=36e5)}else u=new this.Date(e,n,s(r,1),s(i,0),s(o,0),s(a,0)).getTime();return u},timezoneOffsetFunction:function(){var e=this,n=this.options,r=c.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(n.timezone){if(r)return function(t){return 6e4*-r.tz(t,n.timezone).utcOffset()};t.error(25)}return this.useUTC&&n.getTimezoneOffset?function(t){return 6e4*n.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,i,a){if(!n(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=s(e,"%Y-%m-%d %H:%M:%S");var u=this,l=new this.Date(i),c=this.get("Hours",l),h=this.get("Day",l),p=this.get("Date",l),d=this.get("Month",l),f=this.get("FullYear",l),g=t.defaultOptions.lang,v=g.weekdays,m=g.shortWeekdays,y=t.pad;return l=r({a:m?m[h]:v[h].substr(0,3),A:v[h],d:y(p),e:y(p,2," "),w:h,b:g.shortMonths[d],B:g.months[d],m:y(d+1),o:d+1,y:f.toString().substr(2,2),Y:f,H:y(c),k:c,I:y(c%12||12),l:c%12||12,M:y(u.get("Minutes",l)),p:12>c?"AM":"PM",P:12>c?"am":"pm",S:y(l.getSeconds()),L:y(Math.floor(i%1e3),3)},t.dateFormats),o(l,(function(t,n){for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,"function"===typeof t?t.call(u,i):t)})),a?e.substr(0,1).toUpperCase()+e.substr(1):e},resolveDTLFormat:function(t){return i(t,!0)?t:{main:(t=a(t))[0],from:t[1],to:t[2]}},getTimeTicks:function(t,e,i,o){var a,u=this,c=[],h={},p=new u.Date(e),d=t.unitRange,f=t.count||1;if(o=s(o,1),n(e)){if(u.set("Milliseconds",p,d>=l.second?0:f*Math.floor(u.get("Milliseconds",p)/f)),d>=l.second&&u.set("Seconds",p,d>=l.minute?0:f*Math.floor(u.get("Seconds",p)/f)),d>=l.minute&&u.set("Minutes",p,d>=l.hour?0:f*Math.floor(u.get("Minutes",p)/f)),d>=l.hour&&u.set("Hours",p,d>=l.day?0:f*Math.floor(u.get("Hours",p)/f)),d>=l.day&&u.set("Date",p,d>=l.month?1:Math.max(1,f*Math.floor(u.get("Date",p)/f))),d>=l.month){u.set("Month",p,d>=l.year?0:f*Math.floor(u.get("Month",p)/f));var g=u.get("FullYear",p)}d>=l.year&&u.set("FullYear",p,g-g%f),d===l.week&&(g=u.get("Day",p),u.set("Date",p,u.get("Date",p)-g+o+(g<o?-7:0))),g=u.get("FullYear",p),o=u.get("Month",p);var v=u.get("Date",p),m=u.get("Hours",p);for(e=p.getTime(),u.variableTimezone&&(a=i-e>4*l.month||u.getTimezoneOffset(e)!==u.getTimezoneOffset(i)),e=p.getTime(),p=1;e<i;)c.push(e),e=d===l.year?u.makeTime(g+p*f,0):d===l.month?u.makeTime(g,o+p*f):!a||d!==l.day&&d!==l.week?a&&d===l.hour&&1<f?u.makeTime(g,o,v,m+p*f):e+d*f:u.makeTime(g,o,v+p*f*(d===l.day?1:7)),p++;c.push(e),d<=l.hour&&1e4>c.length&&c.forEach((function(t){0===t%18e5&&"000000000"===u.dateFormat("%H%M%S%L",t)&&(h[t]="day")}))}return c.info=r(t,{higherRanks:h,totalRange:d*f}),c}}})),e(n,"parts/Options.js",[n["parts/Globals.js"]],(function(t){var e=t.color,n=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=n(!0,t.defaultOptions,e),(e.time||e.global)&&t.time.update(n(t.defaultOptions.global,t.defaultOptions.time,e.global,e.time)),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(n(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,n,r){return t.time.dateFormat(e,n,r)}})),e(n,"parts/Tick.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.defined,r=e.destroyObjectProperties,i=e.extend,o=e.isNumber,s=e.pick,a=t.correctFloat,u=t.fireEvent,l=t.merge,c=t.deg2rad;t.Tick=function(t,e,n,r,i){this.axis=t,this.pos=e,this.type=n||"",this.isNewLabel=this.isNew=!0,this.parameters=i||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,n||r||this.addLabel()},t.Tick.prototype={addLabel:function(){var t=this,e=t.axis,r=e.options,o=e.chart,u=e.categories,c=e.names,h=t.pos,p=s(t.options&&t.options.labels,r.labels),d=e.tickPositions,f=h===d[0],g=h===d[d.length-1];u=this.parameters.category||(u?s(u[h],c[h],h):h);var v,m,y=t.label;if(d=d.info,e.isDatetimeAxis&&d)var b=o.time.resolveDTLFormat(r.dateTimeLabelFormats[!r.grid&&d.higherRanks[h]||d.unitName]),w=b.main;t.isFirst=f,t.isLast=g,t.formatCtx={axis:e,chart:o,isFirst:f,isLast:g,dateTimeLabelFormat:w,tickPositionInfo:d,value:e.isLog?a(e.lin2log(u)):u,pos:h},r=e.labelFormatter.call(t.formatCtx,this.formatCtx),(m=b&&b.list)&&(t.shortenLabel=function(){for(v=0;v<m.length;v++)if(y.attr({text:e.labelFormatter.call(i(t.formatCtx,{dateTimeLabelFormat:m[v]}))}),y.getBBox().width<e.getSlotWidth(t)-2*s(p.padding,5))return;y.attr({text:""})}),n(y)?y&&y.textStr!==r&&(!y.textWidth||p.style&&p.style.width||y.styles.width||y.css({width:null}),y.attr({text:r}),y.textPxLength=y.getBBox().width):((t.label=y=n(r)&&p.enabled?o.renderer.text(r,0,0,p.useHTML).add(e.labelGroup):null)&&(o.styledMode||y.css(l(p.style)),y.textPxLength=y.getBBox().width),t.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e=this.axis,n=e.options.labels,r=t.x,i=e.chart.chartWidth,o=e.chart.spacing,a=s(e.labelLeft,Math.min(e.pos,o[3]));o=s(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,i-o[1]));var u,l=this.label,h=this.rotation,p={left:0,center:.5,right:1}[e.labelAlign||l.attr("align")],d=l.getBBox().width,f=e.getSlotWidth(this),g=f,v=1,m={};h||"justify"!==s(n.overflow,"justify")?0>h&&r-p*d<a?u=Math.round(r/Math.cos(h*c)-a):0<h&&r+p*d>o&&(u=Math.round((i-r)/Math.cos(h*c))):(i=r+(1-p)*d,r-p*d<a?g=t.x+g*(1-p)-a:i>o&&(g=o-t.x+g*p,v=-1),(g=Math.min(f,g))<f&&"center"===e.labelAlign&&(t.x+=v*(f-g-p*(f-Math.min(d,g)))),(d>g||e.autoRotation&&(l.styles||{}).width)&&(u=g)),u&&(this.shortenLabel?this.shortenLabel():(m.width=Math.floor(u),(n.style||{}).textOverflow||(m.textOverflow="ellipsis"),l.css(m)))},getPosition:function(e,n,r,i){var o=this.axis,s=o.chart,a=i&&s.oldChartHeight||s.chartHeight;return(e={x:e?t.correctFloat(o.translate(n+r,null,null,i)+o.transB):o.left+o.offset+(o.opposite?(i&&s.oldChartWidth||s.chartWidth)-o.right-o.left:0),y:e?a-o.bottom+o.offset-(o.opposite?o.height:0):t.correctFloat(a-o.translate(n+r,null,null,i)-o.transB)}).y=Math.max(Math.min(e.y,1e5),-1e5),u(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,r,i,o,s,a,l){var h=this.axis,p=h.transA,d=h.isLinked&&h.linkedParent?h.linkedParent.reversed:h.reversed,f=h.staggerLines,g=h.tickRotCorr||{x:0,y:0},v=o.y,m=i||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),y={};return n(v)||(v=0===h.side?r.rotation?-8:-r.getBBox().height:2===h.side?g.y+8:Math.cos(r.rotation*c)*(g.y-r.getBBox(!1,0).height/2)),t=t+o.x+m+g.x-(s&&i?s*p*(d?-1:1):0),e=e+v-(s&&!i?s*p*(d?1:-1):0),f&&(r=a/(l||1)%f,h.opposite&&(r=f-r-1),e+=h.labelOffset/f*r),y.x=t,y.y=Math.round(e),u(this,"afterGetLabelPosition",{pos:y,tickmarkOffset:s,index:a}),y},getMarkPath:function(t,e,n,r,i,o){return o.crispLine(["M",t,e,"L",t+(i?0:-n),e+(i?n:0)],r)},renderGridLine:function(t,e,n){var r=this.axis,i=r.options,o=this.gridLine,a={},u=this.pos,l=this.type,c=s(this.tickmarkOffset,r.tickmarkOffset),h=r.chart.renderer,p=l?l+"Grid":"grid",d=i[p+"LineWidth"],f=i[p+"LineColor"];i=i[p+"LineDashStyle"],o||(r.chart.styledMode||(a.stroke=f,a["stroke-width"]=d,i&&(a.dashstyle=i)),l||(a.zIndex=1),t&&(e=0),this.gridLine=o=h.path().attr(a).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(r.gridGroup)),o&&(n=r.getPlotLinePath({value:u+c,lineWidth:o.strokeWidth()*n,force:"pass",old:t}))&&o[t||this.isNew?"attr":"animate"]({d:n,opacity:e})},renderMark:function(t,e,n){var r=this.axis,i=r.options,o=r.chart.renderer,a=this.type,u=a?a+"Tick":"tick",l=r.tickSize(u),c=this.mark,h=!c,p=t.x;t=t.y;var d=s(i[u+"Width"],!a&&r.isXAxis?1:0);i=i[u+"Color"],l&&(r.opposite&&(l[0]=-l[0]),h&&(this.mark=c=o.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(r.axisGroup),r.chart.styledMode||c.attr({stroke:i,"stroke-width":d})),c[h?"attr":"animate"]({d:this.getMarkPath(p,t,l[0],c.strokeWidth()*n,r.horiz,o),opacity:e}))},renderLabel:function(t,e,n,r){var i=this.axis,a=i.horiz,u=i.options,l=this.label,c=u.labels,h=c.step;i=s(this.tickmarkOffset,i.tickmarkOffset);var p=!0,d=t.x;t=t.y,l&&o(d)&&(l.xy=t=this.getLabelPosition(d,t,l,a,c,i,r,h),this.isFirst&&!this.isLast&&!s(u.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(u.showLastLabel,1)?p=!1:!a||c.step||c.rotation||e||0===n||this.handleOverflow(t),h&&r%h&&(p=!1),p&&o(t.y)?(t.opacity=n,l[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(l.attr("y",-9999),this.isNewLabel=!0))},render:function(e,n,r){var i=this.axis,o=i.horiz,a=this.pos,u=s(this.tickmarkOffset,i.tickmarkOffset);u=(a=this.getPosition(o,a,u,n)).x;var l=a.y;i=o&&u===i.pos+i.len||!o&&l===i.pos?-1:1,r=s(r,1),this.isActive=!0,this.renderGridLine(n,r,i),this.renderMark(a,r,i),this.renderLabel(a,n,r,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){r(this,this.axis)}}})),e(n,"parts/Axis.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.arrayMax,r=e.arrayMin,i=e.defined,o=e.destroyObjectProperties,s=e.extend,a=e.isArray,u=e.isNumber,l=e.isString,c=e.objectEach,h=e.pick,p=e.splat,d=e.syncTimeout,f=t.addEvent,g=t.animObject,v=t.color,m=t.correctFloat,y=t.defaultOptions,b=t.deg2rad,w=t.fireEvent,C=t.format,E=t.getMagnitude,_=t.merge,O=t.normalizeTickInterval,T=t.removeEvent,S=t.seriesTypes,R=t.Tick;return s((e=function(){this.init.apply(this,arguments)}).prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,showEmpty:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return t.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},init:function(e,n){var r=n.isX,o=this;o.chart=e,o.horiz=e.inverted&&!o.isZAxis?!r:r,o.isXAxis=r,o.coll=o.coll||(r?"xAxis":"yAxis"),w(this,"init",{userOptions:n}),o.opposite=n.opposite,o.side=n.side||(o.horiz?o.opposite?0:2:o.opposite?1:3),o.setOptions(n);var s=this.options,a=s.type;o.labelFormatter=s.labels.formatter||o.defaultLabelFormatter,o.userOptions=n,o.minPixelPadding=0,o.reversed=s.reversed,o.visible=!1!==s.visible,o.zoomEnabled=!1!==s.zoomEnabled,o.hasNames="category"===a||!0===s.categories,o.categories=s.categories||o.hasNames,o.names||(o.names=[],o.names.keys={}),o.plotLinesAndBandsGroups={},o.isLog="logarithmic"===a,o.isDatetimeAxis="datetime"===a,o.positiveValuesOnly=o.isLog&&!o.allowNegativeLog,o.isLinked=i(s.linkedTo),o.ticks={},o.labelEdge=[],o.minorTicks={},o.plotLinesAndBands=[],o.alternateBands={},o.len=0,o.minRange=o.userMinRange=s.minRange||s.maxZoom,o.range=s.range,o.offset=s.offset||0,o.stacks={},o.oldStacks={},o.stacksTouched=0,o.max=null,o.min=null,o.crosshair=h(s.crosshair,p(e.options.tooltip.crosshairs)[r?0:1],!1),n=o.options.events,-1===e.axes.indexOf(o)&&(r?e.axes.splice(e.xAxis.length,0,o):e.axes.push(o),e[o.coll].push(o)),o.series=o.series||[],e.inverted&&!o.isZAxis&&r&&void 0===o.reversed&&(o.reversed=!0),c(n,(function(e,n){t.isFunction(e)&&f(o,n,e)})),o.lin2log=s.linearToLogConverter||o.lin2log,o.isLog&&(o.val2lin=o.log2lin,o.lin2val=o.lin2log),w(this,"afterInit")},setOptions:function(t){this.options=_(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],_(y[this.coll],t)),w(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e=this.axis,n=this.value,r=e.chart.time,i=e.categories,o=this.dateTimeLabelFormat,s=y.lang,a=s.numericSymbols;s=s.numericSymbolMagnitude||1e3;var u=a&&a.length,l=e.options.labels.format;if(e=e.isLog?Math.abs(n):e.tickInterval,l)var c=C(l,this,r);else if(i)c=n;else if(o)c=r.dateFormat(o,n);else if(u&&1e3<=e)for(;u--&&void 0===c;)e>=(r=Math.pow(s,u+1))&&0===10*n%r&&null!==a[u]&&0!==n&&(c=t.numberFormat(n/r,-1)+a[u]);return void 0===c&&(c=1e4<=Math.abs(n)?t.numberFormat(n,-1):t.numberFormat(n,-1,void 0,"")),c},getSeriesExtremes:function(){var t,e=this,n=e.chart;w(this,"getSeriesExtremes",null,(function(){e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),e.series.forEach((function(r){if(r.visible||!n.options.chart.ignoreHiddenSeries){var o=r.options,s=o.threshold;if(e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=s&&(s=null),e.isXAxis){if((o=r.xData).length){var a=(t=r.getXExtremes(o)).min,l=t.max;u(a)||a instanceof Date||(o=o.filter(u),a=(t=r.getXExtremes(o)).min,l=t.max),o.length&&(e.dataMin=Math.min(h(e.dataMin,a),a),e.dataMax=Math.max(h(e.dataMax,l),l))}}else r.getExtremes(),l=r.dataMax,a=r.dataMin,i(a)&&i(l)&&(e.dataMin=Math.min(h(e.dataMin,a),a),e.dataMax=Math.max(h(e.dataMax,l),l)),i(s)&&(e.threshold=s),(!o.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1)}}))})),w(this,"afterGetSeriesExtremes")},translate:function(t,e,n,r,i,o){var s=this.linkedParent||this,a=1,l=0,c=r?s.oldTransA:s.transA;r=r?s.oldMin:s.min;var h=s.minPixelPadding;return i=(s.isOrdinal||s.isBroken||s.isLog&&i)&&s.lin2val,c||(c=s.transA),n&&(a*=-1,l=s.len),s.reversed&&(l-=(a*=-1)*(s.sector||s.len)),e?(t=(t*a+l-h)/c+r,i&&(t=s.lin2val(t))):(i&&(t=s.val2lin(t)),t=u(r)?a*(t-r)*c+l+a*h+(u(o)?c*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t){var e,n,r,i,o,s=this,a=s.chart,l=s.left,c=s.top,p=t.old,d=t.value,f=t.translatedValue,g=t.lineWidth,v=t.force,m=p&&a.oldChartHeight||a.chartHeight,y=p&&a.oldChartWidth||a.chartWidth,b=s.transB,C=function(t,e,n){return("pass"!==v&&t<e||t>n)&&(v?t=Math.min(Math.max(e,t),n):o=!0),t};return t={value:d,lineWidth:g,old:p,force:v,acrossPanes:t.acrossPanes,translatedValue:f},w(this,"getPlotLinePath",t,(function(t){f=h(f,s.translate(d,null,null,p)),f=Math.min(Math.max(-1e5,f),1e5),e=r=Math.round(f+b),n=i=Math.round(m-f-b),u(f)?s.horiz?(n=c,i=m-s.bottom,e=r=C(e,l,l+s.width)):(e=l,r=y-s.right,n=i=C(n,c,c+s.height)):(o=!0,v=!1),t.path=o&&!v?null:a.renderer.crispLine(["M",e,n,"L",r,i],g||1)})),t.path},getLinearTickPositions:function(t,e,n){var r=m(Math.floor(e/t)*t);n=m(Math.ceil(n/t)*t);var i,o=[];if(m(r+t)===r&&(i=20),this.single)return[e];for(e=r;e<=n&&(o.push(e),(e=m(e+t,i))!==s);)var s=e;return o},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?h(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,n=t.tickPositions,r=t.minorTickInterval,i=[],o=t.pointRangePadding||0,s=t.min-o,a=(o=t.max+o)-s;if(a&&a/r<t.len/3)if(t.isLog)this.paddedTicks.forEach((function(e,n,o){n&&i.push.apply(i,t.getLogTickPositions(r,o[n-1],o[n],!0))}));else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())i=i.concat(t.getTimeTicks(t.normalizeTimeTickInterval(r),s,o,e.startOfWeek));else for(e=s+(n[0]-s)%r;e<=o&&e!==i[0];e+=r)i.push(e);return 0!==i.length&&t.trimTicks(i),i},adjustForMinRange:function(){var t,e,o,s,a=this.options,u=this.min,l=this.max;if(this.isXAxis&&void 0===this.minRange&&!this.isLog&&(i(a.min)||i(a.max)?this.minRange=null:(this.series.forEach((function(n){for(s=n.xData,e=n.xIncrement?1:s.length-1;0<e;e--)o=s[e]-s[e-1],(void 0===t||o<t)&&(t=o)})),this.minRange=Math.min(5*t,this.dataMax-this.dataMin))),l-u<this.minRange){var c=this.dataMax-this.dataMin>=this.minRange,p=this.minRange,d=(p-l+u)/2;d=[u-d,h(a.min,u-d)],c&&(d[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),l=[(u=n(d))+p,h(a.max,u+p)],c&&(l[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(l=r(l))-u<p&&(d[0]=l-p,d[1]=h(a.min,l-p),u=n(d))}this.min=u,this.max=l},getClosest:function(){var t;return this.categories?t=1:this.series.forEach((function(e){var n=e.closestPointRange,r=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&i(n)&&r&&(t=i(t)?Math.min(t,n):n)})),t},nameToX:function(t){var e=a(this.categories),n=e?this.categories:this.names,r=t.options.x;if(t.series.requireSorting=!1,i(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():e?n.indexOf(t.name):h(n.keys[t.name],-1)),-1===r){if(!e)var o=n.length}else o=r;return void 0!==o&&(this.names[o]=t.name,this.names.keys[t.name]=o),o},updateNames:function(){var t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach((function(t){delete e.keys[t]})),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach((function(n,r){if(n&&n.options&&void 0!==n.name){var i=t.nameToX(n);void 0!==i&&i!==n.x&&(n.x=i,e.xData[r]=i)}}))})))},setAxisTranslation:function(t){var e=this,n=e.max-e.min,r=e.axisPointRange||0,i=0,o=0,s=e.linkedParent,a=!!e.categories,u=e.transA,c=e.isXAxis;if(c||a||r){var p=e.getClosest();s?(i=s.minPointOffset,o=s.pointRangePadding):e.series.forEach((function(t){var n=a?1:c?h(t.options.pointRange,p,0):e.axisPointRange||0,s=t.options.pointPlacement;r=Math.max(r,n),e.single&&!a||(t=S.xrange&&t instanceof S.xrange?!c:c,i=Math.max(i,t&&l(s)?0:n/2),o=Math.max(o,t&&"on"===s?0:n))})),s=e.ordinalSlope&&p?e.ordinalSlope/p:1,e.minPointOffset=i*=s,e.pointRangePadding=o*=s,e.pointRange=Math.min(r,e.single&&a?1:n),c&&(e.closestPointRange=p)}t&&(e.oldTransA=u),e.translationSlope=e.transA=u=e.staticScale||e.len/(n+o||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=u*i,w(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n=this,r=n.chart,o=n.options,s=n.isLog,a=n.isDatetimeAxis,l=n.isXAxis,c=n.isLinked,p=o.maxPadding,d=o.minPadding,f=o.tickInterval,g=o.tickPixelInterval,v=n.categories,y=u(n.threshold)?n.threshold:null,b=n.softThreshold;a||v||c||this.getTickAmount();var C=h(n.userMin,o.min),_=h(n.userMax,o.max);if(c){n.linkedParent=r[n.coll][o.linkedTo];var T=n.linkedParent.getExtremes();n.min=h(T.min,T.dataMin),n.max=h(T.max,T.dataMax),o.type!==n.linkedParent.options.type&&t.error(11,1,r)}else{if(!b&&i(y))if(n.dataMin>=y)T=y,d=0;else if(n.dataMax<=y){var S=y;p=0}n.min=h(C,T,n.dataMin),n.max=h(_,S,n.dataMax)}s&&(n.positiveValuesOnly&&!e&&0>=Math.min(n.min,h(n.dataMin,n.min))&&t.error(10,1,r),n.min=m(n.log2lin(n.min),16),n.max=m(n.log2lin(n.max),16)),n.range&&i(n.max)&&(n.userMin=n.min=C=Math.max(n.dataMin,n.minFromRange()),n.userMax=_=n.max,n.range=null),w(n,"foundExtremes"),n.beforePadding&&n.beforePadding(),n.adjustForMinRange(),!(v||n.axisPointRange||n.usePercentage||c)&&i(n.min)&&i(n.max)&&(r=n.max-n.min)&&(!i(C)&&d&&(n.min-=r*d),!i(_)&&p&&(n.max+=r*p)),u(o.softMin)&&!u(n.userMin)&&o.softMin<n.min&&(n.min=C=o.softMin),u(o.softMax)&&!u(n.userMax)&&o.softMax>n.max&&(n.max=_=o.softMax),u(o.floor)&&(n.min=Math.min(Math.max(n.min,o.floor),Number.MAX_VALUE)),u(o.ceiling)&&(n.max=Math.max(Math.min(n.max,o.ceiling),h(n.userMax,-Number.MAX_VALUE))),b&&i(n.dataMin)&&(y=y||0,!i(C)&&n.min<y&&n.dataMin>=y?n.min=n.options.minRange?Math.min(y,n.max-n.minRange):y:!i(_)&&n.max>y&&n.dataMax<=y&&(n.max=n.options.minRange?Math.max(y,n.min+n.minRange):y)),n.tickInterval=n.min===n.max||void 0===n.min||void 0===n.max?1:c&&!f&&g===n.linkedParent.options.tickPixelInterval?f=n.linkedParent.tickInterval:h(f,this.tickAmount?(n.max-n.min)/Math.max(this.tickAmount-1,1):void 0,v?1:(n.max-n.min)*g/Math.max(n.len,g)),l&&!e&&n.series.forEach((function(t){t.processData(n.min!==n.oldMin||n.max!==n.oldMax)})),n.setAxisTranslation(!0),n.beforeSetTickPositions&&n.beforeSetTickPositions(),n.postProcessTickInterval&&(n.tickInterval=n.postProcessTickInterval(n.tickInterval)),n.pointRange&&!f&&(n.tickInterval=Math.max(n.pointRange,n.tickInterval)),e=h(o.minTickInterval,n.isDatetimeAxis&&n.closestPointRange),!f&&n.tickInterval<e&&(n.tickInterval=e),a||s||f||(n.tickInterval=O(n.tickInterval,null,E(n.tickInterval),h(o.allowDecimals,!(.5<n.tickInterval&&5>n.tickInterval&&1e3<n.max&&9999>n.max)),!!this.tickAmount)),this.tickAmount||(n.tickInterval=n.unsquish()),this.setTickPositions()},setTickPositions:function(){var e=this.options,n=e.tickPositions,r=this.getMinorTickInterval(),o=e.tickPositioner,s=e.startOnTick,a=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===r&&this.tickInterval?this.tickInterval/5:r,this.single=this.min===this.max&&i(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=r=n&&n.slice(),!r&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(r=[this.min,this.max],t.error(19,!1,this.chart)):r=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),r.length>this.len&&((r=[r[0],r.pop()])[0]===r[1]&&(r.length=1)),this.tickPositions=r,o&&(o=o.apply(this,[this.min,this.max])))&&(this.tickPositions=r=o),this.paddedTicks=r.slice(0),this.trimTicks(r,s,a),this.isLinked||(this.single&&2>r.length&&!this.categories&&(this.min-=.5,this.max+=.5),n||o||this.adjustTickAmount()),w(this,"afterSetTickPositions")},trimTicks:function(t,e,n){var r=t[0],o=t[t.length-1],s=this.minPointOffset||0;if(w(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==r)this.min=r;else for(;this.min-s>t[0];)t.shift();if(n)this.max=o;else for(;this.max+s<t[t.length-1];)t.pop();0===t.length&&i(r)&&!this.options.tickPositions&&t.push((o+r)/2)}},alignToOthers:function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.isLog||this.chart[this.coll].forEach((function(n){var r=n.options;r=[n.horiz?r.left:r.top,r.width,r.height,r.pane].join(),n.series.length&&(e[r]?t=!0:e[r]=1)})),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!i(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t,e=this.options,n=this.tickInterval,r=this.tickPositions,o=this.tickAmount,s=this.finalTickAmt,a=r&&r.length,u=h(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(a<o){for(t=this.min;r.length<o;)r.length%2||t===u?r.push(m(r[r.length-1]+n)):r.unshift(m(r[0]-n));this.transA*=(a-1)/(o-1),this.min=e.startOnTick?r[0]:Math.min(this.min,r[0]),this.max=e.endOnTick?r[r.length-1]:Math.max(this.max,r[r.length-1])}else a>o&&(this.tickInterval*=2,this.setTickPositions());if(i(s)){for(n=e=r.length;n--;)(3===s&&1===n%2||2>=s&&0<n&&n<e-1)&&r.splice(n,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e=this.series.some((function(t){return t.isDirtyData||t.isDirty||t.xAxis&&t.xAxis.isDirty}));this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),(t=this.len!==this.oldAxisLength)||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),w(this,"afterSetScale")},setExtremes:function(t,e,n,r,i){var o=this,a=o.chart;n=h(n,!0),o.series.forEach((function(t){delete t.kdTree})),i=s(i,{min:t,max:e}),w(o,"setExtremes",i,(function(){o.userMin=t,o.userMax=e,o.eventArgs=i,n&&a.redraw(r)}))},zoom:function(t,e){var n=this.dataMin,r=this.dataMax,o=this.options,s=Math.min(n,h(o.min,n)),a=Math.max(r,h(o.max,r));return w(this,"zoom",t={newMin:t,newMax:e},(function(t){var e=t.newMin,o=t.newMax;e===this.min&&o===this.max||(this.allowZoomOutside||(i(n)&&(e<s&&(e=s),e>a&&(e=a)),i(r)&&(o<s&&(o=s),o>a&&(o=a))),this.displayBtn=void 0!==e||void 0!==o,this.setExtremes(e,o,!1,void 0,{trigger:"zoom"})),t.zoomed=!0})),t.zoomed},setAxisSize:function(){var e=this.chart,n=this.options,r=n.offsets||[0,0,0,0],i=this.horiz,o=this.width=Math.round(t.relativeLength(h(n.width,e.plotWidth-r[3]+r[1]),e.plotWidth)),s=this.height=Math.round(t.relativeLength(h(n.height,e.plotHeight-r[0]+r[2]),e.plotHeight)),a=this.top=Math.round(t.relativeLength(h(n.top,e.plotTop+r[0]),e.plotHeight,e.plotTop));n=this.left=Math.round(t.relativeLength(h(n.left,e.plotLeft+r[3]),e.plotWidth,e.plotLeft)),this.bottom=e.chartHeight-s-a,this.right=e.chartWidth-o-n,this.len=Math.max(i?o:s,0),this.pos=i?n:a},getExtremes:function(){var t=this.isLog;return{min:t?m(this.lin2log(this.min)):this.min,max:t?m(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,n=e?this.lin2log(this.min):this.min;return e=e?this.lin2log(this.max):this.max,null===t||-1/0===t?t=n:1/0===t?t=e:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e=(h(t,0)-90*this.side+720)%360;return w(this,"autoLabelAlign",t={align:"center"},(function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")})),t.align},tickSize:function(t){var e=this.options,n=e[t+"Length"],r=h(e[t+"Width"],"tick"===t&&this.isXAxis&&!this.categories?1:0);if(r&&n){"inside"===e[t+"Position"]&&(n=-n);var i=[n,r]}return w(this,"afterTickSize",t={tickSize:i}),t.tickSize},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,n,r=this.options.labels,o=this.horiz,s=this.tickInterval,a=s,u=this.len/(((this.categories?1:0)+this.max-this.min)/s),l=r.rotation,c=this.labelMetrics(),p=Number.MAX_VALUE,d=this.max-this.min,f=function(t){var e=t/(u||1);return(e=1<e?Math.ceil(e):1)*s>d&&1/0!==t&&1/0!==u&&d&&(e=Math.ceil(d/s)),m(e*s)};return o?(n=!r.staggerLines&&!r.step&&(i(l)?[l]:u<h(r.autoRotationLimit,80)&&r.autoRotation))&&n.forEach((function(n){if(n===l||n&&-90<=n&&90>=n){var r=(e=f(Math.abs(c.h/Math.sin(b*n))))+Math.abs(n/360);r<p&&(p=r,t=n,a=e)}})):r.step||(a=f(c.h)),this.autoRotation=n,this.labelRotation=h(t,l),a},getSlotWidth:function(t){var e=this.chart,n=this.horiz,r=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];return t&&t.slotWidth||n&&2>(r.step||0)&&!r.rotation&&(this.staggerLines||1)*this.len/i||!n&&(r.style&&parseInt(r.style.width,10)||o&&o-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t=this.chart,e=t.renderer,n=this.tickPositions,r=this.ticks,i=this.options.labels,o=i&&i.style||{},s=this.horiz,a=this.getSlotWidth(),u=Math.max(1,Math.round(a-2*(i.padding||5))),c={},h=this.labelMetrics(),p=i.style&&i.style.textOverflow,d=0;if(l(i.rotation)||(c.rotation=i.rotation||0),n.forEach((function(t){(t=r[t])&&t.label&&t.label.textPxLength>d&&(d=t.label.textPxLength)})),this.maxLabelLength=d,this.autoRotation)d>u&&d>h.h?c.rotation=this.labelRotation:this.labelRotation=0;else if(a){var f=u;if(!p){var g="clip";for(u=n.length;!s&&u--;){var v=n[u];(v=r[v].label)&&(v.styles&&"ellipsis"===v.styles.textOverflow?v.css({textOverflow:"clip"}):v.textPxLength>a&&v.css({width:a+"px"}),v.getBBox().height>this.len/n.length-(h.h-h.f)&&(v.specificTextOverflow="ellipsis"))}}}c.rotation&&(f=d>.5*t.chartHeight?.33*t.chartHeight:d,p||(g="ellipsis")),(this.labelAlign=i.align||this.autoLabelAlign(this.labelRotation))&&(c.align=this.labelAlign),n.forEach((function(t){var e=(t=r[t])&&t.label,n=o.width,i={};e&&(e.attr(c),t.shortenLabel?t.shortenLabel():f&&!n&&"nowrap"!==o.whiteSpace&&(f<e.textPxLength||"SPAN"===e.element.tagName)?(i.width=f,p||(i.textOverflow=e.specificTextOverflow||g),e.css(i)):e.styles&&e.styles.width&&!i.width&&!n&&e.css({width:null}),delete e.specificTextOverflow,t.rotation=c.rotation)}),this),this.tickRotCorr=e.rotCorr(h.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.series.some((function(t){return t.hasData()}))||this.options.showEmpty&&i(this.min)&&i(this.max)},addTitle:function(t){var e,n=this.chart.renderer,r=this.horiz,i=this.opposite,o=this.options.title,s=this.chart.styledMode;this.axisTitle||((e=o.textAlign)||(e=(r?{low:"left",middle:"center",high:"right"}:{low:i?"right":"left",middle:"center",high:i?"left":"right"})[o.align]),this.axisTitle=n.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title"),s||this.axisTitle.css(_(o.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),s||o.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](t)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new R(this,t)},getOffset:function(){var t,e=this,n=e.chart,r=n.renderer,o=e.options,s=e.tickPositions,a=e.ticks,u=e.horiz,l=e.side,p=n.inverted&&!e.isZAxis?[1,0,3,2][l]:l,d=0,f=0,g=o.title,v=o.labels,m=0,y=n.axisOffset;n=n.clipOffset;var b=[-1,1,1,-1][l],C=o.className,E=e.axisParent,_=e.hasData();if(e.showAxis=t=_||h(o.showEmpty,!0),e.staggerLines=e.horiz&&v.staggerLines,e.axisGroup||(e.gridGroup=r.g("grid").attr({zIndex:o.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(C||"")).add(E),e.axisGroup=r.g("axis").attr({zIndex:o.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(C||"")).add(E),e.labelGroup=r.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels "+(C||"")).add(E)),_||e.isLinked?(s.forEach((function(t,n){e.generateTick(t,n)})),e.renderUnsquish(),e.reserveSpaceDefault=0===l||2===l||{1:"left",3:"right"}[l]===e.labelAlign,h(v.reserveSpace,"center"===e.labelAlign||null,e.reserveSpaceDefault)&&s.forEach((function(t){m=Math.max(a[t].getLabelSize(),m)})),e.staggerLines&&(m*=e.staggerLines),e.labelOffset=m*(e.opposite?-1:1)):c(a,(function(t,e){t.destroy(),delete a[e]})),g&&g.text&&!1!==g.enabled&&(e.addTitle(t),t&&!1!==g.reserveSpace)){e.titleOffset=d=e.axisTitle.getBBox()[u?"height":"width"];var O=g.offset;f=i(O)?0:h(g.margin,u?5:10)}e.renderLine(),e.offset=b*h(o.offset,y[l]?y[l]+(o.margin||0):0),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},r=0===l?-e.labelMetrics().h:2===l?e.tickRotCorr.y:0,f=Math.abs(m)+f,m&&(f=f-r+b*(u?h(v.y,e.tickRotCorr.y+8*b):v.x)),e.axisTitleMargin=h(O,f),e.getMaxLabelDimensions&&(e.maxLabelDimensions=e.getMaxLabelDimensions(a,s)),u=this.tickSize("tick"),y[l]=Math.max(y[l],e.axisTitleMargin+d+b*e.offset,f,s&&s.length&&u?u[0]+b*e.offset:0),o=o.offset?0:2*Math.floor(e.axisLine.strokeWidth()/2),n[p]=Math.max(n[p],o),w(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,n=this.opposite,r=this.offset,i=this.horiz,o=this.left+(n?this.width:0)+r;return r=e.chartHeight-this.bottom-(n?this.height:0)+r,n&&(t*=-1),e.renderer.crispLine(["M",i?this.left:o,i?r:this.top,"L",i?e.chartWidth-this.right:o,i?r:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,r=this.len,i=this.options.title,o=t?e:n,s=this.opposite,a=this.offset,u=i.x||0,l=i.y||0,c=this.axisTitle,h=this.chart.renderer.fontMetrics(i.style&&i.style.fontSize,c);return c=Math.max(c.getBBox(null,0).height-h.h-1,0),r={low:o+(t?0:r),middle:o+r/2,high:o+(t?r:0)}[i.align],e=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+[-c,c,h.f,-c][this.side],t={x:t?r+u:e+(s?this.width:0)+a+u,y:t?e+l-(s?this.height:0)+a:r+l},w(this,"afterGetTitlePosition",{titlePosition:t}),t},renderMinorTick:function(t){var e=this.chart.hasRendered&&u(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new R(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},renderTick:function(t,e){var n=this.isLinked,r=this.ticks,i=this.chart.hasRendered&&u(this.oldMin);(!n||t>=this.min&&t<=this.max)&&(r[t]||(r[t]=new R(this,t)),i&&r[t].isNew&&r[t].render(e,!0,-1),r[t].render(e))},render:function(){var e,n,r=this,i=r.chart,o=r.options,s=r.isLog,a=r.isLinked,l=r.tickPositions,h=r.axisTitle,p=r.ticks,f=r.minorTicks,v=r.alternateBands,m=o.stackLabels,y=o.alternateGridColor,b=r.tickmarkOffset,C=r.axisLine,E=r.showAxis,_=g(i.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,[p,f,v].forEach((function(t){c(t,(function(t){t.isActive=!1}))})),(r.hasData()||a)&&(r.minorTickInterval&&!r.categories&&r.getMinorTickPositions().forEach((function(t){r.renderMinorTick(t)})),l.length&&(l.forEach((function(t,e){r.renderTick(t,e)})),b&&(0===r.min||r.single)&&(p[-1]||(p[-1]=new R(r,-1,null,!0)),p[-1].render(-1))),y&&l.forEach((function(o,a){n=void 0!==l[a+1]?l[a+1]+b:r.max-b,0===a%2&&o<r.max&&n<=r.max+(i.polar?-b:b)&&(v[o]||(v[o]=new t.PlotLineOrBand(r)),e=o+b,v[o].options={from:s?r.lin2log(e):e,to:s?r.lin2log(n):n,color:y},v[o].render(),v[o].isActive=!0)})),r._addedPlotLB||((o.plotLines||[]).concat(o.plotBands||[]).forEach((function(t){r.addPlotBandOrLine(t)})),r._addedPlotLB=!0)),[p,f,v].forEach((function(t){var e,n=[],r=_.duration;c(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))})),d((function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])}),t!==v&&i.hasRendered&&r?r:0)})),C&&(C[C.isPlaced?"animate":"attr"]({d:this.getLinePath(C.strokeWidth())}),C.isPlaced=!0,C[E?"show":"hide"](E)),h&&E&&(o=r.getTitlePosition(),u(o.y)?(h[h.isNew?"attr":"animate"](o),h.isNew=!1):(h.attr("y",-9999),h.isNew=!0)),m&&m.enabled&&r.renderStackTotals(),r.isDirty=!1,w(this,"afterRender")},redraw:function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(t){t.render()}))),this.series.forEach((function(t){t.isDirty=!0}))},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,n=this,r=n.stacks,i=n.plotLinesAndBands;if(w(this,"destroy",{keepEvents:t}),t||T(n),c(r,(function(t,e){o(t),r[e]=null})),[n.ticks,n.minorTicks,n.alternateBands].forEach((function(t){o(t)})),i)for(t=i.length;t--;)i[t].destroy();for(e in"stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach((function(t){n[t]&&(n[t]=n[t].destroy())})),n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();c(n,(function(t,e){-1===n.keepProps.indexOf(e)&&delete n[e]}))},drawCrosshair:function(t,e){var n,r,o=this.crosshair,s=h(o.snap,!0),a=this.cross;if(w(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(i(e)||!s)){if(s?i(e)&&(r=h("colorAxis"!==this.coll?e.crosshairPos:null,this.isXAxis?e.plotX:this.len-e.plotY)):r=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),i(r)&&(n=this.getPlotLinePath({value:e&&(this.isXAxis?e.x:h(e.stackY,e.y)),translatedValue:r})||null),!i(n))return void this.hideCrosshair();s=this.categories&&!this.isRadial,a||(this.cross=a=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(s?"category ":"thin ")+o.className).attr({zIndex:h(o.zIndex,2)}).add(),this.chart.styledMode||(a.attr({stroke:o.color||(s?v("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":h(o.width,1)}).css({"pointer-events":"none"}),o.dashStyle&&a.attr({dashstyle:o.dashStyle}))),a.show().attr({d:n}),s&&!o.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();w(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide(),w(this,"afterHideCrosshair")}}),t.Axis=e})),e(n,"parts/DateTimeAxis.js",[n["parts/Globals.js"]],(function(t){var e=t.Axis,n=t.getMagnitude,r=t.normalizeTickInterval,i=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];var s,a=i[e[0]],u=e[1];for(s=0;s<o.length&&(e=o[s],a=i[e[0]],u=e[1],!(o[s+1]&&t<=(a*u[u.length-1]+i[o[s+1][0]])/2));s++);return a===i.year&&t<5*a&&(u=[1,2,5]),{unitRange:a,count:t=r(t/a,u,"year"===e[0]?Math.max(n(t/a),1):1),unitName:e[0]}}})),e(n,"parts/LogarithmicAxis.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.pick;e=t.Axis;var r=t.getMagnitude,i=t.normalizeTickInterval;e.prototype.getLogTickPositions=function(t,e,o,s){var a=this.options,u=this.len,l=[];if(s||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),l=this.getLinearTickPositions(t,e,o);else if(.08<=t){var c,h;for(u=Math.floor(e),a=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];u<o+1&&!h;u++){var p=a.length;for(c=0;c<p&&!h;c++){var d=this.log2lin(this.lin2log(u)*a[c]);d>e&&(!s||f<=o)&&void 0!==f&&l.push(f),f>o&&(h=!0);var f=d}}}else e=this.lin2log(e),o=this.lin2log(o),t=s?this.getMinorTickInterval():a.tickInterval,t=n("auto"===t?null:t,this._minorAutoInterval,a.tickPixelInterval/(s?5:1)*(o-e)/((s?u/this.tickPositions.length:u)||1)),t=i(t,null,r(t)),l=this.getLinearTickPositions(t,e,o).map(this.log2lin),s||(this._minorAutoInterval=t/5);return s||(this.tickInterval=t),l},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}})),e(n,"parts/PlotLineOrBand.js",[n["parts/Globals.js"],n["parts/Axis.js"],n["parts/Utilities.js"]],(function(t,e,n){var r=n.arrayMax,i=n.arrayMin,o=n.defined,s=n.destroyObjectProperties,a=n.erase,u=n.extend,l=n.objectEach,c=n.pick,h=t.merge;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){t.fireEvent(this,"render");var e=this,n=e.axis,r=n.horiz,i=e.options,s=i.label,a=e.label,u=i.to,p=i.from,d=i.value,f=o(p)&&o(u),g=o(d),v=e.svgElem,m=!v,y=[],b=i.color,w=c(i.zIndex,0),C=i.events;y={class:"highcharts-plot-"+(f?"band ":"line ")+(i.className||"")};var E={},_=n.chart.renderer,O=f?"bands":"lines";if(n.isLog&&(p=n.log2lin(p),u=n.log2lin(u),d=n.log2lin(d)),n.chart.styledMode||(g?(y.stroke=b||"#999999",y["stroke-width"]=c(i.width,1),i.dashStyle&&(y.dashstyle=i.dashStyle)):f&&(y.fill=b||"#e6ebf5",i.borderWidth&&(y.stroke=i.borderColor,y["stroke-width"]=i.borderWidth))),E.zIndex=w,O+="-"+w,(b=n.plotLinesAndBandsGroups[O])||(n.plotLinesAndBandsGroups[O]=b=_.g("plot-"+O).attr(E).add()),m&&(e.svgElem=v=_.path().attr(y).add(b)),g)y=n.getPlotLinePath({value:d,lineWidth:v.strokeWidth(),acrossPanes:i.acrossPanes});else{if(!f)return;y=n.getPlotBandPath(p,u,i)}return(m||!v.d)&&y&&y.length?(v.attr({d:y}),C&&l(C,(function(t,n){v.on(n,(function(t){C[n].apply(e,[t])}))}))):v&&(y?(v.show(!0),v.animate({d:y})):v.d&&(v.hide(),a&&(e.label=a=a.destroy()))),s&&(o(s.text)||o(s.formatter))&&y&&y.length&&0<n.width&&0<n.height&&!y.isFlat?(s=h({align:r&&f&&"center",x:r?!f&&4:10,verticalAlign:!r&&f&&"middle",y:r?f?16:10:f?6:-4,rotation:r&&!f&&90},s),this.renderLabel(s,y,f,w)):a&&a.hide(),e},renderLabel:function(t,e,n,o){var s=this.label,a=this.axis.chart.renderer;s||((s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(n?"band":"line")+"-label "+(t.className||"")}).zIndex=o,o=this.getLabelText(t),this.label=s=a.text(o,0,0,t.useHTML).attr(s).add(),this.axis.chart.styledMode||s.css(t.style)),a=e.xBounds||[e[1],e[4],n?e[6]:e[1]],e=e.yBounds||[e[2],e[5],n?e[7]:e[2]],n=i(a),o=i(e),s.align(t,!1,{x:n,y:o,width:r(a)-n,height:r(e)-o}),s.show(!0)},getLabelText:function(t){return o(t.formatter)?t.formatter.call(this):t.text},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,s(this)}},u(e.prototype,{getPlotBandPath:function(t,e){var n=this.getPlotLinePath({value:e,force:!0,acrossPanes:this.options.acrossPanes}),r=this.getPlotLinePath({value:t,force:!0,acrossPanes:this.options.acrossPanes}),i=[],o=this.horiz,s=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,r&&n){if(t){var a=r.toString()===n.toString();s=0}for(t=0;t<r.length;t+=6)o&&n[t+1]===r[t+1]?(n[t+1]+=s,n[t+4]+=s):o||n[t+2]!==r[t+2]||(n[t+2]+=s,n[t+5]+=s),i.push("M",r[t+1],r[t+2],"L",r[t+4],r[t+5],n[t+4],n[t+5],n[t+1],n[t+2],"z"),i.isFlat=a}return i},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var r=new t.PlotLineOrBand(this,e).render(),i=this.userOptions;if(r){if(n){var o=i[n]||[];o.push(e),i[n]=o}this.plotLinesAndBands.push(r)}return r},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=e.length;i--;)e[i].id===t&&e[i].destroy();[n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]].forEach((function(e){for(i=e.length;i--;)e[i].id===t&&a(e,e[i])}))},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})})),e(n,"parts/Tooltip.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.defined,r=e.discardElement,i=e.extend,o=e.isNumber,s=e.isString,a=e.pick,u=e.splat,l=e.syncTimeout,c=t.doc,h=t.format,p=t.merge,d=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=a(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))},cleanSplit:function(t){this.chart.series.forEach((function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)}))},applyFilter:function(){var t=this.chart;t.renderer.definition({tagName:"filter",id:"drop-shadow-"+t.index,opacity:.5,children:[{tagName:"feGaussianBlur",in:"SourceAlpha",stdDeviation:1},{tagName:"feOffset",dx:1,dy:1},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",type:"linear",slope:.3}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",in:"SourceGraphic"}]}]}),t.renderer.definition({tagName:"style",textContent:".highcharts-tooltip-"+t.index+"{filter:url(#drop-shadow-"+t.index+")}"})},getLabel:function(){var e,r=this,i=this.chart.renderer,o=this.chart.styledMode,s=this.options,a="tooltip"+(n(s.className)?" "+s.className:"");if(!this.label){if(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:s.style&&s.style.pointerEvents,zIndex:3}),t.doc.body.appendChild(e),this.renderer=i=new t.Renderer(e,0,0,{},void 0,void 0,i.styledMode)),this.split?this.label=i.g(a):(this.label=i.label("",0,0,s.shape||"callout",null,null,s.useHTML,null,a).attr({padding:s.padding,r:s.borderRadius}),o||this.label.attr({fill:s.backgroundColor,"stroke-width":s.borderWidth}).css(s.style).shadow(s.shadow)),o&&(this.applyFilter(),this.label.addClass("highcharts-tooltip-"+this.chart.index)),r.outside&&!r.split){var u={x:this.label.xSetter,y:this.label.ySetter};this.label.xSetter=function(t,n){u[n].call(this.label,r.distance),e.style.left=t+"px"},this.label.ySetter=function(t,n){u[n].call(this.label,r.distance),e.style.top=t+"px"}}this.label.attr({zIndex:8}).add()}return this.label},update:function(t){this.destroy(),p(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,p(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),r(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,n,r,o){var s=this,a=s.now,u=!1!==s.options.animation&&!s.isHidden&&(1<Math.abs(e-a.x)||1<Math.abs(n-a.y)),l=s.followPointer||1<s.len;i(a,{x:u?(2*a.x+e)/3:e,y:u?(a.y+n)/2:n,anchorX:l?void 0:u?(2*a.anchorX+r)/3:r,anchorY:l?void 0:u?(a.anchorY+o)/2:o}),s.getLabel().attr(a),u&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){s&&s.move(e,n,r,o)}),32))},hide:function(e){var n=this;t.clearTimeout(this.hideTimer),e=a(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=l((function(){n.getLabel()[e?"fadeOut":"hide"](),n.isHidden=!0}),e))},getAnchor:function(t,e){var n,r,i=this.chart,o=i.pointer,s=i.inverted,a=i.plotTop,l=i.plotLeft,c=0,h=0;return t=u(t),this.followPointer&&e?(void 0===e.chartX&&(e=o.normalize(e)),t=[e.chartX-i.plotLeft,e.chartY-a]):t[0].tooltipPos?t=t[0].tooltipPos:(t.forEach((function(t){n=t.series.yAxis,r=t.series.xAxis,c+=t.plotX+(!s&&r?r.left-l:0),h+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&n?n.top-a:0)})),c/=t.length,h/=t.length,t=[s?i.plotWidth-h:c,this.shared&&!s&&1<t.length&&e?e.chartY-a:s?i.plotHeight-c:h]),t.map(Math.round)},getPosition:function(t,e,n){var r,i=this.chart,o=this.distance,s={},u=i.inverted&&n.h||0,l=this.outside,h=l?c.documentElement.clientWidth-2*o:i.chartWidth,p=l?Math.max(c.body.scrollHeight,c.documentElement.scrollHeight,c.body.offsetHeight,c.documentElement.offsetHeight,c.documentElement.clientHeight):i.chartHeight,d=i.pointer.getChartPosition(),f=i.containerScaling,g=function(t){return f?t*f.scaleX:t},v=function(t){return f?t*f.scaleY:t},m=function(r){var s="x"===r;return[r,s?h:p,s?t:e].concat(l?[s?g(t):v(e),s?d.left-o+g(n.plotX+i.plotLeft):d.top-o+v(n.plotY+i.plotTop),0,s?h:p]:[s?t:e,s?n.plotX+i.plotLeft:n.plotY+i.plotTop,s?i.plotLeft:i.plotTop,s?i.plotLeft+i.plotWidth:i.plotTop+i.plotHeight])},y=m("y"),b=m("x"),w=!this.followPointer&&a(n.ttBelow,!i.inverted===!!n.negative),C=function(t,e,n,r,i,a,l){var c="y"===t?v(o):g(o),h=(n-r)/2,p=r<i-o,d=i+o+r<e,f=i-c-n+h;if(i=i+c-h,w&&d)s[t]=i;else if(!w&&p)s[t]=f;else if(p)s[t]=Math.min(l-r,0>f-u?f:f-u);else{if(!d)return!1;s[t]=Math.max(a,i+u+n>e?i:i+u)}},E=function(t,e,n,r,i){var a;return i<o||i>e-o?a=!1:s[t]=i<n/2?1:i>e-r/2?e-r-2:i-n/2,a},_=function(t){var e=y;y=b,b=e,r=t};return(i.inverted||1<this.len)&&_(),function t(){!1!==C.apply(0,y)?!1!==E.apply(0,b)||r||(_(!0),t()):r?s.x=s.y=0:(_(!0),t())}(),s},defaultFormatter:function(t){var e=this.points||u(this),n=[t.tooltipFooterHeaderFormatter(e[0])];return(n=n.concat(t.bodyFormatter(e))).push(t.tooltipFooterHeaderFormatter(e[0],!0)),n},refresh:function(e,n){var r=this.chart,i=this.options,o=e,s={},l=[],c=i.formatter||this.defaultFormatter;s=this.shared;var h=r.styledMode;if(i.enabled){t.clearTimeout(this.hideTimer),this.followPointer=u(o)[0].series.tooltipOptions.followPointer;var p=this.getAnchor(o,n);n=p[0];var d=p[1];!s||o.series&&o.series.noSharedTooltip?s=o.getLabelConfig():(r.pointer.applyInactiveState(o),o.forEach((function(t){t.setState("hover"),l.push(t.getLabelConfig())})),(s={x:o[0].category,y:o[0].y}).points=l,o=o[0]),this.len=l.length,r=c.call(s,this),c=o.series,this.distance=a(c.tooltipOptions.distance,16),!1===r?this.hide():(this.split?this.renderSplit(r,u(e)):(e=this.getLabel(),i.style.width&&!h||e.css({width:this.chart.spacingBox.width}),e.attr({text:r&&r.join?r.join(""):r}),e.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+a(o.colorIndex,c.colorIndex)),h||e.attr({stroke:i.borderColor||o.color||c.color||"#666666"}),this.updatePosition({plotX:n,plotY:d,negative:o.negative,ttBelow:o.ttBelow,h:p[2]||0})),this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1),t.fireEvent(this,"refresh")}},renderSplit:function(e,n){var r,i=this,o=[],u=this.chart,l=u.renderer,c=!0,h=this.options,p=0,d=this.getLabel(),f=u.plotTop;s(e)&&(e=[!1,e]),e.slice(0,n.length+1).forEach((function(t,e){if(!1!==t&&""!==t){var s=(e=n[e-1]||{isHeader:!0,plotX:n[0].plotX,plotY:u.plotHeight}).series||i,g=s.tt,v=e.series||{},m="highcharts-color-"+a(e.colorIndex,v.colorIndex,"none");g||(g={padding:h.padding,r:h.borderRadius},u.styledMode||(g.fill=h.backgroundColor,g["stroke-width"]=h.borderWidth),s.tt=g=l.label(null,null,null,(e.isHeader?h.headerShape:h.shape)||"callout",null,null,h.useHTML).addClass(e.isHeader?"highcharts-tooltip-header ":"highcharts-tooltip-box "+m).attr(g).add(d)),g.isActive=!0,g.attr({text:t}),u.styledMode||g.css(h.style).shadow(h.shadow).attr({stroke:h.borderColor||e.color||v.color||"#333333"}),m=(t=g.getBBox()).width+g.strokeWidth(),e.isHeader?(p=t.height,u.xAxis[0].opposite&&(r=!0,f-=p),t=Math.max(0,Math.min(e.plotX+u.plotLeft-m/2,u.chartWidth+(u.scrollablePixelsX?u.scrollablePixelsX-u.marginRight:0)-m))):t=e.plotX+u.plotLeft-a(h.distance,16)-m,0>t&&(c=!1),e.isHeader?v=r?-p:u.plotHeight+p:v=(v=v.yAxis).pos-f+Math.max(0,Math.min(e.plotY||0,v.len)),o.push({target:v,rank:e.isHeader?1:0,size:s.tt.getBBox().height+1,point:e,x:t,tt:g})}})),this.cleanSplit(),h.positioner&&o.forEach((function(t){var e=h.positioner.call(i,t.tt.getBBox().width,t.size,t.point);t.x=e.x,t.align=0,t.target=e.y,t.rank=a(e.rank,t.rank)})),t.distribute(o,u.plotHeight+p),o.forEach((function(t){var e=t.point,n=e.series,r=n&&n.yAxis;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader||h.positioner?t.x:e.plotX+u.plotLeft+i.distance,y:t.pos+f,anchorX:e.isHeader?e.plotX+u.plotLeft:e.plotX+n.xAxis.pos,anchorY:e.isHeader?u.plotTop+u.plotHeight/2:r.pos+Math.max(0,Math.min(e.plotY,r.len))})}));var g=i.container;if(e=i.renderer,i.outside&&g&&e){var v=u.pointer.getChartPosition();g.style.left=v.left+"px",g.style.top=v.top+"px",g=d.getBBox(),e.setSize(g.width+g.x,g.height+g.y,!1)}},updatePosition:function(e){var n=this.chart,r=n.pointer,i=this.getLabel(),o=e.plotX+n.plotLeft,s=e.plotY+n.plotTop;if(r=r.getChartPosition(),e=(this.options.positioner||this.getPosition).call(this,i.width,i.height,e),this.outside){var a=(this.options.borderWidth||0)+2*this.distance;this.renderer.setSize(i.width+a,i.height+a,!1),(n=n.containerScaling)&&(t.css(this.container,{transform:"scale("+n.scaleX+", "+n.scaleY+")"}),o*=n.scaleX,s*=n.scaleY),o+=r.left-e.x,s+=r.top-e.y}this.move(Math.round(e.x),Math.round(e.y||0),o,s)},getDateFormat:function(t,e,n,r){var i=this.chart.time,o=i.dateFormat("%m-%d %H:%M:%S.%L",e),s={millisecond:15,second:12,minute:9,hour:6,day:3},a="millisecond";for(u in d){if(t===d.week&&+i.dateFormat("%w",e)===n&&"00:00:00.000"===o.substr(6)){var u="week";break}if(d[u]>t){u=a;break}if(s[u]&&o.substr(s[u])!=="01-01 00:00:00.000".substr(s[u]))break;"week"!==u&&(a=u)}if(u)var l=i.resolveDTLFormat(r[u]).main;return l},getXDateFormat:function(t,e,n){e=e.dateTimeLabelFormats;var r=n&&n.closestPointRange;return(r?this.getDateFormat(r,t.x,n.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(e,n){var r=n?"footer":"header",i=e.series,s=i.tooltipOptions,a=s.xDateFormat,u=i.xAxis,l=u&&"datetime"===u.options.type&&o(e.key),c=s[r+"Format"];return n={isFooter:n,labelConfig:e},t.fireEvent(this,"headerFormatter",n,(function(t){l&&!a&&(a=this.getXDateFormat(e,s,u)),l&&a&&(e.point&&e.point.tooltipDateKeys||["key"]).forEach((function(t){c=c.replace("{point."+t+"}","{point."+t+":"+a+"}")})),i.chart.styledMode&&(c=this.styledModeFormat(c)),t.text=h(c,{point:e,series:i},this.chart.time)})),n.text},bodyFormatter:function(t){return t.map((function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")}))},styledModeFormat:function(t){return t.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')}}})),e(n,"parts/Pointer.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.attr,r=e.defined,i=e.extend,o=e.isNumber,s=e.isObject,a=e.objectEach,u=e.pick,l=e.splat,c=t.addEvent,h=t.charts,p=t.color,d=t.css,f=t.find,g=t.fireEvent,v=t.offset,m=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},m&&(t.tooltip=new m(t,e.tooltip),this.followTouchMove=u(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,n=e.options.chart,r=n.zoomType||"";e=e.inverted,/touch/.test(t.type)&&(r=u(n.pinchType,r)),this.zoomX=t=/x/.test(r),this.zoomY=r=/y/.test(r),this.zoomHor=t&&!e||r&&e,this.zoomVert=r&&!e||t&&e,this.hasZoom=t||r},getChartPosition:function(){return this.chartPosition||(this.chartPosition=v(this.chart.container))},normalize:function(t,e){var n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t;e||(e=this.getChartPosition());var r=n.pageX-e.left;return e=n.pageY-e.top,(n=this.chart.containerScaling)&&(r/=n.scaleX,e/=n.scaleY),i(t,{chartX:Math.round(r),chartY:Math.round(e)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})})),e},findNearestKDPoint:function(t,e,n){var r;return t.forEach((function(t){var i=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(n,i),(i=s(t,!0))&&!(i=!s(r,!0))){i=r.distX-t.distX;var o=r.dist-t.dist,a=(t.series.group&&t.series.group.zIndex)-(r.series.group&&r.series.group.zIndex);i=0<(0!==i&&e?i:0!==o?o:0!==a?a:r.series.index>t.series.index?-1:1)}i&&(r=t)})),r},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var n=t.series,r=n.xAxis;n=n.yAxis;var i=u(t.clientX,t.plotX),o=t.shapeArgs;return r&&n?e?{chartX:r.len+r.pos-i,chartY:n.len+n.pos-t.plotY}:{chartX:i+r.pos,chartY:t.plotY+n.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(t,e,n,r,i,o){var a,l=[];r=!(!r||!t);var c=e&&!e.stickyTracking?[e]:n.filter((function(t){return t.visible&&!(!i&&t.directTouch)&&u(t.options.enableMouseTracking,!0)&&t.stickyTracking}));return e=(a=r||!o?t:this.findNearestKDPoint(c,i,o))&&a.series,a&&(i&&!e.noSharedTooltip?(c=n.filter((function(t){return t.visible&&!(!i&&t.directTouch)&&u(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}))).forEach((function(t){var e=f(t.points,(function(t){return t.x===a.x&&!t.isNull}));s(e)&&(t.chart.isBoosting&&(e=t.getPoint(e)),l.push(e))})):l.push(a)),{hoverPoint:a,hoverSeries:e,hoverPoints:l}},runPointActions:function(e,n){var r=this.chart,i=r.tooltip&&r.tooltip.options.enabled?r.tooltip:void 0,o=!!i&&i.shared,s=n||r.hoverPoint,a=s&&s.series||r.hoverSeries;s=(a=this.getHoverData(s,a,r.series,(!e||"touchmove"!==e.type)&&(!!n||a&&a.directTouch&&this.isDirectTouch),o,e)).hoverPoint;var l=a.hoverPoints;if(n=(a=a.hoverSeries)&&a.tooltipOptions.followPointer,o=o&&a&&!a.noSharedTooltip,s&&(s!==r.hoverPoint||i&&i.isHidden)){if((r.hoverPoints||[]).forEach((function(t){-1===l.indexOf(t)&&t.setState()})),r.hoverSeries!==a&&a.onMouseOver(),this.applyInactiveState(l),(l||[]).forEach((function(t){t.setState("hover")})),r.hoverPoint&&r.hoverPoint.firePointEvent("mouseOut"),!s.series)return;s.firePointEvent("mouseOver"),r.hoverPoints=l,r.hoverPoint=s,i&&i.refresh(o?l:s,e)}else n&&i&&!i.isHidden&&(s=i.getAnchor([{}],e),i.updatePosition({plotX:s[0],plotY:s[1]}));this.unDocMouseMove||(this.unDocMouseMove=c(r.container.ownerDocument,"mousemove",(function(e){var n=h[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)}))),r.axes.forEach((function(n){var r=u(n.crosshair.snap,!0),i=r?t.find(l,(function(t){return t.series[n.coll]===n})):void 0;i||!r?n.drawCrosshair(e,i):n.hideCrosshair()}))},applyInactiveState:function(t){var e,n=[];(t||[]).forEach((function(t){e=t.series,n.push(e),e.linkedParent&&n.push(e.linkedParent),e.linkedSeries&&(n=n.concat(e.linkedSeries)),e.navigatorSeries&&n.push(e.navigatorSeries)})),this.chart.series.forEach((function(t){-1===n.indexOf(t)?t.setState("inactive",!0):t.options.inactiveOtherPoints&&t.setAllPointsToState("inactive")}))},reset:function(t,e){var n=this.chart,r=n.hoverSeries,i=n.hoverPoint,o=n.hoverPoints,s=n.tooltip,a=s&&s.shared?o:i;t&&a&&l(a).forEach((function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)})),t?s&&a&&l(a).length&&(s.refresh(a),s.shared&&o?o.forEach((function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))})):i&&(i.setState(i.state,!0),n.axes.forEach((function(t){t.crosshair&&t.drawCrosshair(null,i)})))):(i&&i.onMouseOut(),o&&o.forEach((function(t){t.setState()})),r&&r.onMouseOut(),s&&s.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach((function(t){t.hideCrosshair()})),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,r=this.chart;r.series.forEach((function(i){n=t||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&i.group&&(i.group.attr(n),i.markerGroup&&(i.markerGroup.attr(n),i.markerGroup.clip(e?r.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(n))})),r.clipRect.attr(e||r.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e=this.chart,n=e.options.chart,r=t.chartX,i=t.chartY,o=this.zoomHor,s=this.zoomVert,a=e.plotLeft,u=e.plotTop,l=e.plotWidth,c=e.plotHeight,h=this.selectionMarker,d=this.mouseDownX,f=this.mouseDownY,g=n.panKey&&t[n.panKey+"Key"];if((!h||!h.touch)&&(r<a?r=a:r>a+l&&(r=a+l),i<u?i=u:i>u+c&&(i=u+c),this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(f-i,2)),10<this.hasDragged)){var v=e.isInsidePlot(d-a,f-u);e.hasCartesianSeries&&(this.zoomX||this.zoomY)&&v&&!g&&!h&&(this.selectionMarker=h=e.renderer.rect(a,u,o?1:l,s?1:c,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||h.attr({fill:n.selectionMarkerFill||p("#335cad").setOpacity(.25).get()})),h&&o&&(r-=d,h.attr({width:Math.abs(r),x:(0<r?0:r)+d})),h&&s&&(r=i-f,h.attr({height:Math.abs(r),y:(0<r?0:r)+f})),v&&!h&&n.panning&&e.pan(t,n.panning)}},drop:function(t){var e=this,n=this.chart,s=this.hasPinched;if(this.selectionMarker){var a,u={originalEvent:t,xAxis:[],yAxis:[]},l=this.selectionMarker,c=l.attr?l.attr("x"):l.x,h=l.attr?l.attr("y"):l.y,p=l.attr?l.attr("width"):l.width,f=l.attr?l.attr("height"):l.height;(this.hasDragged||s)&&(n.axes.forEach((function(n){if(n.zoomEnabled&&r(n.min)&&(s||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var i=n.horiz,o="touchend"===t.type?n.minPixelPadding:0,l=n.toValue((i?c:h)+o);i=n.toValue((i?c+p:h+f)-o),u[n.coll].push({axis:n,min:Math.min(l,i),max:Math.max(l,i)}),a=!0}})),a&&g(n,"selection",u,(function(t){n.zoom(i(t,s?{animation:!1}:null))}))),o(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),s&&this.scaleGroups()}n&&o(n.index)&&(d(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){2!==(t=this.normalize(t)).button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){h[t.hoverChartIndex]&&h[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=h[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=void 0)},onContainerMouseMove:function(e){var n=this.chart;r(t.hoverChartIndex)&&h[t.hoverChartIndex]&&h[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),(e=this.normalize(e)).preventDefault||(e.returnValue=!1),"mousedown"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var r;t;){if(r=n(t,"class")){if(-1!==r.indexOf(e))return!0;if(-1!==r.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,r=e.plotLeft,o=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(g(n.series,"click",i(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(i(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-r,t.chartY-o)&&g(e,"click",t)))},setDOMEvents:function(){var e=this,n=e.chart.container,r=n.ownerDocument;n.onmousedown=function(t){e.onContainerMouseDown(t)},n.onmousemove=function(t){e.onContainerMouseMove(t)},n.onclick=function(t){e.onContainerClick(t)},this.unbindContainerMouseLeave=c(n,"mouseleave",e.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=c(r,"mouseup",e.onDocumentMouseUp)),t.hasTouch&&(c(n,"touchstart",(function(t){e.onContainerTouchStart(t)})),c(n,"touchmove",(function(t){e.onContainerTouchMove(t)})),t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=c(r,"touchend",e.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),a(e,(function(t,n){e[n]=null}))}}})),e(n,"parts/TouchPointer.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.extend,r=e.pick,i=t.charts,o=t.noop;n(t.Pointer.prototype,{pinchTranslate:function(t,e,n,r,i,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,r,i,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,r,i,o)},pinchTranslateDirection:function(t,e,n,r,i,o,s,a){var u,l,c=this.chart,h=t?"x":"y",p=t?"X":"Y",d="chart"+p,f=t?"width":"height",g=c["plot"+(t?"Left":"Top")],v=a||1,m=c.inverted,y=c.bounds[t?"h":"v"],b=1===e.length,w=e[0][d],C=n[0][d],E=!b&&e[1][d],_=!b&&n[1][d];if((n=function(){!b&&20<Math.abs(w-E)&&(v=a||Math.abs(C-_)/Math.abs(w-E)),l=(g-C)/v+w,u=c["plot"+(t?"Width":"Height")]/v})(),(e=l)<y.min){e=y.min;var O=!0}else e+u>y.max&&(e=y.max-u,O=!0);O?(C-=.8*(C-s[h][0]),b||(_-=.8*(_-s[h][1])),n()):s[h]=[C,_],m||(o[h]=l-g,o[f]=u),o=m?1/v:v,i[f]=u,i[h]=e,r[m?t?"scaleY":"scaleX":"scale"+p]=v,r["translate"+p]=o*g+(C-o*w)},pinch:function(t){var e=this,i=e.chart,s=e.pinchDown,a=t.touches,u=a.length,l=e.lastValidTouch,c=e.hasZoom,h=e.selectionMarker,p={},d=1===u&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),f={};1<u&&(e.initiated=!0),c&&e.initiated&&!d&&t.preventDefault(),[].map.call(a,(function(t){return e.normalize(t)})),"touchstart"===t.type?([].forEach.call(a,(function(t,e){s[e]={chartX:t.chartX,chartY:t.chartY}})),l.x=[s[0].chartX,s[1]&&s[1].chartX],l.y=[s[0].chartY,s[1]&&s[1].chartY],i.axes.forEach((function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,o=t.toPixels(Math.min(r(t.options.min,t.dataMin),t.dataMin)),s=t.toPixels(Math.max(r(t.options.max,t.dataMax),t.dataMax)),a=Math.max(o,s);e.min=Math.min(t.pos,Math.min(o,s)-n),e.max=Math.max(t.pos+t.len,a+n)}})),e.res=!0):e.followTouchMove&&1===u?this.runPointActions(e.normalize(t)):s.length&&(h||(e.selectionMarker=h=n({destroy:o,touch:!0},i.plotBox)),e.pinchTranslate(s,a,p,h,f,l),e.hasPinched=c,e.scaleGroups(p,f),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i=this.chart;if(i.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=i.index,1===e.touches.length)if(e=this.normalize(e),i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)&&!i.openMenu){if(n&&this.runPointActions(e),"touchmove"===e.type)var o=!!(n=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-e.chartX,2)+Math.pow(n[0].chartY-e.chartY,2));r(o,!0)&&this.pinch(e)}else n&&this.reset();else 2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.drop(e)}})})),e(n,"parts/MSPointer.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.extend,r=e.objectEach,i=t.addEvent,o=t.charts,s=t.css,a=t.doc,u=t.noop;e=t.Pointer;var l=t.removeEvent,c=t.win,h=t.wrap;if(!t.hasTouch&&(c.PointerEvent||c.MSPointerEvent)){var p={},d=!!c.PointerEvent,f=function(){var t=[];return t.item=function(t){return this[t]},r(p,(function(e){t.push({pageX:e.pageX,pageY:e.pageY,target:e.target})})),t},g=function(e,n,r,i){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!o[t.hoverChartIndex]||(i(e),(i=o[t.hoverChartIndex].pointer)[n]({type:r,target:e.currentTarget,preventDefault:u,touches:f()}))};n(e.prototype,{onContainerPointerDown:function(t){g(t,"onContainerTouchStart","touchstart",(function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}))},onContainerPointerMove:function(t){g(t,"onContainerTouchMove","touchmove",(function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY},p[t.pointerId].target||(p[t.pointerId].target=t.currentTarget)}))},onDocumentPointerUp:function(t){g(t,"onDocumentTouchEnd","touchend",(function(t){delete p[t.pointerId]}))},batchMSEvents:function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(a,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),h(e.prototype,"init",(function(t,e,n){t.call(this,e,n),this.hasZoom&&s(e.container,{"-ms-touch-action":"none","touch-action":"none"})})),h(e.prototype,"setDOMEvents",(function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(i)})),h(e.prototype,"destroy",(function(t){this.batchMSEvents(l),t.call(this)}))}})),e(n,"parts/Legend.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.defined,r=e.discardElement,i=e.isNumber,o=e.pick,s=e.setAnimation,a=t.addEvent,u=t.css,l=t.fireEvent;e=t.isFirefox;var c=t.marginNames,h=t.merge,p=t.stableSort,d=t.win,f=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),a(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),this.proximate?this.unchartrender=a(this.chart,"render",(function(){this.legend.proximatePositions(),this.legend.positionItems()})):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=o(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=h(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop||0,this.itemMarginBottom=t.itemMarginBottom||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=o(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var n=this.chart;this.setOptions(h(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,o(e,!0)&&n.redraw(),l(this,"afterUpdate")},colorizeItem:function(t,e){if(t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var n=this.options,r=t.legendItem,i=t.legendLine,o=t.legendSymbol,s=this.itemHiddenStyle.color;n=e?n.itemStyle.color:s;var a=e&&t.color||s,u=t.options&&t.options.marker,c={fill:a};r&&r.css({fill:n,color:n}),i&&i.attr({stroke:a}),o&&(u&&o.isMarker&&(c=t.pointAttribs(),e||(c.stroke=c.fill=s)),o.attr(c))}l(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=this.options,r=e.symbolPadding;e=!e.rtl;var i=t._legendItemPos,o=i[0];i=i[1];var s=t.checkbox;(t=t.legendGroup)&&t.element&&t[n(t.translateY)?"animate":"attr"]({translateX:e?o:this.legendWidth-o-2*r-4,translateY:i}),s&&(s.x=o,s.y=i)},destroyItem:function(t){var e=t.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach((function(e){t[e]&&(t[e]=t[e].destroy())})),e&&r(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}this.getAllItems().forEach((function(e){["legendItem","legendGroup"].forEach(t,e)})),"clipRect up down pager nav box title group".split(" ").forEach(t,this),this.display=null},positionCheckboxes:function(){var t=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,n=this.titleHeight;if(t){var r=t.translateY;this.allItems.forEach((function(i){var o=i.checkbox;if(o){var s=r+n+o.y+(this.scrollOffset||0)+3;u(o,{left:t.translateX+i.checkboxOffset+o.x-20+"px",top:s+"px",display:this.proximate||s>r-6&&s<r+e-6?"":"none"})}}),this)}},renderTitle:function(){var t=this.options,e=this.padding,n=t.title,r=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(n.style),this.title.add(this.group)),n.width||this.title.css({width:this.maxLegendWidth+"px"}),r=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e,this.chart.time):n.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,n=e.renderer,r=this.options,i=this.symbolWidth,s=r.symbolPadding,a=this.itemStyle,u=this.itemHiddenStyle,l="horizontal"===r.layout?o(r.itemDistance,20):0,c=!r.rtl,p=t.legendItem,d=!t.series,f=!d&&t.series.drawLegendSymbol?t.series:t,g=f.options;l=i+s+l+((g=this.createCheckboxForItem&&g&&g.showCheckbox)?20:0);var v=r.useHTML,m=t.options.className;p||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+f.type+"-series highcharts-color-"+t.colorIndex+(m?" "+m:"")+(d?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=p=n.text("",c?i+s:-s,this.baseline||0,v),e.styledMode||p.css(h(t.visible?a:u)),p.attr({align:c?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(e.styledMode?12:a.fontSize,p),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,p.attr("y",this.baseline)),this.symbolHeight=r.symbolHeight||this.fontMetrics.f,f.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,p,v)),g&&!t.checkbox&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),!e.styledMode&&a.width||p.css({width:(r.itemWidth||this.widthOption||e.spacingBox.width)-l}),this.setText(t),e=p.getBBox(),t.itemWidth=t.checkboxOffset=r.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,n=this.padding,r="horizontal"===e.layout,i=t.itemHeight,s=this.itemMarginBottom,a=this.itemMarginTop,u=r?o(e.itemDistance,20):0,l=this.maxLegendWidth;e=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth,r&&this.itemX-n+e>l&&(this.itemX=n,this.lastLineHeight&&(this.itemY+=a+this.lastLineHeight+s),this.lastLineHeight=0),this.lastItemY=a+this.itemY+s,this.lastLineHeight=Math.max(i,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=e:(this.itemY+=a+i+s,this.lastLineHeight=i),this.offsetWidth=this.widthOption||Math.max((r?this.itemX-n-(t.checkbox?0:u):e)+n,this.offsetWidth)},getAllItems:function(){var t=[];return this.chart.series.forEach((function(e){var r=e&&e.options;e&&o(r.showInLegend,!n(r.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===r.legendType?e.data:e)))})),l(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var r=this.chart,i=this.options,s=this.getAlignment();s&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(a,u){a.test(s)&&!n(t[u])&&(r[c[u]]=Math.max(r[c[u]],r.legend[(u+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][u]*i[u%2?"x":"y"]+o(i.margin,12)+e[u]+(r.titleOffset[u]||0)))}))},proximatePositions:function(){var e=this.chart,n=[],r="left"===this.options.align;this.allItems.forEach((function(o){var s=r;if(o.yAxis&&o.points){o.xAxis.options.reversed&&(s=!s);var a=t.find(s?o.points:o.points.slice(0).reverse(),(function(t){return i(t.plotY)}));s=this.itemMarginTop+o.legendItem.getBBox().height+this.itemMarginBottom;var u=o.yAxis.top-e.plotTop;o.visible?(a=a?a.plotY:o.yAxis.height,a+=u-.3*s):a=u+o.yAxis.height,n.push({target:a,size:s,item:o})}}),this),t.distribute(n,e.plotHeight),n.forEach((function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos}))},render:function(){var e,n=this.chart,r=n.renderer,i=this.group,o=this.box,s=this.options,a=this.padding;this.itemX=a,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=t.relativeLength(s.width,n.spacingBox.width-a);var u=n.spacingBox.width-2*a-s.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(u/=2),this.maxLegendWidth=this.widthOption||u,i||(this.group=i=r.g("legend").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(i),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),u=this.getAllItems(),p(u,(function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)})),s.reversed&&u.reverse(),this.allItems=u,this.display=e=!!u.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,u.forEach(this.renderItem,this),u.forEach(this.layoutItem,this),u=(this.widthOption||this.offsetWidth)+a;var c=this.lastItemY+this.lastLineHeight+this.titleHeight;c=this.handleOverflow(c),c+=a,o||(this.box=o=r.rect().addClass("highcharts-legend-box").attr({r:s.borderRadius}).add(i),o.isNew=!0),n.styledMode||o.attr({stroke:s.borderColor,"stroke-width":s.borderWidth||0,fill:s.backgroundColor||"none"}).shadow(s.shadow),0<u&&0<c&&(o[o.isNew?"attr":"animate"](o.crisp.call({},{x:0,y:0,width:u,height:c},o.strokeWidth())),o.isNew=!1),o[e?"show":"hide"](),n.styledMode&&"none"===i.getStyle("display")&&(u=c=0),this.legendWidth=u,this.legendHeight=c,e&&(o=(r=n.spacingBox).y,/(lth|ct|rth)/.test(this.getAlignment())&&0<n.titleOffset[0]?o+=n.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<n.titleOffset[2]&&(o-=n.titleOffset[2]),o!==r.y&&(r=h(r,{y:o})),i.align(h(s,{width:u,height:c,verticalAlign:this.proximate?"top":s.verticalAlign}),!0,r)),this.proximate||this.positionItems(),l(this,"afterRender")},handleOverflow:function(t){var e=this,n=this.chart,r=n.renderer,i=this.options,s=i.y,a=this.padding;s=n.spacingBox.height+("top"===i.verticalAlign?-s:s)-a;var u,l,c=i.maxHeight,h=this.clipRect,p=i.navigation,d=o(p.animation,!0),f=p.arrowSize||12,g=this.nav,v=this.pages,m=this.allItems,y=function(t){"number"===typeof t?h.attr({height:t}):h&&(e.clipRect=h.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=t?"rect("+a+"px,9999px,"+(a+t)+"px,0)":"auto")},b=function(t){return e[t]=r.circle(0,0,1.3*f).translate(f/2,f/2).add(g),n.styledMode||e[t].attr("fill","rgba(0,0,0,0.0001)"),e[t]};return"horizontal"!==i.layout||"middle"===i.verticalAlign||i.floating||(s/=2),c&&(s=Math.min(s,c)),v.length=0,t>s&&!1!==p.enabled?(this.clipHeight=u=Math.max(s-20-this.titleHeight-a,0),this.currentPage=o(this.currentPage,1),this.fullHeight=t,m.forEach((function(t,e){var n=t._legendItemPos[1],r=Math.round(t.legendItem.getBBox().height),i=v.length;(!i||n-v[i-1]>u&&(l||n)!==v[i-1])&&(v.push(l||n),i++),t.pageIx=i-1,l&&(m[e-1].pageIx=i-1),e===m.length-1&&n+r-v[i-1]>u&&n!==l&&(v.push(n),t.pageIx=i),n!==l&&(l=n)})),h||(h=e.clipRect=r.clipRect(0,a,9999,0),e.contentGroup.clip(h)),y(u),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,f,f).add(g),b("upTracker").on("click",(function(){e.scroll(-1,d)})),this.pager=r.text("",15,10).addClass("highcharts-legend-navigation"),n.styledMode||this.pager.css(p.style),this.pager.add(g),this.down=r.symbol("triangle-down",0,0,f,f).add(g),b("downTracker").on("click",(function(){e.scroll(1,d)}))),e.scroll(0),t=s):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,r=n.length,i=this.currentPage+t;t=this.clipHeight;var o=this.options.navigation,a=this.pager,u=this.padding;i>r&&(i=r),0<i&&(void 0!==e&&s(e,this.chart),this.nav.attr({translateX:u,translateY:t+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach((function(t){t.attr({class:1===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),a.attr({text:i+"/"+r}),[this.down,this.downTracker].forEach((function(t){t.attr({x:18+this.pager.getBBox().width,class:i===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),this.chart.styledMode||(this.up.attr({fill:1===i?o.inactiveColor:o.activeColor}),this.upTracker.css({cursor:1===i?"default":"pointer"}),this.down.attr({fill:i===r?o.inactiveColor:o.activeColor}),this.downTracker.css({cursor:i===r?"default":"pointer"})),this.scrollOffset=-n[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=i,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,r=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(r?(t.symbolWidth-n)/2:0,t.baseline-n+1,r?n:t.symbolWidth,n,o(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,n=e.marker,r=t.symbolWidth,i=t.symbolHeight,s=i/2,a=this.chart.renderer,u=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var l={};this.chart.styledMode||(l={"stroke-width":e.lineWidth||0},e.dashStyle&&(l.dashstyle=e.dashStyle)),this.legendLine=a.path(["M",0,t,"L",r,t]).addClass("highcharts-graph").attr(l).add(u),n&&!1!==n.enabled&&r&&(e=Math.min(o(n.radius,s),s),0===this.symbol.indexOf("url")&&(n=h(n,{width:i,height:i}),e=0),this.legendSymbol=n=a.symbol(this.symbol,r/2-e,t-e,2*e,2*e,n).addClass("highcharts-point").add(u),n.isMarker=!0)}},(/Trident\/7\.0/.test(d.navigator&&d.navigator.userAgent)||e)&&f(t.Legend.prototype,"positionItem",(function(t,e){var n=this,r=function(){e._legendItemPos&&t.call(n,e)};r(),n.bubbleLegend||setTimeout(r)}))})),e(n,"parts/Chart.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.attr,r=e.defined,i=e.discardElement,o=e.erase,s=e.extend,a=e.isArray,u=e.isNumber,l=e.isObject,c=e.isString,h=e.objectEach,p=e.pick,d=e.pInt,f=e.setAnimation,g=e.splat,v=e.syncTimeout,m=t.addEvent,y=t.animate,b=t.animObject,w=t.doc,C=t.Axis,E=t.createElement,_=t.defaultOptions,O=t.charts,T=t.css,S=t.find,R=t.fireEvent,P=t.Legend,x=t.marginNames,A=t.merge,D=t.Pointer,I=t.removeEvent,N=t.seriesTypes,k=t.win,L=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new L(t,e,n)},s(L.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(c(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(e,n){var r,i=e.series,o=e.plotOptions||{};R(this,"init",{args:arguments},(function(){e.series=null,r=A(_,e),h(r.plotOptions,(function(t,e){l(t)&&(t.tooltip=o[e]&&A(o[e].tooltip)||void 0)})),r.tooltip.userOptions=e.chart&&e.chart.forExport&&e.tooltip.userOptions||e.tooltip,r.series=e.series=i,this.userOptions=e;var s=r.chart,a=s.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=e.time&&Object.keys(e.time).length?new t.Time(e.time):t.time,this.styledMode=s.styledMode,this.hasCartesianSeries=s.showAxes;var u=this;u.index=O.length,O.push(u),t.chartCount++,a&&h(a,(function(e,n){t.isFunction(e)&&m(u,n,e)})),u.xAxis=[],u.yAxis=[],u.pointCount=u.colorCounter=u.symbolCounter=0,R(u,"afterInit"),u.firstRender()}))},initSeries:function(e){var n=this.options.chart;n=e.type||n.type||n.defaultSeriesType;var r=N[n];return r||t.error(17,!0,this,{missingModuleFor:n}),(n=new r).init(this,e),n},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,n){var r=n?e:t;return t=n?t:e,0<=r&&r<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(t){R(this,"beforeRedraw");var e=this.axes,n=this.series,r=this.pointer,i=this.legend,o=this.userOptions.legend,a=this.isDirtyLegend,u=this.hasCartesianSeries,l=this.isDirtyBox,c=this.renderer,h=c.isHidden(),p=[];for(this.setResponsive&&this.setResponsive(!1),f(t,this),h&&this.temporaryDisplay(),this.layOutTitles(),t=n.length;t--;){var d=n[t];if(d.options.stacking){var g=!0;if(d.isDirty){var v=!0;break}}}if(v)for(t=n.length;t--;)(d=n[t]).options.stacking&&(d.isDirty=!0);n.forEach((function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),a=!0):o&&(o.labelFormatter||o.labelFormat)&&(a=!0)),t.isDirtyData&&R(t,"updatedData")})),a&&i&&i.options.enabled&&(i.render(),this.isDirtyLegend=!1),g&&this.getStacks(),u&&e.forEach((function(t){t.updateNames(),t.setScale()})),this.getMargins(),u&&(e.forEach((function(t){t.isDirty&&(l=!0)})),e.forEach((function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,p.push((function(){R(t,"afterSetExtremes",s(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(l||g)&&t.redraw()}))),l&&this.drawChartBox(),R(this,"predraw"),n.forEach((function(t){(l||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),r&&r.reset(!0),c.draw(),R(this,"redraw"),R(this,"render"),h&&this.temporaryDisplay(!0),p.forEach((function(t){t.call()}))},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,r=this.series,i=S(this.axes,e)||S(this.series,e);for(n=0;!i&&n<r.length;n++)i=S(r[n].points||[],e);return i},getAxes:function(){var t=this,e=this.options,n=e.xAxis=g(e.xAxis||{});e=e.yAxis=g(e.yAxis||{}),R(this,"getAxes"),n.forEach((function(t,e){t.index=e,t.isX=!0})),e.forEach((function(t,e){t.index=e})),n.concat(e).forEach((function(e){new C(t,e)})),R(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return this.series.forEach((function(e){t=t.concat((e[e.hasGroupedData?"points":"data"]||[]).filter((function(t){return p(t.selectedStaging,t.selected)})))})),t},getSelectedSeries:function(){return this.series.filter((function(t){return t.selected}))},setTitle:function(t,e,n){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(n)},applyDescription:function(t,e){var n=this,r="title"===t?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};r=this.options[t]=A(!this.styledMode&&{style:r},this.options[t],e);var i=this[t];i&&e&&(this[t]=i=i.destroy()),r&&!i&&((i=this.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,class:"highcharts-"+t,zIndex:r.zIndex||4}).add()).update=function(e){n[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[t]](e)},this.styledMode||i.css(r.style),this[t]=i)},layOutTitles:function(t){var e=[0,0,0],n=this.renderer,r=this.spacingBox;["title","subtitle","caption"].forEach((function(t){var i=this[t],o=this.options[t],a=o.verticalAlign||"top";if(t="title"===t?-3:"top"===a?e[0]+2:0,i){if(!this.styledMode)var u=o.style.fontSize;u=n.fontMetrics(u,i).b,i.css({width:(o.width||r.width+(o.widthAdjust||0))+"px"});var l=Math.round(i.getBBox(o.useHTML).height);i.align(s({y:"bottom"===a?u:t+u,height:l},o),!1,"spacingBox"),o.floating||("top"===a?e[0]=Math.ceil(e[0]+l):"bottom"===a&&(e[2]=Math.ceil(e[2]+l)))}}),this),e[0]&&"top"===(this.options.title.verticalAlign||"top")&&(e[0]+=this.options.title.margin),e[2]&&"bottom"===this.options.caption.verticalAlign&&(e[2]+=this.options.caption.margin);var i=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,R(this,"afterLayOutTitles"),!this.isDirtyBox&&i&&(this.isDirtyBox=this.isDirtyLegend=i,this.hasRendered&&p(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,n=e.width;e=e.height;var i=this.renderTo;r(n)||(this.containerWidth=t.getStyle(i,"width")),r(e)||(this.containerHeight=t.getStyle(i,"height")),this.chartWidth=Math.max(0,n||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(w.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(w.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,w.body.appendChild(n)),("none"===t.getStyle(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},e={display:"block",overflow:"hidden"},n!==this.renderTo&&(e.height=0),t.css(n,e),n.offsetWidth||n.style.setProperty("display","block","important")),(n=n.parentNode)!==w.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,r,i=this.options,o=i.chart,a=this.renderTo,l=t.uniqueKey();a||(this.renderTo=a=o.renderTo),c(a)&&(this.renderTo=a=w.getElementById(a)),a||t.error(13,!0,this);var h=d(n(a,"data-highcharts-chart"));u(h)&&O[h]&&O[h].hasRendered&&O[h].destroy(),n(a,"data-highcharts-chart",this.index),a.innerHTML="",o.skipClone||a.offsetWidth||this.temporaryDisplay(),this.getChartSize(),h=this.chartWidth;var p=this.chartHeight;if(T(a,{overflow:"hidden"}),this.styledMode||(e=s({position:"relative",overflow:"hidden",width:h+"px",height:p+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},o.style)),this.container=a=E("div",{id:l},e,a),this._cursor=a.style.cursor,this.renderer=new(t[o.renderer]||t.Renderer)(a,h,p,null,o.forExport,i.exporting&&i.exporting.allowHTML,this.styledMode),this.setClassName(o.className),this.styledMode)for(r in i.defs)this.renderer.definition(i.defs[r]);else this.renderer.setStyle(o.style);this.renderer.chartIndex=this.index,R(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i[0]&&!r(n[0])&&(this.plotTop=Math.max(this.plotTop,i[0]+e[0])),i[2]&&!r(n[2])&&(this.marginBottom=Math.max(this.marginBottom,i[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),R(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.colorAxis,i=t.margin,o=function(t){t.forEach((function(t){t.visible&&t.getOffset()}))};t.hasCartesianSeries?o(t.axes):n&&n.length&&o(n),x.forEach((function(n,o){r(i[o])||(t[n]+=e[o])})),t.setChartSize()},reflow:function(e){var n=this,i=n.options.chart,o=n.renderTo,s=r(i.width)&&r(i.height),a=i.width||t.getStyle(o,"width");i=i.height||t.getStyle(o,"height"),o=e?e.target:k,s||n.isPrinting||!a||!i||o!==k&&o!==w||(a===n.containerWidth&&i===n.containerHeight||(t.clearTimeout(n.reflowTimeout),n.reflowTimeout=v((function(){n.container&&n.setSize(void 0,void 0,!1)}),e?100:0)),n.containerWidth=a,n.containerHeight=i)},setReflow:function(t){var e=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=m(k,"resize",(function(t){e.options&&e.reflow(t)})),m(this,"destroy",this.unbindReflow))},setSize:function(t,e,n){var r=this,i=r.renderer;if(r.isResizing+=1,f(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,void 0!==t&&(r.options.chart.width=t),void 0!==e&&(r.options.chart.height=e),r.getChartSize(),!r.styledMode){var o=i.globalAnimation;(o?y:T)(r.container,{width:r.chartWidth+"px",height:r.chartHeight+"px"},o)}r.setChartSize(!0),i.setSize(r.chartWidth,r.chartHeight,n),r.axes.forEach((function(t){t.isDirty=!0,t.setScale()})),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,R(r,"resize"),v((function(){r&&R(r,"endResize",null,(function(){--r.isResizing}))}),b(o).duration||0)},setChartSize:function(t){var e,n,r,i,o=this.inverted,s=this.renderer,a=this.chartWidth,u=this.chartHeight,l=this.options.chart,c=this.spacing,h=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=r=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=i=Math.max(0,Math.round(u-n-this.marginBottom)),this.plotSizeX=o?i:r,this.plotSizeY=o?r:i,this.plotBorderWidth=l.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:u-c[0]-c[2]},this.plotBox=s.plotBox={x:e,y:n,width:r,height:i},a=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(a,h[3])/2),s=Math.ceil(Math.max(a,h[0])/2),this.clipBox={x:o,y:s,width:Math.floor(this.plotSizeX-Math.max(a,h[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,h[2])/2-s))},t||this.axes.forEach((function(t){t.setAxisSize(),t.setAxisTranslation()})),R(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){R(this,"resetMargins");var t=this,e=t.options.chart;["margin","spacing"].forEach((function(n){var r=e[n],i=l(r)?r:[r,r,r,r];["Top","Right","Bottom","Left"].forEach((function(r,o){t[n][o]=p(e[n+r],i[o])}))})),x.forEach((function(e,n){t[e]=p(t.margin[n],t.spacing[n])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,n=this.renderer,r=this.chartWidth,i=this.chartHeight,o=this.chartBackground,s=this.plotBackground,a=this.plotBorder,u=this.styledMode,l=this.plotBGImage,c=e.backgroundColor,h=e.plotBackgroundColor,p=e.plotBackgroundImage,d=this.plotLeft,f=this.plotTop,g=this.plotWidth,v=this.plotHeight,m=this.plotBox,y=this.clipRect,b=this.clipBox,w="animate";if(o||(this.chartBackground=o=n.rect().addClass("highcharts-background").add(),w="attr"),u)var C=t=o.strokeWidth();else t=(C=e.borderWidth||0)+(e.shadow?8:0),c={fill:c||"none"},(C||o["stroke-width"])&&(c.stroke=e.borderColor,c["stroke-width"]=C),o.attr(c).shadow(e.shadow);o[w]({x:t/2,y:t/2,width:r-t-C%2,height:i-t-C%2,r:e.borderRadius}),w="animate",s||(w="attr",this.plotBackground=s=n.rect().addClass("highcharts-plot-background").add()),s[w](m),u||(s.attr({fill:h||"none"}).shadow(e.plotShadow),p&&(l?l.animate(m):this.plotBGImage=n.image(p,d,f,g,v).add())),y?y.animate({width:b.width,height:b.height}):this.clipRect=n.clipRect(b),w="animate",a||(w="attr",this.plotBorder=a=n.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),u||a.attr({stroke:e.plotBorderColor,"stroke-width":e.plotBorderWidth||0,fill:"none"}),a[w](a.crisp({x:d,y:f,width:g,height:v},-a.strokeWidth())),this.isDirtyBox=!1,R(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,n,r=this,i=r.options.chart,o=r.options.series;["inverted","angular","polar"].forEach((function(s){for(t=N[i.type||i.defaultSeriesType],n=i[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=N[o[e].type])&&t.prototype[s]&&(n=!0);r[s]=n}))},linkSeries:function(){var t=this,e=t.series;e.forEach((function(t){t.linkedSeries.length=0})),e.forEach((function(e){var n=e.options.linkedTo;c(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=p(e.options.visible,n.options.visible,e.visible))})),R(this,"afterLinkSeries")},renderSeries:function(){this.series.forEach((function(t){t.translate(),t.render()}))},renderLabels:function(){var t=this,e=t.options.labels;e.items&&e.items.forEach((function(n){var r=s(e.style,n.style),i=d(r.left)+t.plotLeft,o=d(r.top)+t.plotTop+12;delete r.left,delete r.top,t.renderer.text(n.html,i,o).attr({zIndex:2}).css(r).add()}))},render:function(){var t=this.axes,e=this.colorAxis,n=this.renderer,r=this.options,i=0,o=function(t){t.forEach((function(t){t.visible&&t.render()}))};this.setTitle(),this.legend=new P(this,r.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),r=this.plotWidth,t.some((function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return i=21,!0}));var s=this.plotHeight=Math.max(this.plotHeight-i,0);t.forEach((function(t){t.setScale()})),this.getAxisMargins();var a=1.1<r/this.plotWidth,u=1.05<s/this.plotHeight;(a||u)&&(t.forEach((function(t){(t.horiz&&a||!t.horiz&&u)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?o(t):e&&e.length&&o(e),this.seriesGroup||(this.seriesGroup=n.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.updateContainerScaling(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=A(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){t.href&&(k.location.href=t.href)})).attr({align:t.position.align,zIndex:8}),e.styledMode||this.credits.css(t.style),this.credits.add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},updateContainerScaling:function(){var t=this.container;if(t.offsetWidth&&t.offsetHeight&&t.getBoundingClientRect){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth;t=e.height/t.offsetHeight,1!==n||1!==t?this.containerScaling={scaleX:n,scaleY:t}:delete this.containerScaling}},destroy:function(){var e,n=this,r=n.axes,s=n.series,a=n.container,u=a&&a.parentNode;for(R(n,"destroy"),n.renderer.forExport?o(O,n):O[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),I(n),e=r.length;e--;)r[e]=r[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=s.length;e--;)s[e]=s[e].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach((function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())})),a&&(a.innerHTML="",I(a),u&&i(a)),h(n,(function(t,e){delete n[e]}))},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),(a(e.series)?e.series:[]).forEach((function(e){t.initSeries(e)})),t.linkSeries(),R(t,"beforeRender"),D&&(t.pointer=new D(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){this.callbacks.concat([this.callback]).forEach((function(t){t&&void 0!==this.index&&t.apply(this,[this])}),this),R(this,"load"),R(this,"render"),r(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})})),e(n,"parts/ScrollablePlotArea.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.pick,r=t.addEvent;e=t.Chart,r(e,"afterSetChartSize",(function(e){var n=this.options.chart.scrollablePlotArea,r=n&&n.minWidth;if(n=n&&n.minHeight,!this.renderer.forExport){if(r){if(this.scrollablePixelsX=r=Math.max(0,r-this.chartWidth)){this.plotWidth+=r,this.inverted?(this.clipBox.height+=r,this.plotBox.height+=r):(this.clipBox.width+=r,this.plotBox.width+=r);var i={1:{name:"right",value:r}}}}else n&&(this.scrollablePixelsY=r=Math.max(0,n-this.chartHeight))&&(this.plotHeight+=r,this.inverted?(this.clipBox.width+=r,this.plotBox.width+=r):(this.clipBox.height+=r,this.plotBox.height+=r),i={2:{name:"bottom",value:r}});i&&!e.skipAxes&&this.axes.forEach((function(e){i[e.side]?e.getPlotLinePath=function(){var n=i[e.side].name,r=this[n];this[n]=r-i[e.side].value;var o=t.Axis.prototype.getPlotLinePath.apply(this,arguments);return this[n]=r,o}:(e.setAxisSize(),e.setAxisTranslation())}))}})),r(e,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),e.prototype.setUpScrolling=function(){var e={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(e.overflowX="auto"),this.scrollablePixelsY&&(e.overflowY="auto"),this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},e,this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},e.prototype.moveFixedElements=function(){var t,e=this.container,n=this.fixedRenderer,r=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),r.push(t,t+"-labels"),r.forEach((function(t){[].forEach.call(e.querySelectorAll(t),(function(t){(t.namespaceURI===n.SVG_NS?n.box:n.box.parentNode).appendChild(t),t.style.pointerEvents="auto"}))}))},e.prototype.applyFixed=function(){var e,i=!this.fixedDiv,o=this.options.chart.scrollablePlotArea;i?(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.renderTo.style.overflow="visible",this.fixedRenderer=e=new t.Renderer(this.fixedDiv,this.chartWidth,this.chartHeight),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(n(o.opacity,.85)).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),this.moveFixedElements(),r(this,"afterShowResetZoom",this.moveFixedElements),r(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),e=this.chartWidth+(this.scrollablePixelsX||0);var s=this.chartHeight+(this.scrollablePixelsY||0);t.stop(this.container),this.container.style.width=e+"px",this.container.style.height=s+"px",this.renderer.boxWrapper.attr({width:e,height:s,viewBox:[0,0,e,s].join(" ")}),this.chartBackground.attr({width:e,height:s}),this.scrollablePixelsY&&(this.scrollingContainer.style.height=this.chartHeight+"px"),i&&(o.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*o.scrollPositionX),o.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*o.scrollPositionY)),s=this.axisOffset,i=this.plotTop-s[0]-1,o=this.plotLeft-s[3]-1,e=this.plotTop+this.plotHeight+s[2]+1,s=this.plotLeft+this.plotWidth+s[1]+1;var a=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),u=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);i=this.scrollablePixelsX?["M",0,i,"L",this.plotLeft-1,i,"L",this.plotLeft-1,e,"L",0,e,"Z","M",a,i,"L",this.chartWidth,i,"L",this.chartWidth,e,"L",a,e,"Z"]:this.scrollablePixelsY?["M",o,0,"L",o,this.plotTop-1,"L",s,this.plotTop-1,"L",s,0,"Z","M",o,u,"L",o,this.chartHeight,"L",s,this.chartHeight,"L",s,u,"Z"]:["M",0,0],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:i})}})),e(n,"parts/Point.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n,r=e.defined,i=e.erase,o=e.extend,s=e.isArray,a=e.isNumber,u=e.isObject,l=e.pick,c=t.fireEvent,h=t.format,p=t.uniqueKey,d=t.removeEvent;t.Point=n=function(){},t.Point.prototype={init:function(t,e,n){return this.series=t,this.applyOptions(e,n),this.id=r(this.id)?this.id:p(),this.resolveColor(),t.chart.pointCount++,c(this,"afterInit"),this},resolveColor:function(){var t=this.series,e=t.chart.options.chart.colorCount,n=t.chart.styledMode;n||this.options.color||(this.color=t.color),t.options.colorByPoint?(n||(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length),n=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=l(this.colorIndex,n)},applyOptions:function(t,e){var r=this.series,i=r.options.pointValKey||r.pointValKey;return t=n.prototype.optionsToObject.call(this,t),o(this,t),this.options=this.options?o(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,i&&(this.y=this[i]),this.formatPrefix=(this.isNull=l(this.isValid&&!this.isValid(),null===this.x||!a(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===e&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===e?r.autoIncrement(this):e),this},setNestedProperty:function(t,e,n){return n.split(".").reduce((function(t,n,r,i){return t[n]=i.length-1===r?e:u(t[n],!0)?t[n]:{},t[n]}),t),t},optionsToObject:function(e){var n={},r=this.series,i=r.options.keys,o=i||r.pointArrayMap||["y"],u=o.length,l=0,c=0;if(a(e)||null===e)n[o[0]]=e;else if(s(e))for(!i&&e.length>u&&("string"===(r=typeof e[0])?n.name=e[0]:"number"===r&&(n.x=e[0]),l++);c<u;)i&&void 0===e[l]||(0<o[c].indexOf(".")?t.Point.prototype.setNestedProperty(n,e[l],o[c]):n[o[c]]=e[l]),l++,c++;else"object"===typeof e&&(n=e,e.dataLabels&&(r._hasPointLabels=!0),e.marker&&(r._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t=this.series,e=t.zones;t=t.zoneAxis||"y";var n,r=0;for(n=e[r];this[t]>=n.value;)n=e[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=n&&n.color&&!this.options.color?n.color:this.nonZonedColor,n},hasNewShapeType:function(){return this.graphic&&this.graphic.element.nodeName!==this.shapeType},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;for(t in e.pointCount--,n&&(this.setState(),i(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(d(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(t){var e,n=this,r=[];for((t=t||{graphic:1,dataLabel:1}).graphic&&r.push("graphic","shadowGroup"),t.dataLabel&&r.push("dataLabel","dataLabelUpper","connector"),e=r.length;e--;){var i=r[e];n[i]&&(n[i]=n[i].destroy())}["dataLabel","connector"].forEach((function(e){var r=e+"s";t[e]&&n[r]&&(n[r].forEach((function(t){t.element&&t.destroy()})),delete n[r])}))},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,r=l(n.valueDecimals,""),i=n.valuePrefix||"",o=n.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach((function(e){e="{point."+e,(i||o)&&(t=t.replace(RegExp(e+"}","g"),i+e+"}"+o)),t=t.replace(RegExp(e+"}","g"),e+":,."+r+"f}")})),h(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,n){var r=this,i=this.series.options;(i.point.events[t]||r.options&&r.options.events&&r.options.events[t])&&this.importEvents(),"click"===t&&i.allowPointSelect&&(n=function(t){r.select&&r.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),c(this,t,e,n)},visible:!0}})),e(n,"parts/Series.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.arrayMax,r=e.arrayMin,i=e.defined,o=e.erase,s=e.extend,a=e.isArray,u=e.isNumber,l=e.isString,c=e.objectEach,h=e.pick,p=e.splat,d=e.syncTimeout,f=t.addEvent,g=t.animObject,v=t.correctFloat,m=t.defaultOptions,y=t.defaultPlotOptions,b=t.fireEvent,w=t.merge,C=t.removeEvent,E=t.SVGElement,_=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,parallelArrays:["x","y"],pointClass:t.Point,requireSorting:!0,sorted:!0,init:function(e,n){b(this,"init",{options:n});var r,i=this,o=e.series;this.eventOptions=this.eventOptions||{},i.chart=e,i.options=n=i.setOptions(n),i.linkedSeries=[],i.bindAxes(),s(i,{name:n.name,state:"",visible:!1!==n.visible,selected:!0===n.selected});var a=n.events;c(a,(function(e,n){t.isFunction(e)&&i.eventOptions[n]!==e&&(t.isFunction(i.eventOptions[n])&&C(i,n,i.eventOptions[n]),i.eventOptions[n]=e,f(i,n,e))})),(a&&a.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(e.runTrackerClick=!0),i.getColor(),i.getSymbol(),i.parallelArrays.forEach((function(t){i[t+"Data"]||(i[t+"Data"]=[])})),i.points||i.data||i.setData(n.data,!1),i.isCartesian&&(e.hasCartesianSeries=!0),o.length&&(r=o[o.length-1]),i._i=h(r&&r._i,-1)+1,e.orderSeries(this.insert(o)),b(this,"afterInit")},insert:function(t){var e,n=this.options.index;if(u(n)){for(e=t.length;e--;)if(n>=h(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return h(e,t.length-1)},bindAxes:function(){var e,n=this,r=n.options,i=n.chart;b(this,"bindAxes",null,(function(){(n.axisTypes||[]).forEach((function(o){i[o].forEach((function(t){e=t.options,(r[o]===e.index||void 0!==r[o]&&r[o]===e.id||void 0===r[o]&&0===e.index)&&(n.insert(t.series),n[o]=t,t.isDirty=!0)})),n[o]||n.optionalAxis===o||t.error(18,!0,i)}))}))},updateParallelArrays:function(t,e){var n=t.series,r=arguments,i=u(e)?function(r){var i="y"===r&&n.toYData?n.toYData(t):t[r];n[r+"Data"][e]=i}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(r,2))};n.parallelArrays.forEach(i)},hasData:function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,r=e.pointIntervalUnit,i=this.chart.time;return n=h(n,e.pointStart,0),this.pointInterval=t=h(this.pointInterval,e.pointInterval,1),r&&(e=new i.Date(n),"day"===r?i.set("Date",e,i.get("Date",e)+t):"month"===r?i.set("Month",e,i.get("Month",e)+t):"year"===r&&i.set("FullYear",e,i.get("FullYear",e)+t),t=e.getTime()-n),this.xIncrement=n+t,n},setOptions:function(t){var e=this.chart,n=e.options,r=n.plotOptions,o=e.userOptions||{};t=w(t),e=e.styledMode;var s={plotOptions:r,userOptions:t};b(this,"setOptions",s);var a=s.plotOptions[this.type],u=o.plotOptions||{};return this.userOptions=s.userOptions,o=w(a,r.series,o.plotOptions&&o.plotOptions[this.type],t),this.tooltipOptions=w(m.tooltip,m.plotOptions.series&&m.plotOptions.series.tooltip,m.plotOptions[this.type].tooltip,n.tooltip.userOptions,r.series&&r.series.tooltip,r[this.type].tooltip,t.tooltip),this.stickyTracking=h(t.stickyTracking,u[this.type]&&u[this.type].stickyTracking,u.series&&u.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||o.stickyTracking),null===a.marker&&delete o.marker,this.zoneAxis=o.zoneAxis,n=this.zones=(o.zones||[]).slice(),!o.negativeColor&&!o.negativeFillColor||o.zones||(r={value:o[this.zoneAxis+"Threshold"]||o.threshold||0,className:"highcharts-negative"},e||(r.color=o.negativeColor,r.fillColor=o.negativeFillColor),n.push(r)),n.length&&i(n[n.length-1].value)&&n.push(e?{}:{color:this.color,fillColor:this.fillColor}),b(this,"afterSetOptions",{options:o}),o},getName:function(){return h(this.options.name,"Series "+(this.index+1))},getCyclic:function(t,e,n){var r=this.chart,o=this.userOptions,s=t+"Index",a=t+"Counter",u=n?n.length:h(r.options.chart[t+"Count"],r[t+"Count"]);if(!e){var l=h(o[s],o["_"+s]);i(l)||(r.series.length||(r[a]=0),o["_"+s]=l=r[a]%u,r[a]+=1),n&&(e=n[l])}void 0!==l&&(this[s]=l),this[t]=e},getColor:function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||y[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},findPointIndex:function(t,e){var n=t.id;t=t.x;var r,i=this.points;if(n){var o=(n=this.chart.get(n))&&n.index;void 0!==o&&(r=!0)}return void 0===o&&u(t)&&(o=this.xData.indexOf(t,e)),-1!==o&&void 0!==o&&this.cropped&&(o=o>=this.cropStart?o-this.cropStart:o),!r&&i[o]&&i[o].touched&&(o=void 0),o},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(t){var e,n,r,o=this.options,s=this.points,a=[],l=this.requireSorting,c=t.length===s.length,h=!0;if(this.xIncrement=null,t.forEach((function(t,n){var h=i(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{},p=h.x;(h.id||u(p))&&(-1===(p=this.findPointIndex(h,r))||void 0===p?a.push(t):s[p]&&t!==o.data[p]?(s[p].update(t,!1,null,!1),s[p].touched=!0,l&&(r=p+1)):s[p]&&(s[p].touched=!0),(!c||n!==p||this.hasDerivedData)&&(e=!0))}),this),e)for(t=s.length;t--;)(n=s[t])&&!n.touched&&n.remove(!1);else c?t.forEach((function(t,e){s[e].update&&t!==s[e].y&&s[e].update(t,!1,null,!1)})):h=!1;return s.forEach((function(t){t&&(t.touched=!1)})),!!h&&(a.forEach((function(t){this.addPoint(t,!1,null,null,!1)}),this),!0)},setData:function(e,n,r,i){var o,s=this,c=s.points,p=c&&c.length||0,d=s.options,f=s.chart,g=null,v=s.xAxis;g=d.turboThreshold;var m,y=this.xData,b=this.yData,w=(o=s.pointArrayMap)&&o.length,C=d.keys,E=0,_=1;if(o=(e=e||[]).length,n=h(n,!0),!1!==i&&o&&p&&!s.cropped&&!s.hasGroupedData&&s.visible&&!s.isSeriesBoosting&&(m=this.updateData(e)),!m){if(s.xIncrement=null,s.colorCounter=0,this.parallelArrays.forEach((function(t){s[t+"Data"].length=0})),g&&o>g)if(g=s.getFirstValidPoint(e),u(g))for(r=0;r<o;r++)y[r]=this.autoIncrement(),b[r]=e[r];else if(a(g))if(w)for(r=0;r<o;r++)i=e[r],y[r]=i[0],b[r]=i.slice(1,w+1);else for(C&&(E=0<=(E=C.indexOf("x"))?E:0,_=0<=(_=C.indexOf("y"))?_:1),r=0;r<o;r++)i=e[r],y[r]=i[E],b[r]=i[_];else t.error(12,!1,f);else for(r=0;r<o;r++)void 0!==e[r]&&(i={series:s},s.pointClass.prototype.applyOptions.apply(i,[e[r]]),s.updateParallelArrays(i,r));for(b&&l(b[0])&&t.error(14,!0,f),s.data=[],s.options.data=s.userOptions.data=e,r=p;r--;)c[r]&&c[r].destroy&&c[r].destroy();v&&(v.minRange=v.userMinRange),s.isDirty=f.isDirtyBox=!0,s.isDirtyData=!!c,r=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),n&&f.redraw(r)},processData:function(e){var n=this.xData,r=this.yData,i=n.length,o=0,s=this.xAxis,a=this.options,u=a.cropThreshold,l=this.getExtremesFromAll||a.getExtremesFromAll,c=this.isCartesian;a=s&&s.val2lin;var h=s&&s.isLog,p=this.requireSorting;if(c&&!this.isDirty&&!s.isDirty&&!this.yAxis.isDirty&&!e)return!1;if(s)var d=(e=s.getExtremes()).min,f=e.max;if(c&&this.sorted&&!l&&(!u||i>u||this.forceCrop))if(n[i-1]<d||n[0]>f)n=[],r=[];else if(this.yData&&(n[0]<d||n[i-1]>f)){n=(o=this.cropData(this.xData,this.yData,d,f)).xData,r=o.yData,o=o.start;var g=!0}for(u=n.length||1;--u;)if(0<(i=h?a(n[u])-a(n[u-1]):n[u]-n[u-1])&&(void 0===v||i<v))var v=i;else 0>i&&p&&(t.error(15,!1,this.chart),p=!1);this.cropped=g,this.cropStart=o,this.processedXData=n,this.processedYData=r,this.closestPointRange=this.basePointRange=v},cropData:function(t,e,n,r,i){var o,s=t.length,a=0,u=s;for(i=h(i,this.cropShoulder),o=0;o<s;o++)if(t[o]>=n){a=Math.max(0,o-i);break}for(n=o;n<s;n++)if(t[n]>r){u=n+i;break}return{xData:t.slice(a,u),yData:e.slice(a,u),start:a,end:u}},generatePoints:function(){var t,e=this.options,n=e.data,r=this.data,i=this.processedXData,o=this.processedYData,a=this.pointClass,u=i.length,l=this.cropStart||0,c=this.hasGroupedData;e=e.keys;var h,d=[];for(r||c||((r=[]).length=n.length,r=this.data=r),e&&c&&(this.options.keys=!1),h=0;h<u;h++){var f=l+h;if(c){var g=(new a).init(this,[i[h]].concat(p(o[h])));g.dataGroup=this.groupMap[h],g.dataGroup.options&&(g.options=g.dataGroup.options,s(g,g.dataGroup.options),delete g.dataLabels)}else(g=r[f])||void 0===n[f]||(r[f]=g=(new a).init(this,n[f],i[h]));g&&(g.index=f,d[h]=g)}if(this.options.keys=e,r&&(u!==(t=r.length)||c))for(h=0;h<t;h++)h!==l||c||(h+=u),r[h]&&(r[h].destroyElements(),r[h].plotX=void 0);this.data=r,this.points=d,b(this,"afterGeneratePoints")},getXExtremes:function(t){return{min:r(t),max:n(t)}},getExtremes:function(t){var e,i=this.xAxis,o=this.yAxis,s=this.processedXData||this.xData,l=[],c=0,h=0,p=0,d=this.requireSorting?this.cropShoulder:0,f=!!o&&o.positiveValuesOnly;for(o=(t=t||this.stackedYData||this.processedYData||[]).length,i&&(h=(p=i.getExtremes()).min,p=p.max),e=0;e<o;e++){var g=s[e],v=t[e],m=(u(v)||a(v))&&(v.length||0<v||!f);if(g=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!i||(s[e+d]||g)>=h&&(s[e-d]||g)<=p,m&&g)if(m=v.length)for(;m--;)u(v[m])&&(l[c++]=v[m]);else l[c++]=v}this.dataMin=r(l),this.dataMax=n(l),b(this,"afterGetExtremes")},getFirstValidPoint:function(t){for(var e=null,n=t.length,r=0;null===e&&r<n;)e=t[r],r++;return e},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n=this.options,r=n.stacking,o=this.xAxis,s=o.categories,l=this.yAxis,c=this.points,p=c.length,d=!!this.modifyValue,f=this.pointPlacementToXValue(),g=u(f),m=n.threshold,y=n.startFromThreshold?m:0,w=this.zoneAxis||"y",C=Number.MAX_VALUE;for(t=0;t<p;t++){var E=c[t],_=E.x,O=E.y,T=E.low,S=r&&l.stacks[(this.negStacks&&O<(y?0:m)?"-":"")+this.stackKey];if(l.positiveValuesOnly&&null!==O&&0>=O&&(E.isNull=!0),E.plotX=e=v(Math.min(Math.max(-1e5,o.translate(_,0,0,0,1,f,"flags"===this.type)),1e5)),r&&this.visible&&S&&S[_]){var R=this.getStackIndicator(R,_,this.index);if(!E.isNull)var P=S[_],x=P.points[R.key]}if(a(x)&&(T=x[0],O=x[1],T===y&&R.key===S[_].base&&(T=h(u(m)&&m,l.min)),l.positiveValuesOnly&&0>=T&&(T=null),E.total=E.stackTotal=P.total,E.percentage=P.total&&E.y/P.total*100,E.stackY=O,this.irregularWidths||P.setOffset(this.pointXOffset||0,this.barW||0)),E.yBottom=i(T)?Math.min(Math.max(-1e5,l.translate(T,0,1,0,1)),1e5):null,d&&(O=this.modifyValue(O,E)),E.plotY=O="number"===typeof O&&1/0!==O?Math.min(Math.max(-1e5,l.translate(O,0,1,0,1)),1e5):void 0,E.isInside=void 0!==O&&0<=O&&O<=l.len&&0<=e&&e<=o.len,E.clientX=g?v(o.translate(_,0,0,0,1,f)):e,E.negative=E[w]<(n[w+"Threshold"]||m||0),E.category=s&&void 0!==s[E.x]?s[E.x]:E.x,!E.isNull){void 0!==A&&(C=Math.min(C,Math.abs(e-A)));var A=e}E.zone=this.zones.length&&E.getZone()}this.closestPointRangePx=C,b(this,"afterTranslate")},getValidPoints:function(t,e,n){var r=this.chart;return(t||this.points||[]).filter((function(t){return!(e&&!r.isInsidePlot(t.plotX,t.plotY,r.inverted))&&(n||!t.isNull)}))},getClipBox:function(t,e){var n=this.options,r=this.chart,i=r.inverted,o=this.xAxis,s=o&&this.yAxis;return t&&!1===n.clip&&s?t=i?{y:-r.chartWidth+s.len+s.pos,height:r.chartWidth,width:r.chartHeight,x:-r.chartHeight+o.len+o.pos}:{y:-s.pos,height:r.chartHeight,width:r.chartWidth,x:-o.pos}:(t=this.clipBox||r.clipBox,e&&(t.width=r.plotSizeX,t.x=0)),e?{width:t.width,x:t.x}:t},setClip:function(t){var e=this.chart,n=this.options,r=e.renderer,i=e.inverted,o=this.clipBox,s=this.getClipBox(t),a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(),u=e[a],l=e[a+"m"];u||(t&&(s.width=0,i&&(s.x=e.plotSizeX+(!1!==n.clip?0:e.plotTop)),e[a+"m"]=l=r.clipRect(i?e.plotSizeX+99:-99,i?-e.plotLeft:-e.plotTop,99,i?e.chartWidth:e.chartHeight)),e[a]=u=r.clipRect(s),u.count={length:0}),t&&!u.count[this.index]&&(u.count[this.index]=!0,u.count.length+=1),(!1!==n.clip||t)&&(this.group.clip(t||o?u:e.clipRect),this.markerGroup.clip(l),this.sharedClipKey=a),t||(u.count[this.index]&&(delete u.count[this.index],--u.count.length),0===u.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e=this.chart,n=g(this.options.animation);if(t)this.setClip(n);else{var r=this.sharedClipKey;t=e[r];var i=this.getClipBox(n,!0);t&&t.animate(i,n),e[r+"m"]&&e[r+"m"].animate({width:i.width+99,x:i.x-(e.inverted?0:99)},n),this.animate=null}},afterAnimate:function(){this.setClip(),b(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e=this.points,n=this.chart,r=this.options.marker,i=this[this.specialGroup]||this.markerGroup,o=this.xAxis,s=h(r.enabled,!(o&&!o.isRadial)||null,this.closestPointRangePx>=r.enabledThreshold*r.radius);if(!1!==r.enabled||this._hasPointMarkers)for(o=0;o<e.length;o++){var a=e[o],u=(t=a.graphic)?"animate":"attr",l=a.marker||{},c=!!a.marker,p=s&&void 0===l.enabled||l.enabled,d=!1!==a.isInside;if(p&&!a.isNull){var f=h(l.symbol,this.symbol);p=this.markerAttribs(a,a.selected&&"select"),t?t[d?"show":"hide"](d).animate(p):d&&(0<p.width||a.hasImage)&&(a.graphic=t=n.renderer.symbol(f,p.x,p.y,p.width,p.height,c?l:r).add(i)),t&&!n.styledMode&&t[u](this.pointAttribs(a,a.selected&&"select")),t&&t.addClass(a.getClassName(),!0)}else t&&(a.graphic=t.destroy())}},markerAttribs:function(t,e){var n=this.options.marker,r=t.marker||{},i=r.symbol||n.symbol,o=h(r.radius,n.radius);return e&&(n=n.states[e],e=r.states&&r.states[e],o=h(e&&e.radius,n&&n.radius,o+(n&&n.radiusPlus||0))),t.hasImage=i&&0===i.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var n=this.options.marker,r=t&&t.options,i=r&&r.marker||{},o=this.color,s=r&&r.color,a=t&&t.color;r=h(i.lineWidth,n.lineWidth);var u=t&&t.zone&&t.zone.color;return t=1,o=s||u||a||o,s=i.fillColor||n.fillColor||o,o=i.lineColor||n.lineColor||o,e=e||"normal",n=n.states[e],e=i.states&&i.states[e]||{},r=h(e.lineWidth,n.lineWidth,r+h(e.lineWidthPlus,n.lineWidthPlus,0)),s=e.fillColor||n.fillColor||s,{stroke:o=e.lineColor||n.lineColor||o,"stroke-width":r,fill:s,opacity:t=h(e.opacity,n.opacity,t)}},destroy:function(e){var n,r,i,s=this,a=s.chart,u=/AppleWebKit\/533/.test(_.navigator.userAgent),l=s.data||[];for(b(s,"destroy"),e||C(s),(s.axisTypes||[]).forEach((function(t){(i=s[t])&&i.series&&(o(i.series,s),i.isDirty=i.forceRedraw=!0)})),s.legendItem&&s.chart.legend.destroyItem(s),n=l.length;n--;)(r=l[n])&&r.destroy&&r.destroy();s.points=null,t.clearTimeout(s.animationTimeout),c(s,(function(t,e){t instanceof E&&!t.survive&&t[u&&"group"===e?"hide":"destroy"]()})),a.hoverSeries===s&&(a.hoverSeries=null),o(a.series,s),a.orderSeries(),c(s,(function(t,n){e&&"hcEvents"===n||delete s[n]}))},getGraphPath:function(t,e,n){var r,o,s=this,a=s.options,u=a.step,l=[],c=[];return(r=(t=t||s.points).reversed)&&t.reverse(),(u={right:1,center:2}[u]||u&&3)&&r&&(u=4-u),!a.connectNulls||e||n||(t=this.getValidPoints(t)),t.forEach((function(r,h){var p=r.plotX,d=r.plotY,f=t[h-1];(r.leftCliff||f&&f.rightCliff)&&!n&&(o=!0),r.isNull&&!i(e)&&0<h?o=!a.connectNulls:r.isNull&&!e?o=!0:(0===h||o?h=["M",r.plotX,r.plotY]:s.getPointSpline?h=s.getPointSpline(t,r,h):u?(h=1===u?["L",f.plotX,d]:2===u?["L",(f.plotX+p)/2,f.plotY,"L",(f.plotX+p)/2,d]:["L",p,f.plotY]).push("L",p,d):h=["L",p,d],c.push(r.x),u&&(c.push(r.x),2===u&&c.push(r.x)),l.push.apply(l,h),o=!1)})),l.xMap=c,s.graphPath=l},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),r=this.chart.styledMode,i=[["graph","highcharts-graph"]];r||i[0].push(e.lineColor||this.color||"#cccccc",e.dashStyle),(i=t.getZonesGraphs(i)).forEach((function(i,o){var s=i[0],a=t[s],u=a?"animate":"attr";a?(a.endX=t.preventGraphAnimation?null:n.xMap,a.animate({d:n})):n.length&&(t[s]=a=t.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(t.group)),a&&!r&&(s={stroke:i[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},i[3]?s.dashstyle=i[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),a[u](s).shadow(2>o&&e.shadow)),a&&(a.startX=n.xMap,a.isArea=n.isArea)}))},getZonesGraphs:function(t){return this.zones.forEach((function(e,n){n=["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(e.className||"")],this.chart.styledMode||n.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(n)}),this),t},applyZones:function(){var t,e,n,r,i,o,s=this,a=this.chart,u=a.renderer,l=this.zones,c=this.clips||[],p=this.graph,d=this.area,f=Math.max(a.chartWidth,a.chartHeight),g=this[(this.zoneAxis||"y")+"Axis"],v=a.inverted,m=!1;if(l.length&&(p||d)&&g&&void 0!==g.min){var y=g.reversed,b=g.horiz;p&&!this.showLine&&p.hide(),d&&d.hide();var w=g.getExtremes();l.forEach((function(l,C){t=y?b?a.plotWidth:0:b?0:g.toPixels(w.min)||0,t=Math.min(Math.max(h(e,t),0),f),e=Math.min(Math.max(Math.round(g.toPixels(h(l.value,w.max),!0)||0),0),f),m&&(t=e=g.toPixels(w.max)),r=Math.abs(t-e),i=Math.min(t,e),o=Math.max(t,e),g.isXAxis?(n={x:v?o:i,y:0,width:r,height:f},b||(n.x=a.plotHeight-n.x)):(n={x:0,y:v?o:i,width:f,height:r},b&&(n.y=a.plotWidth-n.y)),v&&u.isVML&&(n=g.isXAxis?{x:0,y:y?i:o,height:n.width,width:a.chartWidth}:{x:n.y-a.plotLeft-a.spacingBox.x,y:0,width:n.height,height:a.chartHeight}),c[C]?c[C].animate(n):c[C]=u.clipRect(n),p&&s["zone-graph-"+C].clip(c[C]),d&&s["zone-area-"+C].clip(c[C]),m=l.value>w.max,s.resetZones&&0===e&&(e=void 0)})),this.clips=c}else s.visible&&(p&&p.show(!0),d&&d.show(!0))},invertGroups:function(t){function e(){["group","markerGroup"].forEach((function(e){n[e]&&(r.renderer.isVML&&n[e].attr({width:n.yAxis.len,height:n.xAxis.len}),n[e].width=n.yAxis.len,n[e].height=n.xAxis.len,n[e].invert(t))}))}var n=this,r=n.chart;if(n.xAxis){var i=f(r,"resize",e);f(n,"destroy",i),e(),n.invertGroups=e}},plotGroup:function(t,e,n,r,o){var s=this[t],a=!s;return a&&(this[t]=s=this.chart.renderer.g().attr({zIndex:r||.1}).add(o)),s.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(i(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(s.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),s.attr({visibility:n})[a?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t=this,e=t.chart,n=t.options,r=!!t.animate&&e.renderer.isSVG&&g(n.animation).duration,i=t.visible?"inherit":"hidden",o=n.zIndex,s=t.hasRendered,a=e.seriesGroup,u=e.inverted;b(this,"render");var l=t.plotGroup("group","series",i,o,a);t.markerGroup=t.plotGroup("markerGroup","markers",i,o,a),r&&t.animate(!0),l.inverted=!(!t.isCartesian&&!t.invertable)&&u,t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels&&t.drawDataLabels(),t.redrawPoints&&t.redrawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.invertGroups(u),!1===n.clip||t.sharedClipKey||s||l.clip(e.clipRect),r&&t.animate(),s||(t.animationTimeout=d((function(){t.afterAnimate()}),r||0)),t.isDirty=!1,t.hasRendered=!0,b(t,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,r=this.xAxis,i=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:h(r&&r.left,t.plotLeft),translateY:h(i&&i.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,r=this.yAxis,i=this.chart.inverted;return this.searchKDTree({clientX:i?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:i?r.len-t.chartX+r.pos:t.chartY-r.pos},e,t)},buildKDTree:function(t){this.buildingKdTree=!0;var e=this,n=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,d((function(){e.kdTree=function t(n,r,i){var o;if(o=n&&n.length){var s=e.kdAxisArray[r%i];return n.sort((function(t,e){return t[s]-e[s]})),{point:n[o=Math.floor(o/2)],left:t(n.slice(0,o),r+1,i),right:t(n.slice(o+1),r+1,i)}}}(e.getValidPoints(null,!e.directTouch),n,n),e.buildingKdTree=!1}),e.options.kdNow||t&&"touchstart"===t.type?0:1)},searchKDTree:function(t,e,n){var r=this,o=this.kdAxisArray[0],s=this.kdAxisArray[1],a=e?"distX":"dist";if(e=-1<r.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(n),this.kdTree)return function t(e,n,u,l){var c=n.point,h=r.kdAxisArray[u%l],p=c,d=i(e[o])&&i(c[o])?Math.pow(e[o]-c[o],2):null,f=i(e[s])&&i(c[s])?Math.pow(e[s]-c[s],2):null;return f=(d||0)+(f||0),c.dist=i(f)?Math.sqrt(f):Number.MAX_VALUE,c.distX=i(d)?Math.sqrt(d):Number.MAX_VALUE,d=0>(h=e[h]-c[h])?"right":"left",n[f=0>h?"left":"right"]&&(p=(f=t(e,n[f],u+1,l))[a]<p[a]?f:c),n[d]&&Math.sqrt(h*h)<p[a]&&(p=(e=t(e,n[d],u+1,l))[a]<p[a]?e:p),p}(t,this.kdTree,e,e)},pointPlacementToXValue:function(){var t=this.xAxis,e=this.options.pointPlacement;return"between"===e&&(e=t.reversed?-.5:.5),u(e)&&(e*=h(this.options.pointRange||t.pointRange)),e}})})),e(n,"parts/Stacking.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.defined,r=e.destroyObjectProperties,i=e.objectEach,o=e.pick;e=t.Axis;var s=t.Chart,a=t.correctFloat,u=t.format,l=t.Series;t.StackItem=function(t,e,n,r,i){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e=e||{},this.x=r,this.total=null,this.points={},this.stack=i,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(o?n?"right":"left":"center")},t.StackItem.prototype={destroy:function(){r(this,this.axis)},render:function(t){var e=this.axis.chart,n=this.options,r=n.format;r=r?u(r,this,e.time):n.formatter.call(this),this.label?this.label.attr({text:r,visibility:"hidden"}):(this.label=e.renderer.label(r,null,null,n.shape,null,null,n.useHTML,!1,"stack-labels"),r={text:r,align:this.textAlign,rotation:n.rotation,padding:o(n.padding,0),visibility:"hidden"},this.label.attr(r),e.styledMode||this.label.css(n.style),this.label.added||this.label.add(t)),this.label.labelrank=e.plotHeight},setOffset:function(t,e,r,i,s){var a=this.axis,u=a.chart;if(i=a.translate(a.usePercentage?100:i||this.total,0,0,0,1),r=a.translate(r||0),r=n(i)&&Math.abs(i-r),t=o(s,u.xAxis[0].translate(this.x))+t,a=n(i)&&this.getStackBox(u,this,t,i,e,r,a),e=this.label,t=this.isNegative,s="justify"===o(this.options.overflow,"justify"),e&&a){r=e.getBBox();var c=u.inverted?t?r.width:0:r.width/2,h=u.inverted?r.height/2:t?-4:r.height+4;this.alignOptions.x=o(this.options.x,0),e.align(this.alignOptions,null,a),i=e.alignAttr,e.show(),i.y-=h,s&&(i.x-=c,l.prototype.justifyDataLabel.call(this.axis,e,this.alignOptions,i,r,a),i.x+=c),i.x=e.alignAttr.x,e.attr({x:i.x,y:i.y}),o(!s&&this.options.crop,!0)&&((u=u.isInsidePlot(e.x+(u.inverted?0:-r.width/2),e.y)&&u.isInsidePlot(e.x+(u.inverted?t?-r.width:r.width:r.width/2),e.y+r.height))||e.hide())}},getStackBox:function(t,e,n,r,i,o,s){var a=e.axis.reversed,u=t.inverted;return t=s.height+s.pos-(u?t.plotLeft:t.plotTop),e=e.isNegative&&!a||!e.isNegative&&a,{x:u?e?r:r-o:n,y:u?t-n-i:e?t-r-o:t-r,width:u?o:i,height:u?i:o}}},s.prototype.getStacks=function(){var t=this,e=t.inverted;t.yAxis.forEach((function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)})),t.series.forEach((function(n){var r=n.xAxis&&n.xAxis.options||{};!n.options.stacking||!0!==n.visible&&!1!==t.options.chart.ignoreHiddenSeries||(n.stackKey=[n.type,o(n.options.stack,""),e?r.top:r.left,e?r.height:r.width].join())}))},e.prototype.buildStacks=function(){var t,e=this.series,n=o(this.options.reversedStacks,!0),r=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=r;t--;)e[n?t:r-t-1].setStackedPoints();for(t=0;t<r;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,n=this.stacks,r=this.stackTotalGroup;r||(this.stackTotalGroup=r=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(t.plotLeft,t.plotTop),i(n,(function(t){i(t,(function(t){t.render(r)}))}))},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||i(e,(function(e){i(e,(function(n,r){n.touched<t.stacksTouched?(n.destroy(),delete e[r]):(n.total=null,n.cumulative=null)}))}))},e.prototype.cleanStacks=function(){if(!this.isXAxis){if(this.oldStacks)var t=this.stacks=this.oldStacks;i(t,(function(t){i(t,(function(t){t.cumulative=t.total}))}))}},l.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e=this.processedXData,r=this.processedYData,i=[],s=r.length,u=this.options,l=u.threshold,c=o(u.startFromThreshold&&l,0),h=u.stack;u=u.stacking;var p,d,f=this.stackKey,g="-"+f,v=this.negStacks,m=this.yAxis,y=m.stacks,b=m.oldStacks;for(m.stacksTouched+=1,d=0;d<s;d++){var w=e[d],C=r[d],E=this.getStackIndicator(E,w,this.index),_=E.key,O=(p=v&&C<(c?0:l))?g:f;y[O]||(y[O]={}),y[O][w]||(b[O]&&b[O][w]?(y[O][w]=b[O][w],y[O][w].total=null):y[O][w]=new t.StackItem(m,m.options.stackLabels,p,w,h)),O=y[O][w],null!==C?(O.points[_]=O.points[this.index]=[o(O.cumulative,c)],n(O.cumulative)||(O.base=_),O.touched=m.stacksTouched,0<E.index&&!1===this.singleStacks&&(O.points[_][0]=O.points[this.index+","+w+",0"][0])):O.points[_]=O.points[this.index]=null,"percent"===u?(p=p?f:g,v&&y[p]&&y[p][w]?(p=y[p][w],O.total=p.total=Math.max(p.total,O.total)+Math.abs(C)||0):O.total=a(O.total+(Math.abs(C)||0))):O.total=a(O.total+(C||0)),O.cumulative=o(O.cumulative,c)+(C||0),null!==C&&(O.points[_].push(O.cumulative),i[d]=O.cumulative)}"percent"===u&&(m.usePercentage=!0),this.stackedYData=i,m.oldStacks={}}},l.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,r=e.yAxis.stacks,i=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&[n,"-"+n].forEach((function(n){for(var s,a,u=i.length;u--;)s=i[u],t=e.getStackIndicator(t,s,e.index,n),(a=(s=r[n]&&r[n][s])&&s.points[t.key])&&e[o+"Stacker"](a,s,u)}))},l.prototype.percentStacker=function(t,e,n){e=e.total?100/e.total:0,t[0]=a(t[0]*e),t[1]=a(t[1]*e),this.stackedYData[n]=t[1]},l.prototype.getStackIndicator=function(t,e,r,i){return!n(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[r,e,t.index].join(),t}})),e(n,"parts/Dynamics.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.defined,r=e.erase,i=e.extend,o=e.isArray,s=e.isNumber,a=e.isObject,u=e.isString,l=e.objectEach,c=e.pick,h=e.setAnimation,p=e.splat,d=t.addEvent,f=t.animate,g=t.Axis;e=t.Chart;var v=t.createElement,m=t.css,y=t.fireEvent,b=t.merge,w=t.Point,C=t.Series,E=t.seriesTypes;t.cleanRecursively=function(e,n){var r={};return l(e,(function(i,o){a(e[o],!0)&&!e.nodeType&&n[o]?(i=t.cleanRecursively(e[o],n[o]),Object.keys(i).length&&(r[o]=i)):(a(e[o])||e[o]!==n[o])&&(r[o]=e[o])})),r},i(e.prototype,{addSeries:function(t,e,n){var r,i=this;return t&&(e=c(e,!0),y(i,"addSeries",{options:t},(function(){r=i.initSeries(t),i.isDirtyLegend=!0,i.linkSeries(),y(i,"afterAddSeries",{series:r}),e&&i.redraw(n)}))),r},addAxis:function(t,e,n,r){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:n,animation:r})},addColorAxis:function(t,e,n){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:n})},createAxis:function(e,n){var r=this.options,i="colorAxis"===e,o=n.redraw,s=n.animation;n=b(n.axis,{index:this[e].length,isX:"xAxis"===e});var a=i?new t.ColorAxis(this,n):new g(this,n);return r[e]=p(r[e]||{}),r[e].push(n),i&&(this.isDirtyLegend=!0,this.axes.forEach((function(t){t.series=[]})),this.series.forEach((function(t){t.bindAxes(),t.isDirtyData=!0}))),c(o,!0)&&this.redraw(s),a},showLoading:function(t){var e=this,n=e.options,r=e.loadingDiv,o=n.loading,s=function(){r&&m(r,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};r||(e.loadingDiv=r=v("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container),e.loadingSpan=v("span",{className:"highcharts-loading-inner"},null,r),d(e,"redraw",s)),r.className="highcharts-loading",e.loadingSpan.innerHTML=c(t,n.lang.loading,""),e.styledMode||(m(r,i(o.style,{zIndex:10})),m(e.loadingSpan,o.labelStyle),e.loadingShown||(m(r,{opacity:0,display:""}),f(r,{opacity:o.style.opacity||.5},{duration:o.showDuration||0}))),e.loadingShown=!0,s()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||f(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){m(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),collectionsWithUpdate:"xAxis yAxis zAxis colorAxis series pane".split(" "),update:function(e,r,i,o){var a,h,d,f=this,g={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},v=e.isResponsiveOptions,m=[];if(y(f,"update",{options:e}),v||f.setResponsive(!1,!0),e=t.cleanRecursively(e,f.options),b(!0,f.userOptions,e),a=e.chart){if(b(!0,f.options.chart,a),"className"in a&&f.setClassName(a.className),"reflow"in a&&f.setReflow(a.reflow),"inverted"in a||"polar"in a||"type"in a){f.propFromSeries();var w=!0}"alignTicks"in a&&(w=!0),l(a,(function(t,e){-1!==f.propsRequireUpdateSeries.indexOf("chart."+e)&&(h=!0),-1!==f.propsRequireDirtyBox.indexOf(e)&&(f.isDirtyBox=!0),v||-1===f.propsRequireReflow.indexOf(e)||(d=!0)})),!f.styledMode&&"style"in a&&f.renderer.setStyle(a.style)}!f.styledMode&&e.colors&&(this.options.colors=e.colors),e.plotOptions&&b(!0,this.options.plotOptions,e.plotOptions),e.time&&this.time===t.time&&(this.time=new t.Time(e.time)),l(e,(function(t,e){f[e]&&"function"===typeof f[e].update?f[e].update(t,!1):"function"===typeof f[g[e]]&&f[g[e]](t),"chart"!==e&&-1!==f.propsRequireUpdateSeries.indexOf(e)&&(h=!0)})),this.collectionsWithUpdate.forEach((function(t){if(e[t]){if("series"===t){var r=[];f[t].forEach((function(t,e){t.options.isInternal||r.push(c(t.options.index,e))}))}p(e[t]).forEach((function(e,o){(o=n(e.id)&&f.get(e.id)||f[t][r?r[o]:o])&&o.coll===t&&(o.update(e,!1),i&&(o.touched=!0)),!o&&i&&f.collectionsWithInit[t]&&(f.collectionsWithInit[t][0].apply(f,[e].concat(f.collectionsWithInit[t][1]||[]).concat([!1])).touched=!0)})),i&&f[t].forEach((function(t){t.touched||t.options.isInternal?delete t.touched:m.push(t)}))}})),m.forEach((function(t){t.remove&&t.remove(!1)})),w&&f.axes.forEach((function(t){t.update({},!1)})),h&&f.series.forEach((function(t){t.update({},!1)})),e.loading&&b(!0,f.options.loading,e.loading),w=a&&a.width,a=a&&a.height,u(a)&&(a=t.relativeLength(a,w||f.chartWidth)),d||s(w)&&w!==f.chartWidth||s(a)&&a!==f.chartHeight?f.setSize(w,a,o):c(r,!0)&&f.redraw(o),y(f,"afterUpdate",{options:e,redraw:r,animation:o})},setSubtitle:function(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)},setCaption:function(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}}),e.prototype.collectionsWithInit={xAxis:[e.prototype.addAxis,[!0]],yAxis:[e.prototype.addAxis,[!1]],colorAxis:[e.prototype.addColorAxis,[!1]],series:[e.prototype.addSeries]},i(w.prototype,{update:function(t,e,n,r){function i(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),a(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.connector&&(s.connector=s.connector.destroy())),o=s.index,u.updateParallelArrays(s,o),p.data[o]=a(p.data[o],!0)||a(t,!0)?s.options:c(t,p.data[o]),u.isDirty=u.isDirtyData=!0,!u.fixedBox&&u.hasCartesianSeries&&(h.isDirtyBox=!0),"point"===p.legendType&&(h.isDirtyLegend=!0),e&&h.redraw(n)}var o,s=this,u=s.series,l=s.graphic,h=u.chart,p=u.options;e=c(e,!0),!1===r?i():s.firePointEvent("update",{options:t},i)},remove:function(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}}),i(C.prototype,{addPoint:function(t,e,n,r,i){var o=this.options,s=this.data,a=this.chart,u=this.xAxis;u=u&&u.hasNames&&u.names;var l,h=o.data,p=this.xData;e=c(e,!0);var d={series:this};this.pointClass.prototype.applyOptions.apply(d,[t]);var f=d.x,g=p.length;if(this.requireSorting&&f<p[g-1])for(l=!0;g&&p[g-1]>f;)g--;this.updateParallelArrays(d,"splice",g,0,0),this.updateParallelArrays(d,g),u&&d.name&&(u[f]=d.name),h.splice(g,0,t),l&&(this.data.splice(g,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(d,"shift"),h.shift())),!1!==i&&y(this,"addPoint",{point:d}),this.isDirtyData=this.isDirty=!0,e&&a.redraw(r)},removePoint:function(t,e,n){var r=this,i=r.data,o=i[t],s=r.points,a=r.chart,u=function(){s&&s.length===i.length&&s.splice(t,1),i.splice(t,1),r.options.data.splice(t,1),r.updateParallelArrays(o||{series:r},"splice",t,1),o&&o.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&a.redraw()};h(n,a),e=c(e,!0),o?o.firePointEvent("remove",null,u):u()},remove:function(t,e,n,r){function i(){o.destroy(r),o.remove=null,s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(),c(t,!0)&&s.redraw(e)}var o=this,s=o.chart;!1!==n?y(o,"remove",null,i):i()},update:function(e,n){e=t.cleanRecursively(e,this.userOptions),y(this,"update",{options:e});var r,o=this,s=o.chart,a=o.userOptions,u=o.initialType||o.type,l=e.type||a.type||s.options.chart.type,h=!(this.hasDerivedData||e.dataGrouping||l&&l!==this.type||void 0!==e.pointStart||e.pointInterval||e.pointIntervalUnit||e.keys),p=E[u].prototype,d=["group","markerGroup","dataLabelsGroup","transformGroup"],f=["eventOptions","navigatorSeries","baseSeries"],g=o.finishedAnimating&&{animation:!1},v={};for(r in h&&(f.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","_hasPointMarkers","_hasPointLabels","mapMap","mapData","minY","maxY","minX","maxX"),!1!==e.visible&&f.push("area","graph"),o.parallelArrays.forEach((function(t){f.push(t+"Data")})),e.data&&this.setData(e.data,!1)),e=b(a,g,{index:void 0===a.index?o.index:a.index,pointStart:c(a.pointStart,o.xData[0])},!h&&{data:o.options.data},e),h&&e.data&&(e.data=o.options.data),(f=d.concat(f)).forEach((function(t){f[t]=o[t],delete o[t]})),o.remove(!1,null,!1,!0),p)o[r]=void 0;if(E[l||u]?i(o,E[l||u].prototype):t.error(17,!0,s,{missingModuleFor:l||u}),f.forEach((function(t){o[t]=f[t]})),o.init(s,e),h&&this.points){var m=o.options;!1===m.visible?(v.graphic=1,v.dataLabel=1):o._hasPointLabels||(l=m.marker,p=m.dataLabels,l&&(!1===l.enabled||"symbol"in l)&&(v.graphic=1),p&&!1===p.enabled&&(v.dataLabel=1)),this.points.forEach((function(t){t&&t.series&&(t.resolveColor(),Object.keys(v).length&&t.destroyElements(v),!1===m.showInLegend&&t.legendItem&&s.legend.destroyItem(t))}),this)}e.zIndex!==a.zIndex&&d.forEach((function(t){o[t]&&o[t].attr({zIndex:e.zIndex})})),o.initialType=u,s.linkSeries(),y(this,"afterUpdate"),c(n,!0)&&s.redraw(!!h&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),i(g.prototype,{update:function(t,e){var n=this.chart,r=t&&t.events||{};t=b(this.userOptions,t),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=t),l(n.options[this.coll].events,(function(t,e){"undefined"===typeof r[e]&&(r[e]=void 0)})),this.destroy(!0),this.init(n,i(t,{events:r})),n.isDirtyBox=!0,c(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,s=i.length;s--;)i[s]&&i[s].remove(!1);r(e.axes,this),r(e[n],this),o(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],e[n].forEach((function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,c(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})})),e(n,"parts/AreaSeries.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.objectEach,r=e.pick,i=t.color,o=t.Series;(e=t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(t){var e,i=[],o=[],s=this.xAxis,a=this.yAxis,u=a.stacks[this.stackKey],l={},c=this.index,h=a.series,p=h.length,d=r(a.options.reversedStacks,!0)?1:-1;if(t=t||this.points,this.options.stacking){for(e=0;e<t.length;e++)t[e].leftNull=t[e].rightNull=void 0,l[t[e].x]=t[e];n(u,(function(t,e){null!==t.total&&o.push(e)})),o.sort((function(t,e){return t-e}));var f=h.map((function(t){return t.visible}));o.forEach((function(t,n){var r,h,g=0;if(l[t]&&!l[t].isNull)i.push(l[t]),[-1,1].forEach((function(i){var s=1===i?"rightNull":"leftNull",a=0,g=u[o[n+i]];if(g)for(e=c;0<=e&&e<p;)(r=g.points[e])||(e===c?l[t][s]=!0:f[e]&&(h=u[t].points[e])&&(a-=h[1]-h[0])),e+=d;l[t][1===i?"rightCliff":"leftCliff"]=a}));else{for(e=c;0<=e&&e<p;){if(r=u[t].points[e]){g=r[1];break}e+=d}g=a.translate(g,0,1,0,1),i.push({isNull:!0,plotX:s.translate(t,0,0,0,1),x:t,plotY:g,yBottom:g})}}))}return i},getGraphPath:function(t){var e,n=o.prototype.getGraphPath,i=this.options,s=i.stacking,a=this.yAxis,u=[],l=[],c=this.index,h=a.stacks[this.stackKey],p=i.threshold,d=Math.round(a.getThreshold(i.threshold));i=r(i.connectNulls,"percent"===s);var f=function(e,n,r){var i=t[e];e=s&&h[i.x].points[c];var o=i[r+"Null"]||0;if(r=i[r+"Cliff"]||0,i=!0,r||o){var f=(o?e[0]:e[1])+r,g=e[0]+r;i=!!o}else!s&&t[n]&&t[n].isNull&&(f=g=p);void 0!==f&&(l.push({plotX:v,plotY:null===f?d:a.getThreshold(f),isNull:i,isCliff:!0}),u.push({plotX:v,plotY:null===g?d:a.getThreshold(g),doCurve:!1}))};for(t=t||this.points,s&&(t=this.getStackPoints(t)),e=0;e<t.length;e++){s||(t[e].leftCliff=t[e].rightCliff=t[e].leftNull=t[e].rightNull=void 0);var g=t[e].isNull,v=r(t[e].rectPlotX,t[e].plotX),m=r(t[e].yBottom,d);g&&!i||(i||f(e,e-1,"left"),g&&!s&&i||(l.push(t[e]),u.push({x:e,plotX:v,plotY:m})),i||f(e,e+1,"right"))}return e=n.call(this,l,!0,!0),u.reversed=!0,(g=n.call(this,u,!0,!0)).length&&(g[0]="L"),g=e.concat(g),n=n.call(this,l,!1,i),g.xMap=e.xMap,this.areaPath=g,n},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,n=this.options,s=[["area","highcharts-area",this.color,n.fillColor]];this.zones.forEach((function(e,r){s.push(["zone-area-"+r,"highcharts-area highcharts-zone-area-"+r+" "+e.className,e.color||t.color,e.fillColor||n.fillColor])})),s.forEach((function(o){var s=o[0],a=t[s],u=a?"animate":"attr",l={};a?(a.endX=t.preventGraphAnimation?null:e.xMap,a.animate({d:e})):(l.zIndex=0,(a=t[s]=t.chart.renderer.path(e).addClass(o[1]).add(t.group)).isArea=!0),t.chart.styledMode||(l.fill=r(o[3],i(o[2]).setOpacity(r(n.fillOpacity,.75)).get())),a[u](l),a.startX=e.xMap,a.shiftUnit=n.step?2:1}))},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})})),e(n,"parts/SplineSeries.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,e,r){var i=e.plotX,o=e.plotY,s=t[r-1];if(r=t[r+1],s&&!s.isNull&&!1!==s.doCurve&&!e.isCliff&&r&&!r.isNull&&!1!==r.doCurve&&!e.isCliff){t=s.plotY;var a=r.plotX;r=r.plotY;var u=0,l=(1.5*i+s.plotX)/2.5,c=(1.5*o+t)/2.5,h=(1.5*o+r)/2.5;(a=(1.5*i+a)/2.5)!==l&&(u=(h-c)*(a-i)/(a-l)+o-h),h+=u,(c+=u)>t&&c>o?h=2*o-(c=Math.max(t,o)):c<t&&c<o&&(h=2*o-(c=Math.min(t,o))),h>r&&h>o?c=2*o-(h=Math.max(r,o)):h<r&&h<o&&(c=2*o-(h=Math.min(r,o))),e.rightContX=a,e.rightContY=h}return e=["C",n(s.rightContX,s.plotX),n(s.rightContY,s.plotY),n(l,i),n(c,o),i,o],s.rightContX=s.rightContY=null,e}})})),e(n,"parts/AreaSplineSeries.js",[n["parts/Globals.js"]],(function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})})),e(n,"parts/ColumnSeries.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.defined,r=e.extend,i=e.isNumber,o=e.pick,s=t.animObject,a=t.color,u=t.merge,l=t.Series;e=t.seriesType;var c=t.svg;e("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)}))},getColumnMetrics:function(){var t=this,e=t.options,n=t.xAxis,r=t.yAxis,i=n.options.reversedStacks;i=n.reversed&&!i||!n.reversed&&i;var s,a={},u=0;!1===e.grouping?u=1:t.chart.series.forEach((function(e){var n=e.yAxis,i=e.options;if(e.type===t.type&&(e.visible||!t.chart.options.chart.ignoreHiddenSeries)&&r.len===n.len&&r.pos===n.pos){if(i.stacking){s=e.stackKey,void 0===a[s]&&(a[s]=u++);var o=a[s]}else!1!==i.grouping&&(o=u++);e.columnIndex=o}}));var l=Math.min(Math.abs(n.transA)*(n.ordinalSlope||e.pointRange||n.closestPointRange||n.tickInterval||1),n.len),c=l*e.groupPadding,h=(l-2*c)/(u||1);return e=Math.min(e.maxPointWidth||n.len,o(e.pointWidth,h*(1-2*e.pointPadding))),t.columnMetrics={width:e,offset:(h-e)/2+(c+((t.columnIndex||0)+(i?1:0))*h-l/2)*(i?-1:1)},t.columnMetrics},crispCol:function(t,e,n,r){var i=this.chart,o=this.borderWidth,s=-(o%2?.5:0);return o=o%2?.5:1,i.inverted&&i.renderer.isVML&&(o+=1),this.options.crisp&&(n=Math.round(t+n)+s,n-=t=Math.round(t)+s),r=Math.round(e+r)+o,s=.5>=Math.abs(e)&&.5<r,r-=e=Math.round(e)+o,s&&r&&(--e,r+=1),{x:t,y:e,width:n,height:r}},translate:function(){var t=this,e=t.chart,r=t.options,i=t.dense=2>t.closestPointRange*t.xAxis.transA;i=t.borderWidth=o(r.borderWidth,i?0:1);var s=t.yAxis,a=r.threshold,u=t.translatedThreshold=s.getThreshold(a),c=o(r.minPointLength,5),h=t.getColumnMetrics(),p=h.width,d=t.barW=Math.max(p,1+2*i),f=t.pointXOffset=h.offset,g=t.dataMin,v=t.dataMax;e.inverted&&(u-=.5),r.pointPadding&&(d=Math.ceil(d)),l.prototype.translate.apply(t),t.points.forEach((function(r){var i=o(r.yBottom,u),l=999+Math.abs(i),h=p;l=Math.min(Math.max(-l,r.plotY),s.len+l);var m=r.plotX+f,y=d,b=Math.min(l,i),w=Math.max(l,i)-b;if(c&&Math.abs(w)<c){w=c;var C=!s.reversed&&!r.negative||s.reversed&&r.negative;r.y===a&&t.dataMax<=a&&s.min<a&&g!==v&&(C=!C),b=Math.abs(b-u)>c?i-c:u-(C?c:0)}n(r.options.pointWidth)&&(h=y=Math.ceil(r.options.pointWidth),m-=Math.round((h-p)/2)),r.barX=m,r.pointWidth=h,r.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-l,t.xAxis.len-m-y/2,w]:[m+y/2,l+s.pos-e.plotTop,w],r.shapeType=t.pointClass.prototype.shapeType||"rect",r.shapeArgs=t.crispCol.apply(t,r.isNull?[m,u,y,0]:[m,b,y,w])}))},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n=this.options,r=this.pointAttrToOptions||{},i=r.stroke||"borderColor",s=r["stroke-width"]||"borderWidth",l=t&&t.color||this.color,c=t&&t[i]||n[i]||this.color||l,h=t&&t[s]||n[s]||this[s]||0;r=t&&t.options.dashStyle||n.dashStyle;var p=o(n.opacity,1);if(t&&this.zones.length){var d=t.getZone();l=t.options.color||d&&(d.color||t.nonZonedColor)||this.color,d&&(c=d.borderColor||c,r=d.dashStyle||r,h=d.borderWidth||h)}return e&&(e=(t=u(n.states[e],t.options.states&&t.options.states[e]||{})).brightness,l=t.color||void 0!==e&&a(l).brighten(t.brightness).get()||l,c=t[i]||c,h=t[s]||h,r=t.dashStyle||r,p=o(t.opacity,p)),i={fill:l,stroke:c,"stroke-width":h,opacity:p},r&&(i.dashstyle=r),i},drawPoints:function(){var t,e=this,n=this.chart,r=e.options,o=n.renderer,s=r.animationLimit||250;e.points.forEach((function(a){var l=a.graphic,c=l&&n.pointCount<s?"animate":"attr";i(a.plotY)&&null!==a.y?(t=a.shapeArgs,l&&a.hasNewShapeType()&&(l=l.destroy()),l?l[c](u(t)):a.graphic=l=o[a.shapeType](t).add(a.group||e.group),r.borderRadius&&l[c]({r:r.borderRadius}),n.styledMode||l[c](e.pointAttribs(a,a.selected&&"select")).shadow(!1!==a.allowShadow&&r.shadow,null,r.stacking&&!r.borderRadius),l.addClass(a.getClassName(),!0)):l&&(a.graphic=l.destroy())}))},animate:function(t){var e=this,n=this.yAxis,i=e.options,o=this.chart.inverted,a={},u=o?"translateX":"translateY";if(c)if(t)a.scaleY=.001,t=Math.min(n.pos+n.len,Math.max(n.pos,n.toPixels(i.threshold))),o?a.translateX=t-n.len:a.translateY=t,e.clipBox&&e.setClip(),e.group.attr(a);else{var l=e.group.attr(u);e.group.animate({scaleY:1},r(s(e.options.animation),{step:function(t,r){a[u]=l+r.pos*(n.pos-l),e.group.attr(a)}})),e.animate=null}},remove:function(){var t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)})),l.prototype.remove.apply(t,arguments)}})})),e(n,"parts/BarSeries.js",[n["parts/Globals.js"]],(function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})})),e(n,"parts/ScatterSeries.js",[n["parts/Globals.js"]],(function(t){var e=t.Series;(0,t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)},applyJitter:function(){var t=this,e=this.options.jitter,n=this.points.length;e&&this.points.forEach((function(r,i){["x","y"].forEach((function(o,s){var a="plot"+o.toUpperCase();if(e[o]&&!r.isNull){var u=t[o+"Axis"],l=e[o]*u.transA;if(u&&!u.isLog){var c=Math.max(0,r[a]-l);u=Math.min(u.len,r[a]+l),s=1e4*Math.sin(i+s*n),r[a]=c+(u-c)*(s-Math.floor(s)),"x"===o&&(r.clientX=r.plotX)}}}))}))}}),t.addEvent(e,"afterTranslate",(function(){this.applyJitter&&this.applyJitter()}))})),e(n,"mixins/centered-series.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.isNumber,r=e.pick,i=t.deg2rad,o=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t=this.options,e=this.chart,n=2*(t.slicedOffset||0),i=e.plotWidth-2*n;e=e.plotHeight-2*n;var s=t.center;s=[r(s[0],"50%"),r(s[1],"50%"),t.size||"100%",t.innerSize||0];var a,u=Math.min(i,e);for(a=0;4>a;++a){var l=s[a];t=2>a||2===a&&/%$/.test(l),s[a]=o(l,[i,e,u,s[2]][a])+(t?n:0)}return s[3]>s[2]&&(s[3]=s[2]),s},getStartAndEndRadians:function(t,e){return t=n(t)?t:0,e=n(e)&&e>t&&360>e-t?e:t+360,{start:i*(t+-90),end:i*(e+-90)}}}})),e(n,"parts/PieSeries.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.defined,r=e.isNumber,i=e.pick,o=e.setAnimation,s=t.addEvent,a=(e=t.CenteredSeriesMixin).getStartAndEndRadians,u=t.merge,l=t.noop,c=t.Point,h=t.Series,p=t.seriesType,d=t.fireEvent;p("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0,connectorShape:"fixedOffset",crookDistance:"70%"},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,r=e.startAngleRad;t||(n.forEach((function(t){var n=t.graphic,i=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},e.options.animation))})),e.animate=null)},hasData:function(){return!!this.processedXData.length},updateTotals:function(){var t,e=0,n=this.points,r=n.length,i=this.options.ignoreHiddenPoint;for(t=0;t<r;t++){var o=n[t];e+=i&&!o.visible?0:o.isNull?0:o.y}for(this.total=e,t=0;t<r;t++)(o=n[t]).percentage=0<e&&(o.visible||!i)?o.y/e*100:0,o.total=e},generatePoints:function(){h.prototype.generatePoints.call(this),this.updateTotals()},getX:function(t,e,n){var r=this.center,i=this.radii?this.radii[n.index]:r[2]/2;return r[0]+(e?-1:1)*Math.cos(Math.asin(Math.max(Math.min((t-r[1])/(i+n.labelDistance),1),-1)))*(i+n.labelDistance)+(0<n.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)},translate:function(e){this.generatePoints();var n=0,r=this.options,o=r.slicedOffset,s=o+(r.borderWidth||0),u=a(r.startAngle,r.endAngle),l=this.startAngleRad=u.start;u=(this.endAngleRad=u.end)-l;var c=this.points,h=r.dataLabels.distance;r=r.ignoreHiddenPoint;var p,f=c.length;for(e||(this.center=e=this.getCenter()),p=0;p<f;p++){var g=c[p],v=l+n*u;r&&!g.visible||(n+=g.percentage/100);var m=l+n*u;g.shapeType="arc",g.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:Math.round(1e3*v)/1e3,end:Math.round(1e3*m)/1e3},g.labelDistance=i(g.options.dataLabels&&g.options.dataLabels.distance,h),g.labelDistance=t.relativeLength(g.labelDistance,g.shapeArgs.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,g.labelDistance),(m=(m+v)/2)>1.5*Math.PI?m-=2*Math.PI:m<-Math.PI/2&&(m+=2*Math.PI),g.slicedTranslation={translateX:Math.round(Math.cos(m)*o),translateY:Math.round(Math.sin(m)*o)};var y=Math.cos(m)*e[2]/2,b=Math.sin(m)*e[2]/2;g.tooltipPos=[e[0]+.7*y,e[1]+.7*b],g.half=m<-Math.PI/2||m>Math.PI/2?1:0,g.angle=m,v=Math.min(s,g.labelDistance/5),g.labelPosition={natural:{x:e[0]+y+Math.cos(m)*g.labelDistance,y:e[1]+b+Math.sin(m)*g.labelDistance},final:{},alignment:0>g.labelDistance?"center":g.half?"right":"left",connectorPosition:{breakAt:{x:e[0]+y+Math.cos(m)*v,y:e[1]+b+Math.sin(m)*v},touchingSliceAt:{x:e[0]+y,y:e[1]+b}}}}d(this,"afterTranslate")},drawEmpty:function(){var t=this.options;if(0===this.total){var e=this.center[0],n=this.center[1];this.graph||(this.graph=this.chart.renderer.circle(e,n,0).addClass("highcharts-graph").add(this.group)),this.graph.animate({"stroke-width":t.borderWidth,cx:e,cy:n,r:this.center[2]/2,fill:t.fillColor||"none",stroke:t.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},redrawPoints:function(){var t,e,n,r,i=this,o=i.chart,s=o.renderer,a=i.options.shadow;this.drawEmpty(),!a||i.shadowGroup||o.styledMode||(i.shadowGroup=s.g("shadow").attr({zIndex:-1}).add(i.group)),i.points.forEach((function(l){var c={};if(e=l.graphic,!l.isNull&&e){if(r=l.shapeArgs,t=l.getTranslate(),!o.styledMode){var h=l.shadowGroup;a&&!h&&(h=l.shadowGroup=s.g("shadow").add(i.shadowGroup)),h&&h.attr(t),n=i.pointAttribs(l,l.selected&&"select")}l.delayedRendering?(e.setRadialReference(i.center).attr(r).attr(t),o.styledMode||e.attr(n).attr({"stroke-linejoin":"round"}).shadow(a,h),l.delayedRendering=!1):(e.setRadialReference(i.center),o.styledMode||u(!0,c,n),u(!0,c,r,t),e.animate(c)),e.attr({visibility:l.visible?"inherit":"hidden"}),e.addClass(l.getClassName())}else e&&(l.graphic=e.destroy())}))},drawPoints:function(){var t=this.chart.renderer;this.points.forEach((function(e){e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)}))},searchPoint:l,sortByAngle:function(t,e){t.sort((function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e}))},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:e.getCenter,getSymbol:l,drawGraph:null},{init:function(){c.prototype.init.apply(this,arguments);var t=this;t.name=i(t.name,"Slice");var e=function(e){t.slice("select"===e.type)};return s(t,"select",e),s(t,"unselect",e),t},isValid:function(){return r(this.y)&&0<=this.y},setVisible:function(t,e){var n=this,r=n.series,o=r.chart,s=r.options.ignoreHiddenPoint;e=i(e,s),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,r.options.data[r.data.indexOf(n)]=n.options,["graphic","dataLabel","connector","shadowGroup"].forEach((function(e){n[e]&&n[e][t?"show":"hide"](!0)})),n.legendItem&&o.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),s&&(r.isDirty=!0),e&&o.redraw())},slice:function(t,e,r){var s=this.series;o(r,s.chart),i(e,!0),this.sliced=this.options.sliced=n(t)?t:!this.sliced,s.options.data[s.data.indexOf(this)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end})},connectorShapes:{fixedOffset:function(t,e,n){var r=e.breakAt;return e=e.touchingSliceAt,["M",t.x,t.y].concat(n.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*r.x-e.x,2*r.y-e.y,r.x,r.y]:["L",r.x,r.y]).concat(["L",e.x,e.y])},straight:function(t,e){return e=e.touchingSliceAt,["M",t.x,t.y,"L",e.x,e.y]},crookedLine:function(e,n,r){n=n.touchingSliceAt;var i=this.series,o=i.center[0],s=i.chart.plotWidth,a=i.chart.plotLeft;i=e.alignment;var u=this.shapeArgs.r;return r=t.relativeLength(r.crookDistance,1),o=["L",r="left"===i?o+u+(s+a-o-u)*(1-r):a+(o-u)*r,e.y],("left"===i?r>e.x||r<n.x:r<e.x||r>n.x)&&(o=[]),["M",e.x,e.y].concat(o).concat(["L",n.x,n.y])}},getConnectorPath:function(){var t=this.labelPosition,e=this.series.options.dataLabels,n=e.connectorShape,r=this.connectorShapes;return r[n]&&(n=r[n]),n.call(this,{x:t.final.x,y:t.final.y,alignment:t.alignment},t.connectorPosition,e)}})})),e(n,"parts/DataLabels.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.arrayMax,r=e.defined,i=e.extend,o=e.isArray,s=e.objectEach,a=e.pick,u=e.splat,l=t.format,c=t.merge;e=t.noop;var h=t.relativeLength,p=t.Series,d=t.seriesTypes,f=t.stableSort;t.distribute=function(e,n,r){function i(t,e){return t.target-e.target}var o,s=!0,u=e,l=[],c=0,h=u.reducedLen||n;for(o=e.length;o--;)c+=e[o].size;if(c>h){for(f(e,(function(t,e){return(e.rank||0)-(t.rank||0)})),c=o=0;c<=h;)c+=e[o].size,o++;l=e.splice(o-1,e.length)}for(f(e,i),e=e.map((function(t){return{size:t.size,targets:[t.target],align:a(t.align,.5)}}));s;){for(o=e.length;o--;)s=e[o],c=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=Math.min(Math.max(0,c-s.size*s.align),n-s.size);for(o=e.length,s=!1;o--;)0<o&&e[o-1].pos+e[o-1].size>e[o].pos&&(e[o-1].size+=e[o].size,e[o-1].targets=e[o-1].targets.concat(e[o].targets),e[o-1].align=.5,e[o-1].pos+e[o-1].size>n&&(e[o-1].pos=n-e[o-1].size),e.splice(o,1),s=!0)}u.push.apply(u,l),o=0,e.some((function(e){var i=0;if(e.targets.some((function(){if(u[o].pos=e.pos+i,Math.abs(u[o].pos-u[o].target)>r)return u.slice(0,o+1).forEach((function(t){delete t.pos})),u.reducedLen=(u.reducedLen||n)-.1*n,u.reducedLen>.1*n&&t.distribute(u,n,r),!0;i+=u[o].size,o++})))return!0})),f(u,i)},p.prototype.drawDataLabels=function(){function e(t,e){var n,r=[];if(o(t)&&!o(e))r=t.map((function(t){return c(t,e)}));else if(o(e)&&!o(t))r=e.map((function(e){return c(t,e)}));else if(o(t)||o(e))for(n=Math.max(t.length,e.length);n--;)r[n]=c(t[n],e[n]);else r=c(t,e);return r}var n=this,i=n.chart,h=n.options,p=h.dataLabels,d=n.points,f=n.hasRendered||0,g=t.animObject(h.animation).duration,v=Math.min(g,200),m=!i.renderer.forExport&&a(p.defer,0<v),y=i.renderer;if(p=e(e(i.options.plotOptions&&i.options.plotOptions.series&&i.options.plotOptions.series.dataLabels,i.options.plotOptions&&i.options.plotOptions[n.type]&&i.options.plotOptions[n.type].dataLabels),p),t.fireEvent(this,"drawDataLabels"),o(p)||p.enabled||n._hasPointLabels){var b=n.plotGroup("dataLabelsGroup","data-labels",m&&!f?"hidden":"inherit",p.zIndex||6);m&&(b.attr({opacity:+f}),f||setTimeout((function(){var t=n.dataLabelsGroup;t&&(n.visible&&b.show(!0),t[h.animation?"animate":"attr"]({opacity:1},{duration:v}))}),g-v)),d.forEach((function(t){u(e(p,t.dlOptions||t.options&&t.options.dataLabels)).forEach((function(e,o){var u=e.enabled&&(!t.isNull||t.dataLabelOnNull)&&function(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,">"===e&&t>n||"<"===e&&t<n||">="===e&&t>=n||"<="===e&&t<=n||"=="===e&&t==n||"==="===e&&t===n)}(t,e),c=t.dataLabels?t.dataLabels[o]:t.dataLabel,p=t.connectors?t.connectors[o]:t.connector,d=a(e.distance,t.labelDistance),f=!c;if(u){var g=t.getLabelConfig(),v=a(e[t.formatPrefix+"Format"],e.format);g=r(v)?l(v,g,i.time):(e[t.formatPrefix+"Formatter"]||e.formatter).call(g,e),v=e.style;var m=e.rotation;i.styledMode||(v.color=a(e.color,v.color,n.color,"#000000"),"contrast"===v.color&&(t.contrastColor=y.getContrast(t.color||n.color),v.color=!r(d)&&e.inside||0>d||h.stacking?t.contrastColor:"#000000"),h.cursor&&(v.cursor=h.cursor));var w={r:e.borderRadius||0,rotation:m,padding:e.padding,zIndex:1};i.styledMode||(w.fill=e.backgroundColor,w.stroke=e.borderColor,w["stroke-width"]=e.borderWidth),s(w,(function(t,e){void 0===t&&delete w[e]}))}!c||u&&r(g)?u&&r(g)&&(c?w.text=g:(t.dataLabels=t.dataLabels||[],c=t.dataLabels[o]=m?y.text(g,0,-9999).addClass("highcharts-data-label"):y.label(g,0,-9999,e.shape,null,null,e.useHTML,null,"data-label"),o||(t.dataLabel=c),c.addClass(" highcharts-data-label-color-"+t.colorIndex+" "+(e.className||"")+(e.useHTML?" highcharts-tracker":""))),c.options=e,c.attr(w),i.styledMode||c.css(v).shadow(e.shadow),c.added||c.add(b),e.textPath&&!e.useHTML&&c.setTextPath(t.getDataLabelPath&&t.getDataLabelPath(c)||t.graphic,e.textPath),n.alignDataLabel(t,c,e,null,f)):(t.dataLabel=t.dataLabel&&t.dataLabel.destroy(),t.dataLabels&&(1===t.dataLabels.length?delete t.dataLabels:delete t.dataLabels[o]),o||delete t.dataLabel,p&&(t.connector=t.connector.destroy(),t.connectors&&(1===t.connectors.length?delete t.connectors:delete t.connectors[o])))}))}))}t.fireEvent(this,"afterDrawDataLabels")},p.prototype.alignDataLabel=function(t,e,n,r,o){var s=this.chart,u=this.isCartesian&&s.inverted,l=a(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),c=a(t.plotY,-9999),h=e.getBBox(),p=n.rotation,d=n.align,f=this.visible&&(t.series.forceDL||s.isInsidePlot(l,Math.round(c),u)||r&&s.isInsidePlot(l,u?r.x+1:r.y+r.height-1,u)),g="justify"===a(n.overflow,"justify");if(f){var v=s.renderer.fontMetrics(s.styledMode?void 0:n.style.fontSize,e).b;r=i({x:u?this.yAxis.len-c:l,y:Math.round(u?this.xAxis.len-l:c),width:0,height:0},r),i(n,{width:h.width,height:h.height}),p?(g=!1,l=s.renderer.rotCorr(v,p),l={x:r.x+n.x+r.width/2+l.x,y:r.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*r.height},e[o?"attr":"animate"](l).attr({align:d}),c=180<(c=(p+720)%360)&&360>c,"left"===d?l.y-=c?h.height:0:"center"===d?(l.x-=h.width/2,l.y-=h.height/2):"right"===d&&(l.x-=h.width,l.y-=c?0:h.height),e.placed=!0,e.alignAttr=l):(e.align(n,null,r),l=e.alignAttr),g&&0<=r.height?this.justifyDataLabel(e,n,l,h,r,o):a(n.crop,!0)&&(f=s.isInsidePlot(l.x,l.y)&&s.isInsidePlot(l.x+h.width,l.y+h.height)),n.shape&&!p&&e[o?"attr":"animate"]({anchorX:u?s.plotWidth-t.plotY:t.plotX,anchorY:u?s.plotHeight-t.plotX:t.plotY})}f||(e.hide(!0),e.placed=!1)},p.prototype.justifyDataLabel=function(t,e,n,r,i,o){var s=this.chart,a=e.align,u=e.verticalAlign,l=t.box?0:t.padding||0,c=n.x+l;if(0>c){"right"===a?(e.align="left",e.inside=!0):e.x=-c;var h=!0}return(c=n.x+r.width-l)>s.plotWidth&&("left"===a?(e.align="right",e.inside=!0):e.x=s.plotWidth-c,h=!0),0>(c=n.y+l)&&("bottom"===u?(e.verticalAlign="top",e.inside=!0):e.y=-c,h=!0),(c=n.y+r.height-l)>s.plotHeight&&("top"===u?(e.verticalAlign="bottom",e.inside=!0):e.y=s.plotHeight-c,h=!0),h&&(t.placed=!o,t.align(e,null,i)),h},d.pie&&(d.pie.prototype.dataLabelPositioners={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,n,r){return t.getX(n<e.top+2||n>e.bottom-2?r:n,e.half,e)},justify:function(t,e,n){return n[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,n,r){return t=t.getBBox().width,e?t+r:n-t-r},alignToConnectors:function(t,e,n,r){var i,o=0;return t.forEach((function(t){(i=t.dataLabel.getBBox().width)>o&&(o=i)})),e?o+r:n-o-r}},d.pie.prototype.drawDataLabels=function(){var e,i,o,s,u,l,h,d,f,g,v,m,y=this,b=y.data,w=y.chart,C=y.options.dataLabels,E=C.connectorPadding,_=w.plotWidth,O=w.plotHeight,T=w.plotLeft,S=Math.round(w.chartWidth/3),R=y.center,P=R[2]/2,x=R[1],A=[[],[]],D=[0,0,0,0],I=y.dataLabelPositioners;y.visible&&(C.enabled||y._hasPointLabels)&&(b.forEach((function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),p.prototype.drawDataLabels.apply(y),b.forEach((function(t){t.dataLabel&&(t.visible?(A[t.half].push(t),t.dataLabel._pos=null,!r(C.style.width)&&!r(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>S&&(t.dataLabel.css({width:.7*S}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))})),A.forEach((function(n,i){var o,c=n.length,p=[];if(c){if(y.sortByAngle(n,i-.5),0<y.maxLabelDistance){var m=Math.max(0,x-P-y.maxLabelDistance),b=Math.min(x+P+y.maxLabelDistance,w.plotHeight);n.forEach((function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,x-P-t.labelDistance),t.bottom=Math.min(x+P+t.labelDistance,w.plotHeight),o=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+o/2,size:o,rank:t.y},p.push(t.distributeBox))})),m=b+o-m,t.distribute(p,m,m/5)}for(v=0;v<c;v++){if(e=n[v],l=e.labelPosition,s=e.dataLabel,g=!1===e.visible?"hidden":"inherit",f=m=l.natural.y,p&&r(e.distributeBox)&&(void 0===e.distributeBox.pos?g="hidden":(h=e.distributeBox.size,f=I.radialDistributionY(e))),delete e.positionIndex,C.justify)d=I.justify(e,P,R);else switch(C.alignTo){case"connectors":d=I.alignToConnectors(n,i,_,T);break;case"plotEdges":d=I.alignToPlotEdges(s,i,_,T);break;default:d=I.radialDistributionX(y,e,f,m)}s._attr={visibility:g,align:l.alignment},s._pos={x:d+C.x+({left:E,right:-E}[l.alignment]||0),y:f+C.y-10},l.final.x=d,l.final.y=f,a(C.crop,!0)&&(u=s.getBBox().width,m=null,d-u<E&&1===i?(m=Math.round(u-d+E),D[3]=Math.max(m,D[3])):d+u>_-E&&0===i&&(m=Math.round(d+u-_+E),D[1]=Math.max(m,D[1])),0>f-h/2?D[0]=Math.max(Math.round(h/2-f),D[0]):f+h/2>O&&(D[2]=Math.max(Math.round(f+h/2-O),D[2])),s.sideOverflow=m)}}})),0===n(D)||this.verifyDataLabelOverflow(D))&&(this.placeDataLabels(),this.points.forEach((function(t){var e;(m=c(C,t.options.dataLabels),i=a(m.connectorWidth,1))&&(o=t.connector,(s=t.dataLabel)&&s._pos&&t.visible&&0<t.labelDistance?(g=s._attr.visibility,(e=!o)&&(t.connector=o=w.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(y.dataLabelsGroup),w.styledMode||o.attr({"stroke-width":i,stroke:m.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:t.getConnectorPath()}),o.attr("visibility",g)):o&&(t.connector=o.destroy()))})))},d.pie.prototype.placeDataLabels=function(){this.points.forEach((function(t){var e,n=t.dataLabel;n&&t.visible&&((e=n._pos)?(n.sideOverflow&&(n._attr.width=Math.max(n.getBBox().width-n.sideOverflow,0),n.css({width:n._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),n.shortened=!0),n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-9999})),delete t.distributeBox}),this)},d.pie.prototype.alignDataLabel=e,d.pie.prototype.verifyDataLabelOverflow=function(t){var e=this.center,n=this.options,r=n.center,i=n.minSize||80,o=null!==n.size;if(!o){if(null!==r[0])var s=Math.max(e[2]-Math.max(t[1],t[3]),i);else s=Math.max(e[2]-t[1]-t[3],i),e[0]+=(t[3]-t[1])/2;null!==r[1]?s=Math.max(Math.min(s,e[2]-Math.max(t[0],t[2])),i):(s=Math.max(Math.min(s,e[2]-t[0]-t[2]),i),e[1]+=(t[0]-t[2])/2),s<e[2]?(e[2]=s,e[3]=Math.min(h(n.innerSize||0,s),s),this.translate(e),this.drawDataLabels&&this.drawDataLabels()):o=!0}return o}),d.column&&(d.column.prototype.alignDataLabel=function(t,e,n,r,i){var o=this.chart.inverted,s=t.series,u=t.dlBox||t.shapeArgs,l=a(t.below,t.plotY>a(this.translatedThreshold,s.yAxis.len)),h=a(n.inside,!!this.options.stacking);u&&(0>(r=c(u)).y&&(r.height+=r.y,r.y=0),0<(u=r.y+r.height-s.yAxis.len)&&(r.height-=u),o&&(r={x:s.yAxis.len-r.y-r.height,y:s.xAxis.len-r.x-r.width,width:r.height,height:r.width}),h||(o?(r.x+=l?0:r.width,r.width=0):(r.y+=l?r.height:0,r.height=0))),n.align=a(n.align,!o||h?"center":l?"right":"left"),n.verticalAlign=a(n.verticalAlign,o||h?"middle":l?"top":"bottom"),p.prototype.alignDataLabel.call(this,t,e,n,r,i),n.inside&&t.contrastColor&&e.css({color:t.contrastColor})})})),e(n,"modules/overlapping-datalabels.src.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.isArray,r=e.objectEach,i=e.pick;e=t.Chart;var o=t.addEvent,s=t.fireEvent;o(e,"render",(function(){var t=[];(this.labelCollectors||[]).forEach((function(e){t=t.concat(e())})),(this.yAxis||[]).forEach((function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&r(e.stacks,(function(e){r(e,(function(e){t.push(e.label)}))}))})),(this.series||[]).forEach((function(e){var r=e.options.dataLabels;e.visible&&(!1!==r.enabled||e._hasPointLabels)&&e.points.forEach((function(e){e.visible&&(n(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[]).forEach((function(n){var r=n.options;n.labelrank=i(r.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),r.allowOverlap||t.push(n)}))}))})),this.hideOverlappingLabels(t)})),e.prototype.hideOverlappingLabels=function(t){var e,n,r,i=this,o=t.length,a=i.renderer,u=function(t){var e=t.box?0:t.padding||0,n=0;if(t&&(!t.alignAttr||t.placed)){var r=t.attr("x"),i=t.attr("y");return r="number"===typeof r&&"number"===typeof i?{x:r,y:i}:t.alignAttr,i=t.parentGroup,t.width||(n=t.getBBox(),t.width=n.width,t.height=n.height,n=a.fontMetrics(null,t.element).h),{x:r.x+(i.translateX||0)+e,y:r.y+(i.translateY||0)+e-n,width:t.width-2*e,height:t.height-2*e}}};for(n=0;n<o;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=u(e));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),n=0;n<o;n++){var l=(u=t[n])&&u.absoluteBox;for(e=n+1;e<o;++e){var c=(r=t[e])&&r.absoluteBox;!l||!c||u===r||0===u.newOpacity||0===r.newOpacity||c.x>l.x+l.width||c.x+c.width<l.x||c.y>l.y+l.height||c.y+c.height<l.y||((u.labelrank<r.labelrank?u:r).newOpacity=0)}}t.forEach((function(t){var e;if(t){var n=t.newOpacity;t.oldOpacity!==n&&(t.alignAttr&&t.placed?(n?t.show(!0):e=function(){t.hide(!0),t.placed=!1},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e),s(i,"afterHideOverlappingLabels")):t.attr({opacity:n})),t.isOld=!0}}))}})),e(n,"parts/Interaction.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.defined,r=e.extend,i=e.isArray,o=e.isObject,s=e.objectEach,a=e.pick,u=t.addEvent;e=t.Chart;var l=t.createElement,c=t.css,h=t.defaultOptions,p=t.defaultPlotOptions,d=t.fireEvent,f=t.hasTouch,g=t.Legend,v=t.merge,m=t.Point,y=t.Series,b=t.seriesTypes,w=t.svg,C=t.TrackerMixin={drawTrackerPoint:function(){var t,e=this,n=e.chart,r=n.pointer,o=function(t){var e=r.getPointFromEvent(t);void 0!==e&&(r.isDirectTouch=!0,e.onMouseOver(t))};e.points.forEach((function(e){t=i(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),t.forEach((function(t){t.div?t.div.point=e:t.element.point=e}))})),e._hasTracking||(e.trackerGroups.forEach((function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",(function(t){r.onTrackerMouseOut(t)})),f&&e[t].on("touchstart",o),!n.styledMode&&e.options.cursor&&e[t].css(c).css({cursor:e.options.cursor}))})),e._hasTracking=!0),d(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,n=e.options,r=n.trackByArea,i=[].concat(r?e.areaPath:e.graphPath),o=i.length,s=e.chart,a=s.pointer,u=s.renderer,l=s.options.tooltip.snap,c=e.tracker,h=function(){s.hoverSeries!==e&&e.onMouseOver()},p="rgba(192,192,192,"+(w?1e-4:.002)+")";if(o&&!r)for(t=o+1;t--;)"M"===i[t]&&i.splice(t+1,0,i[t+1]-l,i[t+2],"L"),(t&&"M"===i[t]||t===o)&&i.splice(t,0,"L",i[t-2]+l,i[t-1]);c?c.attr({d:i}):e.graph&&(e.tracker=u.path(i).attr({visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(r?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),s.styledMode||e.tracker.attr({"stroke-linejoin":"round",stroke:p,fill:r?p:"none","stroke-width":e.graph.strokeWidth()+(r?0:2*l)}),[e.tracker,e.markerGroup].forEach((function(t){t.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",(function(t){a.onTrackerMouseOut(t)})),n.cursor&&!s.styledMode&&t.css({cursor:n.cursor}),f&&t.on("touchstart",h)}))),d(this,"afterDrawTracker")}};b.column&&(b.column.prototype.drawTracker=C.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=C.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=C.drawTrackerPoint),r(g.prototype,{setItemEvents:function(t,e,n){var r=this,i=r.chart.renderer.boxWrapper,o=t instanceof m,s="highcharts-legend-"+(o?"point":"series")+"-active",a=r.chart.styledMode;(n?e:t.legendGroup).on("mouseover",(function(){t.visible&&r.allItems.forEach((function(e){t!==e&&e.setState("inactive",!o)})),t.setState("hover"),t.visible&&i.addClass(s),a||e.css(r.options.itemHoverStyle)})).on("mouseout",(function(){r.chart.styledMode||e.css(v(t.visible?r.itemStyle:r.itemHiddenStyle)),r.allItems.forEach((function(e){t!==e&&e.setState("",!o)})),i.removeClass(s),t.setState()})).on("click",(function(e){var n=function(){t.setVisible&&t.setVisible(),r.allItems.forEach((function(e){t!==e&&e.setState(t.visible?"inactive":"",!o)}))};i.removeClass(s),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):d(t,"legendItemClick",e,n)}))},createCheckboxForItem:function(t){t.checkbox=l("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),u(t.checkbox,"click",(function(e){d(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}),r(e.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=h.lang,r=e.options.chart.resetZoomButton,i=r.theme,o=i.states,s="chart"===r.relativeTo||"spaceBox"===r.relativeTo?null:"plotBox";d(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,i,o&&o.hover).attr({align:r.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(r.position,!1,s)})),d(this,"afterShowResetZoom")},zoomOut:function(){d(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,r=this,i=r.pointer,s=!1,u=r.inverted?i.mouseDownX:i.mouseDownY;!t||t.resetSelection?(r.axes.forEach((function(t){e=t.zoom()})),i.initiated=!1):t.xAxis.concat(t.yAxis).forEach((function(t){var o=t.axis,a=r.inverted?o.left:o.top,l=r.inverted?a+o.width:a+o.height,c=o.isXAxis,h=!1;(!c&&u>=a&&u<=l||c||!n(u))&&(h=!0),i[c?"zoomX":"zoomY"]&&h&&(e=o.zoom(t.min,t.max),o.displayBtn&&(s=!0))}));var l=r.resetZoomButton;s&&!l?r.showResetZoom():!s&&o(l)&&(r.resetZoomButton=l.destroy()),e&&r.redraw(a(r.options.chart.animation,t&&t.animation,100>r.pointCount))},pan:function(t,e){var n,r=this,i=r.hoverPoints;d(this,"pan",{originalEvent:t},(function(){i&&i.forEach((function(t){t.setState()})),("xy"===e?[1,0]:[1]).forEach((function(e){var i=(e=r[e?"xAxis":"yAxis"][0]).horiz,o=t[i?"chartX":"chartY"],s=r[i=i?"mouseDownX":"mouseDownY"],a=(e.pointRange||0)/2,u=e.reversed&&!r.inverted||!e.reversed&&r.inverted?-1:1,l=e.getExtremes(),c=e.toValue(s-o,!0)+a*u,h=(u=e.toValue(s+e.len-o,!0)-a*u)<c;s=h?u:c,c=h?c:u,0<(h=(u=Math.min(l.dataMin,a?l.min:e.toValue(e.toPixels(l.min)-e.minPixelPadding)))-s)&&(c+=h,s=u),0<(h=c-(a=Math.max(l.dataMax,a?l.max:e.toValue(e.toPixels(l.max)+e.minPixelPadding))))&&(c=a,s-=h),e.series.length&&s!==l.min&&c!==l.max&&(e.setExtremes(s,c,!1,!1,{trigger:"pan"}),n=!0),r[i]=o})),n&&r.redraw(!1),c(r.container,{cursor:"move"})}))}}),r(m.prototype,{select:function(t,e){var n=this,r=n.series,i=r.chart;this.selectedStaging=t=a(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){n.selected=n.options.selected=t,r.options.data[r.data.indexOf(n)]=n.options,n.setState(t&&"select"),e||i.getSelectedPoints().forEach((function(t){var e=t.series;t.selected&&t!==n&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(i.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))}))})),delete this.selectedStaging},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach((function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,n=v(e.series.options.point,e.options).events;e.events=n,s(n,(function(n,r){t.isFunction(n)&&u(e,r,n)})),this.hasImportedEvents=!0}},setState:function(t,e){var n,i=this.series,o=this.state,s=i.options.states[t||"normal"]||{},u=p[i.type].marker&&i.options.marker,l=u&&!1===u.enabled,c=u&&u.states&&u.states[t||"normal"]||{},h=!1===c.enabled,f=i.stateMarkerGraphic,g=this.marker||{},v=i.chart,m=i.halo,y=u&&i.markerAttribs;if(!((t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===s.enabled||t&&(h||l&&!1===c.enabled)||t&&g.states&&g.states[t]&&!1===g.states[t].enabled)){if(this.state=t,y&&(n=i.markerAttribs(this,t)),this.graphic){if(o&&this.graphic.removeClass("highcharts-point-"+o),t&&this.graphic.addClass("highcharts-point-"+t),!v.styledMode){var b=i.pointAttribs(this,t),w=a(v.options.chart.animation,s.animation);i.options.inactiveOtherPoints&&((this.dataLabels||[]).forEach((function(t){t&&t.animate({opacity:b.opacity},w)})),this.connector&&this.connector.animate({opacity:b.opacity},w)),this.graphic.animate(b,w)}n&&this.graphic.animate(n,a(v.options.chart.animation,c.animation,u.animation)),f&&f.hide()}else t&&c&&(o=g.symbol||i.symbol,f&&f.currentSymbol!==o&&(f=f.destroy()),n&&(f?f[e?"animate":"attr"]({x:n.x,y:n.y}):o&&(i.stateMarkerGraphic=f=v.renderer.symbol(o,n.x,n.y,n.width,n.height).add(i.markerGroup),f.currentSymbol=o)),!v.styledMode&&f&&f.attr(i.pointAttribs(this,t))),f&&(f[t&&this.isInside?"show":"hide"](),f.element.point=this);t=s.halo,s=(f=this.graphic||f)&&f.visibility||"inherit",t&&t.size&&f&&"hidden"!==s?(m||(i.halo=m=v.renderer.path().add(f.parentGroup)),m.show()[e?"animate":"attr"]({d:this.haloPath(t.size)}),m.attr({class:"highcharts-halo highcharts-color-"+a(this.colorIndex,i.colorIndex)+(this.className?" "+this.className:""),visibility:s,zIndex:-1}),m.point=this,v.styledMode||m.attr(r({fill:this.color||i.color,"fill-opacity":t.opacity},t.attributes))):m&&m.point&&m.point.haloPath&&m.animate({d:m.point.haloPath(0)},null,m.hide),d(this,"afterSetState")}},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),r(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&d(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,r=e.hoverPoint;e.hoverSeries=null,r&&r.onMouseOut(),this&&t.events.mouseOut&&d(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),e.series.forEach((function(t){t.setState("",!0)}))},setState:function(t,e){var n=this,r=n.options,i=n.graph,o=r.inactiveOtherPoints,s=r.states,u=r.lineWidth,l=r.opacity,c=a(s[t||"normal"]&&s[t||"normal"].animation,n.chart.options.chart.animation);if(r=0,t=t||"",n.state!==t&&([n.group,n.markerGroup,n.dataLabelsGroup].forEach((function(e){e&&(n.state&&e.removeClass("highcharts-series-"+n.state),t&&e.addClass("highcharts-series-"+t))})),n.state=t,!n.chart.styledMode)){if(s[t]&&!1===s[t].enabled)return;if(t&&(u=s[t].lineWidth||u+(s[t].lineWidthPlus||0),l=a(s[t].opacity,l)),i&&!i.dashstyle)for(s={"stroke-width":u},i.animate(s,c);n["zone-graph-"+r];)n["zone-graph-"+r].attr(s),r+=1;o||[n.group,n.markerGroup,n.dataLabelsGroup,n.labelBySeries].forEach((function(t){t&&t.animate({opacity:l},c)}))}e&&o&&n.points&&n.setAllPointsToState(t)},setAllPointsToState:function(t){this.points.forEach((function(e){e.setState&&e.setState(t)}))},setVisible:function(t,e){var n=this,r=n.chart,i=n.legendItem,o=r.options.chart.ignoreHiddenSeries,s=n.visible,a=(n.visible=t=n.options.visible=n.userOptions.visible=void 0===t?!s:t)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((function(t){n[t]&&n[t][a]()})),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),i&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&r.series.forEach((function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),n.linkedSeries.forEach((function(e){e.setVisible(t,!1)})),o&&(r.isDirtyBox=!0),d(n,a),!1!==e&&r.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=this.options.selected=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),d(this,t?"select":"unselect")},drawTracker:C.drawTrackerGraph})})),e(n,"parts/Responsive.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.isArray,r=e.isObject,i=e.objectEach,o=e.pick,s=e.splat;(e=t.Chart).prototype.setResponsive=function(e,n){var r=this.options.responsive,i=[],o=this.currentResponsive;!n&&r&&r.rules&&r.rules.forEach((function(e){void 0===e._id&&(e._id=t.uniqueKey()),this.matchResponsiveRule(e,i)}),this),(n=t.merge.apply(0,i.map((function(e){return t.find(r.rules,(function(t){return t._id===e})).chartOptions})))).isResponsiveOptions=!0,(i=i.toString()||void 0)!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e,!0),i?((o=this.currentOptions(n)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:i,mergedOptions:n,undoOptions:o},this.update(n,e,!0)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=o(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=o(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=o(n.minWidth,0)&&this.chartHeight>=o(n.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(t){var e=this,o={};return function t(o,a,u,l){var c;i(o,(function(i,o){if(!l&&-1<e.collectionsWithUpdate.indexOf(o))for(i=s(i),u[o]=[],c=0;c<i.length;c++)a[o][c]&&(u[o][c]={},t(i[c],a[o][c],u[o][c],l+1));else r(i)?(u[o]=n(i)?[]:{},t(i,a[o]||{},u[o],l+1)):u[o]=void 0===a[o]?null:a[o]}))}(t,this.options,o,0),o}})),e(n,"masters/highcharts.src.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){return(0,e.extend)(t,{arrayMax:e.arrayMax,arrayMin:e.arrayMin,attr:e.attr,defined:e.defined,erase:e.erase,extend:e.extend,isArray:e.isArray,isClass:e.isClass,isDOMElement:e.isDOMElement,isNumber:e.isNumber,isObject:e.isObject,isString:e.isString,objectEach:e.objectEach,pick:e.pick,pInt:e.pInt,setAnimation:e.setAnimation,splat:e.splat,syncTimeout:e.syncTimeout}),t})),n["masters/highcharts.src.js"]._modules=n,n["masters/highcharts.src.js"]}))},function(t,e,n){"use strict";var r=n(10),i=n(1),o=n(12),s=n(16),a=n(73),u=n(48),l=n(8),c=n(49),h=n(21),p=n(7),d=n(5),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},v=function(t){function e(e,n){var r=t.call(this)||this;r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.cbSelectAll=e,r.column=n;var i=n.getColDef();return r.filteredOnly=!!i&&!!i.headerCheckboxSelectionFilteredOnly,r}return f(e,t),e.prototype.postConstruct=function(){this.showOrHideSelectAll(),this.addDestroyableEventListener(this.eventService,p.a.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addDestroyableEventListener(this.eventService,p.a.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addDestroyableEventListener(this.eventService,p.a.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addDestroyableEventListener(this.cbSelectAll,c.a.EVENT_CHANGED,this.onCbSelectAll.bind(this))},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox())},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.getNextCheckboxState=function(t){return(0!==t.selected||0!==t.notSelected)&&(t.selected>0&&t.notSelected>0?null:t.selected>0)},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.getSelectionCount(),e=this.getNextCheckboxState(t);this.cbSelectAll.setValue(e),this.processingEventFromCheckbox=!1}},e.prototype.getSelectionCount=function(){var t=this,e=0,n=0,r=function(r){t.gridOptionsWrapper.isGroupSelectsChildren()&&r.group||(r.isSelected()?e++:r.selectable&&n++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(r):this.gridApi.forEachNode(r),{notSelected:n,selected:e}},e.prototype.checkRightRowModelType=function(){var t=this.rowModel.getType();t===d.a.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("ag-Grid: selectAllCheckbox is only available if using normal row model, you are using "+t)},e.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionController.selectAllRowNodes(this.filteredOnly):this.selectionController.deselectAllRowNodes(this.filteredOnly))},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;"function"===typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi}));return!!t&&(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),!1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),!1):!this.gridOptionsWrapper.isRowModelViewport()||(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),!1))},g([Object(i.a)("gridApi")],e.prototype,"gridApi",void 0),g([Object(i.a)("columnApi")],e.prototype,"columnApi",void 0),g([Object(i.a)("eventService")],e.prototype,"eventService",void 0),g([Object(i.a)("rowModel")],e.prototype,"rowModel",void 0),g([Object(i.a)("selectionController")],e.prototype,"selectionController",void 0),g([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),g([i.e],e.prototype,"postConstruct",null),e}(h.a),m=n(81),y=n(32),b=n(0);n.d(e,"a",(function(){return E}));var w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},E=function(t){function e(n,r,i){var o=t.call(this,e.TEMPLATE)||this;return o.column=n,o.dragSourceDropTarget=r,o.pinned=i,o}return w(e,t),e.prototype.getColumn=function(){return this.column},e.prototype.getComponentHolder=function(){return this.column.getColDef()},e.prototype.init=function(){var t=this.getComponentHolder(),e=this.columnController.getDisplayNameForColumn(this.column,"header",!0),n=t.sortable,r=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu;this.appendHeaderComp(e,n,r),this.setupWidth(),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMenuClass(),this.setupSortableClass(n),this.addColumnHoverListener(),this.addFeature(new m.a([this.column],this.getGui())),this.addDestroyableEventListener(this.column,o.a.EVENT_FILTER_ACTIVE_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged(),this.addFeature(new v(this.cbSelectAll,this.column));var i=new u.a(this.column,this.getGui(),this.beans);i.init(),this.addDestroyFunc(i.destroy.bind(i)),this.addAttributes(),a.a.addHeaderClassesFromColDef(t,this.getGui(),this.gridOptionsWrapper,this.column,null)},e.prototype.addColumnHoverListener=function(){this.addDestroyableEventListener(this.eventService,p.a.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},e.prototype.onColumnHover=function(){var t=this.columnHoverService.isHovered(this.column);b.e.addOrRemoveCssClass(this.getGui(),"ag-column-hover",t)},e.prototype.setupSortableClass=function(t){if(t){var e=this.getGui();b.e.addCssClass(e,"ag-header-cell-sortable")}},e.prototype.onFilterChanged=function(){var t=this.column.isFilterActive();b.e.addOrRemoveCssClass(this.getGui(),"ag-header-cell-filtered",t)},e.prototype.appendHeaderComp=function(t,e,n){var r=this,i={column:this.column,displayName:t,enableSorting:e,enableMenu:n,showColumnMenu:function(t){r.gridApi.showColumnMenuAfterButtonClick(r.column,t)},progressSort:function(t){r.sortController.progressSort(r.column,!!t,"uiColumnSorted")},setSort:function(t,e){r.sortController.setSortForColumn(r.column,t,!!e,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},o=this.afterHeaderCompCreated.bind(this,t);this.userComponentFactory.newHeaderComponent(i).then(o)},e.prototype.afterHeaderCompCreated=function(t,e){this.appendChild(e),this.setupMove(e.getGui(),t)},e.prototype.onColumnMovingChanged=function(){this.column.isMoving()?b.e.addCssClass(this.getGui(),"ag-header-cell-moving"):b.e.removeCssClass(this.getGui(),"ag-header-cell-moving")},e.prototype.setupMove=function(t,e){var n=this;if(!(this.gridOptionsWrapper.isSuppressMovableColumns()||this.getComponentHolder().suppressMovable||this.column.getColDef().lockPosition)&&t){var r={type:s.b.HeaderCell,eElement:t,getDragItem:function(){return n.createDragItem()},dragItemName:e,dragSourceDropTarget:this.dragSourceDropTarget,onDragStarted:function(){return n.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return n.column.setMoving(!1,"uiColumnMoved")}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc((function(){return n.dragAndDropService.removeDragSource(r)}))}},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.setupResize=function(){var t=this,e=this.getComponentHolder();if(this.eResize)if(this.column.isResizable()){var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(n);var r=!this.gridOptionsWrapper.isSuppressAutoSize()&&!e.suppressAutoSize,i=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();if(r){this.addDestroyableEventListener(this.eResize,"dblclick",(function(){t.columnController.autoSizeColumn(t.column,i,"uiColumnResized")}));var o=new y.a(this.eResize);this.addDestroyableEventListener(o,y.a.EVENT_DOUBLE_TAP,(function(){t.columnController.autoSizeColumn(t.column,i,"uiColumnResized")})),this.addDestroyFunc(o.destroy.bind(o))}}else b.e.removeFromParent(this.eResize)},e.prototype.onResizing=function(t,e){var n=this.normaliseResizeAmount(e),r=this.resizeStartWidth+n;this.columnController.setColumnWidth(this.column,r,this.resizeWithShiftKey,t,"uiColumnDragged"),t&&b.e.removeCssClass(this.getGui(),"ag-column-resizing")},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,b.e.addCssClass(this.getGui(),"ag-column-resizing")},e.prototype.getTooltipText=function(){return this.getComponentHolder().headerTooltip},e.prototype.setupTooltip=function(){var t=this.getTooltipText();null!=t&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",t):this.beans.tooltipManager.registerTooltip(this))},e.prototype.setupMovingCss=function(){this.addDestroyableEventListener(this.column,o.a.EVENT_MOVING_CHANGED,this.onColumnMovingChanged.bind(this)),this.onColumnMovingChanged()},e.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getColId())},e.prototype.setupWidth=function(){this.addDestroyableEventListener(this.column,o.a.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},e.prototype.setupMenuClass=function(){this.addDestroyableEventListener(this.column,o.a.EVENT_MENU_VISIBLE_CHANGED,this.onMenuVisible.bind(this)),this.onColumnWidthChanged()},e.prototype.onMenuVisible=function(){this.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())},e.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},e.prototype.normaliseResizeAmount=function(t){var e=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==d.a.PINNED_LEFT&&(e*=-1):this.pinned===d.a.PINNED_RIGHT&&(e*=-1),e},e.TEMPLATE='<div class="ag-header-cell" role="presentation" unselectable="on">  <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>  <ag-checkbox ref="cbSelectAll" class="ag-header-select-all" role="presentation"></ag-checkbox></div>',C([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),C([Object(i.a)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),C([Object(i.a)("columnController")],e.prototype,"columnController",void 0),C([Object(i.a)("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),C([Object(i.a)("menuFactory")],e.prototype,"menuFactory",void 0),C([Object(i.a)("gridApi")],e.prototype,"gridApi",void 0),C([Object(i.a)("columnApi")],e.prototype,"columnApi",void 0),C([Object(i.a)("sortController")],e.prototype,"sortController",void 0),C([Object(i.a)("eventService")],e.prototype,"eventService",void 0),C([Object(i.a)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),C([Object(i.a)("columnHoverService")],e.prototype,"columnHoverService",void 0),C([Object(i.a)("beans")],e.prototype,"beans",void 0),C([Object(l.c)("eResize")],e.prototype,"eResize",void 0),C([Object(l.c)("cbSelectAll")],e.prototype,"cbSelectAll",void 0),C([i.e],e.prototype,"init",null),e}(r.a)},function(t,e,n){"use strict";var r,i,o=n(9),s=(n(203),n(204),n(24)),a=n(22),u=n(2),l=n(20),c=(n(30),{Firestore:s.s,GeoPoint:s.b,Timestamp:s.f,Blob:s.k,Transaction:s.g,WriteBatch:s.o,DocumentReference:s.d,DocumentSnapshot:s.i,Query:s.j,QueryDocumentSnapshot:s.h,QuerySnapshot:s.m,CollectionReference:s.p,FieldPath:s.n,FieldValue:s.t,setLogLevel:s.e,CACHE_SIZE_UNLIMITED:s.r});(function(t,e){t.INTERNAL.registerComponent(new a.Component("firestore",(function(t){return function(t,e){return new s.s(t,new s.c(t,e),new s.a)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},c)))})(r=o.default),r.registerVersion("@firebase/firestore","2.3.8"),(i=s.s).prototype.loadBundle=s.q,i.prototype.namedQuery=s.l;var h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function p(t,e,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(r){s(r)}}function u(t){try{l(i.throw(t))}catch(r){s(r)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}l((i=i.apply(t,e||[])).next())}))}function d(t,e){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(r){s=[6,r],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;Object.create;var f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},g=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error);var v=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return p(this,void 0,void 0,(function(){var t;return d(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return p(this,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return p(this,void 0,void 0,(function(){var t,e;return d(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function m(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var y=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"===typeof t||"object"===typeof t)return m(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"===typeof t||"object"===typeof t?m(t,(function(t){return e.decode(t)})):t},t}();var b=function(){function t(t,e,n,i,o,s){var a=this;void 0===o&&(o="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=s,this.serializer=new y,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new v(e,n),this.cancelAllRequests=new Promise((function(t){a.deleteService=function(){return t()}}));try{var u=new URL(o);this.customDomain=u.origin,this.region="us-central1"}catch(r){this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return p(this,void 0,void 0,(function(){var r,i,o;return d(this,(function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return p(this,void 0,void 0,(function(){var t;return d(this,(function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return p(this,void 0,void 0,(function(){var i,o,s,a,u,l,c,h,p,v,m;return d(this,(function(d){switch(d.label){case 0:return i=this._url(t),e=this.serializer.encode(e),o={data:e},s={},[4,this.contextProvider.getContext()];case 1:return(a=d.sent()).authToken&&(s.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(s["Firebase-Instance-ID-Token"]=a.instanceIdToken),u=n.timeout||7e4,l=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new g("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(u),c=l.timer,h=l.promise,[4,Promise.race([w(c,this.postJSON(i,o,s)),h,w(c,this.cancelAllRequests)])];case 2:if(!(p=d.sent()))throw new g("cancelled","Firebase Functions instance was deleted.");if(v=function(t,e,n){var i=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),o=i,s=void 0;try{var a=e&&e.error;if(a){var u=a.status;if("string"===typeof u){if(!f[u])return new g("internal","internal");i=f[u],o=u}var l=a.message;"string"===typeof l&&(o=l),void 0!==(s=a.details)&&(s=n.decode(s))}}catch(r){}return"ok"===i?null:new g(i,o,s)}(p.status,p.json,this.serializer))throw v;if(!p.json)throw new g("internal","Response is not valid JSON object.");if("undefined"===typeof(m=p.json.data)&&(m=p.json.result),"undefined"===typeof m)throw new g("internal","Response is missing data field.");return[2,{data:this.serializer.decode(m)}]}}))}))},t}();function w(t,e){return p(this,void 0,void 0,(function(){var n;return d(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}var C="functions";!function(t,e){var n={Functions:b};t.INTERNAL.registerComponent(new a.Component(C,(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal"),a=t.getProvider("messaging");return new b(i,o,a,s,r,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(o.default,fetch.bind(self)),o.default.registerVersion("@firebase/functions","0.6.13");var E=function(){return(E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function _(t,e,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(r){s(r)}}function u(t){try{l(i.throw(t))}catch(r){s(r)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}l((i=i.apply(t,e||[])).next())}))}function O(t,e){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(r){s=[6,r],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function T(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create;var R,P=n(54),x="@firebase/installations",A="0.4.30",D=1e4,I="w:"+A,N="FIS_v2",k="https://firebaseinstallations.googleapis.com/v1",L=36e5,M=((R={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',R["not-registered"]="Firebase Installation is not registered.",R["installation-not-found"]="Firebase Installation not found.",R["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',R["app-offline"]="Could not process request. Application offline.",R["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",R),F=new u.ErrorFactory("installations","Installations",M);function j(t){return t instanceof u.FirebaseError&&t.code.includes("request-failed")}function G(t){var e=t.projectId;return k+"/projects/"+e+"/installations"}function V(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function W(t,e){return _(this,void 0,void 0,(function(){var n,r;return O(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,F.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function B(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function H(t,e){var n=e.refreshToken,r=B(t);return r.append("Authorization",function(t){return N+" "+t}(n)),r}function U(t){return _(this,void 0,void 0,(function(){var e;return O(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function z(t,e){var n=e.fid;return _(this,void 0,void 0,(function(){var e,r,i,o,s,a;return O(this,(function(u){switch(u.label){case 0:return e=G(t),r=B(t),i={fid:n,authVersion:N,appId:t.appId,sdkVersion:I},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,U((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:V(a.authToken)}];case 3:return[4,W("Create Installation",s)];case 4:throw u.sent()}}))}))}function q(t){return new Promise((function(e){setTimeout(e,t)}))}function K(t){return btoa(String.fromCharCode.apply(String,function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}([],S(t)))).replace(/\+/g,"-").replace(/\//g,"_")}var Y=/^[cdef][\w-]{21}$/,X="";function Q(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return K(t).substr(0,22)}(t);return Y.test(e)?e:X}catch(n){return X}}function $(t){return t.appName+"!"+t.appId}var J=new Map;function Z(t,e){var n=$(t);tt(n,e),function(t,e){var n=nt();n&&n.postMessage({key:t,fid:e});rt()}(n,e)}function tt(t,e){var n,r,i=J.get(t);if(i)try{for(var o=T(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var et=null;function nt(){return!et&&"BroadcastChannel"in self&&((et=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){tt(t.data.key,t.data.fid)}),et}function rt(){0===J.size&&et&&(et.close(),et=null)}var it,ot="firebase-installations-database",st=1,at="firebase-installations-store",ut=null;function lt(){return ut||(ut=Object(P.openDb)(ot,st,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(at)}}))),ut}function ct(t,e){return _(this,void 0,void 0,(function(){var n,r,i,o,s;return O(this,(function(a){switch(a.label){case 0:return n=$(t),[4,lt()];case 1:return r=a.sent(),i=r.transaction(at,"readwrite"),[4,(o=i.objectStore(at)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||Z(t,e.fid),[2,e]}}))}))}function ht(t){return _(this,void 0,void 0,(function(){var e,n,r;return O(this,(function(i){switch(i.label){case 0:return e=$(t),[4,lt()];case 1:return n=i.sent(),[4,(r=n.transaction(at,"readwrite")).objectStore(at).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function pt(t,e){return _(this,void 0,void 0,(function(){var n,r,i,o,s,a;return O(this,(function(u){switch(u.label){case 0:return n=$(t),[4,lt()];case 1:return r=u.sent(),i=r.transaction(at,"readwrite"),[4,(o=i.objectStore(at)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||Z(t,a.fid),[2,a]}}))}))}function dt(t){return _(this,void 0,void 0,(function(){var e,n,r;return O(this,(function(i){switch(i.label){case 0:return[4,pt(t,(function(n){var r=function(t){return vt(t||{fid:Q(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(F.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(t,e){return _(this,void 0,void 0,(function(){var n,r;return O(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,z(t,e)];case 1:return n=i.sent(),[2,ct(t,n)];case 2:return j(r=i.sent())&&409===r.customData.serverCode?[4,ht(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,ct(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ft(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return(n=i.sent()).fid!==X?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function ft(t){return _(this,void 0,void 0,(function(){var e,n,r,i;return O(this,(function(o){switch(o.label){case 0:return[4,gt(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,q(100)];case 3:return o.sent(),[4,gt(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,dt(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function gt(t){return pt(t,(function(t){if(!t)throw F.create("installation-not-found");return vt(t)}))}function vt(t){return 1===(e=t).registrationStatus&&e.registrationTime+D<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function mt(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return _(this,void 0,void 0,(function(){var t,i,o,s,a,u,l;return O(this,(function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return G(t)+"/"+n+"/authTokens:generate"}(n,e),i=H(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:I}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,U((function(){return fetch(t,a)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return l=c.sent(),[2,V(l)];case 3:return[4,W("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function yt(t,e){return void 0===e&&(e=!1),_(this,void 0,void 0,(function(){var n,r,i;return O(this,(function(o){switch(o.label){case 0:return[4,pt(t.appConfig,(function(r){if(!wt(r))throw F.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+L}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return _(this,void 0,void 0,(function(){var n,r;return O(this,(function(i){switch(i.label){case 0:return[4,bt(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,q(100)];case 3:return i.sent(),[4,bt(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,yt(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw F.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return E(E({},t),{authToken:e})}(r);return n=function(t,e){return _(this,void 0,void 0,(function(){var n,r,i;return O(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,mt(t,e)];case 1:return n=o.sent(),i=E(E({},e),{authToken:n}),[4,ct(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!j(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ht(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=E(E({},e),{authToken:{requestStatus:0}}),[4,ct(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function bt(t){return pt(t,(function(t){if(!wt(t))throw F.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+D<Date.now()?E(E({},t),{authToken:{requestStatus:0}}):t}))}function wt(t){return void 0!==t&&2===t.registrationStatus}function Ct(t){return _(this,void 0,void 0,(function(){var e;return O(this,(function(n){switch(n.label){case 0:return[4,dt(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Et(t,e){return _(this,void 0,void 0,(function(){var n,r,i,o;return O(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return G(t)+"/"+n}(t,e),r=H(t,e),i={method:"DELETE",headers:r},[4,U((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,W("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function _t(t,e){var n=t.appConfig;return function(t,e){nt();var n=$(t),r=J.get(n);r||(r=new Set,J.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=$(t),r=J.get(n);r&&(r.delete(e),0===r.size&&J.delete(n),rt())}(n,e)}}function Ot(t){return F.create("missing-app-config-values",{valueName:t})}(it=o.default).INTERNAL.registerComponent(new a.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Ot("App Configuration");if(!t.name)throw Ot("App Name");try{for(var r=T(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Ot(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return _(this,void 0,void 0,(function(){var e,n,r;return O(this,(function(i){switch(i.label){case 0:return[4,dt(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):yt(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),_(this,void 0,void 0,(function(){return O(this,(function(n){switch(n.label){case 0:return[4,Ct(t.appConfig)];case 1:return n.sent(),[4,yt(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return _(this,void 0,void 0,(function(){var e,n;return O(this,(function(r){switch(r.label){case 0:return[4,pt(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw F.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw F.create("app-offline");case 3:return[4,Et(e,n)];case 4:return r.sent(),[4,ht(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return _t(n,t)}}}),"PUBLIC")),it.registerVersion(x,A);var Tt=function(){return(Tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function St(t,e,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(r){s(r)}}function u(t){try{l(i.throw(t))}catch(r){s(r)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}l((i=i.apply(t,e||[])).next())}))}function Rt(t,e){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(r){s=[6,r],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function Pt(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xt(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}var At;Object.create;var Dt,It=((At={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',At["only-available-in-window"]="This method is available in a Window context.",At["only-available-in-sw"]="This method is available in a service worker context.",At["permission-default"]="The notification permission was not granted and dismissed instead.",At["permission-blocked"]="The notification permission was not granted and blocked instead.",At["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",At["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",At["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",At["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",At["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",At["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",At["token-update-no-token"]="FCM returned no token when updating the user to push.",At["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",At["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",At["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",At["invalid-vapid-key"]="The public VAPID key must be a string.",At["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",At),Nt=new u.ErrorFactory("messaging","Messaging",It),kt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lt="https://fcmregistrations.googleapis.com/v1",Mt="FCM_MSG",Ft="google.c.a.c_id";function jt(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}([],xt(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gt(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Dt||(Dt={}));var Vt="fcm_token_details_db",Wt=5,Bt="fcm_token_object_Store";function Ht(t){return St(this,void 0,void 0,(function(){var e,n,r=this;return Rt(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=i.sent(),!e.map((function(t){return t.name})).includes(Vt))return[2,null];i.label=2;case 2:return n=null,[4,Object(P.openDb)(Vt,Wt,(function(e){return St(r,void 0,void 0,(function(){var r,i,o,s;return Rt(this,(function(a){switch(a.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(Bt)?[4,(r=e.transaction.objectStore(Bt)).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,r.clear()];case 2:if(a.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:jt(o.vapidKey)}}}else 3===e.oldVersion?n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:jt(o.auth),p256dh:jt(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:jt(o.vapidKey)}}:4===e.oldVersion&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:jt(o.auth),p256dh:jt(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:jt(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Object(P.deleteDb)(Vt)];case 4:return i.sent(),[4,Object(P.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(P.deleteDb)("undefined")];case 6:return i.sent(),[2,Ut(n)?n:null]}}))}))}function Ut(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}var zt="firebase-messaging-database",qt=1,Kt="firebase-messaging-store",Yt=null;function Xt(){return Yt||(Yt=Object(P.openDb)(zt,qt,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Kt)}}))),Yt}function Qt(t){return St(this,void 0,void 0,(function(){var e,n,r;return Rt(this,(function(i){switch(i.label){case 0:return e=Zt(t),[4,Xt()];case 1:return[4,i.sent().transaction(Kt).objectStore(Kt).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Ht(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,$t(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function $t(t,e){return St(this,void 0,void 0,(function(){var n,r,i;return Rt(this,(function(o){switch(o.label){case 0:return n=Zt(t),[4,Xt()];case 1:return r=o.sent(),[4,(i=r.transaction(Kt,"readwrite")).objectStore(Kt).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function Jt(t){return St(this,void 0,void 0,(function(){var e,n,r;return Rt(this,(function(i){switch(i.label){case 0:return e=Zt(t),[4,Xt()];case 1:return n=i.sent(),[4,(r=n.transaction(Kt,"readwrite")).objectStore(Kt).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Zt(t){return t.appConfig.appId}function te(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Rt(this,(function(u){switch(u.label){case 0:return[4,ie(t)];case 1:n=u.sent(),r=oe(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(re(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),Nt.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,Nt.create("token-subscribe-failed",{errorInfo:a});if(!o.token)throw Nt.create("token-subscribe-no-token");return[2,o.token]}}))}))}function ee(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Rt(this,(function(u){switch(u.label){case 0:return[4,ie(t)];case 1:n=u.sent(),r=oe(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(re(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),Nt.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,Nt.create("token-update-failed",{errorInfo:a});if(!o.token)throw Nt.create("token-update-no-token");return[2,o.token]}}))}))}function ne(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o,s;return Rt(this,(function(a){switch(a.label){case 0:return[4,ie(t)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(re(t.appConfig)+"/"+e,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw o=i.error.message,Nt.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw s=a.sent(),Nt.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function re(t){var e=t.projectId;return Lt+"/projects/"+e+"/registrations"}function ie(t){var e=t.appConfig,n=t.installations;return St(this,void 0,void 0,(function(){var t;return Rt(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function oe(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==kt&&(o.web.applicationPubKey=i),o}var se=6048e5;function ae(t,e,n){return St(this,void 0,void 0,(function(){var r,i,o,s;return Rt(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw Nt.create("permission-blocked");return[4,he(e,n)];case 1:return r=a.sent(),[4,Qt(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:jt(r.getKey("auth")),p256dh:jt(r.getKey("p256dh"))},i?[3,3]:[2,ce(t,o)];case 3:if(function(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,ne(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,ce(t,o)];case 8:return Date.now()>=i.createTime+se?[2,le({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}}))}))}function ue(t,e){return St(this,void 0,void 0,(function(){var n,r;return Rt(this,(function(i){switch(i.label){case 0:return[4,Qt(t)];case 1:return(n=i.sent())?[4,ne(t,n.token)]:[3,4];case 2:return i.sent(),[4,Jt(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function le(t,e,n){return St(this,void 0,void 0,(function(){var r,i,o;return Rt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,ee(e,t)];case 1:return r=s.sent(),i=Tt(Tt({},t),{token:r,createTime:Date.now()}),[4,$t(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,ue(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function ce(t,e){return St(this,void 0,void 0,(function(){var n,r;return Rt(this,(function(i){switch(i.label){case 0:return[4,te(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,$t(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function he(t,e){return St(this,void 0,void 0,(function(){var n;return Rt(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gt(e)})]}}))}))}function pe(t){return"object"===typeof t&&!!t&&Ft in t}function de(t){return new Promise((function(e){setTimeout(e,t)}))}var fe=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!==typeof t)throw Nt.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return St(this,void 0,void 0,(function(){var n;return Rt(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Qt(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:kt,r.label=2;case 2:return[2,ae(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return ue(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Nt.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Nt.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw Nt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw Nt.create("only-available-in-window")},t.prototype.onMessage=function(){throw Nt.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Nt.create("only-available-in-window")},t.prototype.onPush=function(t){return St(this,void 0,void 0,(function(){var e,n,r,i;return Rt(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,ye()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,me(n,e)]:(r=!1,e.notification?[4,be(ge(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(!e.notification)return;t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){if(!e.data)return;t.data=e.data}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}(e),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,de(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return St(this,void 0,void 0,(function(){var r;return Rt(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,ue(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Qt(this.firebaseDependencies)];case 3:return r=i.sent(),[4,ue(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,ae(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:kt)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return St(this,void 0,void 0,(function(){var r,i,o,s,a;return Rt(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n[Mt])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return pe(t.data)?self.location.origin:null}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,ve(o)]):[2]):[2];case 1:return(a=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=u.sent(),[4,de(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=u.sent(),u.label=6;case 6:return a?(r.messageType=Dt.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function ge(t){var e,n=Tt({},t.notification);return n.data=((e={})[Mt]=t,e),n}function ve(t){return St(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return Rt(this,(function(u){switch(u.label){case 0:return[4,ye()];case 1:e=u.sent();try{for(n=Pt(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(l){s={error:l}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function me(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Dt.PUSH_RECEIVED;try{for(var i=Pt(t),o=i.next();!o.done;o=i.next()){o.value.postMessage(e)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ye(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function be(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var we=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return St(this,void 0,void 0,(function(){var e,n;return Rt(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===Dt.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),pe(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return St(this,void 0,void 0,(function(){return Rt(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw Nt.create("permission-blocked");return[4,this.updateVapidKey(null===t||void 0===t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null===t||void 0===t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,ae(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return St(this,void 0,void 0,(function(){return Rt(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=kt),[2]}))}))},t.prototype.updateSwReg=function(t){return St(this,void 0,void 0,(function(){return Rt(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return St(this,void 0,void 0,(function(){var t,e;return Rt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),Nt.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return St(this,void 0,void 0,(function(){return Rt(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,ue(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return St(this,void 0,void 0,(function(){var t;return Rt(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?Nt.create("permission-blocked"):Nt.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Nt.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw Nt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");if(this.swRegistration)throw Nt.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Nt.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Nt.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return St(this,void 0,void 0,(function(){var n;return Rt(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case Dt.NOTIFICATION_CLICKED:return"notification_open";case Dt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e[Ft],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function Ce(t){return Nt.create("missing-app-config-values",{valueName:t})}var Ee={isSupported:_e};function _e(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}o.default.INTERNAL.registerComponent(new a.Component("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw Ce("App Configuration Object");if(!t.name)throw Ce("App Name");var r=t.options;try{for(var i=Pt(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw Ce(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!_e())throw Nt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new fe(n):new we(n)}),"PUBLIC").setServiceProps(Ee));var Oe=function(t,e){return(Oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Te=function(){return(Te=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Se(t,e,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(r){s(r)}}function u(t){try{l(i.throw(t))}catch(r){s(r)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}l((i=i.apply(t,e||[])).next())}))}function Re(t,e){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(r){s=[6,r],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function Pe(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}Object.create;var xe="firebasestorage.googleapis.com",Ae="storageBucket",De=12e4,Ie=6e5,Ne=function(t){function e(n,r){var i=t.call(this,ke(n),"Firebase Storage: "+r+" ("+ke(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Oe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._codeEquals=function(t){return ke(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(u.FirebaseError);function ke(t){return"storage/"+t}function Le(){return new Ne("unknown","An unknown error occurred, please check the error payload for server response.")}function Me(){return new Ne("canceled","User canceled the upload/download.")}function Fe(){return new Ne("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function je(t){return new Ne("invalid-argument",t)}function Ge(){return new Ne("app-deleted","The Firebase app was deleted.")}function Ve(t){return new Ne("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function We(t,e){return new Ne("invalid-format","String does not match format '"+t+"': "+e)}function Be(t){throw new Ne("internal-error","Internal error: "+t)}var He={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ue=function(t,e){this.data=t,this.contentType=e||null};function ze(t,e){switch(t){case He.RAW:return new Ue(qe(e));case He.BASE64:case He.BASE64URL:return new Ue(Ke(t,e));case He.DATA_URL:return new Ue(function(t){var e=new Ye(t);return e.base64?Ke(He.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(r){throw We(He.DATA_URL,"Malformed data URL.")}return qe(e)}(e.rest)}(e),new Ye(e).contentType)}throw Le()}function qe(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Ke(t,e){switch(t){case He.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw We(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case He.BASE64URL:var o=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(o||s)throw We(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(r){throw We(t,"Invalid character found")}for(var u=new Uint8Array(a.length),l=0;l<a.length;l++)u[l]=a.charCodeAt(l);return u}var Ye=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw We(He.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i};var Xe,Qe={STATE_CHANGED:"state_changed"},$e={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Je(t){switch(t){case"running":case"pausing":case"canceling":return $e.RUNNING;case"paused":return $e.PAUSED;case"success":return $e.SUCCESS;case"canceled":return $e.CANCELED;case"error":default:return $e.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Xe||(Xe={}));var Ze=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Xe.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Xe.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Xe.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Be("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Be("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Be("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Be("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}();var tn=function(){function t(){}return t.prototype.createConnection=function(){return new Ze},t}(),en=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var i;try{i=t.makeFromUrl(e,n)}catch(r){return new t(e,"")}if(""===i.path)return i;throw new Ne("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null;var i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(n===xe?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var l=a[u],c=l.regex.exec(e);if(c){var h=c[l.indices.bucket],p=c[l.indices.path];p||(p=""),r=new t(h,p),l.postModify(r);break}}if(null==r)throw function(t){return new Ne("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),nn=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function rn(t){return"string"===typeof t||t instanceof String}function on(t){return sn()&&t instanceof Blob}function sn(){return"undefined"!==typeof Blob}function an(t,e,n,r){if(r<e)throw je("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw je("Invalid value for '"+t+"'. Expected "+n+" or less.")}function un(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function ln(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}var cn=function(){function t(t,e,n,r,i,o,s,a,u,l,c){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var i,o=t.resolve_,s=t.reject_,a=n.connection;if(n.wasSuccessCode)try{var u=t.callback_(a,a.getResponseText());void 0!==u?o(u):o()}catch(r){s(r)}else null!==a?((i=Le()).serverResponse=a.getResponseText(),t.errorCallback_?s(t.errorCallback_(a,i)):s(i)):n.canceled?s(i=t.appDelete_?Ge():Me()):s(i=new Ne("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new hn(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var u=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function c(e){i=setTimeout((function(){i=null,t(h,a())}),e)}function h(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(t?l.call.apply(l,Pe([null,t],n)):a()||o?l.call.apply(l,Pe([null,t],n)):(r<64&&(r*=2),1===s?(s=2,e=0):e=1e3*(r+Math.random()),c(e)))}var p=!1;function d(t){p||(p=!0,u||(null!==i?(t||(s=2),clearTimeout(i),c(0)):t||(s=1)))}return c(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(e,n){if(n)e(!1,new hn(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===Xe.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new hn(s,r))}else{var a=r.getErrorCode()===Xe.ABORT;e(!1,new hn(!1,null,a))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),hn=function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n};function pn(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function dn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=pn();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(sn())return new Blob(t);throw new Ne("unsupported-environment","This browser doesn't seem to support creating Blobs")}var fn=function(){function t(t,e){var n=0,r="";on(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(on(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(sn()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(dn.apply(null,r))}var i=e.map((function(t){return rn(t)?ze(He.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function gn(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!==typeof(n=e)||Array.isArray(n)?null:e}function vn(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function mn(t,e){return e}var yn=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||mn},bn=null;function wn(){if(bn)return bn;var t=[];t.push(new yn("bucket")),t.push(new yn("generation")),t.push(new yn("metageneration")),t.push(new yn("name","fullPath",!0));var e=new yn("name");e.xform=function(t,e){return function(t){return!rn(t)||t.length<2?t:vn(t)}(e)},t.push(e);var n=new yn("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new yn("timeCreated")),t.push(new yn("updated")),t.push(new yn("md5Hash",null,!0)),t.push(new yn("cacheControl",null,!0)),t.push(new yn("contentDisposition",null,!0)),t.push(new yn("contentEncoding",null,!0)),t.push(new yn("contentLanguage",null,!0)),t.push(new yn("contentType",null,!0)),t.push(new yn("metadata","customMetadata",!0)),bn=t}function Cn(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new en(n,r);return e._makeStorageReference(i)}})}(r,t),r}function En(t,e,n){var r=gn(e);return null===r?null:Cn(t,r,n)}function _n(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var On="prefixes",Tn="items";function Sn(t,e,n){var r=gn(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[On])for(var i=0,o=n[On];i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new en(e,s));r.prefixes.push(a)}if(n[Tn])for(var u=0,l=n[Tn];u<l.length;u++){var c=l[u];a=t._makeStorageReference(new en(e,c.name));r.items.push(a)}return r}(t,e,r)}var Rn=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Pn(t){if(!t)throw Le()}function xn(t,e){return function(n,r){var i=En(t,r,e);return Pn(null!==i),i}}function An(t,e){return function(n,r){var i=En(t,r,e);return Pn(null!==i),function(t,e,n){var r=gn(e);if(null===r)return null;if(!rn(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.bucket,i=t.fullPath;return un("/b/"+o(r)+"/o/"+o(i),n)+ln({alt:"media",token:e})}))[0]}(i,r,t.host)}}function Dn(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=e.getResponseText().includes("Firebase App Check token is invalid")?new Ne("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ne("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new Ne("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new Ne("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function In(t){var e=Dn(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new Ne("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Nn(t,e,n){var r=un(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Rn(r,"GET",xn(t,n),i);return o.errorHandler=In(e),o}function kn(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=un(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new Rn(s,"GET",function(t,e){return function(n,r){var i=Sn(t,e,r);return Pn(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=Dn(e),u}function Ln(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var Mn=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function Fn(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Pn(!1)}return Pn(!!n&&-1!==(e||["active"]).indexOf(n)),n}function jn(t,e,n,r,i,o,s,a){var u=new Mn(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Ne("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var h=u.current,p=h+c,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},f=r.slice(h,p);if(null===f)throw Fe();var g=e.maxUploadRetryTime,v=new Rn(n,"POST",(function(t,n){var i,s=Fn(t,["active","final"]),a=u.current+c,l=r.size();return i="final"===s?xn(e,o)(t,n):null,new Mn(a,l,"final"===s,i)}),g);return v.headers=d,v.body=f.uploadData(),v.progressCallback=a||null,v.errorHandler=Dn(t),v}var Gn=function(t,e,n){if("function"===typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function Vn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Wn=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=wn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var i=function(t,e,n,i,o){var s=e.bucketOnlyServerUrl(),a=Ln(e,i,o),u={name:a.fullPath},l=un(s,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=_n(a,n),p=t.maxUploadRetryTime,d=new Rn(l,"POST",(function(t){var e;Fn(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(r){Pn(!1)}return Pn(rn(e)),e}),p);return d.urlParams=u,d.headers=c,d.body=h,d.errorHandler=Dn(e),d}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(i,e,n);t._request=o,o.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,i){var o=function(t,e,n,i){var o=t.maxUploadRetryTime,s=new Rn(n,"POST",(function(t){var e=Fn(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(r){Pn(!1)}n||Pn(!1);var o=Number(n);return Pn(!isNaN(o)),new Mn(o,i.size(),"final"===e)}),o);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=Dn(e),s}(t._ref.storage,t._ref._location,e,t._blob),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new Mn(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((function(o,s){var a;try{a=jn(t._ref._location,t._ref.storage,i,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(r){return t._error=r,void t._transition("error")}var u=t._ref.storage._makeRequest(a,o,s);t._request=u,u.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=Nn(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Ln(e,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_n(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=fn.getBlob(l,r,c);if(null===h)throw Fe();var p={name:u.fullPath},d=un(o,t.host),f=t.maxUploadRetryTime,g=new Rn(d,"POST",xn(t,n),f);return g.urlParams=p,g.headers=s,g.body=h.uploadData(),g.errorHandler=Dn(e),g}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Me(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Je(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Gn(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Je(this._state)){case $e.SUCCESS:Vn(this._resolve.bind(null,this.snapshot))();break;case $e.CANCELED:case $e.ERROR:Vn(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Je(this._state)){case $e.RUNNING:case $e.PAUSED:t.next&&Vn(t.next.bind(t,this.snapshot))();break;case $e.SUCCESS:t.complete&&Vn(t.complete.bind(t))();break;case $e.CANCELED:case $e.ERROR:t.error&&Vn(t.error.bind(t,this._error))();break;default:t.error&&Vn(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Bn=function(){function t(t,e){this._service=t,this._location=e instanceof en?e:en.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new en(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return vn(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new en(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Ve(t)},t}();function Hn(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Se(this,void 0,void 0,(function(){var i,o,s;return Re(this,(function(a){switch(a.label){case 0:return[4,Un(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}function Un(t,e){return Se(this,void 0,void 0,(function(){var n,r;return Re(this,(function(i){switch(i.label){case 0:return null!=e&&"number"===typeof e.maxResults&&an("options.maxResults",1,1e3,e.maxResults),n=e||{},r=kn(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function zn(t,e){return Se(this,void 0,void 0,(function(){var n;return Re(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=un(e.fullServerUrl(),t.host),o=_n(n,r),s=t.maxOperationRetryTime,a=new Rn(i,"PATCH",xn(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=In(e),a}(t.storage,t._location,e,wn()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function qn(t){return Se(this,void 0,void 0,(function(){var e;return Re(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=un(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Rn(r,"GET",An(t,n),i);return o.errorHandler=In(e),o}(t.storage,t._location,wn()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new Ne("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function Kn(t){return Se(this,void 0,void 0,(function(){var e;return Re(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=un(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,i=new Rn(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=In(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function Yn(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new en(t._location.bucket,n);return new Bn(t.storage,r)}function Xn(t){return/^[A-Za-z]+:\/\//.test(t)}function Qn(t,e){if(t instanceof Zn){var n=t;if(null==n._bucket)throw new Ne("no-default-bucket","No default bucket found. Did you set the '"+Ae+"' property when initializing the app?");var r=new Bn(n,n._bucket);return null!=e?Qn(r,e):r}if(void 0!==e){if(e.includes(".."))throw je('`path` param cannot contain ".."');return Yn(t,e)}return t}function $n(t,e){if(e&&Xn(e)){if(t instanceof Zn)return new Bn(t,e);throw je("To use ref(service, url), the first argument must be a Storage instance.")}return Qn(t,e)}function Jn(t,e){var n=null===e||void 0===e?void 0:e[Ae];return null==n?null:en.makeFromBucketSpec(n,t)}var Zn=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=xe,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=De,this._maxUploadRetryTime=Ie,this._requests=new Set,this._bucket=null!=i?en.makeFromBucketSpec(i,this._host):Jn(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=en.makeFromBucketSpec(this._url,t):this._bucket=Jn(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){an("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){an("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Se(this,void 0,void 0,(function(){var t,e;return Re(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return Se(this,void 0,void 0,(function(){var t;return Re(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Bn(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new nn(Ge());var i=function(t,e,n,r,i,o){var s=ln(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new cn(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return Se(this,void 0,void 0,(function(){var e,n,r;return Re(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}}))}))},t}();function tr(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Wn(t,new fn(e),n)}(t=Object(u.getModularInstance)(t),e,n)}function er(t){return function(t){return Se(this,void 0,void 0,(function(){var e;return Re(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=Nn(t.storage,t._location,wn()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(u.getModularInstance)(t))}function nr(t,e){return $n(t=Object(u.getModularInstance)(t),e)}var rr=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),ir=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new rr(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new rr(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new rr(t,i,i._ref))}:{next:e.next?function(t){return e.next(new rr(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),or=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new sr(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new sr(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),sr=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Yn(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new ir(tr(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=He.RAW),this._throwIfRoot("putString");var r=ze(e,t),i=Te({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new ir(new Wn(this._delegate,new fn(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,Hn(t=Object(u.getModularInstance)(t))).then((function(t){return new or(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return Un(t=Object(u.getModularInstance)(t),e)}(this._delegate,t||void 0).then((function(t){return new or(t,e.storage)}))},t.prototype.getMetadata=function(){return er(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return zn(t=Object(u.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,qn(t=Object(u.getModularInstance)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,Kn(t=Object(u.getModularInstance)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Ve(t)},t}(),ar=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Xn(t))throw je("ref() expected a child path but got a URL, use refFromURL instead.");return new sr(nr(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Xn(t))throw je("refFromURL() expected a full URL but got a child path, use ref() instead.");try{en.makeFromUrl(t,this._delegate.host)}catch(r){throw je("refFromUrl() expected a valid full URL but got an invalid one.")}return new sr(nr(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}(),ur="@firebase/storage",lr="0.5.6",cr="storage";function hr(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ar(r,new Zn(r,i,s,new tn,n,o.default.SDK_VERSION))}!function(t){var e={TaskState:$e,TaskEvent:Qe,StringFormat:He,Storage:Zn,Reference:sr};t.INTERNAL.registerComponent(new a.Component(cr,hr,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(ur,lr)}(o.default);var pr=function(){return(pr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;function dr(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}Object.create;var fr,gr,vr,mr="@firebase/performance",yr="0.4.16",br=yr,wr="FB-PERF-TRACE-START",Cr="FB-PERF-TRACE-STOP",Er="FB-PERF-TRACE-MEASURE",_r="_wt_",Or="@firebase/performance/config",Tr="@firebase/performance/configexpire",Sr=((fr={})["trace started"]="Trace {$traceName} was started before.",fr["trace stopped"]="Trace {$traceName} is not running.",fr["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",fr["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",fr["no window"]="Window is not available.",fr["no app id"]="App id is not available.",fr["no project id"]="Project id is not available.",fr["no api key"]="Api key is not available.",fr["invalid cc log"]="Attempted to queue invalid cc event",fr["FB not default"]="Performance can only start when Firebase app instance is the default one.",fr["RC response not ok"]="RC response is not ok",fr["invalid attribute name"]="Attribute name {$attributeName} is invalid.",fr["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",fr["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",fr["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",fr),Rr=new u.ErrorFactory("performance","Performance",Sr),Pr=new l.Logger("Performance");Pr.logLevel=l.LogLevel.INFO;var xr,Ar=function(){function t(t){if(this.window=t,!t)throw Rr.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(u.isIndexedDBAvailable)()||(Pr.info("IndexedDB is not supported by current browswer"),!1):(Pr.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===gr&&(gr=new t(vr)),gr},t}();function Dr(t,e){var n=t.length-e.length;if(n<0||n>1)throw Rr.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var Ir,Nr,kr=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Dr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Dr("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Rr.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Rr.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Rr.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===xr&&(xr=new t),xr},t}();function Lr(){return Ir}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(Nr||(Nr={}));var Mr=["firebase_","google_","ga_"],Fr=new RegExp("^[a-zA-Z]\\w*$"),jr=40,Gr=100;function Vr(){var t=Ar.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Wr(){switch(Ar.getInstance().document.visibilityState){case"visible":return Nr.VISIBLE;case"hidden":return Nr.HIDDEN;default:return Nr.UNKNOWN}}function Br(){var t=Ar.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Hr="0.0.1",Ur={loggingEnabled:!0},zr="FIREBASE_INSTALLATIONS_AUTH";function qr(t){var e=function(){var t=Ar.getInstance().localStorage;if(!t)return;var e=t.getItem(Tr);if(!e||(n=e,!(Number(n)>Date.now())))return;var n;var r=t.getItem(Or);if(!r)return;try{return JSON.parse(r)}catch(i){return}}();return e?(Yr(e),Promise.resolve()):function(t){return function(){var t=kr.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+kr.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+kr.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:zr+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:kr.getInstance().getAppId(),app_version:br,sdk_version:Hr})});return fetch(r).then((function(t){if(t.ok)return t.json();throw Rr.create("RC response not ok")}))})).catch((function(){Pr.info(Kr)}))}(t).then(Yr).then((function(t){return function(t){var e=Ar.getInstance().localStorage;if(!t||!e)return;e.setItem(Or,JSON.stringify(t)),e.setItem(Tr,String(Date.now()+60*kr.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}var Kr="Could not fetch config, will use default configs";function Yr(t){if(!t)return t;var e=kr.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=Ur.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Xr(e.tracesSamplingRate),e.logNetworkAfterSampling=Xr(e.networkRequestsSamplingRate),t}function Xr(t){return Math.random()<=t}var Qr,$r=1;function Jr(){return $r=2,Qr=Qr||function(){var t=Ar.getInstance().document;return new Promise((function(e){t&&"complete"!==t.readyState?t.addEventListener("readystatechange",(function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())})):e()}))}().then((function(){return function(){var t=kr.getInstance().installationsService.getId();return t.then((function(t){Ir=t})),t}()})).then((function(t){return qr(t)})).then((function(){return Zr()}),(function(){return Zr()}))}function Zr(){$r=3}var ti,ei=1e4,ni=5500,ri=3,ii=1e3,oi=ri,si=[],ai=!1;function ui(t){setTimeout((function(){if(0!==oi)return si.length?void function(){var t=si.splice(0,ii),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=kr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||Pr.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=ei;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(si=dr(dr([],e),si),Pr.info("Retry transport request later.")),oi=ri,ui(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:kr.getInstance().logSource,log_event:e},t).catch((function(){si=dr(dr([],t),si),oi--,Pr.info("Tries left: "+oi+"."),ui(ei)}))}():ui(ei)}),t)}function li(t){if(!t.eventTime||!t.message)throw Rr.create("invalid cc log");si=dr(dr([],si),[t])}function ci(t,e){ti||(ti=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);li({message:r,eventTime:Date.now()})}}(di)),ti(t,e)}function hi(t){var e=kr.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&Ar.getInstance().requiredApisAvailable()&&(t.isAuto&&Wr()!==Nr.VISIBLE||(3===$r?pi(t):Jr().then((function(){return pi(t)}),(function(){return pi(t)}))))}function pi(t){if(Lr()){var e=kr.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return ci(t,1)}),0)}}function di(t,e){return 0===e?function(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:fi(),network_request_metric:e};return JSON.stringify(n)}(t):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:fi(),trace_metric:e};return JSON.stringify(r)}(t)}function fi(){return{google_app_id:kr.getInstance().getAppId(),app_instance_id:Lr(),web_app_info:{sdk_version:br,page_url:Ar.getInstance().getUrl(),service_worker_status:Vr(),visibility_state:Wr(),effective_connection_type:Br()},application_process_state:0}}var gi=100,vi="_",mi=["_fp","_fcp","_fid"];var yi=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=Ar.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=wr+"-"+this.randomId+"-"+this.name,this.traceStopMark=Cr+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||Er+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw Rr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw Rr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),hi(this)},t.prototype.record=function(t,e,n){if(t<=0)throw Rr.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Rr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=pr({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}hi(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(n=t,r=this.name,0===n.length||n.length>gi||!(r&&r.startsWith(_r)&&mi.indexOf(n)>-1)&&n.startsWith(vi))throw Rr.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=function(t){var e=Math.floor(t);return e<t&&Pr.info("Metric value should be an Integer, setting the value as : "+e+"."),e}(e)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>jr)&&!Mr.some((function(t){return n.startsWith(t)}))&&!!n.match(Fr),i=function(t){return 0!==t.length&&t.length<=Gr}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw Rr.create("invalid attribute name",{attributeName:t});if(!i)throw Rr.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return pr({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=Ar.getInstance().getUrl();if(i){var o=new t(_r+i,!0),s=Math.floor(1e3*Ar.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}hi(o)}},t.createUserTimingTrace=function(e){hi(new t(e,!1,e))},t}();function bi(t){var e=t;if(e&&void 0!==e.responseStart){var n=Ar.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=kr.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return ci(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}var wi=5e3;function Ci(){Lr()&&(setTimeout((function(){return function(){var t=Ar.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){yi.createOobTrace(e,n),r=void 0}),wi);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),yi.createOobTrace(e,n,t))}))}else yi.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=Ar.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){bi(r[n])}t.setupObserver("resource",bi)}()}),0),setTimeout((function(){return function(){for(var t=Ar.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){Ei(r[n])}t.setupObserver("measure",Ei)}()}),0))}function Ei(t){var e=t.name;e.substring(0,Er.length)!==Er&&yi.createUserTimingTrace(e)}var _i=function(){function t(t){this.app=t,Ar.getInstance().requiredApisAvailable()&&Object(u.validateIndexedDBOpenable)().then((function(t){t&&(ai||(ui(ni),ai=!0),Jr().then(Ci,Ci))})).catch((function(t){Pr.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new yi(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return kr.getInstance().instrumentationEnabled},set:function(t){kr.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return kr.getInstance().dataCollectionEnabled},set:function(t){kr.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}(),Oi="[DEFAULT]";!function(t){var e=function(t,e){if(t.name!==Oi)throw Rr.create("FB not default");if("undefined"===typeof window)throw Rr.create("no window");return function(t){vr=t}(window),kr.getInstance().firebaseAppInstance=t,kr.getInstance().installationsService=e,new _i(t)};t.INTERNAL.registerComponent(new a.Component("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion(mr,yr)}(o.default);var Ti=function(){return(Ti=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Si(t,e,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(r){s(r)}}function u(t){try{l(i.throw(t))}catch(r){s(r)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}l((i=i.apply(t,e||[])).next())}))}function Ri(t,e){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(r){s=[6,r],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;Object.create;var Pi,xi,Ai="firebase_id",Di="origin",Ii=6e4,Ni="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ki="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Pi||(Pi={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(xi||(xi={}));var Li,Mi=new l.Logger("@firebase/analytics");function Fi(t,e,n,r,i,o){return Si(this,void 0,void 0,(function(){var s,a,u,l;return Ri(this,(function(c){switch(c.label){case 0:s=r[i],c.label=1;case 1:return c.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=c.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return l=c.sent(),Mi.error(l),[3,8];case 8:return t(Pi.CONFIG,i,o),[2]}}))}))}function ji(t,e,n,r,i){return Si(this,void 0,void 0,(function(){var o,s,a,u,l,c,h,p;return Ri(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},l=0,c=s;l<c.length&&(h=c[l],"break"!==u(h));l++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(Pi.EVENT,r,i||{}),[3,5];case 4:return p=d.sent(),Mi.error(p),[3,5];case 5:return[2]}}))}))}function Gi(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Si(this,void 0,void 0,(function(){var a;return Ri(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Pi.EVENT?[3,2]:[4,ji(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==Pi.CONFIG?[3,4]:[4,Fi(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(Pi.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),Mi.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var Vi=((Li={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Li["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Li["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Li["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Li["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Li["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Li["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Li["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Li["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Li),Wi=new u.ErrorFactory("analytics","Analytics",Vi),Bi=30,Hi=1e3,Ui=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=Hi),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function zi(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function qi(t){var e;return Si(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Ri(this,(function(l){switch(l.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:zi(r)},o=Ni.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=l.sent()).status||304===s.status)return[3,6];a="",l.label=2;case 2:return l.trys.push([2,4,,5]),[4,s.json()];case 3:return u=l.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return l.sent(),[3,5];case 5:throw Wi.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function Ki(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=Ui),Si(this,void 0,void 0,(function(){var e,s,a,l,c,h,p;return Ri(this,(function(d){switch(d.label){case 0:e=t.appId,s=t.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Yi(n,i)];case 2:return d.sent(),[3,4];case 3:if(a=d.sent(),s)return Mi.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return d.trys.push([4,6,,7]),[4,qi(t)];case 5:return l=d.sent(),r.deleteThrottleMetadata(e),[2,l];case 6:if(!function(t){if(!(t instanceof u.FirebaseError)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=d.sent())){if(r.deleteThrottleMetadata(e),s)return Mi.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return h=503===Number(c.customData.httpStatus)?Object(u.calculateBackoffMillis)(o,r.intervalMillis,Bi):Object(u.calculateBackoffMillis)(o,r.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},r.setThrottleMetadata(e,p),Mi.debug("Calling attemptFetch again in "+h+" millis"),[2,Ki(t,p,n,r)];case 7:return[2]}}))}))}function Yi(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Wi.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Xi=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();function Qi(t,e,n,r,i,o){return Si(this,void 0,void 0,(function(){var s,a,l,c,h,p,d;return Ri(this,(function(f){switch(f.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=Ui),Si(this,void 0,void 0,(function(){var r,i,o,s,a,u,l=this;return Ri(this,(function(c){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw Wi.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw Wi.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Xi,setTimeout((function(){return Si(l,void 0,void 0,(function(){return Ri(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:Ii),[2,Ki({appId:i,apiKey:o,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Mi.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Mi.error(t)})),e.push(s),a=function(){return Si(this,void 0,void 0,(function(){var t;return Ri(this,(function(e){switch(e.label){case 0:return Object(u.isIndexedDBAvailable)()?[3,1]:(Mi.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Mi.warn(Wi.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return l=f.sent(),c=l[0],h=l[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(ki))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=ki+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(d={})[Di]="firebase",d.update=!0,p=d,null!=h&&(p[Ai]=h),i(Pi.CONFIG,c.measurementId,p),[2,c.measurementId]}}))}))}var $i,Ji,Zi={},to=[],eo={},no="dataLayer",ro="gtag",io=!1;function oo(t){if(io)throw Wi.create("already-initialized");t.dataLayerName&&(no=t.dataLayerName),t.gtagName&&(ro=t.gtagName)}function so(t,e){!function(){var t=[];if(Object(u.isBrowserExtension)()&&t.push("This is a browser extension environment."),Object(u.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Wi.create("invalid-analytics-context",{errorInfo:e});Mi.warn(n.message)}}();var n=t.options.appId;if(!n)throw Wi.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Wi.create("no-api-key");Mi.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Zi[n])throw Wi.create("already-exists",{id:n});if(!io){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(no);var r=Gi(Zi,to,eo,no,ro),i=r.wrappedGtag,o=r.gtagCore;Ji=i,$i=o,io=!0}return Zi[n]=Qi(t,to,eo,e,$i,no),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return Si(this,void 0,void 0,(function(){var o,s;return Ri(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(Pi.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Ti(Ti({},r),{send_to:o}),t(Pi.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(Ji,Zi[n],t,e,r).catch((function(t){return Mi.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Si(this,void 0,void 0,(function(){var i;return Ri(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Pi.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Pi.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Ji,Zi[n],t,e).catch((function(t){return Mi.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Si(this,void 0,void 0,(function(){var i;return Ri(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Pi.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Pi.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Ji,Zi[n],t,e).catch((function(t){return Mi.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Si(this,void 0,void 0,(function(){var i,o,s,a,u;return Ri(this,(function(l){switch(l.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(Pi.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=l.sent(),t(Pi.CONFIG,u,{update:!0,user_properties:n}),l.label=3;case 3:return[2]}}))}))})(Ji,Zi[n],t,e).catch((function(t){return Mi.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Si(this,void 0,void 0,(function(){var n;return Ri(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(Zi[n],t).catch((function(t){return Mi.error(t)}))},INTERNAL:{delete:function(){return delete Zi[n],Promise.resolve()}}}}var ao="@firebase/analytics",uo="0.6.14",lo="analytics";function co(){return Si(this,void 0,void 0,(function(){return Ri(this,(function(t){switch(t.label){case 0:if(Object(u.isBrowserExtension)())return[2,!1];if(!Object(u.areCookiesEnabled)())return[2,!1];if(!Object(u.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new a.Component(lo,(function(t){return so(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:oo,EventName:xi,isSupported:co})),t.INTERNAL.registerComponent(new a.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider(lo).getImmediate().logEvent}}catch(r){throw Wi.create("interop-component-reg-failed",{reason:r})}}),"PRIVATE")),t.registerVersion(ao,uo)}(o.default);var ho=function(){return(ho=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function po(t,e,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(r){s(r)}}function u(t){try{l(i.throw(t))}catch(r){s(r)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}l((i=i.apply(t,e||[])).next())}))}function fo(t,e){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(r){s=[6,r],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;Object.create;var go,vo=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return po(this,void 0,void 0,(function(){var e,n,r,i,o;return fo(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),mo=((go={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",go["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",go["registration-api-key"]="Undefined API key. Check Firebase app initialization.",go["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",go["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",go["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",go["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",go["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",go["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",go["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',go["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',go["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",go["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",go),yo=new u.ErrorFactory("remoteconfig","Remote Config",mo);var bo=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return po(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,l,c,h,p,d,f,g,v,m,y,b;return fo(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=w.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===C&&(C=navigator),C.languages&&C.languages[0]||C.language)},u={method:"POST",headers:s,body:JSON.stringify(a)},l=fetch(o,u),c=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([l,c])];case 3:return w.sent(),[4,l];case 4:return h=w.sent(),[3,6];case 5:throw p=w.sent(),d="fetch-client-network","AbortError"===p.name&&(d="fetch-timeout"),yo.create(d,{originalErrorMessage:p.message});case 6:if(f=h.status,g=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),yo.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:v=y.entries,m=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(v={}),304!==f&&200!==f)throw yo.create("fetch-status",{httpStatus:f});return[2,{status:f,eTag:g,config:v}]}var C}))}))},t}(),wo=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),Co="",Eo=["1","true","t","yes","y","on"],_o=function(){function t(t,e){void 0===e&&(e=Co),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&Eo.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),Oo=6e4,To=432e5,So=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Oo,minimumFetchIntervalMillis:To},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=l.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=l.LogLevel.SILENT;break;default:this._logger.logLevel=l.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return po(this,void 0,void 0,(function(){var t,e,n;return fo(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return po(this,void 0,void 0,(function(){var t,e,n,r=this;return fo(this,(function(i){switch(i.label){case 0:t=new wo,setTimeout((function(){return po(r,void 0,void 0,(function(){return fo(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof u.FirebaseError&&-1!==t.code.indexOf(e)}(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return po(this,void 0,void 0,(function(){return fo(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(ho(ho({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new _o("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new _o("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new _o("static"))},t}();function Ro(t,e){var n=t.target.error||void 0;return yo.create(e,{originalErrorMessage:n&&n.message})}var Po="app_namespace_store",xo="firebase_remote_config",Ao=1;var Do=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open(xo,Ao);n.onerror=function(t){e(Ro(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(Po,{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return po(this,void 0,void 0,(function(){var e,n=this;return fo(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise((function(i,o){var s=e.transaction([Po],"readonly").objectStore(Po),a=n.createCompositeKey(t);try{var u=s.get(a);u.onerror=function(t){o(Ro(t,"storage-get"))},u.onsuccess=function(t){var e=t.target.result;i(e?e.value:void 0)}}catch(r){o(yo.create("storage-get",{originalErrorMessage:r&&r.message}))}}))]}}))}))},t.prototype.set=function(t,e){return po(this,void 0,void 0,(function(){var n,i=this;return fo(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return n=o.sent(),[2,new Promise((function(o,s){var a=n.transaction([Po],"readwrite").objectStore(Po),u=i.createCompositeKey(t);try{var l=a.put({compositeKey:u,value:e});l.onerror=function(t){s(Ro(t,"storage-set"))},l.onsuccess=function(){o()}}catch(r){s(yo.create("storage-set",{originalErrorMessage:r&&r.message}))}}))]}}))}))},t.prototype.delete=function(t){return po(this,void 0,void 0,(function(){var e,n=this;return fo(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise((function(i,o){var s=e.transaction([Po],"readwrite").objectStore(Po),a=n.createCompositeKey(t);try{var u=s.delete(a);u.onerror=function(t){o(Ro(t,"storage-delete"))},u.onsuccess=function(){i()}}catch(r){o(yo.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Io=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return po(this,void 0,void 0,(function(){var t,e,n,r,i,o;return fo(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function No(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(yo.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var ko,Lo=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return po(this,void 0,void 0,(function(){var e;return fo(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return po(this,void 0,void 0,(function(){var e,i,o;return fo(this,(function(s){switch(s.label){case 0:return[4,No(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof u.FirebaseError)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(u.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),Mo="@firebase/remote-config",Fo="0.1.41";(ko=o.default).INTERNAL.registerComponent(new a.Component("remoteConfig",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"===typeof window)throw yo.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,u=o.appId;if(!s)throw yo.create("registration-project-id");if(!a)throw yo.create("registration-api-key");if(!u)throw yo.create("registration-app-id");n=n||"firebase";var c=new Do(u,r.name,n),h=new Io(c),p=new l.Logger(Mo);p.logLevel=l.LogLevel.ERROR;var d=new bo(i,ko.SDK_VERSION,n,s,a,u),f=new Lo(d,c),g=new vo(f,c,h,p),v=new So(r,g,h,c,p);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),ko.registerVersion(Mo,Fo);n(206);n.d(e,"a",(function(){return o.default}));o.default.registerVersion("firebase","8.7.0","app"),o.default.SDK_VERSION="8.7.0";console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.default.registerVersion("firebase","8.7.0")},,function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,l=[],c=!1,h=-1;function p(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=a(p);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||c||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(183)},function(t,e,n){"use strict";(function(t){var r=n(4),i=n.n(r),o=n(153),s=n(55),a=n.n(s),u=1073741823,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};var c=i.a.createContext||function(t,e){var n,i,s="__create-react-context-"+function(){var t="__global_unique_id__";return l[t]=(l[t]||0)+1}()+"__",c=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=function(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}(e.props.value),e}Object(o.a)(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[s]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(s=i)?0!==o||1/o===1/s:o!==o&&s!==s)?n=0:(n="function"===typeof e?e(r,i):u,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,s},r.render=function(){return this.props.children},n}(r.Component);c.childContextTypes=((n={})[s]=a.a.object.isRequired,n);var h=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Object(o.a)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},r.getValue=function(){return this.context[s]?this.context[s].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return h.contextTypes=((i={})[s]=a.a.object,i),{Provider:c,Consumer:h}};e.a=c}).call(this,n(63))},function(t,e,n){var r=n(192);t.exports=d,t.exports.parse=o,t.exports.compile=function(t,e){return a(o(t,e),e)},t.exports.tokensToFunction=a,t.exports.tokensToRegExp=p;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,s=0,a="",c=e&&e.delimiter||"/";null!=(n=i.exec(t));){var h=n[0],p=n[1],d=n.index;if(a+=t.slice(s,d),s=d+h.length,p)a+=p[1];else{var f=t[s],g=n[2],v=n[3],m=n[4],y=n[5],b=n[6],w=n[7];a&&(r.push(a),a="");var C=null!=g&&null!=f&&f!==g,E="+"===b||"*"===b,_="?"===b||"*"===b,O=n[2]||c,T=m||y;r.push({name:v||o++,prefix:g||"",delimiter:O,optional:_,repeat:E,partial:C,asterisk:!!w,pattern:T?l(T):w?".*":"[^"+u(O)+"]+?"})}}return s<t.length&&(a+=t.substr(s)),a&&r.push(a),r}function s(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function a(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",h(e)));return function(e,i){for(var o="",a=e||{},u=(i||{}).pretty?s:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!==typeof c){var h,p=a[c.name];if(null==p){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(p)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(h=u(p[d]),!n[l].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(p).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(p),!n[l].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');o+=c.prefix+h}}else o+=c}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function c(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function p(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,s="",a=0;a<t.length;a++){var l=t[a];if("string"===typeof l)s+=u(l);else{var p=u(l.prefix),d="(?:"+l.pattern+")";e.push(l),l.repeat&&(d+="(?:"+p+d+")*"),s+=d=l.optional?l.partial?p+"("+d+")?":"(?:"+p+"("+d+"))?":p+"("+d+")"}}var f=u(n.delimiter||"/"),g=s.slice(-f.length)===f;return i||(s=(g?s.slice(0,-f.length):s)+"(?:"+f+"(?=$))?"),s+=o?"$":i&&g?"":"(?="+f+"|$)",c(new RegExp("^"+s,h(n)),e)}function d(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(d(t[i],e,n).source);return c(new RegExp("(?:"+r.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return p(o(t,n),e,n)}(t,e,n)}},function(t,e,n){var r,i;"undefined"!=typeof self&&self,t.exports=(r=n(4),i=n(143),function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=r(n(1)),a=r(n(2)),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.container=s.default.createRef(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"createChart",value:function(){var t=this.props,e=t.highcharts||a.default,n=t.constructorType||"chart";e?e[n]?t.options?this.chart=e[n](this.container.current,t.options,t.callback?t.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}},{key:"componentDidMount",value:function(){this.createChart()}},{key:"componentDidUpdate",value:function(){var t=this.props;if(!1!==t.allowChartUpdate)if(!t.immutable&&this.chart){var e;(e=this.chart).update.apply(e,[t.options].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t.updateArgs||[!0,!0])))}else this.createChart()}},{key:"componentWillUnmount",value:function(){this.chart&&(this.chart.destroy(),this.chart=null)}},{key:"render",value:function(){return s.default.createElement("div",i({},this.props.containerProps,{ref:this.container}))}}]),e}(s.default.PureComponent);e.default=u},function(t,e){t.exports=r},function(t,e){t.exports=i}]))},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;Object.create},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,a,u=s(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(u[a[h]]=n[a[h]])}}return u}},function(t,e,n){"use strict";t.exports=n(193)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(77);function i(t){t.module("agGrid",[]).directive("agGrid",(function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",o],scope:!0}}))}function o(t,e,n,i){var o,s,a=i.agGrid;if(s=a+".quickFilterText",o=e.$eval(a)){var u=t[0],l={$scope:e,$compile:n,quickFilterOnScope:s},c=new r.a(u,o,l);e.$on("$destroy",(function(){c.destroy(),c=null}))}else console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(43),i=n(77),o=!1;function s(){if(console.warn("ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. "),!o){o=!0,"undefined"!==typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var t=Object.create(HTMLElement.prototype);r.a.ALL_PROPERTIES.forEach((function(e){Object.defineProperty(t,e,{set:function(t){this.__agGridSetProperty(e,t)},get:function(){return this.__agGridGetProperty(e)},enumerable:!0,configurable:!0})}));var e=t;e.__agGridSetProperty=function(t,e){this.__attributes||(this.__attributes={}),this.__attributes[t]=e;var n={};n[t]={currentValue:e},this.onChange(n)},e.onChange=function(t){this._initialised&&r.a.processOnChange(t,this._gridOptions,this.api,this.columnApi)},e.__agGridGetProperty=function(t){return this.__attributes||(this.__attributes={}),this.__attributes[t]},e.setGridOptions=function(t){var e=this.globalEventListener.bind(this);this._gridOptions=r.a.copyAttributesToGridOptions(t,this);var n={globalEventListener:e};this._agGrid=new i.a(this,this._gridOptions,n),this.api=t.api,this.columnApi=t.columnApi,this._initialised=!0},e.createdCallback=function(){for(var t=0;t<this.attributes.length;t++){var e=this.attributes[t];this.setPropertyFromAttribute(e)}},e.setPropertyFromAttribute=function(t){var e,n="string"===typeof(e=t.nodeName)?e.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()})):e,i=t.nodeValue;r.a.ALL_PROPERTIES.indexOf(n)>=0&&(this[n]=i)},e.attachedCallback=function(t){},e.detachedCallback=function(t){},e.attributeChangedCallback=function(t){var e=this.attributes[t];this.setPropertyFromAttribute(e)},e.globalEventListener=function(t,e){var n=t.toLowerCase(),r=new Event(n);r.agGridDetails=e,this.dispatchEvent(r);var i="on"+n;"function"===typeof this[i]&&this[i](r)},document.registerElement("ag-grid",{prototype:t})}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(){function t(e){var n=this;this.items=[],this.params=e,this.eGui=document.createElement("div"),this.eGui.innerHTML=t.TEMPLATE,this.eHeader=this.eGui.querySelector('[ref="tabHeader"]'),this.eBody=this.eGui.querySelector('[ref="tabBody"]'),r.e.addCssClass(this.eGui,e.cssClass),e.items&&e.items.forEach((function(t){return n.addItem(t)}))}return t.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},t.prototype.getMinDimensions=function(){var t=this.eGui.cloneNode(!0),e=t.querySelector('[ref="tabBody"]');t.style.position="fixed",this.eGui.appendChild(t);var n=0,i=0;return this.items.forEach((function(o){r.e.clearElement(e);var s=o.tabbedItem.bodyPromise.resolveNow(null,(function(t){return t.cloneNode(!0)}));null!=s&&(e.appendChild(s),n<t.offsetWidth&&(n=t.offsetWidth),i<t.offsetHeight&&(i=t.offsetHeight))})),this.eGui.removeChild(t),{height:i,width:n}},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(t){var e=document.createElement("span");e.appendChild(t.title),r.e.addCssClass(e,"ag-tab"),this.eHeader.appendChild(e);var n={tabbedItem:t,eHeaderButton:e};this.items.push(n),e.addEventListener("click",this.showItemWrapper.bind(this,n))},t.prototype.showItem=function(t){var e=r.e.find(this.items,(function(e){return e.tabbedItem===t}));e&&this.showItemWrapper(e)},t.prototype.showItemWrapper=function(t){var e=this;this.params.onItemClicked&&this.params.onItemClicked({item:t.tabbedItem}),this.activeItem!==t?(r.e.clearElement(this.eBody),t.tabbedItem.bodyPromise.then((function(t){e.eBody.appendChild(t)})),this.activeItem&&r.e.removeCssClass(this.activeItem.eHeaderButton,"ag-tab-selected"),r.e.addCssClass(t.eHeaderButton,"ag-tab-selected"),this.activeItem=t,t.tabbedItem.afterAttachedCallback&&t.tabbedItem.afterAttachedCallback(this.afterAttachedParams)):r.e.callIfPresent(this.params.onActiveItemClicked)},t.prototype.getGui=function(){return this.eGui},t.TEMPLATE='<div><div ref="tabHeader" class="ag-tab-header"></div><div ref="tabBody" class="ag-tab-body"></div></div>',t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0);function i(t){return new r.c((function(e){var n=new XMLHttpRequest;n.open("GET",t.url),n.send(),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var t=JSON.parse(n.responseText);e(t)}}}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(59),i=n(1),o=n(0),s=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=function(t,e){return function(n,r){e(n,r,t)}},u=function(){function t(t,e){this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0,this.maxConcurrentRequests=t,e&&e>0&&(this.checkBlockToLoadDebounce=o.e.debounce(this.performCheckBlocksToLoad.bind(this),e))}return t.prototype.setBeans=function(t){this.logger=t.create("RowNodeBlockLoader")},t.prototype.addBlock=function(t){this.blocks.push(t)},t.prototype.removeBlock=function(t){o.e.removeFromArray(this.blocks,t)},t.prototype.destroy=function(){this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var t=null;this.blocks.forEach((function(e){e.getState()===r.a.STATE_DIRTY&&(t=e)})),t?(t.load(),this.activeBlockLoadsCount++,this.logger.log("checkBlockToLoad: loading page "+t.getBlockNumber()),this.printCacheStatus()):this.logger.log("checkBlockToLoad: no pages to load")}},t.prototype.getBlockState=function(){var t={};return this.blocks.forEach((function(e){var n=e.getNodeIdPrefix(),r={blockNumber:e.getBlockNumber(),startRow:e.getStartRow(),endRow:e.getEndRow(),pageStatus:e.getState()};o.e.exists(n)?t[n+e.getBlockNumber()]=r:t[e.getBlockNumber()]=r})),t},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},s([a(0,Object(i.h)("loggerFactory"))],t.prototype,"setBeans",null),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(21),i=n(59),o=n(0),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e){var n=t.call(this)||this;return n.maxRowFound=!1,n.blocks={},n.blockCount=0,n.virtualRowCount=e.initialRowCount,n.cacheParams=e,n}return s(e,t),e.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),this.forEachBlockInOrder((function(t){return e.destroyBlock(t)}))},e.prototype.init=function(){var t=this;this.active=!0,this.addDestroyFunc((function(){return t.active=!1}))},e.prototype.isActive=function(){return this.active},e.prototype.getVirtualRowCount=function(){return this.virtualRowCount},e.prototype.hack_setVirtualRowCount=function(t){this.virtualRowCount=t},e.prototype.isMaxRowFound=function(){return this.maxRowFound},e.prototype.onPageLoaded=function(t){this.cacheParams.rowNodeBlockLoader.loadComplete(),this.checkBlockToLoad(),this.isActive()&&(this.logger.log("onPageLoaded: page = "+t.page.getBlockNumber()+", lastRow = "+t.lastRow),t.success&&this.checkVirtualRowCount(t.page,t.lastRow))},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,r=[];this.forEachBlockInOrder((function(e){e!==t&&r.push(e)})),r.sort((function(t,e){return e.getLastAccessed()-t.getLastAccessed()}));var o=this.cacheParams.maxBlocksInCache>0,s=o?this.cacheParams.maxBlocksInCache-1:null,a=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach((function(t,e){if(t.getState()===i.a.STATE_DIRTY&&e>=a||!!o&&e>=s){if(t.isAnyNodeOpen(n.virtualRowCount))return;n.removeBlockFromCache(t)}}))},e.prototype.postCreateBlock=function(t){t.addEventListener(i.a.EVENT_LOAD_COMPLETE,this.onPageLoaded.bind(this)),this.setBlock(t.getBlockNumber(),t),this.purgeBlocksIfNeeded(t),this.checkBlockToLoad()},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkBlockToLoad=function(){this.cacheParams.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.checkVirtualRowCount=function(t,e){if("number"===typeof e&&e>=0)this.virtualRowCount=e,this.maxRowFound=!0,this.onCacheUpdated();else if(!this.maxRowFound){var n=(t.getBlockNumber()+1)*this.cacheParams.blockSize+this.cacheParams.overflowSize;this.virtualRowCount<n?(this.virtualRowCount=n,this.onCacheUpdated()):this.cacheParams.dynamicRowHeight&&this.onCacheUpdated()}},e.prototype.setVirtualRowCount=function(t,e){this.virtualRowCount=t,o.e.exists(e)&&(this.maxRowFound=e),this.maxRowFound||this.virtualRowCount%this.cacheParams.blockSize===0&&this.virtualRowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t,e){var n=this;void 0===e&&(e=new o.b),this.forEachBlockInOrder((function(r){r.forEachNodeDeep(t,e,n.virtualRowCount)}))},e.prototype.forEachBlockInOrder=function(t){var e=this.getBlockIdsSorted();this.forEachBlockId(e,t)},e.prototype.forEachBlockInReverseOrder=function(t){var e=this.getBlockIdsSorted().reverse();this.forEachBlockId(e,t)},e.prototype.forEachBlockId=function(t,e){var n=this;t.forEach((function(t){var r=n.blocks[t];e(r,t)}))},e.prototype.getBlockIdsSorted=function(){return Object.keys(this.blocks).map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e}))},e.prototype.getBlock=function(t){return this.blocks[t]},e.prototype.setBlock=function(t,e){this.blocks[t]=e,this.blockCount++,this.cacheParams.rowNodeBlockLoader.addBlock(e)},e.prototype.destroyBlock=function(t){delete this.blocks[t.getBlockNumber()],t.destroy(),this.blockCount--,this.cacheParams.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isActive()){var t={type:e.EVENT_CACHE_UPDATED};this.dispatchEvent(t)}},e.prototype.purgeCache=function(){var t=this;this.forEachBlockInOrder((function(e){return t.removeBlockFromCache(e)})),0===this.virtualRowCount&&(this.virtualRowCount=this.cacheParams.initialRowCount,this.maxRowFound=!1),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,e){var n=this,r=[],i=-1,s=!1,a=new o.b;o.e.missing(t)&&(s=!0);var u=!1;return this.forEachBlockInOrder((function(o,l){u||(s&&i+1!==l?u=!0:(i=l,o.forEachNodeShallow((function(n){var i=n===t||n===e;(s||i)&&r.push(n),i&&(s=!s)}),a,n.virtualRowCount)))})),u||s?[]:r},e.EVENT_CACHE_UPDATED="cacheUpdated",e.MAX_EMPTY_BLOCKS_TO_KEEP=2,e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(51),i=n(1),o=n(10),s=n(8),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t){function e(e){var n=t.call(this,e)||this;return n.message=e.message,n}return a(e,t),e.prototype.postConstruct=function(){var e=this,n=new c;this.wireDependentBean(n),n.setMessage(this.message),this.setBodyComponent(n),t.prototype.postConstruct.call(this),this.addDestroyableEventListener(n,"onBtOk",(function(){return e.close()}))},e}(r.a),c=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return a(e,t),e.prototype.setMessage=function(t){this.eCenter.innerText=t},e.prototype.postConstruct=function(){this.addDestroyableEventListener(this.eOk,"click",this.onBtOk.bind(this))},e.prototype.onBtOk=function(){this.dispatchEvent({type:"onBtOk"})},e.TEMPLATE='<div class="ag-message-box">\n            <div ref="eCenter" class="ag-message-box-content"></div>\n            <div ref="eButtons" class="ag-message-box-button-bar">\n                <button ref="eOk">OK</button>\n            </div>\n        </div>',u([Object(s.c)("eCenter")],e.prototype,"eCenter",void 0),u([Object(s.c)("eOk")],e.prototype,"eOk",void 0),u([i.e],e.prototype,"postConstruct",null),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(10),i=n(1),o=n(0),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){var e=t.call(this,void 0)||this;return e.rowsInBodyContainer={},e.rowHeight=20,e}return s(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE),this.eListContainer=this.queryForHtmlElement(".ag-virtual-list-container"),this.addScrollListener();var t=document.createElement("div");o.e.addCssClass(t,"ag-virtual-list-item"),this.rowHeight=this.getItemHeight()},e.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getVirtualItemHeight()},e.prototype.ensureIndexVisible=function(t){var e=this.model.getRowCount();if("number"!==typeof t||t<0||t>=e)console.warn("invalid row index for ensureIndexVisible: "+t);else{var n=t*this.rowHeight,r=n+this.rowHeight,i=this.getGui().scrollTop,o=this.getGui().offsetHeight,s=i+o<r;if(i>n)this.getGui().scrollTop=n;else if(s){var a=r-o;this.getGui().scrollTop=a}}},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(){o.e.missing(this.model)||(this.eListContainer.style.height=this.model.getRowCount()*this.rowHeight+"px",this.clearVirtualRows(),this.drawVirtualRows())},e.prototype.clearVirtualRows=function(){var t=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(t)},e.prototype.drawVirtualRows=function(){var t=this.getGui().scrollTop,e=t+this.getGui().offsetHeight,n=Math.floor(t/this.rowHeight),r=Math.floor(e/this.rowHeight);this.ensureRowsRendered(n,r)},e.prototype.ensureRowsRendered=function(t,e){for(var n=Object.keys(this.rowsInBodyContainer),r=t;r<=e;r++)if(n.indexOf(r.toString())>=0)n.splice(n.indexOf(r.toString()),1);else if(this.model.getRowCount()>r){var i=this.model.getRow(r);this.insertRow(i,r)}this.removeVirtualRows(n)},e.prototype.removeVirtualRows=function(t){var e=this;t.forEach((function(t){var n=e.rowsInBodyContainer[t];e.eListContainer.removeChild(n.eDiv),n.rowComponent.destroy&&n.rowComponent.destroy(),delete e.rowsInBodyContainer[t]}))},e.prototype.insertRow=function(t,e){var n=document.createElement("div");o.e.addCssClass(n,"ag-virtual-list-item"),n.style.top=this.rowHeight*e+"px";var r=this.componentCreator(t);n.appendChild(r.getGui()),this.eListContainer.appendChild(n),this.rowsInBodyContainer[e]={rowComponent:r,eDiv:n}},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",(function(){t.drawVirtualRows()}))},e.prototype.setModel=function(t){this.model=t},e.TEMPLATE='<div class="ag-virtual-list-viewport">\n            <div class="ag-virtual-list-container"></div>\n        </div>',a([Object(i.a)("environment")],e.prototype,"environment",void 0),a([Object(i.a)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),a([i.e],e.prototype,"init",null),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0);function i(t,e,n,i,o){void 0===o&&(o=!1),console.warn("ag-Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var s=r.e.exists(n)&&n.group,a=r.e.exists(i)&&i.group,u=!s&&!a;return s&&a?r.e.defaultComparator(n.key,i.key,o):u?r.e.defaultComparator(t,e,o):s?1:-1}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){}return t.prototype.wrap=function(t,e,n,r){var i=this;void 0===n&&(n=[]);var o=this.createWrapper(t,r);return e.forEach((function(t){i.createMethod(o,t,!0)})),n.forEach((function(t){i.createMethod(o,t,!1)})),o},t.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},t.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("ag-Grid: Framework component is missing the method "+e+"()"),null)}},t}()},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.GroupedColumn="groupedColumn",t.StackedColumn="stackedColumn",t.NormalizedColumn="normalizedColumn",t.GroupedBar="groupedBar",t.StackedBar="stackedBar",t.NormalizedBar="normalizedBar",t.Line="line",t.Scatter="scatter",t.Bubble="bubble",t.Pie="pie",t.Doughnut="doughnut",t.Area="area",t.StackedArea="stackedArea",t.NormalizedArea="normalizedArea"}(r||(r={}))},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(4),s=n(55),a=n(6),u=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.props=e,r.state=n,r}return r(e,t),e.prototype.render=function(){return null},e.mapChildColumnDefs=function(t){return i.Children.map(t.children,(function(t){return e.toColDef(t.props)}))},e.toColDef=function(t){var n=e.createColDefFromGridColumn(t);return e.hasChildColumns(t)&&(n.children=e.getChildColDefs(t.children)),n},e.hasChildColumns=function(t){return i.Children.count(t.children)>0},e.getChildColDefs=function(t){return i.Children.map(t,(function(t){return e.createColDefFromGridColumn(t.props)}))},e.createColDefFromGridColumn=function(t){var n={};return e.assign(n,t),delete n.children,n},e.assign=function(t,e){return[e].reduce((function(t,e){return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}),t)},e}(o.Component);function l(t,e){t.forEach((function(t){u[t]=e}))}e.AgGridColumn=u,l(a.ColDefUtil.BOOLEAN_PROPERTIES,s.bool),l(a.ColDefUtil.STRING_PROPERTIES,s.string),l(a.ColDefUtil.OBJECT_PROPERTIES,s.object),l(a.ColDefUtil.ARRAY_PROPERTIES,s.array),l(a.ColDefUtil.NUMBER_PROPERTIES,s.number),l(a.ColDefUtil.FUNCTION_PROPERTIES,s.func)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(35);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(35),i=n(214),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a={adapter:function(){var t;return"undefined"!==typeof XMLHttpRequest?t=n(172):"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e)&&(t=n(172)),t}(),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){a.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){a.headers[t]=r.merge(o)})),t.exports=a}).call(this,n(147))},function(t,e,n){"use strict";var r=n(35),i=n(215),o=n(217),s=n(169),a=n(218),u=n(221),l=n(222),c=n(173);t.exports=function(t){return new Promise((function(e,n){var h=t.data,p=t.headers;r.isFormData(h)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";p.Authorization="Basic "+btoa(f+":"+g)}var v=a(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),s(v,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:t,request:d};i(e,n,o),d=null}},d.onabort=function(){d&&(n(c("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(c("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(c(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var m=(t.withCredentials||l(v))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;m&&(p[t.xsrfHeaderName]=m)}if("setRequestHeader"in d&&r.forEach(p,(function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(y){if("json"!==t.responseType)throw y}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),n(t),d=null)})),h||(h=null),d.send(h)}))}},function(t,e,n){"use strict";var r=n(216);t.exports=function(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},function(t,e,n){"use strict";var r=n(35);t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function l(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(t[i],e[i])}r.forEach(i,(function(t){r.isUndefined(e[t])||(n[t]=u(void 0,e[t]))})),r.forEach(o,l),r.forEach(s,(function(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(void 0,e[i])})),r.forEach(a,(function(r){r in e?n[r]=u(t[r],e[r]):r in t&&(n[r]=u(void 0,t[r]))}));var c=i.concat(o).concat(s).concat(a),h=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===c.indexOf(t)}));return r.forEach(h,l),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";var r=n(155),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(t){return r.isMemo(t)?s:a[t.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(f){var i=d(n);i&&i!==f&&t(e,i,r)}var s=c(n);h&&(s=s.concat(h(n)));for(var a=u(e),g=u(n),v=0;v<s.length;++v){var m=s[v];if(!o[m]&&(!r||!r[m])&&(!g||!g[m])&&(!a||!a[m])){var y=p(n,m);try{l(e,m,y)}catch(b){}}}}return e}},function(t,e,n){e.AgGridReact=n(195).AgGridReact,e.AgGridColumn=n(167).AgGridColumn},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(47);function i(t,e){if(null==t)return{};var n,i,o=Object(r.a)(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e,n){t.exports=n(209)},function(t,e,n){"use strict";var r,i=n(6),o=function(){function t(e,n,r,i,o,s,a,u){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsWrapper=n,this.context=r,this.eventService=i,this.columnController=o,this.gridApi=s,this.columnApi=a,this.selectionController=u,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=t.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return t.prototype.postConstruct=function(){this.getNodeChildDetails=this.gridOptionsWrapper.getNodeChildDetailsFunc(),this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.doesDataFlower=this.gridOptionsWrapper.getDoesDataFlowerFunc(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingLegacyTreeData=i._.exists(this.getNodeChildDetails),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.getNodeChildDetails&&console.warn("ag-Grid: the callback nodeChildDetailsFunc() is now deprecated. The new way of doing\n                                    tree data in ag-Grid was introduced in v14 (released November 2017). In the next\n                                    major release of ag-Grid we will be dropping support for the old version of\n                                    tree data. If you are reading this message, please go to the docs to see how\n                                    to implement Tree Data without using nodeChildDetailsFunc().")},t.prototype.getCopyOfNodesMap=function(){return i._.cloneObject(this.allNodesMap)},t.prototype.getRowNode=function(t){return this.allNodesMap[t]},t.prototype.setRowData=function(e){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.nextId=0,this.allNodesMap={},!e)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);var n=this.recursiveFunction(e,this.rootNode,t.TOP_LEVEL);this.doingLegacyTreeData?(this.rootNode.childrenAfterGroup=n,this.setLeafChildren(this.rootNode)):this.rootNode.allLeafChildren=n},t.prototype.updateRowData=function(t,e){if(this.isLegacyTreeData())return null;var n={remove:[],update:[],add:[]};return this.executeAdd(t,n),this.executeRemove(t,n),this.executeUpdate(t,n),e&&i._.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},t.prototype.executeAdd=function(t,e){var n=this,r=t.add,i=t.addIndex;r&&("number"===typeof i&&i>=0?r.reverse().forEach((function(t){var r=n.addRowNode(t,i);e.add.push(r)})):r.forEach((function(t){var r=n.addRowNode(t);e.add.push(r)})))},t.prototype.executeRemove=function(t,e){var n=this,r=t.remove;if(r){var o={},s=!1;if(r.forEach((function(t){var r=n.lookupRowNode(t);r&&(r.isSelected()&&(s=!0),r.setSelected(!1,!1,!0),r.clearRowTop(),o[r.id]=!0,delete n.allNodesMap[r.id],e.remove.push(r))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(t){return!o[t.id]})),s){this.selectionController.updateGroupsFromChildrenSelections();var a={type:i.Events.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(a)}}},t.prototype.executeUpdate=function(t,e){var n=this,r=t.update;r&&r.forEach((function(t){var r=n.lookupRowNode(t);r&&(r.updateData(t),e.update.push(r))}))},t.prototype.addRowNode=function(e,n){var r=this.createNode(e,this.rootNode,t.TOP_LEVEL);return i._.exists(n)?i._.insertIntoArray(this.rootNode.allLeafChildren,r,n):this.rootNode.allLeafChildren.push(r),r},t.prototype.lookupRowNode=function(t){var e,n=this.gridOptionsWrapper.getRowNodeIdFunc();if(i._.exists(n)){var r=n(t);if(!(e=this.allNodesMap[r]))return console.error("ag-Grid: could not find row id="+r+", data item was not found for this id"),null}else if(!(e=i._.find(this.rootNode.allLeafChildren,(function(e){return e.data===t}))))return console.error("ag-Grid: could not find data item as object was not found",t),null;return e},t.prototype.recursiveFunction=function(t,e,n){var r=this;if("string"!==typeof t){var i=[];return t.forEach((function(t){var o=r.createNode(t,e,n);i.push(o)})),i}console.warn("ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},t.prototype.createNode=function(t,e,n){var r=new i.RowNode;this.context.wireBean(r);var o=this.gridOptionsWrapper.isTreeData(),s=!o&&i._.exists(this.getNodeChildDetails)?this.getNodeChildDetails(t):null;if(s&&s.group)r.group=!0,r.childrenAfterGroup=this.recursiveFunction(s.children,r,n+1),r.expanded=!0===s.expanded,r.field=s.field,r.key=s.key,r.canFlower=r.master,this.setLeafChildren(r);else if(r.group=!1,o)r.master=!1,r.expanded=!1;else{this.doesDataFlower?r.master=this.doesDataFlower(t):this.doingMasterDetail?this.isRowMasterFunc?r.master=this.isRowMasterFunc(t):r.master=!0:r.master=!1;var a=this.columnController.getRowGroupColumns(),u=n+(a?a.length:0);r.expanded=!!r.master&&this.isExpanded(u)}return r.canFlower=r.master,e&&!this.suppressParentsInRowNodes&&(r.parent=e),r.level=n,r.setDataAndId(t,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn("ag-grid: duplicate node id '"+r.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[r.id]=r,this.nextId++,r},t.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},t.prototype.setLeafChildren=function(t){t.allLeafChildren=[],t.childrenAfterGroup&&t.childrenAfterGroup.forEach((function(e){e.group?e.allLeafChildren&&e.allLeafChildren.forEach((function(e){return t.allLeafChildren.push(e)})):t.allLeafChildren.push(e)}))},t.prototype.isLegacyTreeData=function(){return!!i._.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())&&(console.warn("ag-Grid: adding and removing rows is not supported when using nodeChildDetailsFunc, ie it is not supported for legacy tree data. Please see the docs on the new preferred way of providing tree data that works with delta updates."),!0)},t.TOP_LEVEL=0,t.ROOT_NODE_ID="ROOT_NODE_ID",t}(),s=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Normal=0]="Normal",t[t.AfterFilter=1]="AfterFilter",t[t.AfterFilterAndSort=2]="AfterFilterAndSort",t[t.PivotNodes=3]="PivotNodes"}(r||(r={}));var a,u=function(){function t(){}return t.prototype.init=function(){var t=this.refreshModel.bind(this,{step:i.Constants.STEP_EVERYTHING}),e=this.refreshModel.bind(this,{step:i.Constants.STEP_EVERYTHING,afterColumnsChanged:!0});this.eventService.addModalPriorityEventListener(i.Events.EVENT_COLUMN_EVERYTHING_CHANGED,e),this.eventService.addModalPriorityEventListener(i.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.eventService.addModalPriorityEventListener(i.Events.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.eventService.addModalPriorityEventListener(i.Events.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:i.Constants.STEP_PIVOT})),this.eventService.addModalPriorityEventListener(i.Events.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.eventService.addModalPriorityEventListener(i.Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.eventService.addModalPriorityEventListener(i.Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.eventService.addModalPriorityEventListener(i.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,t);var n=this.refreshModel.bind(this,{step:i.Constants.STEP_MAP,keepRenderedRows:!0,animate:!0});this.gridOptionsWrapper.addEventListener(i.GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN,n),this.gridOptionsWrapper.addEventListener(i.GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,n),this.rootNode=new i.RowNode,this.nodeManager=new o(this.rootNode,this.gridOptionsWrapper,this.context,this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.context.wireBean(this.rootNode)},t.prototype.start=function(){var t=this.gridOptionsWrapper.getRowData();t&&this.setRowData(t)},t.prototype.ensureRowHeightsValid=function(t,e,n,r){var i,o=!1;do{i=!1;for(var s=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),u=Math.max(s,n),l=Math.min(a,r),c=u;c<=l;c++){var h=this.getRow(c);if(h.rowHeightEstimated){var p=this.gridOptionsWrapper.getRowHeightForNode(h);h.setRowHeight(p.height),i=!0,o=!0}}i&&this.setRowTops()}while(i);return o},t.prototype.setRowTops=function(){for(var t=0,e=0;e<this.rowsToDisplay.length;e++){var n=this.gridOptionsWrapper.getDomLayout()===i.Constants.DOM_LAYOUT_NORMAL,r=this.rowsToDisplay[e];if(i._.missing(r.rowHeight)){var o=this.gridOptionsWrapper.getRowHeightForNode(r,n);r.setRowHeight(o.height,o.estimated)}r.setRowTop(t),r.setRowIndex(e),t+=r.rowHeight}},t.prototype.resetRowTops=function(t,e){if(t.clearRowTop(),t.hasChildren()){if(t.childrenAfterGroup)if(!(e.isActive()&&!t.expanded))for(var n=0;n<t.childrenAfterGroup.length;n++)this.resetRowTops(t.childrenAfterGroup[n],e);t.sibling&&t.sibling.clearRowTop()}t.detailNode&&t.detailNode.clearRowTop()},t.prototype.ensureRowAtPixel=function(t,e){var n=this.getRowIndexAtPixel(e);return this.getRow(n)!==t&&(i._.removeFromArray(this.rootNode.allLeafChildren,t),i._.insertIntoArray(this.rootNode.allLeafChildren,t,n),this.refreshModel({step:i.Constants.STEP_EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},t.prototype.isLastRowFound=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;var e=this.rootNode.childrenAfterSort[t];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;e.expanded&&e.childrenAfterSort&&e.childrenAfterSort.length>0;)e=e.childrenAfterSort[0];return e.rowIndex},t.prototype.getRowBounds=function(t){if(i._.missing(this.rowsToDisplay))return null;var e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:i.Constants.STEP_MAP,keepRenderedRows:!0,animate:t})},t.prototype.onFilterChanged=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:i.Constants.STEP_FILTER,keepRenderedRows:!0,animate:t})},t.prototype.onSortChanged=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:i.Constants.STEP_SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},t.prototype.getType=function(){return i.Constants.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:i.Constants.STEP_PIVOT}):this.refreshModel({step:i.Constants.STEP_AGGREGATE})},t.prototype.createChangePath=function(t){var e=i._.missingOrEmpty(t),n=new i.ChangedPath(!1,this.rootNode);return(e||this.gridOptionsWrapper.isTreeData())&&n.setInactive(),n},t.prototype.refreshModel=function(t){var e=this,n=this.createChangePath(t.rowNodeTransactions);switch(t.step){case i.Constants.STEP_EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,n,t.afterColumnsChanged);case i.Constants.STEP_FILTER:this.doFilter(n);case i.Constants.STEP_PIVOT:this.doPivot(n);case i.Constants.STEP_AGGREGATE:this.doAggregate(n);case i.Constants.STEP_SORT:this.doSort(t.rowNodeTransactions,n);case i.Constants.STEP_MAP:this.doRowsToDisplay()}this.resetRowTops(this.rootNode,n),this.setRowTops();var r={type:i.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1};this.eventService.dispatchEvent(r),this.$scope&&window.setTimeout((function(){e.$scope.$apply()}),0)},t.prototype.isEmpty=function(){var t;return t=i._.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())?i._.missing(this.rootNode.childrenAfterGroup)||0===this.rootNode.childrenAfterGroup.length:i._.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length,i._.missing(this.rootNode)||t||!this.columnController.isReady()},t.prototype.isRowsToRender=function(){return i._.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(t,e){var n,r=!e,i=!1,o=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort((function(a){var u=r&&!i;if(r||a!==e&&a!==t||(r=!0),!(a.group&&s)){var l=r&&!i,c=a.isParentOfNode(n);(l||c)&&o.push(a)}u&&(a!==e&&a!==t||(i=!0,n=a===e?e:t))})),o},t.prototype.setDatasource=function(t){console.error("ag-Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(t){return this.rowsToDisplay[t]},t.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},t.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty())return-1;var e=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;if(i._.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;for(;;){var r=Math.floor((e+n)/2),o=this.rowsToDisplay[r];if(this.isRowInPixel(o,t))return r;o.rowTop<t?e=r+1:o.rowTop>t&&(n=r-1)}},t.prototype.isRowInPixel=function(t,e){var n=t.rowTop,r=t.rowTop+t.rowHeight;return n<=e&&r>e},t.prototype.getCurrentPageHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var t=i._.last(this.rowsToDisplay);return t.rowTop+t.rowHeight}return 0},t.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(e,n){return t(e,n)}))},t.prototype.forEachNode=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,t,r.Normal,0)},t.prototype.forEachNodeAfterFilter=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,t,r.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,t,r.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(t){this.recursivelyWalkNodesAndCallback([this.rootNode],t,r.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(t,e,n,i){if(t)for(var o=0;o<t.length;o++){var s=t[o];if(e(s,i++),s.hasChildren()){var a=null;switch(n){case r.Normal:a=s.childrenAfterGroup;break;case r.AfterFilter:a=s.childrenAfterFilter;break;case r.AfterFilterAndSort:a=s.childrenAfterSort;break;case r.PivotNodes:a=s.leafGroup?null:s.childrenAfterSort}a&&(i=this.recursivelyWalkNodesAndCallback(a,e,n,i))}}return i},t.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},t.prototype.expandOrCollapseAll=function(t){var e=this.gridOptionsWrapper.isTreeData();this.rootNode&&function n(r){if(!r)return;r.forEach((function(r){(e?i._.exists(r.childrenAfterGroup):r.group)&&(r.expanded=t,n(r.childrenAfterGroup))}))}(this.rootNode.childrenAfterGroup),this.refreshModel({step:i.Constants.STEP_MAP});var n=t?"expandAll":"collapseAll",r={api:this.gridApi,columnApi:this.columnApi,type:i.Events.EVENT_EXPAND_COLLAPSE_ALL,source:n};this.eventService.dispatchEvent(r)},t.prototype.doSort=function(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})},t.prototype.doRowGrouping=function(t,e,n,r,o){if(!i._.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc()))if(this.groupStage){if(e){var s={add:[],remove:[],update:[]};e.forEach((function(t){i._.pushAll(s.add,t.add),i._.pushAll(s.remove,t.remove),i._.pushAll(s.update,t.update)})),this.groupStage.execute({rowNode:this.rootNode,rowNodeTransaction:s,rowNodeOrder:n,changedPath:r})}else this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:o}),this.restoreGroupState(t);this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(r)}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren},t.prototype.restoreGroupState=function(t){t&&i._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){"boolean"===typeof t[n]&&(e.expanded=t[n])}))},t.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},t.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var t={};return i._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){return t[n]=e.expanded})),t},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(t){return this.nodeManager.getRowNode(t)},t.prototype.setRowData=function(t){var e=this.getGroupState();this.nodeManager.setRowData(t);var n={type:i.Events.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n),this.refreshModel({step:i.Constants.STEP_EVERYTHING,groupState:e,newData:!0})},t.prototype.batchUpdateRowData=function(t,e){var n=this;if(!this.rowDataTransactionBatch){this.rowDataTransactionBatch=[];var r=this.gridOptionsWrapper.getBatchUpdateWaitMillis();window.setTimeout((function(){n.executeBatchUpdateRowData(),n.rowDataTransactionBatch=null}),r)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})},t.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var e=[],n=[];this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(r){var i=t.nodeManager.updateRowData(r.rowDataTransaction,null);n.push(i),r.callback&&e.push(r.callback.bind(null,i))})),this.commonUpdateRowData(n),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0)},t.prototype.updateRowData=function(t,e){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(t,e);return this.commonUpdateRowData([n],e),n},t.prototype.commonUpdateRowData=function(t,e){this.refreshModel({step:i.Constants.STEP_EVERYTHING,rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,animate:!0,keepEditingRows:!0});var n={type:i.Events.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:i.Constants.STEP_MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){this.forEachNode((function(t){return t.setRowHeight(null)})),this.onRowHeightChanged()},s([Object(i.Autowired)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),s([Object(i.Autowired)("columnController")],t.prototype,"columnController",void 0),s([Object(i.Autowired)("filterManager")],t.prototype,"filterManager",void 0),s([Object(i.Autowired)("$scope")],t.prototype,"$scope",void 0),s([Object(i.Autowired)("selectionController")],t.prototype,"selectionController",void 0),s([Object(i.Autowired)("eventService")],t.prototype,"eventService",void 0),s([Object(i.Autowired)("context")],t.prototype,"context",void 0),s([Object(i.Autowired)("valueService")],t.prototype,"valueService",void 0),s([Object(i.Autowired)("valueCache")],t.prototype,"valueCache",void 0),s([Object(i.Autowired)("columnApi")],t.prototype,"columnApi",void 0),s([Object(i.Autowired)("gridApi")],t.prototype,"gridApi",void 0),s([Object(i.Autowired)("filterStage")],t.prototype,"filterStage",void 0),s([Object(i.Autowired)("sortStage")],t.prototype,"sortStage",void 0),s([Object(i.Autowired)("flattenStage")],t.prototype,"flattenStage",void 0),s([Object(i.Optional)("groupStage")],t.prototype,"groupStage",void 0),s([Object(i.Optional)("aggregationStage")],t.prototype,"aggregationStage",void 0),s([Object(i.Optional)("pivotStage")],t.prototype,"pivotStage",void 0),s([i.PostConstruct],t.prototype,"init",null),t=s([Object(i.Bean)("rowModel")],t)}(),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(){function t(){}return t.prototype.execute=function(t){var e=t.rowNode,n=t.changedPath;this.filterService.filter(n),this.selectableService.updateSelectableAfterFiltering(e)},l([Object(i.Autowired)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),l([Object(i.Autowired)("selectableService")],t.prototype,"selectableService",void 0),l([Object(i.Autowired)("filterService")],t.prototype,"filterService",void 0),t=l([Object(i.Bean)("filterStage")],t)}(),h=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},p=function(){function t(){}return t.prototype.execute=function(t){var e=this.sortController.getSortForRowController(),n=i._.exists(e)&&e.length>0,r=n&&i._.exists(t.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),o=r?this.calculateDirtyNodes(t.rowNodeTransactions):null,s=this.columnController.getValueColumns(),a=i._.missingOrEmpty(s);this.sortService.sort(e,n,r,o,t.changedPath,a)},t.prototype.calculateDirtyNodes=function(t){var e={},n=function(t){t&&t.forEach((function(t){return e[t.id]=!0}))};return t.forEach((function(t){n(t.add),n(t.update),n(t.remove)})),e},h([Object(i.Autowired)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),h([Object(i.Autowired)("sortService")],t.prototype,"sortService",void 0),h([Object(i.Autowired)("sortController")],t.prototype,"sortController",void 0),h([Object(i.Autowired)("columnController")],t.prototype,"columnController",void 0),t=h([Object(i.Bean)("sortStage")],t)}(),d=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},f=function(){function t(){}return t.prototype.execute=function(t){var e=t.rowNode,n=[],r={value:0},i=this.columnController.isPivotMode(),o=i&&e.leafGroup,s=o?[e]:e.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(s,n,r,i,0),!o&&n.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(e),this.addRowNodeToRowsToDisplay(e.sibling,n,r,0)),n},t.prototype.recursivelyAddToRowsToDisplay=function(t,e,n,r,o){if(!i._.missingOrEmpty(t))for(var s=this.gridOptionsWrapper.isGroupSuppressRow(),a=this.gridOptionsWrapper.isGroupHideOpenParents(),u=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),l=!u&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),c=0;c<t.length;c++){var h=t[c],p=h.hasChildren(),d=s&&p,f=r&&!p,g=u&&p&&1===h.childrenAfterGroup.length,v=l&&p&&h.leafGroup&&1===h.childrenAfterGroup.length,m=r&&h.leafGroup,y=a&&h.expanded&&!m;if(!f&&!d&&!y&&!g&&!v&&this.addRowNodeToRowsToDisplay(h,e,n,o),!r||!h.leafGroup)if(p){var b=g||v;if(h.expanded||b){var w=b?o:o+1;this.recursivelyAddToRowsToDisplay(h.childrenAfterSort,e,n,r,w),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(h),this.addRowNodeToRowsToDisplay(h.sibling,e,n,o))}}else if(h.master&&h.expanded){var C=this.createDetailNode(h);this.addRowNodeToRowsToDisplay(C,e,n,o)}}},t.prototype.addRowNodeToRowsToDisplay=function(t,e,n,r){e.push(t);var i=this.gridOptionsWrapper.isGroupMultiAutoColumn();t.setUiLevel(i?0:r)},t.prototype.ensureFooterNodeExists=function(t){if(!i._.exists(t.sibling)){var e=new i.RowNode;this.context.wireBean(e),Object.keys(t).forEach((function(n){e[n]=t[n]})),e.footer=!0,e.rowTop=null,e.oldRowTop=null,i._.exists(e.id)&&(e.id="rowGroupFooter_"+e.id),e.sibling=t,t.sibling=e}},t.prototype.createDetailNode=function(t){if(i._.exists(t.detailNode))return t.detailNode;var e=new i.RowNode;return this.context.wireBean(e),e.detail=!0,e.selectable=!1,e.flower=e.detail,e.parent=t,i._.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,t.childFlower=t.detailNode,e},d([Object(i.Autowired)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),d([Object(i.Autowired)("selectionController")],t.prototype,"selectionController",void 0),d([Object(i.Autowired)("eventService")],t.prototype,"eventService",void 0),d([Object(i.Autowired)("context")],t.prototype,"context",void 0),d([Object(i.Autowired)("columnController")],t.prototype,"columnController",void 0),t=d([Object(i.Bean)("flattenStage")],t)}(),g=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},v=function(){function t(){}return t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(t,e,n,r,i,o){var s=this;i.forEachChangedNodeDepthFirst((function(a){if(s.pullDownGroupDataForHideOpenParents(a.childrenAfterFilter,!0),e){var u=n?s.doDeltaSort(a,t,r,i,o):s.doFullSort(a,t);a.childrenAfterSort=u.map((function(t){return t.rowNode}))}else a.childrenAfterSort=a.childrenAfterFilter.slice(0);s.updateChildIndexes(a),s.postSortFunc&&s.postSortFunc(a.childrenAfterSort)})),this.updateGroupDataForHiddenOpenParents(i)},t.prototype.doFullSort=function(t,e){var n=t.childrenAfterFilter.map(this.mapNodeToSortedNode.bind(this));return n.sort(this.compareRowNodes.bind(this,e)),n},t.prototype.mapNodeToSortedNode=function(t,e){return{currentPos:e,rowNode:t}},t.prototype.doDeltaSort=function(t,e,n,r,i){var o=t.childrenAfterSort.filter((function(t){var e=!n[t.id],o=i||r.canSkip(t);return e&&o})).map(this.mapNodeToSortedNode.bind(this)),s={};o.forEach((function(t){return s[t.rowNode.id]=t.rowNode}));var a=t.childrenAfterFilter.filter((function(t){return!s[t.id]})).map(this.mapNodeToSortedNode.bind(this));return a.sort(this.compareRowNodes.bind(this,e)),0===a.length?o:0===o.length?a:this.mergeSortedArrays(e,o,a)},t.prototype.mergeSortedArrays=function(t,e,n){for(var r=[],i=0,o=0;i<e.length&&o<n.length;){this.compareRowNodes(t,e[i],n[o])<0?r.push(e[i++]):r.push(n[o++])}for(;i<e.length;)r.push(e[i++]);for(;o<n.length;)r.push(n[o++]);return r},t.prototype.compareRowNodes=function(t,e,n){for(var r=e.rowNode,o=n.rowNode,s=0,a=t.length;s<a;s++){var u=t[s],l=-1===u.inverter,c=this.getValue(r,u.column),h=this.getValue(o,u.column),p=void 0;if(0!==(p=u.column.getColDef().comparator?u.column.getColDef().comparator(c,h,r,o,l):i._.defaultComparator(c,h,this.gridOptionsWrapper.isAccentedSort())))return p*u.inverter}return e.currentPos-n.currentPos},t.prototype.getValue=function(t,e){return this.valueService.getValue(e,t)},t.prototype.updateChildIndexes=function(t){if(!i._.missing(t.childrenAfterSort))for(var e=t.childrenAfterSort,n=0;n<e.length;n++){var r=e[n],o=0===n,s=n===t.childrenAfterSort.length-1;r.setFirstChild(o),r.setLastChild(s),r.setChildIndex(n)}},t.prototype.updateGroupDataForHiddenOpenParents=function(t){var e=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){t.executeFromRootNode((function(t){return function t(n){e.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach((function(e){e.hasChildren()&&t(e)}))}(t)}))}},t.prototype.pullDownGroupDataForHideOpenParents=function(t,e){var n=this;i._.missing(t)||this.gridOptionsWrapper.isGroupHideOpenParents()&&t.forEach((function(t){n.columnController.getGroupDisplayColumns().forEach((function(r){var i=r.getColDef().showRowGroup;if("string"===typeof i){var o=i,s=n.columnController.getPrimaryColumn(o);if(!(s===t.rowGroupColumn))if(e)t.setGroupValue(r.getId(),null);else{var a=t.getFirstChildOfFirstChild(s);a&&t.setGroupValue(r.getId(),a.key)}}else console.error("ag-Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},g([Object(i.Autowired)("sortController")],t.prototype,"sortController",void 0),g([Object(i.Autowired)("columnController")],t.prototype,"columnController",void 0),g([Object(i.Autowired)("valueService")],t.prototype,"valueService",void 0),g([Object(i.Autowired)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),g([i.PostConstruct],t.prototype,"init",null),t=g([Object(i.Bean)("sortService")],t)}(),m=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},y=function(){function t(){}return t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(t){var e=this.filterManager.isAnyFilterPresent();this.filterNodes(e,t)},t.prototype.filterNodes=function(t,e){var n=this,r=function(e,r){e.hasChildren()?(e.childrenAfterFilter=t&&!r?e.childrenAfterGroup.filter((function(t){var e=t.childrenAfterFilter&&t.childrenAfterFilter.length>0,r=t.data&&n.filterManager.doesRowPassFilter(t);return e||r})):e.childrenAfterGroup,n.setAllChildrenCount(e)):(e.childrenAfterFilter=e.childrenAfterGroup,e.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){e.executeFromRootNode((function(t){return function t(e,i){if(e.childrenAfterGroup)for(var o=0;o<e.childrenAfterGroup.length;o++){var s=e.childrenAfterGroup[o],a=i||n.filterManager.doesRowPassFilter(s);s.childrenAfterGroup?t(e.childrenAfterGroup[o],a):r(s,a)}r(e,i)}(t,!1)}))}else{e.forEachChangedNodeDepthFirst((function(t){return r(t,!1)}),!0)}},t.prototype.setAllChildrenCountTreeData=function(t){var e=0;t.childrenAfterFilter.forEach((function(t){e++,e+=t.allChildrenCount})),t.setAllChildrenCount(e)},t.prototype.setAllChildrenCountGridGrouping=function(t){var e=0;t.childrenAfterFilter.forEach((function(t){t.group?e+=t.allChildrenCount:e++})),t.setAllChildrenCount(e)},t.prototype.setAllChildrenCount=function(t){this.doingTreeData?this.setAllChildrenCountTreeData(t):this.setAllChildrenCountGridGrouping(t)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},m([Object(i.Autowired)("filterManager")],t.prototype,"filterManager",void 0),m([Object(i.Autowired)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),m([i.PostConstruct],t.prototype,"postConstruct",null),t=m([Object(i.Bean)("filterService")],t)}(),b=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},w=function(){function t(){}return t.prototype.postConstruct=function(){this.rowModel.getType()===i.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.createTransactionForRowData=function(t){if(i._.missing(this.clientSideRowModel))console.error("ag-Grid: ImmutableService only works with ClientSideRowModel");else{var e=this.gridOptionsWrapper.getRowNodeIdFunc();if(e&&!i._.missing(e)){var n={remove:[],update:[],add:[]},r=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return i._.exists(t)&&t.forEach((function(t,i){var s=e(t),a=r[s];(o&&(o[s]=i),a)?(a.data!==t&&n.update.push(t),r[s]=void 0):n.add.push(t)})),i._.iterateObject(r,(function(t,e){e&&n.remove.push(e.data)})),[n,o]}console.error("ag-Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},b([Object(i.Autowired)("rowModel")],t.prototype,"rowModel",void 0),b([Object(i.Autowired)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),b([i.PostConstruct],t.prototype,"postConstruct",null),t=b([Object(i.Bean)("immutableService")],t)}(),C={moduleName:i.ModuleNames.ClientSideRowModelModule,beans:[c,p,f,v,y,w],rowModels:{clientSide:u}},E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},O=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.cacheParams=n,r}return E(e,t),e.prototype.createBlankRowNode=function(e){var n=t.prototype.createBlankRowNode.call(this,e);return n.uiLevel=0,this.setIndexAndTopOnRowNode(n,e),n},e.prototype.setDataAndId=function(t,e,n){i._.exists(e)?t.setDataAndId(e,n.toString()):t.setDataAndId(void 0,void 0)},e.prototype.setRowNode=function(e,n){t.prototype.setRowNode.call(this,e,n),this.setIndexAndTopOnRowNode(n,e)},e.prototype.init=function(){t.prototype.init.call(this,{context:this.getContext(),rowRenderer:this.rowRenderer})},e.prototype.getNodeIdPrefix=function(){return null},e.prototype.getRow=function(t){return this.getRowUsingLocalIndex(t)},e.prototype.setIndexAndTopOnRowNode=function(t,e){t.setRowIndex(e),t.rowTop=this.cacheParams.rowHeight*e},e.prototype.loadFromDatasource=function(){var t=this,e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this),sortModel:this.cacheParams.sortModel,filterModel:this.cacheParams.filterModel,context:this.gridOptionsWrapper.getContext()};i._.missing(this.cacheParams.datasource.getRows)?console.warn("ag-Grid: datasource is missing getRows method"):window.setTimeout((function(){t.cacheParams.datasource.getRows(e)}),0)},_([Object(i.Autowired)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),_([Object(i.Autowired)("rowRenderer")],e.prototype,"rowRenderer",void 0),_([i.PostConstruct],e.prototype,"init",null),e}(i.RowNodeBlock),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},R=function(t,e){return function(n,r){e(n,r,t)}},P=function(t){function e(e){return t.call(this,e)||this}return T(e,t),e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.init=function(){t.prototype.init.call(this),this.getRow(0)},e.prototype.moveItemsDown=function(t,e,n){for(var r=t.getStartRow(),i=e+n,o=t.getEndRow()-1;o>=r;o--)if(!(o<i)){var s=o-n,a=this.getRow(s,!0);a?t.setRowNode(o,a):(t.setBlankRowNode(o),t.setDirty())}},e.prototype.insertItems=function(t,e,n){for(var r=t.getStartRow(),i=t.getEndRow(),o=[],s=0;s<n.length;s++){var a=e+s;if(a>=r&&a<i){var u=n[s],l=t.setNewData(a,u);o.push(l)}}return o},e.prototype.insertItemsAtIndex=function(t,e){var n=this,r=[];this.forEachBlockInReverseOrder((function(i){i.getEndRow()<=t||(n.moveItemsDown(i,t,e.length),n.insertItems(i,t,e).forEach((function(t){return r.push(t)})))})),this.isMaxRowFound()&&this.hack_setVirtualRowCount(this.getVirtualRowCount()+e.length),this.onCacheUpdated();var o={type:i.Events.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(o)},e.prototype.getRow=function(t,e){void 0===e&&(e=!1);var n=Math.floor(t/this.cacheParams.blockSize),r=this.getBlock(n);if(!r){if(e)return null;r=this.createBlock(n)}return r.getRow(t)},e.prototype.createBlock=function(t){var e=new O(t,this.cacheParams);return this.getContext().wireBean(e),this.postCreateBlock(e),e},e.prototype.refreshCache=function(){this.forEachBlockInOrder((function(t){return t.setDirty()})),this.checkBlockToLoad()},S([Object(i.Autowired)("eventService")],e.prototype,"eventService",void 0),S([Object(i.Autowired)("columnApi")],e.prototype,"columnApi",void 0),S([Object(i.Autowired)("gridApi")],e.prototype,"gridApi",void 0),S([R(0,Object(i.Qualifier)("loggerFactory"))],e.prototype,"setBeans",null),S([i.PostConstruct],e.prototype,"init",null),e}(i.RowNodeCache),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,e,n,r){return!1},e.prototype.init=function(){var t=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return t.destroyCache()})))},e.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},e.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.isLastRowFound=function(){return!!this.infiniteCache&&this.infiniteCache.isMaxRowFound()},e.prototype.addEventListeners=function(){this.addDestroyableEventListener(this.eventService,i.Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addDestroyableEventListener(this.eventService,i.Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addDestroyableEventListener(this.eventService,i.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverything.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},e.prototype.isSortModelDifferent=function(){return!i._.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return i.Constants.ROW_MODEL_TYPE_INFINITE},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&(this.checkForDeprecated(),this.reset())},e.prototype.checkForDeprecated=function(){var t=this.datasource;i._.exists(t.maxConcurrentRequests)&&console.error("ag-Grid: since version 5.1.x, maxConcurrentRequests is replaced with grid property maxConcurrentDatasourceRequests"),i._.exists(t.maxPagesInCache)&&console.error("ag-Grid: since version 5.1.x, maxPagesInCache is replaced with grid property maxPagesInPaginationCache"),i._.exists(t.overflowSize)&&console.error("ag-Grid: since version 5.1.x, overflowSize is replaced with grid property paginationOverflowSize"),i._.exists(t.blockSize)&&console.error("ag-Grid: since version 5.1.x, pageSize/blockSize is replaced with grid property infinitePageSize")},e.prototype.isEmpty=function(){return i._.missing(this.infiniteCache)},e.prototype.isRowsToRender=function(){return i._.exists(this.infiniteCache)},e.prototype.getNodesInRangeForSelection=function(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]},e.prototype.reset=function(){if(!i._.missing(this.datasource)){i._.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionController.reset(),this.resetCache();var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}},e.prototype.createModelUpdatedEvent=function(){return{type:i.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!1,animate:!1}},e.prototype.resetCache=function(){this.destroyCache();var t=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests(),e=this.gridOptionsWrapper.getBlockLoadDebounceMillis();this.rowNodeBlockLoader=new i.RowNodeBlockLoader(t,e),this.getContext().wireBean(this.rowNodeBlockLoader),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:t,overflowSize:this.gridOptionsWrapper.getCacheOverflowSize(),initialRowCount:this.gridOptionsWrapper.getInfiniteInitialRowCount(),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),blockSize:this.gridOptionsWrapper.getCacheBlockSize(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),lastAccessedSequence:new i.NumberSequence},this.cacheParams.maxConcurrentRequests&&this.cacheParams.maxConcurrentRequests>=1||(this.cacheParams.maxConcurrentRequests=2),this.cacheParams.blockSize&&this.cacheParams.blockSize>=1||(this.cacheParams.blockSize=100),this.cacheParams.initialRowCount>=1||(this.cacheParams.initialRowCount=0),this.cacheParams.overflowSize>=1||(this.cacheParams.overflowSize=1),this.infiniteCache=new P(this.cacheParams),this.getContext().wireBean(this.infiniteCache),this.infiniteCache.addEventListener(i.RowNodeCache.EVENT_CACHE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache.destroy(),this.infiniteCache=null),this.rowNodeBlockLoader&&(this.rowNodeBlockLoader.destroy(),this.rowNodeBlockLoader=null)},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){return this.infiniteCache?this.infiniteCache.getRow(t):null},e.prototype.getRowNode=function(t){var e=null;return this.forEachNode((function(n){n.id===t&&(e=n)})),e},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t,new i.NumberSequence)},e.prototype.getCurrentPageHeight=function(){return this.getRowCount()*this.rowHeight},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(0!==this.rowHeight){var e=Math.floor(t/this.rowHeight),n=this.getRowCount()-1;return e>n?n:e}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():0},e.prototype.updateRowData=function(t){i._.exists(t.remove)||i._.exists(t.update)?console.warn("ag-Grid: updateRowData for InfiniteRowModel does not support remove or update, only add"):i._.missing(t.addIndex)?console.warn("ag-Grid: updateRowData for InfiniteRowModel requires add and addIndex to be set"):this.infiniteCache&&this.infiniteCache.insertItemsAtIndex(t.addIndex,t.add)},e.prototype.isRowPresent=function(t){return!1},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.getVirtualRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():null},e.prototype.isMaxRowFound=function(){if(this.infiniteCache)return this.infiniteCache.isMaxRowFound()},e.prototype.setVirtualRowCount=function(t,e){this.infiniteCache&&this.infiniteCache.setVirtualRowCount(t,e)},e.prototype.getBlockState=function(){return this.rowNodeBlockLoader?this.rowNodeBlockLoader.getBlockState():null},A([Object(i.Autowired)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),A([Object(i.Autowired)("filterManager")],e.prototype,"filterManager",void 0),A([Object(i.Autowired)("sortController")],e.prototype,"sortController",void 0),A([Object(i.Autowired)("selectionController")],e.prototype,"selectionController",void 0),A([Object(i.Autowired)("eventService")],e.prototype,"eventService",void 0),A([Object(i.Autowired)("gridApi")],e.prototype,"gridApi",void 0),A([Object(i.Autowired)("columnApi")],e.prototype,"columnApi",void 0),A([Object(i.Autowired)("rowRenderer")],e.prototype,"rowRenderer",void 0),A([i.PostConstruct],e.prototype,"init",null),A([i.PreDestroy],e.prototype,"destroyDatasource",null),e=A([Object(i.Bean)("rowModel")],e)}(i.BeanStub),I={moduleName:i.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:D}},N=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},k=function(){function t(t){var e=t.columnController,n=t.valueService,r=t.gridOptionsWrapper,i=t.processCellCallback,o=t.processHeaderCallback,s=t.processGroupHeaderCallback,a=t.processRowGroupCallback;this.columnController=e,this.valueService=n,this.gridOptionsWrapper=r,this.processCellCallback=i,this.processHeaderCallback=o,this.processGroupHeaderCallback=s,this.processRowGroupCallback=a}return t.prototype.prepare=function(t){this.firstGroupColumn=i._.find(t,(function(t){return!!t.getColDef().showRowGroup}))},t.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},t.prototype.extractRowCellValue=function(t,e,n,r){var i;i=r&&r.group&&(t===this.firstGroupColumn||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(r):this.valueService.getValue(t,r);var o=this.processCell(r,t,i,this.processCellCallback,n);return null!=o?o:""},t.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(e,"csv",!0)},t.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});for(var e=[t.key];t.parent;)t=t.parent,e.push(t.key);return e.reverse().join(" -> ")},t.prototype.processCell=function(t,e,n,r,i){return r?r({column:e,node:t,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:i}):n},t}(),L=function(){function t(){}return t.prototype.serialize=function(t,e){void 0===e&&(e={});var n=e.shouldRowBeSkipped||function(){return!1},r=this.gridOptionsWrapper.getApi(),o=this.gridOptionsWrapper.getColumnApi(),s=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),a=this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),u=this.gridOptionsWrapper.getContext(),l=this.columnController.isPivotMode(),c=this.rowModel.getType()===i.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,h=!c&&e.onlySelected,p=[];if(p=i._.existsAndNotEmpty(e.columnKeys)?this.columnController.getGridColumns(e.columnKeys):e.allColumns&&!l?(p=this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([i.Constants.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns(),e.customHeader&&t.addCustomContent(e.customHeader),t.prepare(p),e.columnGroups){var d=new i.GroupInstanceIdCreator,f=this.displayedGroupCreator.createDisplayedGroups(p,this.columnController.getGridBalancedTree(),d,null);this.recursivelyAddHeaderGroups(f,t,e.processGroupHeaderCallback)}if(!e.skipHeader){var g=t.onNewHeaderRow();p.forEach((function(t,e){g.onColumn(t,e,void 0)}))}(this.pinnedRowModel.forEachPinnedTopRow(v),l)?this.rowModel.forEachPivotNode?this.rowModel.forEachPivotNode(v):this.rowModel.forEachNode(v):e.onlySelectedAllPages||h?this.selectionController.getSelectedNodes().forEach((function(t){v(t)})):c?this.rowModel.forEachNodeAfterFilterAndSort(v):this.rowModel.forEachNode(v);function v(i){var l=a&&i.leafGroup,c=1===i.allChildrenCount&&(s||l);if((!i.group||!e.skipGroups&&!c)&&((!e.skipFooters||!i.footer)&&(!e.onlySelected||i.isSelected())&&(!e.skipPinnedTop||"top"!==i.rowPinned)&&(!e.skipPinnedBottom||"bottom"!==i.rowPinned)&&(!(-1===i.level)||i.leafGroup)&&!n({node:i,api:r,context:u}))){var h=t.onNewBodyRow();if(p.forEach((function(t,e){h.onColumn(t,e,i)})),e.getCustomContentBelowRow){var d=e.getCustomContentBelowRow({node:i,api:r,columnApi:o,context:u});d&&t.addCustomContent(d)}}}return this.pinnedRowModel.forEachPinnedBottomRow(v),e.customFooter&&t.addCustomContent(e.customFooter),t.parse()},t.prototype.recursivelyAddHeaderGroups=function(t,e,n){var r=[];t.forEach((function(t){var e=t;e.getChildren&&e.getChildren().forEach((function(t){return r.push(t)}))})),t.length>0&&t[0]instanceof i.ColumnGroup&&this.doAddHeaderHeader(e,t,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,e,n)},t.prototype.doAddHeaderHeader=function(t,e,n){var r=this,i=t.onNewHeaderGroupingRow(),o=0;e.forEach((function(t){var e,s=t;e=n?n({columnGroup:s,api:r.gridOptionsWrapper.getApi(),columnApi:r.gridOptionsWrapper.getColumnApi(),context:r.gridOptionsWrapper.getContext()}):r.columnController.getDisplayNameForColumnGroup(s,"header"),i.onColumn(e||"",o++,s.getLeafColumns().length-1)}))},N([Object(i.Autowired)("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),N([Object(i.Autowired)("columnController")],t.prototype,"columnController",void 0),N([Object(i.Autowired)("rowModel")],t.prototype,"rowModel",void 0),N([Object(i.Autowired)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),N([Object(i.Autowired)("selectionController")],t.prototype,"selectionController",void 0),N([Object(i.Autowired)("columnFactory")],t.prototype,"columnFactory",void 0),N([Object(i.Autowired)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=N([Object(i.Bean)("gridSerializer")],t)}();!function(t){t[t.HEADER_GROUPING=0]="HEADER_GROUPING",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"}(a||(a={}));var M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},j=function(t){function e(e){var n=t.call(this,e)||this;n.isFirstLine=!0,n.result="";var r=e.suppressQuotes,i=e.columnSeparator;return n.suppressQuotes=r,n.columnSeparator=i,n}return M(e,t),e.prototype.addCustomContent=function(t){var e=this;t&&("string"===typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach((function(t){e.beginNewLine(),t.forEach((function(t,n){0!==n&&(e.result+=e.columnSeparator),e.result+=e.putInQuotes(t.data.value||""),t.mergeAcross&&e.appendEmptyCells(t.mergeAcross)}))})))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)},e.prototype.appendEmptyCells=function(t){for(var e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(t,e,i.Constants.EXPORT_TYPE_CSV,n))},e.prototype.putInQuotes=function(t){return this.suppressQuotes?t:null===t||void 0===t?'""':("string"===typeof t?e=t:"function"===typeof t.toString?e=t.toString():(console.warn("unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"');var e},e.prototype.parse=function(){return this.result+"\r\n"},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},e}(k),G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t){return this.getData(t)},e.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var e=this.columnController,n=this.valueService,r=this.gridOptionsWrapper,i=t.processCellCallback,o=t.processHeaderCallback,s=t.processGroupHeaderCallback,a=t.processRowGroupCallback,u=t.suppressQuotes,l=t.columnSeparator;return new j({columnController:e,valueService:n,gridOptionsWrapper:r,processCellCallback:i||void 0,processHeaderCallback:o||void 0,processGroupHeaderCallback:s||void 0,processRowGroupCallback:a||void 0,suppressQuotes:u||!1,columnSeparator:l||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},F([Object(i.Autowired)("columnController")],e.prototype,"columnController",void 0),F([Object(i.Autowired)("valueService")],e.prototype,"valueService",void 0),F([Object(i.Autowired)("downloader")],e.prototype,"downloader",void 0),F([Object(i.Autowired)("gridSerializer")],e.prototype,"gridSerializer",void 0),F([Object(i.Autowired)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),F([i.PostConstruct],e.prototype,"postConstruct",null),e=F([Object(i.Bean)("csvCreator")],e)}(function(){function t(){}return t.prototype.setBeans=function(t){this.beans=t},t.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParamsAndData(t),n=e.mergedParams,r=e.data,i=n&&n.fileName&&0!==n.fileName.length?n.fileName:this.getDefaultFileName();return-1===i.indexOf(".")&&(i=i+"."+this.getDefaultFileExtension()),this.beans.downloader.download(i,this.packageFile(r)),r},t.prototype.getData=function(t){return this.getMergedParamsAndData(t).data},t.prototype.getMergedParamsAndData=function(t){var e=this.mergeDefaultParams(t);return{mergedParams:e,data:this.beans.gridSerializer.serialize(this.createSerializingSession(e),e)}},t.prototype.mergeDefaultParams=function(t){var e=this.beans.gridOptionsWrapper.getDefaultExportParams(),n={};return i._.assign(n,e),i._.assign(n,t),n},t.prototype.packageFile=function(t){return new Blob(["\ufeff",t],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"})},t}()),V=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},W=function(){function t(){}return t.prototype.download=function(t,e){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var n=document.createElement("a"),r=window.URL.createObjectURL(e);n.setAttribute("href",r),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window})),document.body.removeChild(n),window.setTimeout((function(){window.URL.revokeObjectURL(r)}),0)}},t=V([Object(i.Bean)("downloader")],t)}(),B=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},H=function(){function t(){}return t.prototype.createHeader=function(t){void 0===t&&(t={});var e=["version"];return t.version||(t.version="1.0"),t.encoding&&e.push("encoding"),t.standalone&&e.push("standalone"),"<?xml "+e.map((function(e){return e+'="'+t[e]+'"'})).join(" ")+" ?>"},t.prototype.createXml=function(t,e){var n=this,r="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach((function(t){Object.keys(t.map).forEach((function(i){r+=n.returnAttributeIfPopulated(t.prefix+i,t.map[i],e)}))})),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach((function(i){r+=n.returnAttributeIfPopulated(i,t.properties.rawMap[i],e)})));var i="<"+t.name+r;return t.children||null!=t.textNode?null!=t.textNode?i+">"+t.textNode+"</"+t.name+">\r\n":(i+=">\r\n",t.children&&t.children.forEach((function(t){i+=n.createXml(t,e)})),i+"</"+t.name+">\r\n"):i+"/>\r\n"},t.prototype.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var r=e;return"boolean"===typeof e&&n&&(r=n(e))," "+t+'="'+r+'"'},t=B([Object(i.Bean)("xmlFactory")],t)}(),U=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},z=[0,1996959894,-301047508,-1727442502,124634137,1886057615,-379345611,-1637575261,249268274,2044508324,-522852066,-1747789432,162941995,2125561021,-407360249,-1866523247,498536548,1789927666,-205950648,-2067906082,450548861,1843258603,-187386543,-2083289657,325883990,1684777152,-43845254,-1973040660,335633487,1661365465,-99664541,-1928851979,997073096,1281953886,-715111964,-1570279054,1006888145,1258607687,-770865667,-1526024853,901097722,1119000684,-608450090,-1396901568,853044451,1172266101,-589951537,-1412350631,651767980,1373503546,-925412992,-1076862698,565507253,1454621731,-809855591,-1195530993,671266974,1594198024,-972236366,-1324619484,795835527,1483230225,-1050600021,-1234817731,1994146192,31158534,-1731059524,-271249366,1907459465,112637215,-1614814043,-390540237,2013776290,251722036,-1777751922,-519137256,2137656763,141376813,-1855689577,-429695999,1802195444,476864866,-2056965928,-228458418,1812370925,453092731,-2113342271,-183516073,1706088902,314042704,-1950435094,-54949764,1658658271,366619977,-1932296973,-69972891,1303535960,984961486,-1547960204,-725929758,1256170817,1037604311,-1529756563,-740887301,1131014506,879679996,-1385723834,-631195440,1141124467,855842277,-1442165665,-586318647,1342533948,654459306,-1106571248,-921952122,1466479909,544179635,-1184443383,-832445281,1591671054,702138776,-1328506846,-942167884,1504918807,783551873,-1212326853,-1061524307,-306674912,-1698712650,62317068,1957810842,-355121351,-1647151185,81470997,1943803523,-480048366,-1805370492,225274430,2053790376,-468791541,-1828061283,167816743,2097651377,-267414716,-2029476910,503444072,1762050814,-144550051,-2140837941,426522225,1852507879,-19653770,-1982649376,282753626,1742555852,-105259153,-1900089351,397917763,1622183637,-690576408,-1580100738,953729732,1340076626,-776247311,-1497606297,1068828381,1219638859,-670225446,-1358292148,906185462,1090812512,-547295293,-1469587627,829329135,1181335161,-882789492,-1134132454,628085408,1382605366,-871598187,-1156888829,570562233,1426400815,-977650754,-1296233688,733239954,1555261956,-1026031705,-1244606671,752459403,1541320221,-1687895376,-328994266,1969922972,40735498,-1677130071,-351390145,1913087877,83908371,-1782625662,-491226604,2075208622,213261112,-1831694693,-438977011,2094854071,198958881,-2032938284,-237706686,1759359992,534414190,-2118248755,-155638181,1873836001,414664567,-2012718362,-15766928,1711684554,285281116,-1889165569,-127750551,1634467795,376229701,-1609899400,-686959890,1308918612,956543938,-1486412191,-799009033,1231636301,1047427035,-1362007478,-640263460,1088359270,936918e3,-1447252397,-558129467,1202900863,817233897,-1111625188,-893730166,1404277552,615818150,-1160759803,-841546093,1423857449,601450431,-1285129682,-1000256840,1567103746,711928724,-1274298825,-1022587231,1510334235,755167117],q=function(){function t(){var t=this;this.folders=[],this.files=[],this.addFolder=function(e){t.folders.push({path:e,created:new Date})}}return t.prototype.addFolders=function(t){t.forEach(this.addFolder)},t.prototype.addFile=function(t,e){this.files.push({path:t,created:new Date,content:e})},t.prototype.clearStream=function(){this.folders=[],this.files=[]},t.prototype.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},t.prototype.buildFileStream=function(t){void 0===t&&(t="");for(var e=this.folders.concat(this.files),n=e.length,r="",i=0,o=0,s=0,a=e;s<a.length;s++){var u=a[s],l=this.getHeader(u,i),c=l.fileHeader,h=l.folderHeader,p=l.content;i+=c.length+p.length,o+=h.length,t+=c+p,r+=h}return t+r+this.buildFolderEnd(n,o,i)},t.prototype.getHeader=function(t,e){var n=t.content,r=t.path,o=t.created,s=i._.utf8_encode,a=i._.decToHex,u=s(r),l=u!==r,c=this.convertTime(o),h=this.convertDate(o),p="";if(l){var d=a(1,1)+a(this.getFromCrc32Table(u),4)+u;p="up"+a(d.length,2)+d}var f="\n\0"+(l?"\0\b":"\0\0")+"\0\0"+a(c,2)+a(h,2)+a(n?this.getFromCrc32Table(n):0,4)+a(n?n.length:0,4)+a(n?n.length:0,4)+a(u.length,2)+a(p.length,2);return{fileHeader:"PK\x03\x04"+f+u+p,folderHeader:"PK\x01\x02\x14\0"+f+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+a(e,4)+u+p,content:n||""}},t.prototype.buildFolderEnd=function(t,e,n){var r=i._.decToHex;return"PK\x05\x06\0\0\0\0"+r(t,2)+r(t,2)+r(e,4)+r(n,4)+"\0\0"},t.prototype.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},t.prototype.getFromCrc32Table=function(t,e){if(void 0===e&&(e=0),!t.length)return 0;e^=-1;for(var n=0,r=0;r<t.length;r++)n=t.charCodeAt(r),e=e>>>8^z[255&(e^n)];return-1^e},t.prototype.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),e<<=5,e|=t.getSeconds()/2},t.prototype.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,e<<=5,e|=t.getDate()},t=U([Object(i.Bean)("zipContainer")],t)}(),K={moduleName:i.ModuleNames.CsvExportModule,beans:[G,W,H,L,q]};n.d(e,"a",(function(){return Y}));var Y=[C,I,K]},,function(t,e,n){"use strict";var r=n(154),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function m(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||y}function C(){}function E(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(m(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},C.prototype=w.prototype;var _=E.prototype=new C;_.constructor=E,r(_,w.prototype),_.isPureReactComponent=!0;var O={current:null},T=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function R(t,e,n){var r,i={},s=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)T.call(e,r)&&!S.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:s,ref:a,props:i,_owner:O.current}}function P(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var x=/\/+/g,A=[];function D(t,e,n,r){if(A.length){var i=A.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function I(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>A.length&&A.push(t)}function N(t,e,n){return null==t?0:function t(e,n,r,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case s:u=!0}}if(u)return r(i,e,""===n?"."+k(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+k(a=e[l],l);u+=t(a,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=v&&e[v]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(a=e.next()).done;)u+=t(a=a.value,c=n+k(a,l++),r,i);else if("object"===a)throw r=""+e,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function k(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function M(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(P(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(x,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(x,"$&/")+"/"),N(t,M,e=D(e,o,r,i)),I(e)}var j={current:null};function G(){var t=j.current;if(null===t)throw Error(m(321));return t}var V={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;N(t,L,e=D(null,null,e,n)),I(e)},count:function(t){return N(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!P(t))throw Error(m(143));return t}},e.Component=w,e.Fragment=a,e.Profiler=l,e.PureComponent=E,e.StrictMode=u,e.Suspense=d,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(m(267,t));var i=r({},t.props),s=t.key,a=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,u=O.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)T.call(e,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:t.type,key:s,ref:a,props:i,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=R,e.createFactory=function(t){var e=R.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:p,render:t}},e.isValidElement=P,e.lazy=function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:f,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return G().useCallback(t,e)},e.useContext=function(t,e){return G().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return G().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return G().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return G().useLayoutEffect(t,e)},e.useMemo=function(t,e){return G().useMemo(t,e)},e.useReducer=function(t,e,n){return G().useReducer(t,e,n)},e.useRef=function(t){return G().useRef(t)},e.useState=function(t){return G().useState(t)},e.version="16.14.0"},function(t,e,n){"use strict";var r=n(4),i=n(154),o=n(184);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));function a(t,e,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,h=null,p={onError:function(t){u=!0,l=t}};function d(t,e,n,r,i,o,s,c,h){u=!1,l=null,a.apply(p,arguments)}var f=null,g=null,v=null;function m(t,e,n){var r=t.type||"unknown-event";t.currentTarget=v(n),function(t,e,n,r,i,o,a,p,f){if(d.apply(this,arguments),u){if(!u)throw Error(s(198));var g=l;u=!1,l=null,c||(c=!0,h=g)}}(r,e,void 0,t),t.currentTarget=null}var y=null,b={};function w(){if(y)for(var t in b){var e=b[t],n=y.indexOf(t);if(!(-1<n))throw Error(s(96,t));if(!E[n]){if(!e.extractEvents)throw Error(s(97,t));for(var r in E[n]=e,n=e.eventTypes){var i=void 0,o=n[r],a=e,u=r;if(_.hasOwnProperty(u))throw Error(s(99,u));_[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&C(l[i],a,u);i=!0}else o.registrationName?(C(o.registrationName,a,u),i=!0):i=!1;if(!i)throw Error(s(98,r,t))}}}}function C(t,e,n){if(O[t])throw Error(s(100,t));O[t]=e,T[t]=e.eventTypes[n].dependencies}var E=[],_={},O={},T={};function S(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!b.hasOwnProperty(e)||b[e]!==r){if(b[e])throw Error(s(102,e));b[e]=r,n=!0}}n&&w()}var R=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),P=null,x=null,A=null;function D(t){if(t=g(t)){if("function"!==typeof P)throw Error(s(280));var e=t.stateNode;e&&(e=f(e),P(t.stateNode,t.type,e))}}function I(t){x?A?A.push(t):A=[t]:x=t}function N(){if(x){var t=x,e=A;if(A=x=null,D(t),e)for(t=0;t<e.length;t++)D(e[t])}}function k(t,e){return t(e)}function L(t,e,n,r,i){return t(e,n,r,i)}function M(){}var F=k,j=!1,G=!1;function V(){null===x&&null===A||(M(),N())}function W(t,e,n){if(G)return t(e,n);G=!0;try{return F(t,e,n)}finally{G=!1,V()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H=Object.prototype.hasOwnProperty,U={},z={};function q(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){K[t]=new q(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];K[e]=new q(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){K[t]=new q(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){K[t]=new q(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){K[t]=new q(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){K[t]=new q(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){K[t]=new q(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){K[t]=new q(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){K[t]=new q(t,5,!1,t.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Y,X);K[e]=new q(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Y,X);K[e]=new q(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Y,X);K[e]=new q(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){K[t]=new q(t,1,!1,t.toLowerCase(),null,!1)})),K.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){K[t]=new q(t,1,!1,t.toLowerCase(),null,!0)}));var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(t,e,n,r){var i=K.hasOwnProperty(e)?K[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!H.call(z,t)||!H.call(U,t)&&(B.test(t)?z[t]=!0:(U[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,tt=Z?Symbol.for("react.element"):60103,et=Z?Symbol.for("react.portal"):60106,nt=Z?Symbol.for("react.fragment"):60107,rt=Z?Symbol.for("react.strict_mode"):60108,it=Z?Symbol.for("react.profiler"):60114,ot=Z?Symbol.for("react.provider"):60109,st=Z?Symbol.for("react.context"):60110,at=Z?Symbol.for("react.concurrent_mode"):60111,ut=Z?Symbol.for("react.forward_ref"):60112,lt=Z?Symbol.for("react.suspense"):60113,ct=Z?Symbol.for("react.suspense_list"):60120,ht=Z?Symbol.for("react.memo"):60115,pt=Z?Symbol.for("react.lazy"):60116,dt=Z?Symbol.for("react.block"):60121,ft="function"===typeof Symbol&&Symbol.iterator;function gt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=ft&&t[ft]||t["@@iterator"])?t:null}function vt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case it:return"Profiler";case rt:return"StrictMode";case lt:return"Suspense";case ct:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case st:return"Context.Consumer";case ot:return"Context.Provider";case ut:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return vt(t.type);case dt:return vt(t.render);case pt:if(t=1===t._status?t._result:null)return vt(t)}return null}function mt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=vt(t.type);n=null,r&&(n=vt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function yt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function bt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=bt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Ct(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Et(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function _t(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=yt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ot(t,e){null!=(e=e.checked)&&$(t,"checked",e,!1)}function Tt(t,e){Ot(t,e);var n=yt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Rt(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rt(t,e.type,yt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function St(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Rt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Pt(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function xt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function At(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:yt(n)}}function It(t,e){var n=yt(e.value),r=yt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Nt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var kt="http://www.w3.org/1999/xhtml",Lt="http://www.w3.org/2000/svg";function Mt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Mt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var jt,Gt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Lt||"innerHTML"in t)t.innerHTML=e;else{for((jt=jt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Wt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bt={animationend:Wt("Animation","AnimationEnd"),animationiteration:Wt("Animation","AnimationIteration"),animationstart:Wt("Animation","AnimationStart"),transitionend:Wt("Transition","TransitionEnd")},Ht={},Ut={};function zt(t){if(Ht[t])return Ht[t];if(!Bt[t])return t;var e,n=Bt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ut)return Ht[t]=n[e];return t}R&&(Ut=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);var qt=zt("animationend"),Kt=zt("animationiteration"),Yt=zt("animationstart"),Xt=zt("transitionend"),Qt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$t=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=$t.get(t);return void 0===e&&(e=new Map,$t.set(t,e)),e}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(s(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ee(i),t;if(o===r)return ee(i),e;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(s(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ie(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function se(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)m(t,e[r],n[r]);else e&&m(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ae(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(ie(t,se),oe)throw Error(s(95));if(c)throw t=h,c=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function le(t){if(!R)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ce=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ce.length&&ce.push(t)}function pe(t,e,n,r){if(ce.length){var i=ce.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function de(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Dn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ue(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,s=t.eventSystemFlags;0===n&&(s|=64);for(var a=null,u=0;u<E.length;u++){var l=E[u];l&&(l=l.extractEvents(r,e,o,i,s))&&(a=re(a,l))}ae(a)}}function fe(t,e,n){if(!n.has(t)){switch(t){case"scroll":Ye(e,"scroll",!0);break;case"focus":case"blur":Ye(e,"focus",!0),Ye(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":le(t)&&Ye(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qt.indexOf(t)&&Ke(t,e)}n.set(t,null)}}var ge,ve,me,ye=!1,be=[],we=null,Ce=null,Ee=null,_e=new Map,Oe=new Map,Te=[],Se="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Re="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pe(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function xe(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":Ce=null;break;case"mouseover":case"mouseout":Ee=null;break;case"pointerover":case"pointerout":_e.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oe.delete(e.pointerId)}}function Ae(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Pe(e,n,r,i,o),null!==e&&(null!==(e=In(e))&&ve(e)),t):(t.eventSystemFlags|=r,t)}function De(t){var e=Dn(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){me(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ie(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=In(e);return null!==n&&ve(n),t.blockedOn=e,!1}return!0}function Ne(t,e,n){Ie(t)&&n.delete(e)}function ke(){for(ye=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=In(t.blockedOn))&&ge(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==we&&Ie(we)&&(we=null),null!==Ce&&Ie(Ce)&&(Ce=null),null!==Ee&&Ie(Ee)&&(Ee=null),_e.forEach(Ne),Oe.forEach(Ne)}function Le(t,e){t.blockedOn===e&&(t.blockedOn=null,ye||(ye=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,ke)))}function Me(t){function e(e){return Le(e,t)}if(0<be.length){Le(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==we&&Le(we,t),null!==Ce&&Le(Ce,t),null!==Ee&&Le(Ee,t),_e.forEach(e),Oe.forEach(e),n=0;n<Te.length;n++)(r=Te[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Te.length&&null===(n=Te[0]).blockedOn;)De(n),null===n.blockedOn&&Te.shift()}var Fe={},je=new Map,Ge=new Map,Ve=["abort","abort",qt,"animationEnd",Kt,"animationIteration",Yt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xt,"transitionEnd","waiting","waiting"];function We(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},Ge.set(r,e),je.set(r,o),Fe[i]=o}}We("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),We("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),We(Ve,2);for(var Be="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),He=0;He<Be.length;He++)Ge.set(Be[He],0);var Ue=o.unstable_UserBlockingPriority,ze=o.unstable_runWithPriority,qe=!0;function Ke(t,e){Ye(e,t,!1)}function Ye(t,e,n){var r=Ge.get(e);switch(void 0===r?2:r){case 0:r=Xe.bind(null,e,1,t);break;case 1:r=Qe.bind(null,e,1,t);break;default:r=$e.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Xe(t,e,n,r){j||M();var i=$e,o=j;j=!0;try{L(i,t,e,n,r)}finally{(j=o)||V()}}function Qe(t,e,n,r){ze(Ue,$e.bind(null,t,e,n,r))}function $e(t,e,n,r){if(qe)if(0<be.length&&-1<Se.indexOf(t))t=Pe(null,t,e,n,r),be.push(t);else{var i=Je(t,e,n,r);if(null===i)xe(t,r);else if(-1<Se.indexOf(t))t=Pe(i,t,e,n,r),be.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return we=Ae(we,t,e,n,r,i),!0;case"dragenter":return Ce=Ae(Ce,t,e,n,r,i),!0;case"mouseover":return Ee=Ae(Ee,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return _e.set(o,Ae(_e.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Oe.set(o,Ae(Oe.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){xe(t,r),t=pe(t,r,null,e);try{W(de,t)}finally{he(t)}}}}function Je(t,e,n,r){if(null!==(n=Dn(n=ue(r)))){var i=Zt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=te(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=pe(t,r,n,e);try{W(de,t)}finally{he(t)}return null}var Ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Ze.hasOwnProperty(t)&&Ze[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=en(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Ze).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ze[e]=Ze[t]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62,""))}}function sn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=kt;function un(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=T[e];for(var r=0;r<e.length;r++)fe(e[r],t,n)}function ln(){}function cn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pn(t,e){var n,r=hn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hn(r)}}function dn(){for(var t=window,e=cn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=cn((t=e.contentWindow).document)}return e}function fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var gn="$",vn="/$",mn="$?",yn="$!",bn=null,wn=null;function Cn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function En(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,On="function"===typeof clearTimeout?clearTimeout:void 0;function Tn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Sn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===gn||n===yn||n===mn){if(0===e)return t;e--}else n===vn&&e++}t=t.previousSibling}return null}var Rn=Math.random().toString(36).slice(2),Pn="__reactInternalInstance$"+Rn,xn="__reactEventHandlers$"+Rn,An="__reactContainere$"+Rn;function Dn(t){var e=t[Pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[An]||n[Pn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Sn(t);null!==t;){if(n=t[Pn])return n;t=Sn(t)}return e}n=(t=n).parentNode}return null}function In(t){return!(t=t[Pn]||t[An])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Nn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function kn(t){return t[xn]||null}function Ln(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Mn(t,e){var n=t.stateNode;if(!n)return null;var r=f(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}function Fn(t,e,n){(e=Mn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function jn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Ln(e);for(e=n.length;0<e--;)Fn(n[e],"captured",t);for(e=0;e<n.length;e++)Fn(n[e],"bubbled",t)}}function Gn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Mn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Vn(t){t&&t.dispatchConfig.registrationName&&Gn(t._targetInst,null,t)}function Wn(t){ie(t,jn)}var Bn=null,Hn=null,Un=null;function zn(){if(Un)return Un;var t,e,n=Hn,r=n.length,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var s=r-t;for(e=1;e<=s&&n[r-e]===i[o-e];e++);return Un=i.slice(t,1<e?1-e:void 0)}function qn(){return!0}function Kn(){return!1}function Yn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:Kn,this.isPropagationStopped=Kn,this}function Xn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Qn(t){if(!(t instanceof this))throw Error(s(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function $n(t){t.eventPool=[],t.getPooled=Xn,t.release=Qn}i(Yn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:Kn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Kn,this._dispatchInstances=this._dispatchListeners=null}}),Yn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Yn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,$n(n),n},$n(Yn);var Jn=Yn.extend({data:null}),Zn=Yn.extend({data:null}),tr=[9,13,27,32],er=R&&"CompositionEvent"in window,nr=null;R&&"documentMode"in document&&(nr=document.documentMode);var rr=R&&"TextEvent"in window&&!nr,ir=R&&(!er||nr&&8<nr&&11>=nr),or=String.fromCharCode(32),sr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ar=!1;function ur(t,e){switch(t){case"keyup":return-1!==tr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function lr(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var cr=!1;var hr={eventTypes:sr,extractEvents:function(t,e,n,r){var i;if(er)t:{switch(t){case"compositionstart":var o=sr.compositionStart;break t;case"compositionend":o=sr.compositionEnd;break t;case"compositionupdate":o=sr.compositionUpdate;break t}o=void 0}else cr?ur(t,n)&&(o=sr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=sr.compositionStart);return o?(ir&&"ko"!==n.locale&&(cr||o!==sr.compositionStart?o===sr.compositionEnd&&cr&&(i=zn()):(Hn="value"in(Bn=r)?Bn.value:Bn.textContent,cr=!0)),o=Jn.getPooled(o,e,n,r),i?o.data=i:null!==(i=lr(n))&&(o.data=i),Wn(o),i=o):i=null,(t=rr?function(t,e){switch(t){case"compositionend":return lr(e);case"keypress":return 32!==e.which?null:(ar=!0,or);case"textInput":return(t=e.data)===or&&ar?null:t;default:return null}}(t,n):function(t,e){if(cr)return"compositionend"===t||!er&&ur(t,e)?(t=zn(),Un=Hn=Bn=null,cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ir&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Zn.getPooled(sr.beforeInput,e,n,r)).data=t,Wn(e)):e=null,null===i?e:null===e?i:[i,e]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!pr[t.type]:"textarea"===e}var fr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function gr(t,e,n){return(t=Yn.getPooled(fr.change,t,e,n)).type="change",I(n),Wn(t),t}var vr=null,mr=null;function yr(t){ae(t)}function br(t){if(Ct(Nn(t)))return t}function wr(t,e){if("change"===t)return e}var Cr=!1;function Er(){vr&&(vr.detachEvent("onpropertychange",_r),mr=vr=null)}function _r(t){if("value"===t.propertyName&&br(mr))if(t=gr(mr,t,ue(t)),j)ae(t);else{j=!0;try{k(yr,t)}finally{j=!1,V()}}}function Or(t,e,n){"focus"===t?(Er(),mr=n,(vr=e).attachEvent("onpropertychange",_r)):"blur"===t&&Er()}function Tr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return br(mr)}function Sr(t,e){if("click"===t)return br(e)}function Rr(t,e){if("input"===t||"change"===t)return br(e)}R&&(Cr=le("input")&&(!document.documentMode||9<document.documentMode));var Pr={eventTypes:fr,_isInputEventSupported:Cr,extractEvents:function(t,e,n,r){var i=e?Nn(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var s=wr;else if(dr(i))if(Cr)s=Rr;else{s=Tr;var a=Or}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=Sr);if(s&&(s=s(t,e)))return gr(s,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Rt(i,"number",i.value)}},xr=Yn.extend({view:null,detail:null}),Ar={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ar[t])&&!!e[t]}function Ir(){return Dr}var Nr=0,kr=0,Lr=!1,Mr=!1,Fr=xr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ir,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Nr;return Nr=t.screenX,Lr?"mousemove"===t.type?t.screenX-e:0:(Lr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=kr;return kr=t.screenY,Mr?"mousemove"===t.type?t.screenY-e:0:(Mr=!0,0)}}),jr=Fr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Gr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Vr={eventTypes:Gr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,s="mouseout"===t||"pointerout"===t;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=e,null!==(e=(e=n.relatedTarget||n.toElement)?Dn(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):s=null;if(s===e)return null;if("mouseout"===t||"mouseover"===t)var a=Fr,u=Gr.mouseLeave,l=Gr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=jr,u=Gr.pointerLeave,l=Gr.pointerEnter,c="pointer");if(t=null==s?o:Nn(s),o=null==e?o:Nn(e),(u=a.getPooled(u,s,n,r)).type=c+"leave",u.target=t,u.relatedTarget=o,(n=a.getPooled(l,e,n,r)).type=c+"enter",n.target=o,n.relatedTarget=t,c=e,(r=s)&&c)t:{for(l=c,s=0,t=a=r;t;t=Ln(t))s++;for(t=0,e=l;e;e=Ln(e))t++;for(;0<s-t;)a=Ln(a),s--;for(;0<t-s;)l=Ln(l),t--;for(;s--;){if(a===l||a===l.alternate)break t;a=Ln(a),l=Ln(l)}a=null}else a=null;for(l=a,a=[];r&&r!==l&&(null===(s=r.alternate)||s!==l);)a.push(r),r=Ln(r);for(r=[];c&&c!==l&&(null===(s=c.alternate)||s!==l);)r.push(c),c=Ln(c);for(c=0;c<a.length;c++)Gn(a[c],"bubbled",u);for(c=r.length;0<c--;)Gn(r[c],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Wr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Br=Object.prototype.hasOwnProperty;function Hr(t,e){if(Wr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Br.call(e,n[r])||!Wr(t[n[r]],e[n[r]]))return!1;return!0}var Ur=R&&"documentMode"in document&&11>=document.documentMode,zr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,Kr=null,Yr=null,Xr=!1;function Qr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Xr||null==qr||qr!==cn(n)?null:("selectionStart"in(n=qr)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yr&&Hr(Yr,n)?null:(Yr=n,(t=Yn.getPooled(zr.select,Kr,t,e)).type="select",t.target=qr,Wn(t),t))}var $r={eventTypes:zr,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=Jt(i),o=T.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Nn(e):window,t){case"focus":(dr(i)||"true"===i.contentEditable)&&(qr=i,Kr=e,Yr=null);break;case"blur":Yr=Kr=qr=null;break;case"mousedown":Xr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Xr=!1,Qr(n,r);case"selectionchange":if(Ur)break;case"keydown":case"keyup":return Qr(n,r)}return null}},Jr=Yn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zr=Yn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ti=xr.extend({relatedTarget:null});function ei(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=xr.extend({key:function(t){if(t.key){var e=ni[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ei(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ri[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ir,charCode:function(t){return"keypress"===t.type?ei(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ei(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),oi=Fr.extend({dataTransfer:null}),si=xr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ir}),ai=Yn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=Fr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),li={eventTypes:Fe,extractEvents:function(t,e,n,r){var i=je.get(t);if(!i)return null;switch(t){case"keypress":if(0===ei(n))return null;case"keydown":case"keyup":t=ii;break;case"blur":case"focus":t=ti;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=oi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=si;break;case qt:case Kt:case Yt:t=Jr;break;case Xt:t=ai;break;case"scroll":t=xr;break;case"wheel":t=ui;break;case"copy":case"cut":case"paste":t=Zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=jr;break;default:t=Yn}return Wn(e=t.getPooled(i,e,n,r)),e}};if(y)throw Error(s(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),f=kn,g=In,v=Nn,S({SimpleEventPlugin:li,EnterLeaveEventPlugin:Vr,ChangeEventPlugin:Pr,SelectEventPlugin:$r,BeforeInputEventPlugin:hr});var ci=[],hi=-1;function pi(t){0>hi||(t.current=ci[hi],ci[hi]=null,hi--)}function di(t,e){ci[++hi]=t.current,t.current=e}var fi={},gi={current:fi},vi={current:!1},mi=fi;function yi(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function bi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function wi(){pi(vi),pi(gi)}function Ci(t,e,n){if(gi.current!==fi)throw Error(s(168));di(gi,e),di(vi,n)}function Ei(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(s(108,vt(e)||"Unknown",o));return i({},n,{},r)}function _i(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,mi=gi.current,di(gi,t),di(vi,vi.current),!0}function Oi(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=Ei(t,e,mi),r.__reactInternalMemoizedMergedChildContext=t,pi(vi),pi(gi),di(gi,t)):pi(vi),di(vi,n)}var Ti=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ri=o.unstable_cancelCallback,Pi=o.unstable_requestPaint,xi=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Di=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,ki=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Fi=o.unstable_shouldYield,ji=void 0!==Pi?Pi:function(){},Gi=null,Vi=null,Wi=!1,Bi=xi(),Hi=1e4>Bi?xi:function(){return xi()-Bi};function Ui(){switch(Ai()){case Di:return 99;case Ii:return 98;case Ni:return 97;case ki:return 96;case Li:return 95;default:throw Error(s(332))}}function zi(t){switch(t){case 99:return Di;case 98:return Ii;case 97:return Ni;case 96:return ki;case 95:return Li;default:throw Error(s(332))}}function qi(t,e){return t=zi(t),Ti(t,e)}function Ki(t,e,n){return t=zi(t),Si(t,e,n)}function Yi(t){return null===Gi?(Gi=[t],Vi=Si(Di,Qi)):Gi.push(t),Mi}function Xi(){if(null!==Vi){var t=Vi;Vi=null,Ri(t)}Qi()}function Qi(){if(!Wi&&null!==Gi){Wi=!0;var t=0;try{var e=Gi;qi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Gi=null}catch(n){throw null!==Gi&&(Gi=Gi.slice(t+1)),Si(Di,Xi),n}finally{Wi=!1}}}function $i(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Ji(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Zi={current:null},to=null,eo=null,no=null;function ro(){no=eo=to=null}function io(t){var e=Zi.current;pi(Zi),t.type._context._currentValue=e}function oo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function so(t,e){to=t,no=eo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(ks=!0),t.firstContext=null)}function ao(t,e){if(no!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(no=t,e=1073741823),e={context:t,observedBits:e,next:null},null===eo){if(null===to)throw Error(s(308));eo=e,to.dependencies={expirationTime:0,firstContext:e,responders:null}}else eo=eo.next=e;return t._currentValue}var uo=!1;function lo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function co(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function ho(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function po(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function fo(t,e){var n=t.alternate;null!==n&&co(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function go(t,e,n,r){var o=t.updateQueue;uo=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var u=s.next;s.next=a.next,a.next=u}s=a,o.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=a))}if(null!==s){u=s.next;var l=o.baseState,c=0,h=null,p=null,d=null;if(null!==u)for(var f=u;;){if((a=f.expirationTime)<r){var g={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===d?(p=d=g,h=l):d=d.next=g,a>c&&(c=a)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),yu(a,f.suspenseConfig);t:{var v=t,m=f;switch(a=e,g=n,m.tag){case 1:if("function"===typeof(v=m.payload)){l=v.call(g,l,a);break t}l=v;break t;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(a="function"===typeof(v=m.payload)?v.call(g,l,a):v)||void 0===a)break t;l=i({},l,a);break t;case 2:uo=!0}}null!==f.callback&&(t.effectTag|=32,null===(a=o.effects)?o.effects=[f]:a.push(f))}if(null===(f=f.next)||f===u){if(null===(a=o.shared.pending))break;f=s.next=a.next,a.next=u,o.baseQueue=s=a,o.shared.pending=null}}null===d?h=l:d.next=p,o.baseState=h,o.baseQueue=d,bu(c),t.expirationTime=c,t.memoizedState=l}}function vo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var mo=Q.ReactCurrentBatchConfig,yo=(new r.Component).refs;function bo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var wo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=ou(),i=mo.suspense;(i=ho(r=su(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),po(t,i),au(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=ou(),i=mo.suspense;(i=ho(r=su(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),po(t,i),au(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ou(),r=mo.suspense;(r=ho(n=su(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),po(t,r),au(t,n)}};function Co(t,e,n,r,i,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!Hr(n,r)||!Hr(i,o))}function Eo(t,e,n){var r=!1,i=fi,o=e.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=bi(e)?mi:gi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?yi(t,i):fi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=wo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _o(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wo.enqueueReplaceState(e,e.state,null)}function Oo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yo,lo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=bi(e)?mi:gi.current,i.context=yi(t,o)),go(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(bo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&wo.enqueueReplaceState(i,i.state,null),go(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var To=Array.isArray;function So(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===yo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Ro(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Po(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Gu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Bu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=So(t,e,n),r.return=t,r):((r=Vu(n.type,n.key,n.props,null,t.mode,r)).ref=So(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Hu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Wu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function p(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Bu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Vu(e.type,e.key,e.props,null,t.mode,n)).ref=So(t,null,e),n.return=t,n;case et:return(e=Hu(e,t.mode,n)).return=t,e}if(To(e)||gt(e))return(e=Wu(e,t.mode,n,null)).return=t,e;Ro(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===i?n.type===nt?h(t,e,n.props.children,r,i):l(t,e,n,r):null;case et:return n.key===i?c(t,e,n,r):null}if(To(n)||gt(n))return null!==i?null:h(t,e,n,r,null);Ro(t,n)}return null}function f(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case tt:return t=t.get(null===r.key?n:r.key)||null,r.type===nt?h(e,t,r.props.children,i,r.key):l(e,t,r,i);case et:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(To(r)||gt(r))return h(e,t=t.get(n)||null,r,i,null);Ro(e,r)}return null}function g(i,s,a,u){for(var l=null,c=null,h=s,g=s=0,v=null;null!==h&&g<a.length;g++){h.index>g?(v=h,h=null):v=h.sibling;var m=d(i,h,a[g],u);if(null===m){null===h&&(h=v);break}t&&h&&null===m.alternate&&e(i,h),s=o(m,s,g),null===c?l=m:c.sibling=m,c=m,h=v}if(g===a.length)return n(i,h),l;if(null===h){for(;g<a.length;g++)null!==(h=p(i,a[g],u))&&(s=o(h,s,g),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);g<a.length;g++)null!==(v=f(h,i,g,a[g],u))&&(t&&null!==v.alternate&&h.delete(null===v.key?g:v.key),s=o(v,s,g),null===c?l=v:c.sibling=v,c=v);return t&&h.forEach((function(t){return e(i,t)})),l}function v(i,a,u,l){var c=gt(u);if("function"!==typeof c)throw Error(s(150));if(null==(u=c.call(u)))throw Error(s(151));for(var h=c=null,g=a,v=a=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=d(i,g,y.value,l);if(null===b){null===g&&(g=m);break}t&&g&&null===b.alternate&&e(i,g),a=o(b,a,v),null===h?c=b:h.sibling=b,h=b,g=m}if(y.done)return n(i,g),c;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=p(i,y.value,l))&&(a=o(y,a,v),null===h?c=y:h.sibling=y,h=y);return c}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=f(g,i,v,y.value,l))&&(t&&null!==y.alternate&&g.delete(null===y.key?v:y.key),a=o(y,a,v),null===h?c=y:h.sibling=y,h=y);return t&&g.forEach((function(t){return e(i,t)})),c}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===nt&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case tt:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===nt){n(t,l.sibling),(r=i(l,o.props.children)).return=t,t=r;break t}break;default:if(l.elementType===o.type){n(t,l.sibling),(r=i(l,o.props)).ref=So(t,l,o),r.return=t,t=r;break t}}n(t,l);break}e(t,l),l=l.sibling}o.type===nt?((r=Wu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Vu(o.type,o.key,o.props,null,t.mode,u)).ref=So(t,r,o),u.return=t,t=u)}return a(t);case et:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Hu(o,t.mode,u)).return=t,t=r}return a(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Bu(o,t.mode,u)).return=t,t=r),a(t);if(To(o))return g(t,r,o,u);if(gt(o))return v(t,r,o,u);if(c&&Ro(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(s(152,t.displayName||t.name||"Component"))}return n(t,r)}}var xo=Po(!0),Ao=Po(!1),Do={},Io={current:Do},No={current:Do},ko={current:Do};function Lo(t){if(t===Do)throw Error(s(174));return t}function Mo(t,e){switch(di(ko,e),di(No,t),di(Io,Do),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}pi(Io),di(Io,e)}function Fo(){pi(Io),pi(No),pi(ko)}function jo(t){Lo(ko.current);var e=Lo(Io.current),n=Ft(e,t.type);e!==n&&(di(No,t),di(Io,n))}function Go(t){No.current===t&&(pi(Io),pi(No))}var Vo={current:0};function Wo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===mn||n.data===yn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Bo(t,e){return{responder:t,props:e}}var Ho=Q.ReactCurrentDispatcher,Uo=Q.ReactCurrentBatchConfig,zo=0,qo=null,Ko=null,Yo=null,Xo=!1;function Qo(){throw Error(s(321))}function $o(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wr(t[n],e[n]))return!1;return!0}function Jo(t,e,n,r,i,o){if(zo=o,qo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Ho.current=null===t||null===t.memoizedState?Cs:Es,t=n(r,i),e.expirationTime===zo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Yo=Ko=null,e.updateQueue=null,Ho.current=_s,t=n(r,i)}while(e.expirationTime===zo)}if(Ho.current=ws,e=null!==Ko&&null!==Ko.next,zo=0,Yo=Ko=qo=null,Xo=!1,e)throw Error(s(300));return t}function Zo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?qo.memoizedState=Yo=t:Yo=Yo.next=t,Yo}function ts(){if(null===Ko){var t=qo.alternate;t=null!==t?t.memoizedState:null}else t=Ko.next;var e=null===Yo?qo.memoizedState:Yo.next;if(null!==e)Yo=e,Ko=t;else{if(null===t)throw Error(s(310));t={memoizedState:(Ko=t).memoizedState,baseState:Ko.baseState,baseQueue:Ko.baseQueue,queue:Ko.queue,next:null},null===Yo?qo.memoizedState=Yo=t:Yo=Yo.next=t}return Yo}function es(t,e){return"function"===typeof e?e(t):e}function ns(t){var e=ts(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=Ko,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=o=null,l=i;do{var c=l.expirationTime;if(c<zo){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(a=u=h,o=r):u=u.next=h,c>qo.expirationTime&&(qo.expirationTime=c,bu(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),yu(c,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=a,Wr(r,e.memoizedState)||(ks=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function rs(t){var e=ts(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);Wr(o,e.memoizedState)||(ks=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function is(t){var e=Zo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:es,lastRenderedState:t}).dispatch=bs.bind(null,qo,t),[e.memoizedState,t]}function os(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=qo.updateQueue)?(e={lastEffect:null},qo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ss(){return ts().memoizedState}function as(t,e,n,r){var i=Zo();qo.effectTag|=t,i.memoizedState=os(1|e,n,void 0,void 0===r?null:r)}function us(t,e,n,r){var i=ts();r=void 0===r?null:r;var o=void 0;if(null!==Ko){var s=Ko.memoizedState;if(o=s.destroy,null!==r&&$o(r,s.deps))return void os(e,n,o,r)}qo.effectTag|=t,i.memoizedState=os(1|e,n,o,r)}function ls(t,e){return as(516,4,t,e)}function cs(t,e){return us(516,4,t,e)}function hs(t,e){return us(4,2,t,e)}function ps(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ds(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,us(4,2,ps.bind(null,e,t),n)}function fs(){}function gs(t,e){return Zo().memoizedState=[t,void 0===e?null:e],t}function vs(t,e){var n=ts();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$o(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ms(t,e){var n=ts();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$o(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ys(t,e,n){var r=Ui();qi(98>r?98:r,(function(){t(!0)})),qi(97<r?97:r,(function(){var r=Uo.suspense;Uo.suspense=void 0===e?null:e;try{t(!1),n()}finally{Uo.suspense=r}}))}function bs(t,e,n){var r=ou(),i=mo.suspense;i={expirationTime:r=su(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===qo||null!==o&&o===qo)Xo=!0,i.expirationTime=zo,qo.expirationTime=zo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(i.eagerReducer=o,i.eagerState=a,Wr(a,s))return}catch(u){}au(t,r)}}var ws={readContext:ao,useCallback:Qo,useContext:Qo,useEffect:Qo,useImperativeHandle:Qo,useLayoutEffect:Qo,useMemo:Qo,useReducer:Qo,useRef:Qo,useState:Qo,useDebugValue:Qo,useResponder:Qo,useDeferredValue:Qo,useTransition:Qo},Cs={readContext:ao,useCallback:gs,useContext:ao,useEffect:ls,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,as(4,2,ps.bind(null,e,t),n)},useLayoutEffect:function(t,e){return as(4,2,t,e)},useMemo:function(t,e){var n=Zo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=bs.bind(null,qo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Zo().memoizedState=t},useState:is,useDebugValue:fs,useResponder:Bo,useDeferredValue:function(t,e){var n=is(t),r=n[0],i=n[1];return ls((function(){var n=Uo.suspense;Uo.suspense=void 0===e?null:e;try{i(t)}finally{Uo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=is(!1),n=e[0];return e=e[1],[gs(ys.bind(null,e,t),[e,t]),n]}},Es={readContext:ao,useCallback:vs,useContext:ao,useEffect:cs,useImperativeHandle:ds,useLayoutEffect:hs,useMemo:ms,useReducer:ns,useRef:ss,useState:function(){return ns(es)},useDebugValue:fs,useResponder:Bo,useDeferredValue:function(t,e){var n=ns(es),r=n[0],i=n[1];return cs((function(){var n=Uo.suspense;Uo.suspense=void 0===e?null:e;try{i(t)}finally{Uo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ns(es),n=e[0];return e=e[1],[vs(ys.bind(null,e,t),[e,t]),n]}},_s={readContext:ao,useCallback:vs,useContext:ao,useEffect:cs,useImperativeHandle:ds,useLayoutEffect:hs,useMemo:ms,useReducer:rs,useRef:ss,useState:function(){return rs(es)},useDebugValue:fs,useResponder:Bo,useDeferredValue:function(t,e){var n=rs(es),r=n[0],i=n[1];return cs((function(){var n=Uo.suspense;Uo.suspense=void 0===e?null:e;try{i(t)}finally{Uo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=rs(es),n=e[0];return e=e[1],[vs(ys.bind(null,e,t),[e,t]),n]}},Os=null,Ts=null,Ss=!1;function Rs(t,e){var n=Fu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ps(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function xs(t){if(Ss){var e=Ts;if(e){var n=e;if(!Ps(t,e)){if(!(e=Tn(n.nextSibling))||!Ps(t,e))return t.effectTag=-1025&t.effectTag|2,Ss=!1,void(Os=t);Rs(Os,n)}Os=t,Ts=Tn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ss=!1,Os=t}}function As(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Os=t}function Ds(t){if(t!==Os)return!1;if(!Ss)return As(t),Ss=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!En(e,t.memoizedProps))for(e=Ts;e;)Rs(t,e),e=Tn(e.nextSibling);if(As(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===vn){if(0===e){Ts=Tn(t.nextSibling);break t}e--}else n!==gn&&n!==yn&&n!==mn||e++}t=t.nextSibling}Ts=null}}else Ts=Os?Tn(t.stateNode.nextSibling):null;return!0}function Is(){Ts=Os=null,Ss=!1}var Ns=Q.ReactCurrentOwner,ks=!1;function Ls(t,e,n,r){e.child=null===t?Ao(e,null,n,r):xo(e,t.child,n,r)}function Ms(t,e,n,r,i){n=n.render;var o=e.ref;return so(e,i),r=Jo(t,e,n,r,o,i),null===t||ks?(e.effectTag|=1,Ls(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Zs(t,e,i))}function Fs(t,e,n,r,i,o){if(null===t){var s=n.type;return"function"!==typeof s||ju(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Vu(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,js(t,e,s,r,i,o))}return s=t.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:Hr)(i,r)&&t.ref===e.ref)?Zs(t,e,o):(e.effectTag|=1,(t=Gu(s,r)).ref=e.ref,t.return=e,e.child=t)}function js(t,e,n,r,i,o){return null!==t&&Hr(t.memoizedProps,r)&&t.ref===e.ref&&(ks=!1,i<o)?(e.expirationTime=t.expirationTime,Zs(t,e,o)):Vs(t,e,n,r,o)}function Gs(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Vs(t,e,n,r,i){var o=bi(n)?mi:gi.current;return o=yi(e,o),so(e,i),n=Jo(t,e,n,r,o,i),null===t||ks?(e.effectTag|=1,Ls(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Zs(t,e,i))}function Ws(t,e,n,r,i){if(bi(n)){var o=!0;_i(e)}else o=!1;if(so(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Eo(e,n,r),Oo(e,n,r,i),r=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=ao(l):l=yi(e,l=bi(n)?mi:gi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&_o(e,s,r,l),uo=!1;var p=e.memoizedState;s.state=p,go(e,r,s,i),u=e.memoizedState,a!==r||p!==u||vi.current||uo?("function"===typeof c&&(bo(e,n,c,r),u=e.memoizedState),(a=uo||Co(e,n,a,r,p,u,l))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):("function"===typeof s.componentDidMount&&(e.effectTag|=4),r=!1)}else s=e.stateNode,co(t,e),a=e.memoizedProps,s.props=e.type===e.elementType?a:Ji(e.type,a),u=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=ao(l):l=yi(e,l=bi(n)?mi:gi.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&_o(e,s,r,l),uo=!1,u=e.memoizedState,s.state=u,go(e,r,s,i),p=e.memoizedState,a!==r||u!==p||vi.current||uo?("function"===typeof c&&(bo(e,n,c,r),p=e.memoizedState),(c=uo||Co(e,n,a,r,u,p,l))?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Bs(t,e,n,r,o,i)}function Bs(t,e,n,r,i,o){Gs(t,e);var s=0!==(64&e.effectTag);if(!r&&!s)return i&&Oi(e,n,!1),Zs(t,e,o);r=e.stateNode,Ns.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&s?(e.child=xo(e,t.child,null,o),e.child=xo(e,null,a,o)):Ls(t,e,a,o),e.memoizedState=r.state,i&&Oi(e,n,!0),e.child}function Hs(t){var e=t.stateNode;e.pendingContext?Ci(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ci(0,e.context,!1),Mo(t,e.containerInfo)}var Us,zs,qs,Ks,Ys={dehydrated:null,retryTime:0};function Xs(t,e,n){var r,i=e.mode,o=e.pendingProps,s=Vo.current,a=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&s)&&(null===t||null!==t.memoizedState)),r?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),di(Vo,1&s),null===t){if(void 0!==o.fallback&&xs(e),a){if(a=o.fallback,(o=Wu(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Wu(a,i,n,null)).return=e,o.sibling=n,e.memoizedState=Ys,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Ao(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,a){if(o=o.fallback,(n=Gu(t,t.pendingProps)).return=e,0===(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=Gu(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=Ys,e.child=n,i}return n=xo(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,a){if(a=o.fallback,(o=Wu(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Wu(a,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Ys,e.child=o,n}return e.memoizedState=null,e.child=xo(e,t,o.children,n)}function Qs(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),oo(t.return,e)}function $s(t,e,n,r,i,o){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function Js(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ls(t,e,r.children,n),0!==(2&(r=Vo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Qs(t,n);else if(19===t.tag)Qs(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(di(Vo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Wo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$s(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Wo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$s(e,!0,n,null,o,e.lastEffect);break;case"together":$s(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Zs(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&bu(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Gu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Gu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function ta(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ea(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return bi(e.type)&&wi(),null;case 3:return Fo(),pi(vi),pi(gi),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ds(e)||(e.effectTag|=4),zs(e),null;case 5:Go(e),n=Lo(ko.current);var o=e.type;if(null!==t&&null!=e.stateNode)qs(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(s(166));return null}if(t=Lo(Io.current),Ds(e)){r=e.stateNode,o=e.type;var a=e.memoizedProps;switch(r[Pn]=e,r[xn]=a,o){case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(t=0;t<Qt.length;t++)Ke(Qt[t],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"form":Ke("reset",r),Ke("submit",r);break;case"details":Ke("toggle",r);break;case"input":_t(r,a),Ke("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ke("invalid",r),un(n,"onChange");break;case"textarea":Dt(r,a),Ke("invalid",r),un(n,"onChange")}for(var u in on(o,a),t=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(t=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(t=["children",""+l]):O.hasOwnProperty(u)&&null!=l&&un(n,u)}switch(o){case"input":wt(r),St(r,a,!0);break;case"textarea":wt(r),Nt(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ln)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===an&&(t=Mt(o)),t===an?"script"===o?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(o,{is:r.is}):(t=u.createElement(o),"select"===o&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,o),t[Pn]=e,t[xn]=r,Us(t,e,!1,!1),e.stateNode=t,u=sn(o,r),o){case"iframe":case"object":case"embed":Ke("load",t),l=r;break;case"video":case"audio":for(l=0;l<Qt.length;l++)Ke(Qt[l],t);l=r;break;case"source":Ke("error",t),l=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),l=r;break;case"form":Ke("reset",t),Ke("submit",t),l=r;break;case"details":Ke("toggle",t),l=r;break;case"input":_t(t,r),l=Et(t,r),Ke("invalid",t),un(n,"onChange");break;case"option":l=Pt(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Ke("invalid",t),un(n,"onChange");break;case"textarea":Dt(t,r),l=At(t,r),Ke("invalid",t),un(n,"onChange");break;default:l=r}on(o,l);var c=l;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?nn(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&Gt(t,h):"children"===a?"string"===typeof h?("textarea"!==o||""!==h)&&Vt(t,h):"number"===typeof h&&Vt(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(O.hasOwnProperty(a)?null!=h&&un(n,a):null!=h&&$(t,a,h,u))}switch(o){case"input":wt(t),St(t,r,!1);break;case"textarea":wt(t),Nt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+yt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?xt(t,!!r.multiple,n,!1):null!=r.defaultValue&&xt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(t.onclick=ln)}Cn(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ks(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(s(166));n=Lo(ko.current),Lo(Io.current),Ds(e)?(n=e.stateNode,r=e.memoizedProps,n[Pn]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Pn]=e,e.stateNode=n)}return null;case 13:return pi(Vo),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ds(e):(r=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=o,o.nextEffect=a):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Vo.current)?Ga===xa&&(Ga=Ia):(Ga!==xa&&Ga!==Ia||(Ga=Na),0!==Ua&&null!==Ma&&(qu(Ma,ja),Ku(Ma,Ua)))),(n||r)&&(e.effectTag|=4),null);case 4:return Fo(),zs(e),null;case 10:return io(e),null;case 17:return bi(e.type)&&wi(),null;case 19:if(pi(Vo),null===(r=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(a=r.rendering)){if(o)ta(r,!1);else if(Ga!==xa||null!==t&&0!==(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=Wo(a))){for(e.effectTag|=64,ta(r,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)a=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,a=t.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return di(Vo,1&Vo.current|2),e.child}a=a.sibling}}else{if(!o)if(null!==(t=Wo(a))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),ta(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,ta(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(a.sibling=e.child,e.child=a):(null!==(n=r.last)?n.sibling=a:e.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Hi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,e=Vo.current,di(Vo,o?1&e|2:1&e),n):null}throw Error(s(156,e.tag))}function na(t){switch(t.tag){case 1:bi(t.type)&&wi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Fo(),pi(vi),pi(gi),0!==(64&(e=t.effectTag)))throw Error(s(285));return t.effectTag=-4097&e|64,t;case 5:return Go(t),null;case 13:return pi(Vo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return pi(Vo),null;case 4:return Fo(),null;case 10:return io(t),null;default:return null}}function ra(t,e){return{value:t,source:e,stack:mt(e)}}Us=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zs=function(){},qs=function(t,e,n,r,o){var s=t.memoizedProps;if(s!==r){var a,u,l=e.stateNode;switch(Lo(Io.current),t=null,n){case"input":s=Et(l,s),r=Et(l,r),t=[];break;case"option":s=Pt(l,s),r=Pt(l,r),t=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":s=At(l,s),r=At(l,r),t=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(l.onclick=ln)}for(a in on(n,r),n=null,s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(u in l=s[a])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(O.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in r){var c=r[a];if(l=null!=s?s[a]:void 0,r.hasOwnProperty(a)&&c!==l&&(null!=c||null!=l))if("style"===a)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(t||(t=[]),t.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(a,c)):"children"===a?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(O.hasOwnProperty(a)?(null!=c&&un(o,a),t||l===c||(t=[])):(t=t||[]).push(a,c))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Ks=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var ia="function"===typeof WeakSet?WeakSet:Set;function oa(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=mt(n)),null!==n&&vt(n.type),e=e.value,null!==t&&1===t.tag&&vt(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function sa(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Du(t,n)}else e.current=null}function aa(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Ji(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function ua(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function la(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ca(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void la(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Ji(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&vo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}vo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&Cn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Me(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function ha(t,e,n){switch("function"===typeof Lu&&Lu(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;qi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){Du(i,o)}}t=t.next}while(t!==r)}))}break;case 1:sa(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Du(t,n)}}(e,n);break;case 5:sa(e);break;case 4:ga(t,e,n)}}function pa(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&pa(e)}function da(t){return 5===t.tag||3===t.tag||4===t.tag}function fa(t){t:{for(var e=t.return;null!==e;){if(da(e)){var n=e;break t}e=e.return}throw Error(s(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Vt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||da(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function ga(t,e,n){for(var r,i,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag){t:for(var u=t,l=o,c=n,h=l;;)if(ha(u,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break t;for(;null===h.sibling;){if(null===h.return||h.return===l)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ha(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function va(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ua(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[xn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Ot(n,r),sn(t,i),e=sn(t,r),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];"style"===a?nn(n,u):"dangerouslySetInnerHTML"===a?Gt(n,u):"children"===a?Vt(n,u):$(n,a,u,e)}switch(t){case"input":Tt(n,r);break;case"textarea":It(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?xt(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?xt(n,!!r.multiple,r.defaultValue,!0):xt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(s(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Me(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,qa=Hi()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=en("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void ma(e);case 19:return void ma(e);case 17:return}throw Error(s(163))}function ma(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ia),e.forEach((function(e){var r=Nu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var ya="function"===typeof WeakMap?WeakMap:Map;function ba(t,e,n){(n=ho(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xa||(Xa=!0,Qa=r),oa(t,e)},n}function wa(t,e,n){(n=ho(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return oa(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$a?$a=new Set([this]):$a.add(this),oa(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Ca,Ea=Math.ceil,_a=Q.ReactCurrentDispatcher,Oa=Q.ReactCurrentOwner,Ta=0,Sa=8,Ra=16,Pa=32,xa=0,Aa=1,Da=2,Ia=3,Na=4,ka=5,La=Ta,Ma=null,Fa=null,ja=0,Ga=xa,Va=null,Wa=1073741823,Ba=1073741823,Ha=null,Ua=0,za=!1,qa=0,Ka=500,Ya=null,Xa=!1,Qa=null,$a=null,Ja=!1,Za=null,tu=90,eu=null,nu=0,ru=null,iu=0;function ou(){return(La&(Ra|Pa))!==Ta?1073741821-(Hi()/10|0):0!==iu?iu:iu=1073741821-(Hi()/10|0)}function su(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=Ui();if(0===(4&e))return 99===r?1073741823:1073741822;if((La&Ra)!==Ta)return ja;if(null!==n)t=$i(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=$i(t,150,100);break;case 97:case 96:t=$i(t,5e3,250);break;case 95:t=2;break;default:throw Error(s(326))}return null!==Ma&&t===ja&&--t,t}function au(t,e){if(50<nu)throw nu=0,ru=null,Error(s(185));if(null!==(t=uu(t,e))){var n=Ui();1073741823===e?(La&Sa)!==Ta&&(La&(Ra|Pa))===Ta?pu(t):(cu(t),La===Ta&&Xi()):cu(t),(4&La)===Ta||98!==n&&99!==n||(null===eu?eu=new Map([[t,e]]):(void 0===(n=eu.get(t))||n>e)&&eu.set(t,e))}}function uu(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ma===i&&(bu(e),Ga===Na&&qu(i,ja)),Ku(i,e)),i}function lu(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!zu(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function cu(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Yi(pu.bind(null,t));else{var e=lu(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=ou();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Mi&&Ri(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Yi(pu.bind(null,t)):Ki(r,hu.bind(null,t),{timeout:10*(1073741821-e)-Hi()}),t.callbackNode=e}}}function hu(t,e){if(iu=0,e)return Yu(t,e=ou()),cu(t),null;var n=lu(t);if(0!==n){if(e=t.callbackNode,(La&(Ra|Pa))!==Ta)throw Error(s(327));if(Pu(),t===Ma&&n===ja||gu(t,n),null!==Fa){var r=La;La|=Ra;for(var i=mu();;)try{Cu();break}catch(u){vu(t,u)}if(ro(),La=r,_a.current=i,Ga===Aa)throw e=Va,gu(t,n),qu(t,n),cu(t),e;if(null===Fa)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Ga,Ma=null,r){case xa:case Aa:throw Error(s(345));case Da:Yu(t,2<n?2:n);break;case Ia:if(qu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Ou(i)),1073741823===Wa&&10<(i=qa+Ka-Hi())){if(za){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,gu(t,n);break}}if(0!==(o=lu(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=_n(Tu.bind(null,t),i);break}Tu(t);break;case Na:if(qu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Ou(i)),za&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,gu(t,n);break}if(0!==(i=lu(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Ba?r=10*(1073741821-Ba)-Hi():1073741823===Wa?r=0:(r=10*(1073741821-Wa)-5e3,0>(r=(i=Hi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ea(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=_n(Tu.bind(null,t),r);break}Tu(t);break;case ka:if(1073741823!==Wa&&null!==Ha){o=Wa;var a=Ha;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=Hi()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){qu(t,n),t.timeoutHandle=_n(Tu.bind(null,t),r);break}}Tu(t);break;default:throw Error(s(329))}if(cu(t),t.callbackNode===e)return hu.bind(null,t)}}return null}function pu(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(La&(Ra|Pa))!==Ta)throw Error(s(327));if(Pu(),t===Ma&&e===ja||gu(t,e),null!==Fa){var n=La;La|=Ra;for(var r=mu();;)try{wu();break}catch(i){vu(t,i)}if(ro(),La=n,_a.current=r,Ga===Aa)throw n=Va,gu(t,e),qu(t,e),cu(t),n;if(null!==Fa)throw Error(s(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ma=null,Tu(t),cu(t)}return null}function du(t,e){var n=La;La|=1;try{return t(e)}finally{(La=n)===Ta&&Xi()}}function fu(t,e){var n=La;La&=-2,La|=Sa;try{return t(e)}finally{(La=n)===Ta&&Xi()}}function gu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,On(n)),null!==Fa)for(n=Fa.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&wi();break;case 3:Fo(),pi(vi),pi(gi);break;case 5:Go(r);break;case 4:Fo();break;case 13:case 19:pi(Vo);break;case 10:io(r)}n=n.return}Ma=t,Fa=Gu(t.current,null),ja=e,Ga=xa,Va=null,Ba=Wa=1073741823,Ha=null,Ua=0,za=!1}function vu(t,e){for(;;){try{if(ro(),Ho.current=ws,Xo)for(var n=qo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(zo=0,Yo=Ko=qo=null,Xo=!1,null===Fa||null===Fa.return)return Ga=Aa,Va=e,Fa=null;t:{var i=t,o=Fa.return,s=Fa,a=e;if(e=ja,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var u=a;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.expirationTime=l.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var c=0!==(1&Vo.current),h=o;do{var p;if(p=13===h.tag){var d=h.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var f=h.memoizedProps;p=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!c)}}if(p){var g=h.updateQueue;if(null===g){var v=new Set;v.add(u),h.updateQueue=v}else g.add(u);if(0===(2&h.mode)){if(h.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=ho(1073741823,null);m.tag=2,po(s,m)}s.expirationTime=1073741823;break t}a=void 0,s=e;var y=i.pingCache;if(null===y?(y=i.pingCache=new ya,a=new Set,y.set(u,a)):void 0===(a=y.get(u))&&(a=new Set,y.set(u,a)),!a.has(s)){a.add(s);var b=Iu.bind(null,i,u,s);u.then(b,b)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);a=Error((vt(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+mt(s))}Ga!==ka&&(Ga=Da),a=ra(a,s),h=o;do{switch(h.tag){case 3:u=a,h.effectTag|=4096,h.expirationTime=e,fo(h,ba(h,u,e));break t;case 1:u=a;var w=h.type,C=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===$a||!$a.has(C)))){h.effectTag|=4096,h.expirationTime=e,fo(h,wa(h,u,e));break t}}h=h.return}while(null!==h)}Fa=_u(Fa)}catch(E){e=E;continue}break}}function mu(){var t=_a.current;return _a.current=ws,null===t?ws:t}function yu(t,e){t<Wa&&2<t&&(Wa=t),null!==e&&t<Ba&&2<t&&(Ba=t,Ha=e)}function bu(t){t>Ua&&(Ua=t)}function wu(){for(;null!==Fa;)Fa=Eu(Fa)}function Cu(){for(;null!==Fa&&!Fi();)Fa=Eu(Fa)}function Eu(t){var e=Ca(t.alternate,t,ja);return t.memoizedProps=t.pendingProps,null===e&&(e=_u(t)),Oa.current=null,e}function _u(t){Fa=t;do{var e=Fa.alternate;if(t=Fa.return,0===(2048&Fa.effectTag)){if(e=ea(e,Fa,ja),1===ja||1!==Fa.childExpirationTime){for(var n=0,r=Fa.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Fa.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Fa.firstEffect),null!==Fa.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Fa.firstEffect),t.lastEffect=Fa.lastEffect),1<Fa.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Fa:t.firstEffect=Fa,t.lastEffect=Fa))}else{if(null!==(e=na(Fa)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Fa.sibling))return e;Fa=t}while(null!==Fa);return Ga===xa&&(Ga=ka),null}function Ou(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Tu(t){var e=Ui();return qi(99,Su.bind(null,t,e)),null}function Su(t,e){do{Pu()}while(null!==Za);if((La&(Ra|Pa))!==Ta)throw Error(s(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=Ou(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ma&&(Fa=Ma=null,ja=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=La;La|=Pa,Oa.current=null,bn=qe;var a=dn();if(fn(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{var l=(u=(u=a.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{u.nodeType,h.nodeType}catch(S){u=null;break t}var p=0,d=-1,f=-1,g=0,v=0,m=a,y=null;e:for(;;){for(var b;m!==u||0!==c&&3!==m.nodeType||(d=p+c),m!==h||0!==l&&3!==m.nodeType||(f=p+l),3===m.nodeType&&(p+=m.nodeValue.length),null!==(b=m.firstChild);)y=m,m=b;for(;;){if(m===a)break e;if(y===u&&++g===c&&(d=p),y===h&&++v===l&&(f=p),null!==(b=m.nextSibling))break;y=(m=y).parentNode}m=b}u=-1===d||-1===f?null:{start:d,end:f}}else u=null}u=u||{start:0,end:0}}else u=null;wn={activeElementDetached:null,focusedElem:a,selectionRange:u},qe=!1,Ya=i;do{try{Ru()}catch(S){if(null===Ya)throw Error(s(330));Du(Ya,S),Ya=Ya.nextEffect}}while(null!==Ya);Ya=i;do{try{for(a=t,u=e;null!==Ya;){var w=Ya.effectTag;if(16&w&&Vt(Ya.stateNode,""),128&w){var C=Ya.alternate;if(null!==C){var E=C.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&w){case 2:fa(Ya),Ya.effectTag&=-3;break;case 6:fa(Ya),Ya.effectTag&=-3,va(Ya.alternate,Ya);break;case 1024:Ya.effectTag&=-1025;break;case 1028:Ya.effectTag&=-1025,va(Ya.alternate,Ya);break;case 4:va(Ya.alternate,Ya);break;case 8:ga(a,c=Ya,u),pa(c)}Ya=Ya.nextEffect}}catch(S){if(null===Ya)throw Error(s(330));Du(Ya,S),Ya=Ya.nextEffect}}while(null!==Ya);if(E=wn,C=dn(),w=E.focusedElem,u=E.selectionRange,C!==w&&w&&w.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&fn(w)&&(C=u.start,void 0===(E=u.end)&&(E=C),"selectionStart"in w?(w.selectionStart=C,w.selectionEnd=Math.min(E,w.value.length)):(E=(C=w.ownerDocument||document)&&C.defaultView||window).getSelection&&(E=E.getSelection(),c=w.textContent.length,a=Math.min(u.start,c),u=void 0===u.end?a:Math.min(u.end,c),!E.extend&&a>u&&(c=u,u=a,a=c),c=pn(w,a),h=pn(w,u),c&&h&&(1!==E.rangeCount||E.anchorNode!==c.node||E.anchorOffset!==c.offset||E.focusNode!==h.node||E.focusOffset!==h.offset)&&((C=C.createRange()).setStart(c.node,c.offset),E.removeAllRanges(),a>u?(E.addRange(C),E.extend(h.node,h.offset)):(C.setEnd(h.node,h.offset),E.addRange(C))))),C=[];for(E=w;E=E.parentNode;)1===E.nodeType&&C.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<C.length;w++)(E=C[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}qe=!!bn,wn=bn=null,t.current=n,Ya=i;do{try{for(w=t;null!==Ya;){var _=Ya.effectTag;if(36&_&&ca(w,Ya.alternate,Ya),128&_){C=void 0;var O=Ya.ref;if(null!==O){var T=Ya.stateNode;switch(Ya.tag){case 5:C=T;break;default:C=T}"function"===typeof O?O(C):O.current=C}}Ya=Ya.nextEffect}}catch(S){if(null===Ya)throw Error(s(330));Du(Ya,S),Ya=Ya.nextEffect}}while(null!==Ya);Ya=null,ji(),La=o}else t.current=n;if(Ja)Ja=!1,Za=t,tu=e;else for(Ya=i;null!==Ya;)e=Ya.nextEffect,Ya.nextEffect=null,Ya=e;if(0===(e=t.firstPendingTime)&&($a=null),1073741823===e?t===ru?nu++:(nu=0,ru=t):nu=0,"function"===typeof ku&&ku(n.stateNode,r),cu(t),Xa)throw Xa=!1,t=Qa,Qa=null,t;return(La&Sa)!==Ta?null:(Xi(),null)}function Ru(){for(;null!==Ya;){var t=Ya.effectTag;0!==(256&t)&&aa(Ya.alternate,Ya),0===(512&t)||Ja||(Ja=!0,Ki(97,(function(){return Pu(),null}))),Ya=Ya.nextEffect}}function Pu(){if(90!==tu){var t=97<tu?97:tu;return tu=90,qi(t,xu)}}function xu(){if(null===Za)return!1;var t=Za;if(Za=null,(La&(Ra|Pa))!==Ta)throw Error(s(331));var e=La;for(La|=Pa,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ua(5,n),la(5,n)}}catch(r){if(null===t)throw Error(s(330));Du(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return La=e,Xi(),!0}function Au(t,e,n){po(t,e=ba(t,e=ra(n,e),1073741823)),null!==(t=uu(t,1073741823))&&cu(t)}function Du(t,e){if(3===t.tag)Au(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Au(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$a||!$a.has(r))){po(n,t=wa(n,t=ra(e,t),1073741823)),null!==(n=uu(n,1073741823))&&cu(n);break}}n=n.return}}function Iu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Ma===t&&ja===n?Ga===Na||Ga===Ia&&1073741823===Wa&&Hi()-qa<Ka?gu(t,ja):za=!0:zu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,cu(t)))}function Nu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=su(e=ou(),t,null)),null!==(t=uu(t,e))&&cu(t)}Ca=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||vi.current)ks=!0;else{if(r<n){switch(ks=!1,e.tag){case 3:Hs(e),Is();break;case 5:if(jo(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:bi(e.type)&&_i(e);break;case 4:Mo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,di(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Xs(t,e,n):(di(Vo,1&Vo.current),null!==(e=Zs(t,e,n))?e.sibling:null);di(Vo,1&Vo.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return Js(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),di(Vo,Vo.current),!r)return null}return Zs(t,e,n)}ks=!1}}else ks=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=yi(e,gi.current),so(e,n),i=Jo(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,bi(r)){var o=!0;_i(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,lo(e);var a=r.getDerivedStateFromProps;"function"===typeof a&&bo(e,r,a,t),i.updater=wo,e.stateNode=i,i._reactInternalFiber=e,Oo(e,r,t,n),e=Bs(null,e,r,!0,o,n)}else e.tag=0,Ls(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"===typeof t)return ju(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ut)return 11;if(t===ht)return 14}return 2}(i),t=Ji(i,t),o){case 0:e=Vs(null,e,i,t,n);break t;case 1:e=Ws(null,e,i,t,n);break t;case 11:e=Ms(null,e,i,t,n);break t;case 14:e=Fs(null,e,i,Ji(i.type,t),r,n);break t}throw Error(s(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Vs(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ws(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 3:if(Hs(e),r=e.updateQueue,null===t||null===r)throw Error(s(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,co(t,e),go(e,r,null,n),(r=e.memoizedState.element)===i)Is(),e=Zs(t,e,n);else{if((i=e.stateNode.hydrate)&&(Ts=Tn(e.stateNode.containerInfo.firstChild),Os=e,i=Ss=!0),i)for(n=Ao(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ls(t,e,r,n),Is();e=e.child}return e;case 5:return jo(e),null===t&&xs(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,En(r,i)?a=null:null!==o&&En(r,o)&&(e.effectTag|=16),Gs(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Ls(t,e,a,n),e=e.child),e;case 6:return null===t&&xs(e),null;case 13:return Xs(t,e,n);case 4:return Mo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=xo(e,null,r,n):Ls(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ms(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 7:return Ls(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ls(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value;var u=e.type._context;if(di(Zi,u._currentValue),u._currentValue=o,null!==a)if(u=a.value,0===(o=Wr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!vi.current){e=Zs(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){a=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=ho(n,null)).tag=2,po(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),oo(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else a=10===u.tag&&u.type===e.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===e){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Ls(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,so(e,n),r=r(i=ao(i,o.unstable_observedBits)),e.effectTag|=1,Ls(t,e,r,n),e.child;case 14:return o=Ji(i=e.type,e.pendingProps),Fs(t,e,i,o=Ji(i.type,o),r,n);case 15:return js(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,bi(r)?(t=!0,_i(e)):t=!1,so(e,n),Eo(e,r,i),Oo(e,r,i,n),Bs(null,e,r,!0,t,n);case 19:return Js(t,e,n)}throw Error(s(156,e.tag))};var ku=null,Lu=null;function Mu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Fu(t,e,n,r){return new Mu(t,e,n,r)}function ju(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Gu(t,e){var n=t.alternate;return null===n?((n=Fu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vu(t,e,n,r,i,o){var a=2;if(r=t,"function"===typeof t)ju(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case nt:return Wu(n.children,i,o,e);case at:a=8,i|=7;break;case rt:a=8,i|=1;break;case it:return(t=Fu(12,n,e,8|i)).elementType=it,t.type=it,t.expirationTime=o,t;case lt:return(t=Fu(13,n,e,i)).type=lt,t.elementType=lt,t.expirationTime=o,t;case ct:return(t=Fu(19,n,e,i)).elementType=ct,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case ot:a=10;break t;case st:a=9;break t;case ut:a=11;break t;case ht:a=14;break t;case pt:a=16,r=null;break t;case dt:a=22;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Fu(a,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Wu(t,e,n,r){return(t=Fu(7,t,r,e)).expirationTime=n,t}function Bu(t,e,n){return(t=Fu(6,t,null,e)).expirationTime=n,t}function Hu(t,e,n){return(e=Fu(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Uu(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function zu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function qu(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Ku(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Yu(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Xu(t,e,n,r){var i=e.current,o=ou(),a=mo.suspense;o=su(o,i,a);t:if(n){e:{if(Zt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(bi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var l=n.type;if(bi(l)){n=Ei(n,l,u);break t}}n=u}else n=fi;return null===e.context?e.context=n:e.pendingContext=n,(e=ho(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),po(i,e),au(i,o),o}function Qu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function $u(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Ju(t,e){$u(t,e),(t=t.alternate)&&$u(t,e)}function Zu(t,e,n){var r=new Uu(t,e,n=null!=n&&!0===n.hydrate),i=Fu(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,lo(i),t[An]=r.current,n&&0!==e&&function(t,e){var n=Jt(e);Se.forEach((function(t){fe(t,e,n)})),Re.forEach((function(t){fe(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function tl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function el(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var t=Qu(s);a.call(t)}}Xu(e,s,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Zu(t,0,e?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Qu(s);u.call(t)}}fu((function(){Xu(e,s,t,i)}))}return Qu(s)}function nl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tl(e))throw Error(s(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Zu.prototype.render=function(t){Xu(t,this._internalRoot,null,null)},Zu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Xu(null,t,null,(function(){e[An]=null}))},ge=function(t){if(13===t.tag){var e=$i(ou(),150,100);au(t,e),Ju(t,e)}},ve=function(t){13===t.tag&&(au(t,3),Ju(t,3))},me=function(t){if(13===t.tag){var e=ou();au(t,e=su(e,t,null)),Ju(t,e)}},P=function(t,e,n){switch(e){case"input":if(Tt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kn(r);if(!i)throw Error(s(90));Ct(r),Tt(r,i)}}}break;case"textarea":It(t,n);break;case"select":null!=(e=n.value)&&xt(t,!!n.multiple,e,!1)}},k=du,L=function(t,e,n,r,i){var o=La;La|=4;try{return qi(98,t.bind(null,e,n,r,i))}finally{(La=o)===Ta&&Xi()}},M=function(){(La&(1|Ra|Pa))===Ta&&(function(){if(null!==eu){var t=eu;eu=null,t.forEach((function(t,e){Yu(e,t),cu(e)})),Xi()}}(),Pu())},F=function(t,e){var n=La;La|=2;try{return t(e)}finally{(La=n)===Ta&&Xi()}};var rl={Events:[In,Nn,kn,S,_,Wn,function(t){ie(t,Vn)},I,N,$e,ae,Pu,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);ku=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},Lu=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Dn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rl,e.createPortal=nl,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if((La&(Ra|Pa))!==Ta)throw Error(s(187));var n=La;La|=1;try{return qi(99,t.bind(null,e))}finally{La=n,Xi()}},e.hydrate=function(t,e,n){if(!tl(e))throw Error(s(200));return el(null,t,e,!0,n)},e.render=function(t,e,n){if(!tl(e))throw Error(s(200));return el(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!tl(t))throw Error(s(40));return!!t._reactRootContainer&&(fu((function(){el(null,null,t,!1,(function(){t._reactRootContainer=null,t[An]=null}))})),!0)},e.unstable_batchedUpdates=du,e.unstable_createPortal=function(t,e){return nl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tl(n))throw Error(s(200));if(null==t||void 0===t._reactInternalFiber)throw Error(s(38));return el(t,e,n,!1,r)},e.version="16.14.0"},function(t,e,n){"use strict";t.exports=n(185)},function(t,e,n){"use strict";var r,i,o,s,a;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(t,0),r}},h=Date.now();e.unstable_now=function(){return Date.now()-h},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(c,0))},i=function(t,e){l=setTimeout(t,e)},o=function(){clearTimeout(l)},s=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var p=window.performance,d=window.Date,f=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof p&&"function"===typeof p.now)e.unstable_now=function(){return p.now()};else{var m=d.now();e.unstable_now=function(){return d.now()-m}}var y=!1,b=null,w=-1,C=5,E=0;s=function(){return e.unstable_now()>=E},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):C=0<t?Math.floor(1e3/t):5};var _=new MessageChannel,O=_.port2;_.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();E=t+C;try{b(!0,t)?O.postMessage(null):(y=!1,b=null)}catch(n){throw O.postMessage(null),n}}else y=!1},r=function(t){b=t,y||(y=!0,O.postMessage(null))},i=function(t,n){w=f((function(){t(e.unstable_now())}),n)},o=function(){g(w),w=-1}}function T(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<P(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function R(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,s=t[o],a=o+1,u=t[a];if(void 0!==s&&0>P(s,n))void 0!==u&&0>P(u,s)?(t[r]=u,t[a]=n,r=a):(t[r]=s,t[o]=n,r=o);else{if(!(void 0!==u&&0>P(u,n)))break t;t[r]=u,t[a]=n,r=a}}}return e}return null}function P(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var x=[],A=[],D=1,I=null,N=3,k=!1,L=!1,M=!1;function F(t){for(var e=S(A);null!==e;){if(null===e.callback)R(A);else{if(!(e.startTime<=t))break;R(A),e.sortIndex=e.expirationTime,T(x,e)}e=S(A)}}function j(t){if(M=!1,F(t),!L)if(null!==S(x))L=!0,r(G);else{var e=S(A);null!==e&&i(j,e.startTime-t)}}function G(t,n){L=!1,M&&(M=!1,o()),k=!0;var r=N;try{for(F(n),I=S(x);null!==I&&(!(I.expirationTime>n)||t&&!s());){var a=I.callback;if(null!==a){I.callback=null,N=I.priorityLevel;var u=a(I.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?I.callback=u:I===S(x)&&R(x),F(n)}else R(x);I=S(x)}if(null!==I)var l=!0;else{var c=S(A);null!==c&&i(j,c.startTime-n),l=!1}return l}finally{I=null,N=r,k=!1}}function V(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var W=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){L||k||(L=!0,r(G))},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return S(x)},e.unstable_next=function(t){switch(N){case 1:case 2:case 3:var e=3;break;default:e=N}var n=N;N=e;try{return t()}finally{N=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=W,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=N;N=t;try{return e()}finally{N=n}},e.unstable_scheduleCallback=function(t,n,s){var a=e.unstable_now();if("object"===typeof s&&null!==s){var u=s.delay;u="number"===typeof u&&0<u?a+u:a,s="number"===typeof s.timeout?s.timeout:V(t)}else s=V(t),u=a;return t={id:D++,callback:n,priorityLevel:t,startTime:u,expirationTime:s=u+s,sortIndex:-1},u>a?(t.sortIndex=u,T(A,t),null===S(x)&&t===S(A)&&(M?o():M=!0,i(j,u-a))):(t.sortIndex=s,T(x,t),L||k||(L=!0,r(G))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var n=S(x);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<I.expirationTime||s()},e.unstable_wrapCallback=function(t){var e=N;return function(){var n=N;N=e;try{return t.apply(this,arguments)}finally{N=n}}}},,function(t,e,n){},,,function(t,e,n){"use strict";var r=n(191);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function C(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case p:case s:case u:case a:case f:return t;default:switch(t=t&&t.$$typeof){case c:case d:case l:return t;default:return e}}case m:case v:case o:return e}}}function E(t){return C(t)===p}e.typeOf=C,e.AsyncMode=h,e.ConcurrentMode=p,e.ContextConsumer=c,e.ContextProvider=l,e.Element=i,e.ForwardRef=d,e.Fragment=s,e.Lazy=m,e.Memo=v,e.Portal=o,e.Profiler=u,e.StrictMode=a,e.Suspense=f,e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===p||t===u||t===a||t===f||t===g||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===v||t.$$typeof===l||t.$$typeof===c||t.$$typeof===d||t.$$typeof===y||t.$$typeof===b||t.$$typeof===w)},e.isAsyncMode=function(t){return E(t)||C(t)===h},e.isConcurrentMode=E,e.isContextConsumer=function(t){return C(t)===c},e.isContextProvider=function(t){return C(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return C(t)===d},e.isFragment=function(t){return C(t)===s},e.isLazy=function(t){return C(t)===m},e.isMemo=function(t){return C(t)===v},e.isPortal=function(t){return C(t)===o},e.isProfiler=function(t){return C(t)===u},e.isStrictMode=function(t){return C(t)===a},e.isSuspense=function(t){return C(t)===f}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),s=n(4),a=n(55),u=n(6),l=n(167),c=n(196),h=n(200),p=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.props=e,r.state=n,r.changeDetectionService=new h.ChangeDetectionService,r.api=null,r.portals=[],r.hasPendingPortalUpdate=!1,r.destroyed=!1,r}return r(e,t),e.prototype.render=function(){var t=this;return o.createElement("div",{style:this.createStyleForDiv(),ref:function(e){t.eGridDiv=e}},this.portals)},e.prototype.createStyleForDiv=function(){var t={height:"100%"},e=this.props.containerStyle;return e&&Object.keys(e).forEach((function(n){t[n]=e[n]})),t},e.prototype.componentDidMount=function(){var t=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new f(this)},modules:t},n=this.props.gridOptions||{};l.AgGridColumn.hasChildColumns(this.props)&&(n.columnDefs=l.AgGridColumn.mapChildColumnDefs(this.props)),this.gridOptions=u.ComponentUtil.copyAttributesToGridOptions(n,this.props),new u.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi},e.prototype.waitForInstance=function(t,n,r){var i=this;if(void 0===r&&(r=0),this.destroyed)n(null);else if(t.isStatelessComponent()&&t.statelessComponentRendered())n(null);else if(!t.isStatelessComponent()&&t.getFrameworkComponentInstance())n(null);else{if(r>=e.MAX_COMPONENT_CREATION_TIME)return void console.error("ag-Grid: React Component '"+t.getReactComponentName()+"' not created within "+e.MAX_COMPONENT_CREATION_TIME+"ms");window.setTimeout((function(){return i.waitForInstance(t,n,r+5)}),5)}},e.prototype.mountReactPortal=function(t,e,n){this.portals=i(this.portals,[t]),this.batchUpdate(this.waitForInstance(e,n))},e.prototype.batchUpdate=function(t){var e=this;if(this.hasPendingPortalUpdate)return t&&t();setTimeout((function(){e.api&&e.forceUpdate((function(){t&&t(),e.hasPendingPortalUpdate=!1}))})),this.hasPendingPortalUpdate=!0},e.prototype.destroyPortal=function(t){this.portals=this.portals.filter((function(e){return e!==t})),this.batchUpdate()},e.prototype.getStrategyTypeForProp=function(t){if("rowData"===t){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.props.deltaRowDataMode)return h.ChangeDetectionStrategyType.IdentityCheck}return h.ChangeDetectionStrategyType.DeepValueCheck},e.prototype.shouldComponentUpdate=function(t){return this.processPropsChanges(this.props,t),!1},e.prototype.componentDidUpdate=function(t){this.processPropsChanges(t,this.props)},e.prototype.processPropsChanges=function(t,e){var n={};this.extractGridPropertyChanges(t,e,n),this.extractDeclarativeColDefChanges(e,n),Object.keys(n).length>0&&u.ComponentUtil.processOnChange(n,this.gridOptions,this.api,this.columnApi)},e.prototype.extractDeclarativeColDefChanges=function(t,e){var n=!!t.debug;if(l.AgGridColumn.hasChildColumns(t)){var r=this.changeDetectionService.getStrategy(h.ChangeDetectionStrategyType.DeepValueCheck),i=this.gridOptions.columnDefs,o=l.AgGridColumn.mapChildColumnDefs(t);r.areEqual(i,o)||(n&&console.log("agGridReact: colDefs definitions changed"),e.columnDefs={previousValue:this.gridOptions.columnDefs,currentValue:l.AgGridColumn.mapChildColumnDefs(t)})}},e.prototype.extractGridPropertyChanges=function(t,e,n){var r=this,i=!!e.debug;Object.keys(e).forEach((function(o){-1!==u.ComponentUtil.ALL_PROPERTIES.indexOf(o)&&(r.changeDetectionService.getStrategy(r.getStrategyTypeForProp(o)).areEqual(t[o],e[o])||(i&&console.log("agGridReact: ["+o+"] property changed"),n[o]={previousValue:t[o],currentValue:e[o]}))})),u.ComponentUtil.getEventCallbacks().forEach((function(o){r.props[o]!==e[o]&&(i&&console.log("agGridReact: ["+o+"] event callback changed"),n[o]={previousValue:t[o],currentValue:e[o]})}))},e.prototype.componentWillUnmount=function(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0},e.MAX_COMPONENT_CREATION_TIME=1e3,e}(s.Component);function d(t,e){t.forEach((function(t){p[t]=e}))}e.AgGridReact=p,p.propTypes={gridOptions:a.object},d(u.ComponentUtil.getEventCallbacks(),a.func),d(u.ComponentUtil.BOOLEAN_PROPERTIES,a.bool),d(u.ComponentUtil.STRING_PROPERTIES,a.string),d(u.ComponentUtil.OBJECT_PROPERTIES,a.object),d(u.ComponentUtil.ARRAY_PROPERTIES,a.array),d(u.ComponentUtil.NUMBER_PROPERTIES,a.number),d(u.ComponentUtil.FUNCTION_PROPERTIES,a.func);var f=function(t){function e(e){var n=t.call(this)||this;return n.agGridReact=e,n}return r(e,t),e.prototype.createWrapper=function(t){return new c.ReactComponent(t,this.agGridReact)},e}(u.BaseComponentWrapper)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(148),s=n(6),a=n(197),u=n(198),l=n(199),c=function(t){function e(n,r){var i=t.call(this)||this;return i.portal=null,i.componentWrappingElement="div",i.reactComponent=n,i.parentComponent=r,i.statelessComponent=e.isStateless(i.reactComponent),i}return r(e,t),e.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},e.prototype.isStatelessComponent=function(){return this.statelessComponent},e.prototype.getReactComponentName=function(){return this.reactComponent.name},e.prototype.init=function(t){var e=this;return new s.Promise((function(n){e.eParentElement=e.createParentElement(t),e.createReactComponent(t,n)}))},e.prototype.getGui=function(){return this.eParentElement},e.prototype.destroy=function(){return this.parentComponent.destroyPortal(this.portal)},e.prototype.createReactComponent=function(t,e){var n=this;this.statelessComponent||(t.ref=function(t){n.componentInstance=t,n.addParentContainerStyleAndClasses()});var r=i.createElement(this.reactComponent,t),s=o.createPortal(r,this.eParentElement,l.default());this.portal=s,this.parentComponent.mountReactPortal(s,this,e)},e.prototype.addParentContainerStyleAndClasses=function(){var t=this;this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&u.assignProperties(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach((function(e){return s.Utils.addCssClass(t.eParentElement,e)})))},e.prototype.createParentElement=function(t){var e=document.createElement(this.parentComponent.props.componentWrappingElement||"div");return s.Utils.addCssClass(e,"ag-react-container"),t.reactContainer=e,e},e.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},e.hasSymbol=function(){return"function"===typeof Symbol&&Symbol.for},e.isStateless=function(t){return"function"===typeof t&&!(t.prototype&&t.prototype.isReactComponent)||"object"===typeof t&&t.$$typeof===e.REACT_MEMO_TYPE},e.REACT_MEMO_TYPE=e.hasSymbol()?Symbol.for("react.memo"):60115,e}(a.BaseReactComponent);e.ReactComponent=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.hasMethod=function(t){var e=this.getFrameworkComponentInstance();return null!=e&&null!=e[t]},t.prototype.callMethod=function(t,e){var n=this,r=this.getFrameworkComponentInstance();if(null!=r){var i=this.getFrameworkComponentInstance()[t];if(null==i)return;return i.apply(r,e)}window.setTimeout((function(){return n.callMethod(t,e)}),100)},t.prototype.addMethod=function(t,e){this[t]=e},t}();e.BaseReactComponent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assignProperties=function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=0;e.default=function(){return"agPortalKey_"+ ++r}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.IdentityCheck="IdentityCheck",t.DeepValueCheck="DeepValueCheck",t.NoCheck="NoCheck"}(r=e.ChangeDetectionStrategyType||(e.ChangeDetectionStrategyType={}));var i=function(){function t(){var t;this.strategyMap=((t={})[r.DeepValueCheck]=new s,t[r.IdentityCheck]=new o((function(t,e){return t===e})),t[r.NoCheck]=new o((function(t,e){return!0})),t)}return t.prototype.getStrategy=function(t){return this.strategyMap[t]},t}();e.ChangeDetectionService=i;var o=function(){function t(t){this.strategy=t}return t.prototype.areEqual=function(t,e){return this.strategy(t,e)},t}(),s=function(){function t(){}return t.prototype.areEqual=function(e,n){return t.areEquivalent(t.copy(e),t.copy(n))},t.unwrapStringOrNumber=function(t){return t instanceof Number||t instanceof String?t.valueOf():t},t.copy=function(t){if(!t)return t;if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(this.copy(t[n]));return e}return"object"!==typeof t?t:[{},t].reduce((function(t,e){return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}),{})},t.isNaN=function(t){return Number.isNaN?Number.isNaN(t):"number"===typeof t&&isNaN(t)},t.areEquivalent=function(e,n){if(e=t.unwrapStringOrNumber(e),n=t.unwrapStringOrNumber(n),e===n)return!0;if(null===e||null===n||typeof e!==typeof n)return!1;if(t.isNaN(e)&&t.isNaN(n))return!0;if(e instanceof Date)return n instanceof Date&&e.valueOf()===n.valueOf();if("function"===typeof e)return e.toString()===n.toString();if("object"!==typeof e)return e==n;var r=void 0===e.areEquivPropertyTracking,i=void 0===n.areEquivPropertyTracking;try{var o=void 0;if(r)e.areEquivPropertyTracking=[];else if(e.areEquivPropertyTracking.some((function(t){return t===n})))return!0;if(i)n.areEquivPropertyTracking=[];else if(n.areEquivPropertyTracking.some((function(t){return t===e})))return!0;e.areEquivPropertyTracking.push(n),n.areEquivPropertyTracking.push(e);var s={};for(o in e)"areEquivPropertyTracking"!=o&&(s[o]=null);for(o in n)"areEquivPropertyTracking"!=o&&(s[o]=null);for(o in s)if(!this.areEquivalent(e[o],n[o]))return!1;return!0}finally{r&&delete e.areEquivPropertyTracking,i&&delete n.areEquivPropertyTracking}},t}()},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";(function(t){var e=n(9);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in n||(n[s]={}),n=n[s]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Ra(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Ra(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var a=a||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&l.test(t)?t:""}function p(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==d(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function C(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:C).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var O=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function R(t,e,n){this.code=A+t,this.message=e||D[t]||"",this.a=n||null}function P(t){var e=t&&t.code;return e?new R(e.substring(A.length),t.message,t.serverResponse):null}T(R,Error),R.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},R.prototype.toJSON=function(){return this.w()};var x,A="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},I={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in I)if(I[e].id===t)return{firebaseEndpoint:(t=I[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function k(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function F(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function G(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}x=N("__EID__")?"__EID__":void 0,T(L,Error),L.prototype.name="CustomError",T(M,L),M.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var W=new j((function(){return new H}),(function(t){t.reset()}));function B(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function H(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=W.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},H.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Y=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function X(t,e){return 0<=U(t,e)}function Q(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function J(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,st=/'/g,at=/\x00/g,ut=/[\x00&<>"']/;function lt(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var ht=u.navigator;if(ht){var pt=ht.userAgent;if(pt){tt=pt;break t}}tt=""}function dt(t){return lt(tt,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function gt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===Ot&&e||"",this.b=_t}function Ct(t){return t instanceof wt&&t.constructor===wt&&t.b===_t?t.a:(F("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.ta=!0,wt.prototype.sa=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,_t={},Ot={};function Tt(){if(void 0===Et){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){u.console&&u.console.error(n.message)}Et=t}else Et=t}return Et}function St(t,e){this.a=e===Dt?t:""}function Rt(t){return t instanceof St&&t.constructor===St?t.a:(F("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Pt(t,e){var n=Ct(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Tt();return new St(t=e?e.createScriptURL(t):t,Dt)}(t=n.replace(xt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?Ct(t):encodeURIComponent(String(t))})))}St.prototype.ta=!0,St.prototype.sa=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Dt={};function It(t,e){this.a=e===Gt?t:""}function Nt(t){return t instanceof It&&t.constructor===It?t.a:(F("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}It.prototype.ta=!0,It.prototype.sa=function(){return this.a.toString()},It.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ft(t){if(t instanceof It)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Mt.test(t))t=new It(t,Gt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&kt.test(e[1])?new It(t,Gt):null}return t}function jt(t){return t instanceof It?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new It(t,Gt))}var Gt={},Vt=new It("about:invalid#zClosurez",Gt);function Wt(t,e,n){this.a=n===Bt?t:""}Wt.prototype.ta=!0,Wt.prototype.sa=function(){return this.a.toString()},Wt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function Ht(t,e,n,r){return t=t instanceof It?t:jt(t),e=e||u,n=n instanceof wt?Ct(n):n||"",e.open(Nt(t),n,r,void 0)}function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function zt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(st,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function qt(t){return qt[" "](t),t}qt[" "]=p;var Kt,Yt=dt("Opera"),Xt=dt("Trident")||dt("MSIE"),Qt=dt("Edge"),$t=Qt||Xt,Jt=dt("Gecko")&&!(lt(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=lt(tt.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return Jt?/rv:([^\);]+)(\)|;)/.exec(t):Qt?/Edge\/([\d\.]+)/.exec(t):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):Yt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),Xt){var re=te();if(null!=re&&re>parseFloat(ee)){Kt=String(re);break t}}Kt=ee}var ie,oe={};function se(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=et(String(Kt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(u.document&&Xt){var ae=te();ie=ae||(parseInt(Kt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(us){}var le=!Xt||9<=Number(ue);function ce(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function he(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var pe,de,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ge(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!le&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',zt(s.name),'"'),s.type){o.push(' type="',zt(s.type),'"');var a={};yt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=ve(i,o),s&&("string"===typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):he(o,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(g(o)){s="function"==typeof o.item;break t}}s=!1}z(s?Z(o):o,r)}}}(i,o,r),o}function ve(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){u.setTimeout((function(){throw t}),0)}function ye(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(Ce)}}else de=function(){var t=Ce;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(pe||(pe=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=ve(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),pe(t)):u.setImmediate(t)}}(),be||(de(),be=!0),we.add(t,e)}var be=!1,we=new V;function Ce(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){me(e)}G(W,t)}be=!1}function Ee(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=p)try{var n=this;t.call(e,(function(t){Le(n,Oe,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Le(n,Te,t)}))}catch(r){Le(this,Te,r)}}var _e=0,Oe=2,Te=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Re=new j((function(){return new Se}),(function(t){t.reset()}));function Pe(t,e,n){var r=Re.get();return r.g=t,r.b=e,r.f=n,r}function xe(t){if(t instanceof Ee)return t;var e=new Ee(p);return Le(e,Oe,t),e}function Ae(t){return new Ee((function(e,n){n(t)}))}function De(t,e,n){Me(t,e,n,null)||ye(_(e,t))}function Ie(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)De(t[o],_(i,o,!0),_(i,o,!1));else e(r)}))}function Ne(t,e){t.b||t.a!=Oe&&t.a!=Te||Fe(t),t.f?t.f.next=e:t.b=e,t.f=e}function ke(t,e,n,r){var i=Pe(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Ne(t,i),i.a}function Le(t,e,n){t.a==_e&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Fe(t),e!=Te||n instanceof Be||function(t,e){t.g=!0,ye((function(){t.g&&We.call(null,e)}))}(t,n)))}function Me(t,e,n,r){if(t instanceof Ee)return Ne(t,Pe(e||p,n||null,r)),!0;if(k(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(g(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Fe(t){t.h||(t.h=!0,ye(t.gc,t))}function je(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ge(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){We.call(null,i)}G(Re,e)}function Ve(t,e,n){e==Oe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return ke(this,g(t)?t:null,g(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(n=Ee.prototype).oa=function(t,e){return(t=Pe(t,t,e)).c=!0,Ne(this,t),this},n.o=function(t,e){return ke(this,null,t,e)},n.cancel=function(t){if(this.a==_e){var e=new Be(t);ye((function(){!function t(e,n){if(e.a==_e)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==_e&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):je(r),Ge(r,o,Te,n)))}e.c=null}else Le(e,Te,n)}(this,e)}),this)}},n.$c=function(t){this.a=_e,Le(this,Oe,t)},n.ad=function(t){this.a=_e,Le(this,Te,t)},n.gc=function(){for(var t;t=je(this);)Ge(this,t,this.a,this.i);this.h=!1};var We=me;function Be(t){L.call(this,t)}function He(){0!=Ue&&(ze[m(this)]=this),this.ya=this.ya,this.pa=this.pa}T(Be,L),Be.prototype.name="cancel";var Ue=0,ze={};function qe(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=Ue)){var e=m(t);if(0!=Ue&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}He.prototype.ya=!1,He.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ke=Object.freeze||function(t){return t},Ye=!Xt||9<=Number(ue),Xe=Xt&&!se("9"),Qe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",p,e),u.removeEventListener("test",p,e)}catch(n){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Je(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{qt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Je,$e);var Ze=Ke({2:"touch",3:"pen",4:"mouse"});Je.prototype.preventDefault=function(){Je.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Xe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Je.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),en=0;function nn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++en,this.wa=this.Qa=!1}function rn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function on(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(rn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function an(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=an(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new nn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var un="closure_lm_"+(1e6*Math.random()|0),ln={};function cn(t,e,n,r,i){if(r&&r.once)pn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=Cn(n),t&&t[tn]?_n(t,e,n,v(r)?!!r.capture:!!r,i):hn(t,e,n,!1,r,i)}function hn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,a=bn(t);if(a||(t[un]=a=new on(t)),!(n=a.add(e,n,r,s,o)).proxy){if(r=function(){var t=yn,e=Ye?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else n=Cn(n),t&&t[tn]?On(t,e,n,v(r)?!!r.capture:!!r,i):hn(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Cn(n),t&&t[tn]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=an(o=t.a[e],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=an(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!==typeof t&&t&&!t.wa){var e=t.src;if(e&&e[tn])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bn(e))?(sn(n,t),0==n.b&&(n.src=null,e[un]=null)):rn(t)}}}function gn(t){return t in ln?ln[t]:ln[t]="on"+t}function vn(t,e,n,r){var i=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&fn(t),n.call(r,e)}function yn(t,e){if(t.wa)return!0;if(!Ye){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Je(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=vn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=vn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Je(e,this))}function bn(t){return(t=t[un])instanceof on?t:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(t){return g(t)?t:(t[wn]||(t[wn]=function(e){return t.handleEvent(e)}),t[wn])}function En(){He.call(this),this.v=new on(this),this.bc=this,this.hb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function On(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Tn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&sn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(g(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Rn(t){var e=null;return new Ee((function(n,r){-1==(e=Sn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Pn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"===typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function xn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];In(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)In(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function In(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(En,He),En.prototype[tn]=!0,En.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},En.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},En.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"===typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;yt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Tn(s,r,!0,t)&&i}if(i=Tn(s=t.b=n,r,!0,t)&&i,i=Tn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tn(s=t.b=e[o],r,!1,t)&&i;return i},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)rn(n[r]);delete e.a[t],e.b--}}this.hb=null},(n=An.prototype).X=function(){Dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return Dn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return In(this.b,t)?this.b[t]:e},n.set=function(t,e){In(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof kn?(this.i=void 0!==e?e:t.i,Ln(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,Fn(this,nr(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,Ln(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Mn(this,n[4]),this.f=Bn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Qn(null,this.i))}function Ln(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Fn(t,e,n){e instanceof Qn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),er(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Hn(e,Yn)),t.b=new Qn(e,t.i))}function jn(t,e,n){t.b.set(e,n)}function Gn(t,e){return t.b.get(e)}function Vn(t){return t instanceof kn?new kn(t):new kn(t,void 0)}function Wn(t,e,n,r){var i=new kn(null,void 0);return t&&Ln(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}kn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Hn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Hn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hn(n,"/"==n.charAt(0)?Kn:qn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Hn(n,Xn)),t.join("")},kn.prototype.resolve=function(t){var e=new kn(this),n=!!t.c;n?Ln(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(lt(i,"./")||lt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Fn(e,nr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,qn=/[#\?:]/g,Kn=/[#\?]/g,Yn=/[#\?@]/g,Xn=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Jn(t){var e=xn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=Pn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?er(n,i,o):n.add(i,o)}return n}function Zn(t,e){$n(t),e=rr(t,e),In(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,In((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Dn(t)))}function tr(t,e){return $n(t),e=rr(t,e),In(t.a.b,e)}function er(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(rr(t,e),Z(n)),t.b+=n.length)}function nr(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function rr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ir(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),ur(i,r),r.push(":"),t(e,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ur(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new or,t,e),e.join("")}function or(){}(n=Qn.prototype).add=function(t,e){$n(this),this.c=null,t=rr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){$n(this),this.a.forEach((function(n,r){z(n,(function(n){t.call(e,n,r,this)}),this)}),this)},n.Y=function(){$n(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},n.X=function(t){$n(this);var e=[];if("string"===typeof t)tr(this,t)&&(e=J(e,this.a.get(rr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},n.set=function(t,e){return $n(this),this.c=null,tr(this,t=rr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(ar,(function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e})),'"')}function lr(){var t=Pr();return Xt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function cr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||u.window;var n="about:blank";t&&(n=Nt(Ft(t)||Vt)),e.location.href=n}function pr(t){return!!((t=(t||Pr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function dr(t){t=t||u.window;try{t.close()}catch(e){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(e.target=r,lt(n,"crios/")&&(e.target="_blank")),Tr(Pr())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof It?n:Ft("undefined"!=typeof n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(s=ve(document,"A"),"HTMLAnchorElement"),e=e instanceof It?e:jt(e),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ht("",r,n,s),t=Nt(e),s&&($t&&lt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Wt(t=(r=Tt())?r.createHTML(t):t,null,Bt),r=s.document)&&(r.write(function(t){return t instanceof Wt&&t.constructor===Wt?t.a:(F("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ht(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new Ee((function(e){"complete"==u.document.readyState?e():(t=function(){e()},pn(window,"load",t))})).o((function(e){throw dn(window,"load",t),e}))}function yr(t){return t=t||Pr(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Cr(){return e.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.default.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Er(){var t=Cr();return"ReactNative"===t||"Node"===t}var _r="Firefox",Or="Chrome";function Tr(t){var e=t.toLowerCase();return lt(e,"opera/")||lt(e,"opr/")||lt(e,"opios/")?"Opera":lt(e,"iemobile")?"IEMobile":lt(e,"msie")||lt(e,"trident/")?"IE":lt(e,"edge/")?"Edge":lt(e,"firefox/")?_r:lt(e,"silk/")?"Silk":lt(e,"blackberry")?"Blackberry":lt(e,"webos")?"Webos":!lt(e,"safari/")||lt(e,"chrome/")||lt(e,"crios/")||lt(e,"android")?!lt(e,"chrome/")&&!lt(e,"crios/")||lt(e,"edge/")?lt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Or:"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Rr(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Cr())?r=Tr(i=Pr()):"Worker"===r&&(r=Tr(i=Pr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Pr(){return u.navigator&&u.navigator.userAgent||""}function xr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ar(){try{var t=u.localStorage,e=jr();if(t)return t.setItem(e,"1"),t.removeItem(e),!lr()||!!u.indexedDB}catch(n){return wr()&&!!u.indexedDB}return!1}function Dr(){return(Ir()||"chrome-extension:"===Nr()||yr())&&!Er()&&Ar()&&!wr()}function Ir(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return u.location&&u.location.protocol||null}function kr(t){return!pr(t=t||Pr())&&Tr(t)!=_r}function Lr(t){return"undefined"===typeof t?null:ir(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function jr(t){return t||Math.floor(1e9*Math.random()).toString()}function Gr(t){return"Safari"!=Tr(t=t||Pr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Wr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Pr(),e=Cr(),this.b=pr(t)||"ReactNative"===e}function Br(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Hr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ur(){return!(!xr("fireauth.oauthhelper",u)&&!xr("fireauth.iframe",u))}Wr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Ir()&&"chrome-extension:"!==Nr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,qr={};function Kr(t){qr[t]||(qr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Yr.abcd}catch(us){zr=!1}function Xr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Xr(t,n,e[n])}function $r(t){var e={};return Qr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Xr(e,n,Jr(t[n]));return e}function Zr(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new R("internal-error","Internal assert: invalid MultiFactorInfo object");Xr(this,"uid",t[ri]),Xr(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),Xr(this,"enrollmentTime",n),Xr(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){Zr.call(this,t),Xr(this,"phoneNumber",t[ii])}function si(t){var e={},n=t[ci],r=t[pi],i=t[di];if(t=ti(t[hi]),!i||i!=ui&&i!=li&&!n||i==li&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[gi]=n||null,e[mi]=n||null,e[fi]=r):(e[gi]=r||null,e[mi]=r||null,e[fi]=n||null),e[vi]=t||null,Xr(this,bi,i),Xr(this,yi,Jr(e))}T(oi,Zr),oi.prototype.w=function(){var t=oi.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",ci="email",hi="mfaInfo",pi="newEmail",di="requestType",fi="email",gi="fromEmail",vi="multiFactorInfo",mi="previousEmail",yi="data",bi="operation";function wi(t){var e=Gn(t=Vn(t),Ci)||null,n=Gn(t,Ei)||null,r=Gn(t,Ti)||null;if(r=r&&Ri[r]||null,!e||!n||!r)throw new R("argument-error",Ci+", "+Ei+"and "+Ti+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Gn(t,_i)||null,languageCode:Gn(t,Oi)||null,tenantId:Gn(t,Si)||null})}var Ci="apiKey",Ei="oobCode",_i="continueUrl",Oi="languageCode",Ti="mode",Si="tenantId",Ri={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:ui,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Pi(t){try{return new wi(t)}catch(e){return null}}function xi(t){var e=t[ki];if("undefined"===typeof e)throw new R("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new R("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ai];if(n&&"object"===typeof n){e=n[Fi];var r=n[Li];if(n=n[Mi],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new R("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new R("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new R("argument-error",Fi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new R("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new R("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"===typeof e){if("string"===typeof(e=e[ji])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new R("argument-error",ji+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new R("argument-error",Ni+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Ii])&&"boolean"!==typeof e)throw new R("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Di])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new R("argument-error",Di+" property must be a non empty string when specified.");this.i=t||null}var Ai="android",Di="dynamicLinkDomain",Ii="handleCodeInApp",Ni="iOS",ki="url",Li="installApp",Mi="minimumVersion",Fi="packageName",ji="bundleId";function Gi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Vi=null;function Wi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vi){Vi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function Bi(t){var e=Ui(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Hi(t){try{return new Bi(t)}catch(e){return null}}function Ui(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Wi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],Ki={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:zi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Yi(t){for(var e in Ki)if(Ki[e].fa==t)return Ki[e];return null}function Xi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[$i];try{if(n)return e[n]?new e[n](t):new Zi(t);if("undefined"!==typeof t[Qi])return new Ji(t)}catch(r){}return null}var Qi="idToken",$i="providerId";function Ji(t){var e=t[$i];if(!e&&t[Qi]){var n=Hi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Xr(this,"providerId",e),Xr(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),Xr(this,"profile",Jr((t=Fr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",t.screenName||null)}function io(t){var e=Vn(t),n=Gn(e,"link"),r=Gn(Vn(n),"link");return e=Gn(e,"deep_link_id"),Gn(Vn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new R("internal-error","Internal assert: no raw session string available");if(t&&e)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}T(Zi,Ji),T(to,Zi),T(eo,Zi),T(no,Zi),T(ro,Zi);var so="enroll",ao="signin";function uo(){}function lo(t,e){return t.then((function(t){if(t[Js]){var n=Hi(t[Js]);if(!n||e!=n.i)throw new R("user-mismatch");return t}throw new R("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new R("user-mismatch"):t}))}function co(t,e){if(!e)throw new R("internal-error","failed to construct a credential");this.a=e,Xr(this,"providerId",t),Xr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function po(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Xr(this,"idToken",e.idToken),e.accessToken&&Xr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Xr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new R("internal-error","failed to construct a credential");Xr(this,"accessToken",e.oauthToken),Xr(this,"secret",e.oauthTokenSecret)}Xr(this,"providerId",t),Xr(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Yi(t)||{}).Ja||null,this.pb=null}function yo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function bo(t){mo.call(this,t,qi),this.a=[]}function wo(){bo.call(this,"facebook.com")}function Co(t){if(!t)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){bo.call(this,"github.com")}function _o(t){if(!t)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function Oo(){bo.call(this,"google.com"),this.Ca("profile")}function To(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new Oo).credential({idToken:n,accessToken:e})}function So(){mo.call(this,"twitter.com",zi)}function Ro(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function Po(t,e,n){this.a=t,this.f=e,Xr(this,"providerId","password"),Xr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xo(t){return t&&t.email&&t.password?new Po(t.email,t.password,t.signInMethod):null}function Ao(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function Do(t,e){if(!(e=Io(e)))throw new R("argument-error","Invalid email link!");return new Po(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function Io(t){return(t=Pi(t=io(t)))&&t.operation===ui?t:null}function No(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new R("internal-error");this.a=t,Xr(this,"providerId","phone"),this.fa="phone",Xr(this,"signInMethod","phone")}function ko(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new No(e)}return null}function Lo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Mo(t){try{this.a=t||e.default.auth()}catch(n){throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new R("missing-verification-id");if(!e)throw new R("missing-verification-code");return new No({fb:t,eb:e})}function jo(t){if(t.temporaryProof&&t.phoneNumber)return new No({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return To(o,n);case"facebook.com":return Co(n);case"github.com":return _o(n);case"twitter.com":return Ro(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new co(e,s):new fo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Go(t){if(!t.isOAuthProvider)throw new R("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new R("invalid-auth-event");if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}function Wo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&P(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?xe(this.a):xe(this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},co.prototype.ka=function(t){return wa(t,ho(this))},co.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,Ca(t,n)},co.prototype.c=function(t,e){return lo(Ea(t,ho(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return wa(t,go(this))},fo.prototype.b=function(t,e){var n=go(this);return n.idToken=e,Ca(t,n)},fo.prototype.c=function(t,e){return lo(Ea(t,go(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Jb=vt(t),this},T(yo,mo),T(bo,mo),bo.prototype.Ca=function(t){return X(this.a,t)||this.a.push(t),this},bo.prototype.Rb=function(){return Z(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},T(wo,bo),Xr(wo,"PROVIDER_ID","facebook.com"),Xr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(Eo,bo),Xr(Eo,"PROVIDER_ID","github.com"),Xr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),T(Oo,bo),Xr(Oo,"PROVIDER_ID","google.com"),Xr(Oo,"GOOGLE_SIGN_IN_METHOD","google.com"),T(So,mo),Xr(So,"PROVIDER_ID","twitter.com"),Xr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Po.prototype.ka=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Aa,{email:this.a,oobCode:this.f}):ru(t,Ja,{email:this.a,password:this.f})},Po.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Da,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Ua,{idToken:e,email:this.a,password:this.f})},Po.prototype.c=function(t,e){return lo(this.ka(t),e)},Po.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(Ao,{PROVIDER_ID:"password"}),Qr(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ka=function(t){return t.gb(Lo(this))},No.prototype.b=function(t,e){var n=Lo(this);return n.idToken=e,ru(t,tu,n)},No.prototype.c=function(t,e){var n=Lo(this);return n.operation="REAUTH",lo(t=ru(t,eu,n),e)},No.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.gb=function(t,e){var n=this.a.a;return xe(e.verify()).then((function(r){if("string"!==typeof r)throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then((function(t){return function(t,e){return ru(t,qa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ao?i.Ha().then((function(e){return function(t,e){return ru(t,Ka,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,Ba,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Mo,{PROVIDER_ID:"phone"}),Qr(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ho,Uo=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",R.call(this,e,n)}function qo(t,e,n){R.call(this,t,n),(t=e||{}).Kb&&Xr(this,"email",t.Kb),t.ea&&Xr(this,"phoneNumber",t.ea),t.credential&&Xr(this,"credential",t.credential),t.$b&&Xr(this,"tenantId",t.$b)}function Ko(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:jo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new R(e,t.message||void 0);return new qo(e,n,t.message)}return null}function Yo(){}function Xo(t){return t.c||(t.c=t.b())}function Qo(){}function $o(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Jo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Tb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ts(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function es(t,e,n){this.reset(t,e,n,void 0,void 0)}T(zo,R),T(qo,R),qo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},qo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,T(Qo,Yo),Qo.prototype.a=function(){var t=$o(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return $o(this)&&(t[0]=!0,t[1]=!0),t},Ho=new Qo,T(Jo,Yo),Jo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(n=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ts(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",ts(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,ts(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},es.prototype.a=null;function ns(t){this.f=t,this.b=this.c=this.a=null}function rs(t,e){this.name=t,this.value=e}es.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||O(),delete this.a},rs.prototype.toString=function(){return this.name};var is=new rs("SEVERE",1e3),os=new rs("WARNING",900),ss=new rs("CONFIG",700),as=new rs("FINE",500);ns.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(F("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new es(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us,ls={},cs=null;function hs(t){var e;if(cs||(cs=new ns(""),ls[""]=cs,cs.c=ss),!(e=ls[t])){e=new ns(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=hs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ls[t]=e}return e}function ps(t,e){t&&t.log(as,e,void 0)}function ds(t){this.f=t}function fs(t){En.call(this),this.u=t,this.h=void 0,this.readyState=gs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=hs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(ds,Yo),ds.prototype.a=function(){return new fs(this.f)},ds.prototype.b=(us={},function(){return us}),T(fs,En);var gs=0;function vs(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ys(t)}function ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){En.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ws,this.u=this.S=!1}(n=fs.prototype).open=function(t,e){if(this.readyState!=gs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ys(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=gs},n.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ys(this)),this.a&&(this.readyState=3,ys(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,vs(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):ys(this),3==this.readyState&&vs(this)}},n.tc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},n.sc=function(t){this.a&&(this.response=t,ms(this))},n.Va=function(t){var e=this.i;e&&e.log(os,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(os,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(os,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),T(bs,En);var ws="";bs.prototype.b=hs("goog.net.XhrIo");var Cs=/^https?$/i,Es=["POST","PUT"];function _s(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ho.a(),t.C=t.D?Xo(t.D):Xo(Ho),t.a.onreadystatechange=E(t.Wb,t);try{ps(t.b,Is(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return ps(t.b,Is(t,"Error opening Xhr: "+s.message)),void Ts(t,s)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"===typeof t)z(t,e,void 0);else for(var n=xn(t),r=Pn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Os,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!X(Es,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{xs(t),0<t.g&&(t.u=function(t){return Xt&&se(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ps(t.b,Is(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),ps(t.b,Is(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ps(t.b,Is(t,"Send error: "+s.message)),Ts(t,s)}}function Os(t){return"content-type"==t.toLowerCase()}function Ts(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ss(t),Ps(t)}function Ss(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Rs(t){if(t.c&&"undefined"!=typeof a)if(t.C[1]&&4==As(t)&&2==Ds(t))ps(t.b,Is(t,"Local request error detected and ignored"));else if(t.i&&4==As(t))Sn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==As(t)){ps(t.b,Is(t,"Request complete")),t.c=!1;try{var e,n=Ds(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Nn)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!Cs.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<As(t)?t.a.statusText:""}catch(c){ps(t.b,"Can not get status: "+c.message),l=""}t.h=l+" ["+Ds(t)+"]",Ss(t)}}finally{Ps(t)}}}function Ps(t,e){if(t.a){xs(t);var n=t.a,r=t.C[0]?p:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(is,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function xs(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function As(t){return t.a?t.a.readyState:0}function Ds(t){try{return 2<As(t)?t.a.status:-1}catch(e){return-1}}function Is(t,e){return e+" ["+t.P+" "+t.l+" "+Ds(t)+"]"}function Ns(t){var e=Us;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ks(t,e,n){t.a=!0,t.c=n,t.f=!e,js(t)}function Ls(t){if(t.a){if(!t.v)throw new Gs(t);t.v=!1}}function Ms(t,e,n,r){t.g.push([e,n,r]),t.a&&js(t)}function Fs(t){return Y(t.g,(function(t){return g(t[1])}))}function js(t){if(t.h&&t.a&&Fs(t)){var e=t.h,n=Bs[e];n&&(u.clearTimeout(n.a),delete Bs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(k(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(l){e=l,t.f=!0,Fs(t)||(n=!0)}}t.c=e,r&&(a=E(t.m,t,!0),r=E(t.m,t,!1),e instanceof Ns?(Ms(e,a,r),e.C=!0):e.then(a,r)),n&&(e=new Ws(e),Bs[e.a]=e,t.h=e.a)}function Gs(){L.call(this)}function Vs(){L.call(this)}function Ws(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(n=bs.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ps(this.b,Is(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ps(this.b,Is(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ps(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ps(this,!0)),bs.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?Rs(this):this.Jc())},n.Jc=function(){Rs(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(is,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ps(this.b,"Can not get response: "+e.message),null}},Ns.prototype.cancel=function(t){if(this.a)this.c instanceof Ns&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Vs(this),Ls(this),ks(this,!1,t))}},Ns.prototype.m=function(t,e){this.i=!1,ks(this,t,e)},Ns.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Ms(this,r,(function(t){t instanceof Vs?o.cancel():i(t)})),o.then(t,e,n)},Ns.prototype.$goog_Thenable=!0,T(Gs,L),Gs.prototype.message="Deferred has already fired",Gs.prototype.name="AlreadyCalledError",T(Vs,L),Vs.prototype.message="Deferred was canceled",Vs.prototype.name="CanceledError",Ws.prototype.c=function(){throw delete Bs[this.a],this.b};var Bs={};function Hs(t){var e={},n=e.document||document,r=Rt(t).toString(),i=ve(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Ns(o),a=null,l=null!=e.timeout?e.timeout:5e3;return 0<l&&(a=window.setTimeout((function(){zs(i,!0);var t=new Ys(Ks,"Timeout reached for loading script "+r);Ls(s),ks(s,!1,t)}),l),o.Ma=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(zs(i,e.xd||!1,a),Ls(s),ks(s,!0,null))},i.onerror=function(){zs(i,!0,a);var t=new Ys(qs,"Error while loading script "+r);Ls(s),ks(s,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Rt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=h(e.document):(null===c&&(c=h(u.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Us(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&zs(t,!0,this.Ma)}}function zs(t,e,n){null!=n&&u.clearTimeout(n),t.onload=p,t.onerror=p,t.onreadystatechange=p,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var qs=0,Ks=1;function Ys(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function Xs(t){this.f=t}function Qs(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=vt(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ea,this.a=vt(t.firebaseHeaders||na),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==Cr(),!(r=u.XMLHttpRequest||r&&e.default.INTERNAL.node&&e.default.INTERNAL.node.XMLHttpRequest)&&!wr())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new ds(self):Er()?this.f=new Xs(r):this.f=new Jo,this.b=null}T(Ys,L),T(Xs,Yo),Xs.prototype.a=function(){return new this.f},Xs.prototype.b=function(){return{}};var $s,Js="idToken",Zs=new Wr(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new Wr(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ia(t,e){e&&(t.l=oa("https://securetoken.googleapis.com/v1/token",e),t.h=oa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=oa("https://identitytoolkit.googleapis.com/v2/",e))}function oa(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Ln(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function aa(t,e,n,r,i,o,s){(function(){var t=Pr();return!((t=Tr(t)!=Or?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Xt||!ue||9<ue)})()||wr()?t=E(t.u,t):($s||($s=new Ee((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[la]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ms(t,null,e,void 0)}(Hs(Pt(ua,{onload:la})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=E(t.s,t)),t(e,n,r,i,o,s)}Qs.prototype.T=function(){return this.b},Qs.prototype.u=function(t,e,n,r,i,o){if(wr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new bs(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}_n(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ps(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),On(s,"ready",(function(){a&&clearTimeout(a),qe(this)})),On(s,"timeout",(function(){a&&clearTimeout(a),qe(this),e&&e(null)})),_s(s,t,n,r,i)};var ua=new wt(Ot,"https://apis.google.com/js/client.js?onload=%{onload}"),la="__fcb"+Math.floor(1e6*Math.random()).toString();function ca(t,e,n,r,i,o,s){var a=Vn(e+n);jn(a,"key",t.c),s&&jn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var l in i)i.hasOwnProperty(l)&&jn(a,l,i[l]);return new Ee((function(e,n){aa(t,a.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new R("network-request-failed"))}),r,u?void 0:ir(Mr(i)),t.a,t.v.get())}))}function ha(t){if("string"!==typeof(t=t.email)||!vr.test(t))throw new R("invalid-email")}function pa(t){"email"in t&&ha(t)}function da(t){if(!t[Js]){if(t.mfaPendingCredential)throw new R("multi-factor-auth-required",null,vt(t));throw new R("internal-error")}}function fa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new R("internal-error")}else{if(!t.sessionInfo)throw new R("missing-verification-id");if(!t.code)throw new R("missing-verification-code")}}Qs.prototype.s=function(t,e,n,r,i){var o=this;$s.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Qs.prototype.Ab=function(){return ru(this,za,{})},Qs.prototype.Cb=function(t,e){return ru(this,Ha,{idToken:t,email:e})},Qs.prototype.Db=function(t,e){return ru(this,Ua,{idToken:t,password:e})};var ga={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function va(t){if(!t.phoneVerificationInfo)throw new R("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new R("missing-verification-code")}function ma(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new R("internal-error")}function ya(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(tr(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ko(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;da(t)}function wa(t,e){return e.returnIdpCredential=!0,ru(t,Ya,e)}function Ca(t,e){return e.returnIdpCredential=!0,ru(t,Qa,e)}function Ea(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Xa,e)}function _a(t){if(!t.oobCode)throw new R("invalid-action-code")}(n=Qs.prototype).Eb=function(t,e){var n={idToken:t},r=[];return ft(ga,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Ha,n)},n.wb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,ja,t)},n.xb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,La,t)},n.vb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ma,t)},n.Fb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Fa,t)},n.gb=function(t){return ru(this,Za,t)},n.ob=function(t,e){return ru(this,Wa,{oobCode:t,newPassword:e})},n.Sa=function(t){return ru(this,Ta,{oobCode:t})},n.kb=function(t){return ru(this,Oa,{oobCode:t})};var Oa={endpoint:"setAccountInfo",A:_a,Z:"email",B:!0},Ta={endpoint:"resetPassword",A:_a,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new R("internal-error")},B:!0},Sa={endpoint:"signupNewUser",A:function(t){if(ha(t),!t.password)throw new R("weak-password")},G:da,V:!0,B:!0},Ra={endpoint:"createAuthUri",B:!0},Pa={endpoint:"deleteAccount",O:["idToken"]},xa={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new R("internal-error")}},Aa={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ha,G:da,V:!0,B:!0},Da={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ha,G:da,V:!0},Ia={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:va,G:da,B:!0,Na:!0},Na={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:va,G:da,B:!0,Na:!0},ka={endpoint:"getAccountInfo"},La={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new R("internal-error");ha(t)},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new R("internal-error")},Z:"email",B:!0},Fa={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new R("internal-error")},Z:"email",B:!0},ja={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new R("internal-error");ha(t)},Z:"email",B:!0},Ga={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Va={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new R("internal-error")}},Wa={endpoint:"resetPassword",A:_a,Z:"email",B:!0},Ba={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ha={endpoint:"setAccountInfo",O:["idToken"],A:pa,V:!0},Ua={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(pa(t),!t.password)throw new R("weak-password")},G:da,V:!0},za={endpoint:"signupNewUser",G:da,V:!0,B:!0},qa={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new R("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},Ka={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},Ya={endpoint:"verifyAssertion",A:ma,Za:ya,G:ba,V:!0,B:!0},Xa={endpoint:"verifyAssertion",A:ma,Za:ya,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new R("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);da(t)},V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:function(t){if(ma(t),!t.idToken)throw new R("internal-error")},Za:ya,G:ba,V:!0},$a={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new R("invalid-custom-token")},G:da,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(t){if(ha(t),!t.password)throw new R("wrong-password")},G:da,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:fa,G:da,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new R("internal-error");fa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ko(t);da(t)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fa,G:da,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Js]^!!t.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.O))return Ae(new R("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return xe(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),ca(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new R("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new R(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new R(r[i],e);return!e&&t&&(e=Lr(t)),new R("internal-error",e)}function su(t){this.b=t,this.a=null,this.sb=function(t){return(cu||(cu=new Ee((function(t,e){function n(){Vr(),xr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vr(),e(Error("Network Error"))},timeout:uu.get()})}if(xr("gapi.iframes.Iframe"))t();else if(xr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){xr("gapi.load")?n():e(Error("Network Error"))},xe(Hs(r=Pt(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw cu=null,t})))).then((function(){return new Ee((function(e,n){xr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),lu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new wt(Ot,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Wr(3e4,6e4),lu=new Wr(5e3,15e3),cu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Wn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Wn("https",this.l,null,"/__/auth/iframe"),this.a=t,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function pu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return e.default.app(t).auth().Ga()}catch(n){return[]}}function fu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function gu(t){var e=cr();return function(t){return ru(t,Ga,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Vn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:gr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new zo(cr())}))}function vu(t){return t.m?t.m:(t.m=mr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new su(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Wo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)}))}(t)})),t.m)}function mu(t){return t.l||(t.C=t.c?Rr(t.c,du(t.b)):null,t.l=new Qs(t.g,N(t.i),t.C),t.f&&ia(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,s,a,u,l,c,h){return(t=new pu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=vt(u||null),t.f=l,t.zb(c).toString()}function bu(t){if(this.a=t||e.default.INTERNAL.reactNative&&e.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=E(this.c,this)}hu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},pu.prototype.zb=function(t){return this.h=t,this},pu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Wn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Wn("https",this.u,null,"/__/auth/handler");if(jn(t,"apiKey",this.s),jn(t,"appName",this.c),jn(t,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=e.default.app(this.c).auth().la()}catch(u){r=null}for(var i in n.pb=r,jn(t,"providerId",this.a.providerId),n=Mr((r=this.a).Jb))n[i]=n[i].toString();i=r.Qc,n=vt(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}r.qb&&r.pb&&!n[r.qb]&&(n[r.qb]=r.pb),gt(n)||jn(t,"customParameters",Lr(n))}if("function"===typeof this.a.Rb&&((r=this.a.Rb()).length&&jn(t,"scopes",r.join(","))),this.l?jn(t,"redirectUrl",this.l):Zn(t.b,"redirectUrl"),this.g?jn(t,"eventId",this.g):Zn(t.b,"eventId"),this.i?jn(t,"v",this.i):Zn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Gn(t,a)&&jn(t,a,this.b[a]);return this.h?jn(t,"tid",this.h):Zn(t.b,"tid"),this.f?jn(t,"eid",this.f):Zn(t.b,"eid"),(a=du(this.c)).length&&jn(t,"fw",a.join(",")),t.toString()},(n=fu.prototype).Pb=function(t,e,n){var r=new R("popup-closed-by-user"),i=new R("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return vu(t).then((function(){return function(t,e){return t.sb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&dr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new Ee((function(e){return function n(){Rn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Rn(n).then((function(){e(r)}))}))},n.Yb=function(){var t=Pr();return!kr(t)&&!Gr(t)},n.Ub=function(){return!1},n.Nb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new R("popup-blocked"));if(s&&!kr())return this.ma().o((function(e){dr(t),i(e)})),r(),xe();this.a||(this.a=gu(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw dr(t),i(e),e}));return r(),e})).then((function(){(Go(n),s)||hr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},n.Ob=function(t,e,n,r){this.a||(this.a=gu(mu(this)));var i=this;return this.a.then((function(){Go(e),hr(yu(i.s,i.g,i.b,t,e,cr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},n.ma=function(){var t=this;return vu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new R("network-request-failed")}))},n.ac=function(){return!0},n.Ea=function(t){this.h.push(t)},n.Ta=function(t){$(this.h,(function(e){return e==t}))},(n=bu.prototype).get=function(t){return xe(this.a.getItem(t)).then((function(t){return t&&Fr(t)}))},n.set=function(t,e){return xe(this.a.setItem(t,Lr(e)))},n.U=function(t){return xe(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var Cu,Eu=[];function _u(t,e,n){gt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Ou(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function Su(t,e,n,r){var i,o,s,a,u=n||{},l=null;if(t.b)return Ae(Error("connection_unavailable"));var c=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),c),l={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(l),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Ru(t,l),e})).o((function(e){throw Ru(t,l),e}))}function Ru(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(t.a,(function(t){return t==e}))}}function Pu(){if(!Iu())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(z(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Eu.push(e)}return e}(),_u(this.v,"keyChanged",(function(e,n){return Fu(t).then((function(e){return 0<e.length&&z(t.a,(function(t){t(e)})),{keyProcessed:X(e,n.key)}}))})),_u(this.v,"ping",(function(){return xe(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?xe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):xe(null)}().then((function(e){(t.h=e)&&(t.g=new Tu(new Ou(e)),Su(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&X(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function xu(t){return new Ee((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return xu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Au(t){return t.i||(t.i=xu(t)),t.i}function Du(t,e){var n=0;return new Ee((function r(i,o){Au(t).then(e).then(i).o((function(e){if(!(3<++n))return Au(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Iu(){try{return!!u.indexedDB}catch(us){return!1}}function Nu(t){return t.objectStore("firebaseLocalStorage")}function ku(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Su(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):xe()}function Fu(t){return Au(t).then((function(t){var e=Nu(ku(t,!1));return e.getAll?Lu(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function ju(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Gu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then((function(){if(Iu()){var t=jr(),r="__sak"+t;return Cu||(Cu=new Pu),(n=Cu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){z(e.a,(function(e){e(t)}))})),t}))}function Vu(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var t="Node"==Cr();if(!(t=Bu()||t&&e.default.INTERNAL.node&&e.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Cr())throw new R("internal-error","The LocalStorage compatibility library was not found.");throw new R("web-storage-unsupported")}this.a=Bu()||e.default.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var t=u.localStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Hu(){this.type="nullStorage"}function Uu(){if(!function(){var t="Node"==Cr();if(!(t=zu()||t&&e.default.INTERNAL.node&&e.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Cr())throw new R("internal-error","The SessionStorage compatibility library was not found.");throw new R("web-storage-unsupported")}this.a=zu()||e.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function zu(){try{var t=u.sessionStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qu(){var t={};t.Browser=Xu,t.Node=Qu,t.ReactNative=$u,t.Worker=Ju,this.a=t[Cr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,(function(e){i.push(xe().then((function(){return e(t.origin,t.data.data)})))})),Ie(i).then((function(r){var i=[];z(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),z(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Ou.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)Ru(this,this.a[0]);this.b=!0},(n=Pu.prototype).set=function(t,e){var n=this,r=!1;return Du(this,(function(e){return Lu((e=Nu(ku(e,!0))).get(t))})).then((function(i){return Du(n,(function(o){if(o=Nu(ku(o,!0)),i)return i.value=e,Lu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Lu(o.add(s))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},n.get=function(t){return Du(this,(function(e){return Lu(Nu(ku(e,!1)).get(t))})).then((function(t){return t&&t.value}))},n.U=function(t){var e=this,n=!1;return Du(this,(function(r){return n=!0,e.b++,Lu(Nu(ku(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},n.ca=function(t){0==this.a.length&&function(t){ju(t),function e(){t.f=setTimeout((function(){t.l=Fu(t).then((function(e){0<e.length&&z(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},n.ia=function(t){$(this.a,(function(e){return e==t})),0==this.a.length&&ju(this)},(n=Gu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},n.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},n.U=function(t){return this.b.then((function(e){return e.U(t)}))},n.ca=function(t){this.a.push(t)},n.ia=function(t){$(this.a,(function(e){return e==t}))},(n=Vu.prototype).get=function(t){return xe(this.a[t])},n.set=function(t,e){return this.a[t]=e,xe()},n.U=function(t){return delete this.a[t],xe()},n.ca=function(){},n.ia=function(){},(n=Wu.prototype).get=function(t){var e=this;return xe().then((function(){return Fr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return xe().then((function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)}))},n.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},n.ca=function(t){u.window&&cn(u.window,"storage",t)},n.ia=function(t){u.window&&dn(u.window,"storage",t)},(n=Hu.prototype).get=function(){return xe(null)},n.set=function(){return xe()},n.U=function(){return xe()},n.ca=function(){},n.ia=function(){},(n=Uu.prototype).get=function(t){var e=this;return xe().then((function(){return Fr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return xe().then((function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)}))},n.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},n.ca=function(){},n.ia=function(){};var Ku,Yu,Xu={F:Wu,cb:Uu},Qu={F:Wu,cb:Uu},$u={F:bu,cb:Hu},Ju={F:Wu,cb:Hu},Zu={rd:"local",NONE:"none",td:"session"};function tl(){var t=!(Gr(Pr())||!br()),e=kr(),n=Ar();this.m=t,this.h=e,this.l=n,this.a={},Ku||(Ku=new qu),t=Ku;try{this.g=!lr()&&Ur()||!u.indexedDB?new t.a.F:new Gu(wr()?new Vu:new t.a.F)}catch(r){this.g=new Vu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Vu}this.v=new Vu,this.f=E(this.Zb,this),this.b={}}function el(){return Yu||(Yu=new tl),Yu}function nl(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function il(t,e,n){return n=rl(e,n),"local"==e.F&&(t.b[n]=null),nl(t,e.F).U(n)}function ol(t){t.c&&(clearInterval(t.c),t.c=null)}function sl(t){this.a=t,this.b=el()}(n=tl.prototype).get=function(t,e){return nl(this,t.F).get(rl(t,e))},n.set=function(t,e,n){var r=rl(t,n),i=this,o=nl(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},n.addListener=function(t,e,n){t=rl(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),gt(this.a)&&(nl(this,"local").ca(this.f),this.h||(lr()||!Ur())&&u.indexedDB||!this.l||function(t){ol(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=rl(t,e),this.a[t]&&($(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),gt(this.a)&&(nl(this,"local").ia(this.f),ol(this))},n.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?nl(this,"local").ia(this.f):ol(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.nb(e))},Xt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,E(this.nb,this))},n.nb=function(t){this.a[t]&&z(this.a[t],(function(t){t()}))};var al,ul={name:"authEvent",F:"local"};function ll(){this.a=el()}function cl(t,e){this.b=hl,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===al&&(al=u.Int32Array?new Int32Array(yl):yl),this.reset()}T(cl,(function(){this.b=-1}));for(var hl=64,pl=hl-1,dl=[],fl=0;fl<pl;fl++)dl[fl]=0;var gl=J(128,dl);function vl(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var p=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((s=(s=l&c^~l&h)+(0|al[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+s|0,u=a,a=i,i=r,r=s+p|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function ml(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(vl(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(vl(t),i=0)}}t.c=i,t.g+=n}cl.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var yl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bl(){cl.call(this,8,wl)}T(bl,cl);var wl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cl(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ll,this.g=new sl(this.h),this.f=null,this.b=[],this.a=this.c=null}function El(t){return new R("invalid-cordova-configuration",t)}function _l(t){var e=new bl;ml(e,t),t=[];var n=8*e.g;56>e.c?ml(e,gl,56-e.c):ml(e,gl,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(vl(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ol(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Tl(t){return t.f||(t.f=t.ma().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Sl(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Fr(Gn(o=Vn(i),"firebaseError")||null))?P(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ol(t,i)}))}var n=new Vo("unknown",null,null,null,new R("no-auth-event")),r=!1,i=Rn(500).then((function(){return Sl(t).then((function(){r||Ol(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(xr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Uo||(Uo=new Bo),function(t){var e=Uo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=xr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Sl(t){var e=null;return function(t){return t.b.get(ul,t.a).then((function(t){return Wo(t)}))}(t.g).then((function(n){return e=n,il((n=t.g).b,ul,n.a)})).then((function(){return e}))}function Rl(t){this.a=t,this.b=el()}(n=Cl.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?mr().then((function(){return new Ee((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof xr("universalLinks.subscribe",u))throw El("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof xr("BuildInfo.packageName",u))throw El("cordova-plugin-buildinfo is not installed");if("function"!==typeof xr("cordova.plugins.browsertab.openUrl",u))throw El("cordova-plugin-browsertab is not installed");if("function"!==typeof xr("cordova.InAppBrowser.open",u))throw El("cordova-plugin-inappbrowser is not installed")}),(function(){throw new R("cordova-not-ready")}))},n.Pb=function(t,e){return e(new R("operation-not-supported-in-this-environment")),xe()},n.Nb=function(){return Ae(new R("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(t,e,n,r){if(this.c)return Ae(new R("redirect-operation-pending"));var i=this,o=u.document,s=null,a=null,l=null,c=null;return this.c=xe().then((function(){return Go(e),Tl(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Vo(e,r,null,o,new R("no-auth-event"),null,i),a=xr("BuildInfo.packageName",u);if("string"!==typeof a)throw new R("invalid-cordova-configuration");var l=xr("BuildInfo.displayName",u),c={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Pr().toLowerCase().match(/android/))return Ae(new R("operation-not-supported-in-this-environment"));c.apn=a}l&&(c.appDisplayName=l),o=_l(o),c.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,r,t.m,c,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(ul,s.w(),e)})).then((function(){var e=xr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new R("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=xr("cordova.plugins.browsertab.openUrl",u)))throw new R("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=xr("cordova.InAppBrowser.open",u)))throw new R("invalid-cordova-configuration");e=Pr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){a=function(){var e=xr("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),l=function(){s||(s=Rn(2e3).then((function(){e(new R("redirect-cancelled-by-user"))})))},c=function(){Br()&&l()},o.addEventListener("resume",l,!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return Sl(i).then((function(){throw t}))}))})).oa((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&i.Ta(a),i.c=null}))},n.Ea=function(t){this.b.push(t),Tl(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new R("no-auth-event")),t(e))}))},n.Ta=function(t){$(this.b,(function(e){return e==t}))};var Pl={name:"pendingRedirect",F:"session"};function xl(t){return il(t.b,Pl,t.a)}function Al(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new zl,this.C=new Ql,this.g=new Rl(Hl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Dl(this.D,this.v,this.m,x,this.J)}function Dl(t,n,r,i,o){var s=e.default.SDK_VERSION||null;return yr()?new Cl(t,n,r,s,i,o):new fu(t,n,r,s,i,o)}function Il(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Nl(t){t.a.Yb()&&Il(t).o((function(e){var n=new Vo("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Gl(e)&&t.s(n)})),t.a.Ub()||ql(t.b)}function kl(t,e){X(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Pl,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?xl(t.g).then((function(){Il(t).o((function(e){var n=new Vo("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Gl(e)&&t.s(n)}))})):Nl(t)})).o((function(){Nl(t)}))}function Ll(t,e){$(t.h,(function(t){return t==e}))}Al.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Dl(this.D,this.v,this.m,null,this.J),this.i={}},Al.prototype.s=function(t){if(!t)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return ql(this.b),e};var Ml=new Wr(2e3,1e4),Fl=new Wr(3e4,6e4);function jl(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Gl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Vl(t,e,n,r,i){var o;return function(t){return t.b.set(Pl,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Gl(e))throw new R("operation-not-supported-in-this-environment");return o=e,xl(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new Ee((function(){})):xl(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Wl(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Ml.get())}Al.prototype.ra=function(){return this.b.ra()};var Bl={};function Hl(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Ul(t,e,n,r){var i=Hl(e,n,r);return Bl[i]||(Bl[i]=new Al(t,e,n,r)),Bl[i]}function zl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ql(t){t.g||(t.g=!0,Xl(t,!1,null,null))}function Kl(t){t.g&&!t.i&&Xl(t,!1,null,null)}function Yl(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Xl(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Yl(t,n):Yl(t,{user:null}),t.f=[],t.c=[]}function Ql(){}function $l(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Jl(t,e){this.a=e,Xr(this,"verificationId",t)}function Zl(t,e,n,r){return new Mo(t).gb(e,n).then((function(t){return new Jl(t,r)}))}function tc(t){var e=Ui(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:Hr(1e3*e.exp),authTime:Hr(1e3*e.auth_time),issuedAtTime:Hr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function ec(t,e,n){var r=e&&e[rc];if(!r)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;z(e[nc]||[],(function(t){(t=ti(t))&&i.b.push(t)})),Xr(this,"auth",this.a),Xr(this,"session",this.c),Xr(this,"hints",this.b)}zl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},zl.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Xl(this,!0,null,t.a),xe()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Xl(t,a,e,null)})).o((function(e){Xl(t,a,null,e)}))}(this,t,e):Ae(new R("invalid-auth-event")):(Xl(this,!1,null,null),xe())}else Ae(new R("invalid-auth-event"))},zl.prototype.ra=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new R("timeout");t.a&&t.a.cancel(),t.a=Rn(Fl.get()).then((function(){t.b||(t.g=!0,Xl(t,!0,null,e))}))}(t))}))},Ql.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),xe()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ae(new R("invalid-auth-event"))}else Ae(new R("invalid-auth-event"))},Jl.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var nc="mfaInfo",rc="mfaPendingCredential";function ic(t,e,n,r){R.call(this,"multi-factor-auth-required",r,e),this.b=new ec(t,e,n),Xr(this,"resolver",this.b)}function oc(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ic(e,t.serverResponse,n,t.message)}catch(r){}return null}function sc(){}function ac(t){Xr(this,"factorId",t.fa),this.a=t}function uc(t){if(ac.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function lc(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function cc(t,e){this.a=t,this.b=[],this.c=E(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),hc(this,n)}function hc(t,e){t.b=e,Xr(t,"enrolledFactors",e)}function pc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dc(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function fc(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function gc(t,e){t.b=Hi(e[Js]||""),t.a=e.refreshToken,fc(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function vc(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?aa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new R("internal-error")):r(new R("network-request-failed"))}),"POST",Jn(e).toString(),t.g,t.m.get()):r(new R("internal-error"))}))}(t.f,e).then((function(e){return t.b=Hi(e.access_token),t.a=e.refresh_token,fc(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function mc(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:Hr(e||null),creationTime:Hr(t||null)})}function yc(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bc(t,n,r){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=e.default.SDK_VERSION?Rr(e.default.SDK_VERSION):null;this.a=new Qs(this.l,N(x),i),(this.u=t.emulatorConfig||null)&&ia(this.a,this.u),this.h=new dc(this.a),Pc(this,n[Js]),gc(this.h,n),Xr(this,"refreshToken",this.h.a),Dc(this,r||{}),En.call(this),this.P=!1,this.s&&Dr()&&(this.b=Ul(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new pc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=E(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){wc(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){_c(o,t.f)},this.ja=null,this.S=new cc(this,r),Xr(this,"multiFactor",this.S)}function wc(t,e){t.u=e,ia(t.a,e),t.b&&(e=t.b,t.b=Ul(t.s,t.l,t.m,t.u),t.P&&(Ll(e,t),kl(t.b,t)))}function Cc(t,e){t.qa&&dn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&cn(e,"languageCodeChanged",t.Pa)}function Ec(t,e){t.$&&dn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&cn(e,"emulatorConfigChanged",t.Ba)}function _c(t,n){t.aa=n,sa(t.a,e.default.SDK_VERSION?Rr(e.default.SDK_VERSION,t.aa):null)}function Oc(t,e){t.ja&&dn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&cn(e,"frameworkChanged",t.Oa)}function Tc(t){try{return e.default.app(t.m).auth()}catch(n){throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Sc(t){t.J||t.D.b||(t.D.start(),dn(t,"tokenChanged",t.ba),cn(t,"tokenChanged",t.ba))}function Rc(t){dn(t,"tokenChanged",t.ba),t.D.stop()}function Pc(t,e){t.Aa=e,Xr(t,"_lat",e)}function xc(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Ie(e).then((function(){return t}))}function Ac(t){t.b&&!t.P&&(t.P=!0,kl(t.b,t))}function Dc(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new mc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ic(){}function Nc(t){return xe().then((function(){if(t.J)throw new R("app-deleted")}))}function kc(t){return K(t.providerData,(function(t){return t.providerId}))}function Lc(t,e){e&&(Mc(t,e.providerId),t.providerData.push(e))}function Mc(t,e){$(t.providerData,(function(t){return t.providerId==e}))}function Fc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Xr(t,e,n)}function jc(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Xr(t,"metadata",function(t){return new mc(t.a,t.b)}(e.metadata)):Xr(t,"metadata",new mc),z(e.providerData,(function(e){Lc(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Xr(t,"refreshToken",t.h.a),hc(t.S,e.S.b))}function Gc(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,ka,{idToken:e}).then(E(t.Kc,t))}(t,e).then((function(){return n||Fc(t,"isAnonymous",!1),e}))}))}function Vc(t,e){e[Js]&&t.Aa!=e[Js]&&(gc(t.h,e),t.dispatchEvent(new lc("tokenChanged")),Pc(t,e[Js]),Fc(t,"refreshToken",t.h.a))}function Wc(t,e){return Gc(t).then((function(){if(X(kc(t),e))return xc(t).then((function(){throw new R("provider-already-linked")}))}))}function Bc(t,e,n){return $r({user:t,credential:jo(e),additionalUserInfo:e=Xi(e),operationType:n})}function Hc(t,e){return Vc(t,e),t.reload().then((function(){return t}))}function Uc(t,n,r,i,o){if(!Dr())return Ae(new R("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ae(t.i);var s=Yi(r.providerId),a=jr(t.uid+":::"),u=null;(!kr()||br())&&t.s&&r.isOAuthProvider&&(u=yu(t.s,t.l,t.m,n,r,null,a,e.default.SDK_VERSION||null,null,null,t.tenantId,t.u));var l=fr(u,s&&s.va,s&&s.ua);return i=i().then((function(){if(qc(t),!o)return t.I().then((function(){}))})).then((function(){return jl(t.b,l,n,r,a,!!u,t.tenantId)})).then((function(){return new Ee((function(e,r){t.na(n,null,new R("cancelled-popup-request"),t.g||null),t.f=e,t.C=r,t.g=a,t.c=Wl(t.b,t,n,l,a)}))})).then((function(t){return l&&dr(l),t?$r(t):null})).o((function(t){throw l&&dr(l),t})),Kc(t,i,o)}function zc(t,e,n,r,i){if(!Dr())return Ae(new R("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ae(t.i);var o=null,s=jr(t.uid+":::");return r=r().then((function(){if(qc(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,xc(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Qc,t.w(),e.a)),e})).then((function(){return Vl(t.b,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return $c(t.ha);throw o})).then((function(){if(o)throw o})),Kc(t,r,i)}function qc(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new R("internal-error");throw new R("auth-domain-config-required")}}function Kc(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ae(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new lc("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){Q(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oc(e.w(),Tc(t),E(t.jc,t))),n||e}))}function Yc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Js]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bc(e,n,t);return t.providerData&&z(t.providerData,(function(t){t&&Lc(i,$r(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Xc(t){this.a=t,this.b=el()}ec.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=vt(e.f);return delete n[nc],delete n[rc],yt(n,t),e.g(n)}))},T(ic,R),sc.prototype.tb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Lo(t.a)}),ru(e,Ia,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Lo(t.a)}),ru(e,Na,n)}))}(this,t,e)},T(ac,sc),T(uc,ac),T(lc,$e),(n=cc.prototype).yc=function(t){hc(this,function(t){var e=[];return z(t.mfaInfo||[],(function(t){(t=ti(t))&&e.push(t)})),e}(t.hd))},n.Sb=function(){return this.a.I().then((function(t){return new oo(t,null)}))},n.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return Vc(n.a,t),n.a.reload()}))},n.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return hc(e,r),Vc(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},n.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},pc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Rn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Br()||!t?xe():new Ee((function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},pc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new R("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?vc(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},mc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(bc,En),bc.prototype.xa=function(t){this.za=t,ra(this.a,t)},bc.prototype.la=function(){return this.za},bc.prototype.Ga=function(){return Z(this.aa)},bc.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Xr(bc.prototype,"providerId","firebase"),(n=bc.prototype).reload=function(){var t=this;return Kc(this,Nc(this).then((function(){return Gc(t).then((function(){return xc(t)})).then(Ic)})))},n.oc=function(t){return this.I(t).then((function(t){return new tc(t)}))},n.I=function(t){var e=this;return Kc(this,Nc(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new R("internal-error");return t.accessToken!=e.Aa&&(Pc(e,t.accessToken),e.dispatchEvent(new lc("tokenChanged"))),Fc(e,"refreshToken",t.refreshToken),t.accessToken})))},n.Kc=function(t){if(!(t=t.users)||!t.length)throw new R("internal-error");Dc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new yc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Lc(this,e[n]);Fc(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new lc("userReloaded",{hd:t}))},n.Lc=function(t){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},n.ub=function(t){var e=this,n=null;return Kc(this,t.c(this.a,this.uid).then((function(t){return Vc(e,t),n=Bc(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},n.Cc=function(t){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},n.rb=function(t){var e=this,n=null;return Kc(this,Wc(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Bc(e,t,"link"),Hc(e,t)})).then((function(){return n})))},n.Dc=function(t,e){var n=this;return Kc(this,Wc(this,"phone").then((function(){return Zl(Tc(n),t,e,E(n.rb,n))})))},n.Mc=function(t,e){var n=this;return Kc(this,xe().then((function(){return Zl(Tc(n),t,e,E(n.ub,n))})),!0)},n.Cb=function(t){var e=this;return Kc(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Vc(e,t),e.reload()})))},n.ed=function(t){var e=this;return Kc(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Vc(e,t),e.reload()})))},n.Db=function(t){var e=this;return Kc(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Vc(e,t),e.reload()})))},n.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Nc(this);var e=this;return Kc(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Vc(e,t),Fc(e,"displayName",t.displayName||null),Fc(e,"photoURL",t.photoUrl||null),z(e.providerData,(function(t){"password"===t.providerId&&(Xr(t,"displayName",e.displayName),Xr(t,"photoURL",e.photoURL))})),xc(e)})).then(Ic))},n.cd=function(t){var e=this;return Kc(this,Gc(this).then((function(n){return X(kc(e),t)?function(t,e,n){return ru(t,xa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return z(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),z(kc(e),(function(t){n[t]||Mc(e,t)})),n[Mo.PROVIDER_ID]||Xr(e,"phoneNumber",null),xc(e)})):xc(e).then((function(){throw new R("no-such-provider")}))})))},n.delete=function(){var t=this;return Kc(this,this.I().then((function(e){return ru(t.a,Pa,{idToken:e})})).then((function(){t.dispatchEvent(new lc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");Cc(t,null),Ec(t,null),Oc(t,null),t.N=[],t.J=!0,Rc(t),Xr(t,"refreshToken",null),t.b&&Ll(t.b,t)}))},n.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Mb,this):null},n.Ec=function(t){var e=this;return Uc(this,"linkViaPopup",t,(function(){return Wc(e,t.providerId).then((function(){return xc(e)}))}),!1)},n.Nc=function(t){return Uc(this,"reauthViaPopup",t,(function(){return xe()}),!0)},n.Fc=function(t){var e=this;return zc(this,"linkViaRedirect",t,(function(){return Wc(e,t.providerId)}),!1)},n.Oc=function(t){return zc(this,"reauthViaRedirect",t,(function(){return xe()}),!0)},n.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kc(this,this.I().then((function(n){return Ca(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Bc(i,t,"link"),Hc(i,t)})).then((function(){return o})))},n.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kc(this,xe().then((function(){return lo(Ea(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Bc(i,t,"reauthenticate"),Vc(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},n.vb=function(t){var e=this,n=null;return Kc(this,this.I().then((function(e){return n=e,"undefined"===typeof t||gt(t)?{}:Gi(new xi(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},n.Fb=function(t,e){var n=this,r=null;return Kc(this,this.I().then((function(t){return r=t,"undefined"===typeof e||gt(e)?{}:Gi(new xi(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},n.jc=function(t){var e=null,n=this;return Kc(this,t=lo(xe(t),n.uid).then((function(t){return e=Bc(n,t,"reauthenticate"),Vc(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),z(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.S.w()),t};var Qc={name:"redirectUser",F:"session"};function $c(t){return il(t.b,Qc,t.a)}function Jc(t){this.a=t,this.b=el(),this.c=null,this.f=function(t){var e=eh("local"),n=eh("session"),r=eh("none");return function(t,e,n){var r=rl(e,n),i=nl(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Fr(u.localStorage.getItem(r))}catch(a){}if(s&&!o)return u.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(th,t.a).then((function(t){return t?eh(t):e}))}))}))})).then((function(e){return t.c=e,Zc(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(eh("local"),this.a,E(this.g,this))}function Zc(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(il(t.b,eh(Zu[n]),t.a));return r.push(il(t.b,th,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)De(t[a],_(o,a),s);else e(i)}))}(r)}Jc.prototype.g=function(){var t=this,e=eh("local");oh(this,(function(){return xe().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Zc(t,"local").then((function(){t.c=e}))}))}))};var th={name:"persistence",F:"session"};function eh(t){return{name:"authUser",F:t}}function nh(t,e){return oh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function rh(t){return oh(t,(function(){return il(t.b,t.c,t.a)}))}function ih(t,e,n){return oh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Yc(t||{})}))}))}function oh(t,e){return t.f=t.f.then(e,e),t.f}function sh(t){if(this.l=!1,Xr(this,"settings",new $l),Xr(this,"app",t),!gh(this).options||!gh(this).options.apiKey)throw new R("invalid-api-key");t=e.default.SDK_VERSION?Rr(e.default.SDK_VERSION):null,this.a=new Qs(gh(this).options&&gh(this).options.apiKey,N(x),t),this.P=[],this.s=[],this.N=[],this.Pa=e.default.INTERNAL.createSubscribe(E(this.zc,this)),this.W=void 0,this.ib=e.default.INTERNAL.createSubscribe(E(this.Ac,this)),dh(this,null),this.i=new Jc(gh(this).options.apiKey+":"+gh(this).name),this.D=new Xc(gh(this).options.apiKey+":"+gh(this).name),this.$=bh(this,function(t){var e=gh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Qc,t.a).then((function(t){return t&&e&&(t.authDomain=e),Yc(t||{})}))}(t.D,gh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),$c(t.D)}));return bh(t,e)}(t).then((function(){return ih(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return nh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:rh(t.i)}))):null})).then((function(e){dh(t,e||null)}));return bh(t,n)}(this)),this.h=bh(this,function(t){return t.$.then((function(){return hh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(eh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.qa=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(t){var e=gh(t).options.authDomain,n=gh(t).options.apiKey;e&&Dr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Ul(e,n,gh(t).name,t.R),kl(t.b,t),vh(t)&&Ac(vh(t)),t.m){Ac(t.m);var r=t.m;r.xa(t.la()),Cc(r,t),_c(r=t.m,t.J),Oc(r,t),wc(r=t.m,t.R),Ec(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,En.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Vn(this.R.url);t=$r({protocol:t.c,host:t.a,port:t.g,options:$r({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function ah(t){$e.call(this,"languageCodeChanged"),this.h=t}function uh(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function lh(t){$e.call(this,"frameworkChanged"),this.f=t}function ch(t){return t.Oa||Ae(new R("auth-domain-config-required"))}function hh(t){if(!Dr())return Ae(new R("operation-not-supported-in-this-environment"));var e=ch(t).then((function(){return t.b.ra()})).then((function(t){return t?$r(t):null}));return bh(t,e)}function ph(t,e){var n={};return n.apiKey=gh(t).options.apiKey,n.authDomain=gh(t).options.authDomain,n.appName=gh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new bc(t,e);return n&&(i.ha=n),r&&_c(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return vh(t)&&e.uid==vh(t).uid?(jc(vh(t),e),t.da(e)):(dh(t,e),Ac(e),t.da(e))})).then((function(){yh(t)}))}function dh(t,e){vh(t)&&(function(t,e){$(t.W,(function(t){return t==e}))}(vh(t),t.Ba),dn(vh(t),"tokenChanged",t.qa),dn(vh(t),"userDeleted",t.za),dn(vh(t),"userInvalidated",t.Aa),Rc(vh(t))),e&&(e.W.push(t.Ba),cn(e,"tokenChanged",t.qa),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&Sc(e)),Xr(t,"currentUser",e),e&&(e.xa(t.la()),Cc(e,t),_c(e,t.J),Oc(e,t),wc(e,t.R),Ec(e,t))}function fh(t,e){var n=null,r=null;return bh(t,e.then((function(e){return n=jo(e),r=Xi(e),ph(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oc(e.w(),t,E(t.kc,t))),n||e})).then((function(){return $r({user:vh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function gh(t){return t.app}function vh(t){return t.currentUser}function mh(t){return vh(t)&&vh(t)._lat||null}function yh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](mh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](mh(t))}}function bh(t,e){return t.P.push(e),e.oa((function(){Q(t.P,e)})),e}function wh(){}function Ch(){this.a={},this.b=1e12}Jc.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new R("invalid-persistence-type"),n=new R("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Cr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Iu()&&"none"!==t)throw n;break;default:if(!Ar()&&"none"!==t)throw n}}(t),oh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Zc(n,t)})).then((function(){if(n.c=eh(t),e)return n.b.set(n.c,e,n.a)})):xe()}))},T(sh,En),T(ah,$e),T(uh,$e),T(lh,$e),(n=sh.prototype).yb=function(t){return bh(this,t=this.i.yb(t))},n.xa=function(t){this.aa===t||this.l||(this.aa=t,ra(this.a,this.aa),this.dispatchEvent(new ah(this.la())))},n.la=function(){return this.aa},n.fd=function(){var t=u.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&mr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,ia(this.a,this.R),this.dispatchEvent(new uh(this.R))}},n.Gc=function(t){this.J.push(t),sa(this.a,e.default.SDK_VERSION?Rr(e.default.SDK_VERSION,this.J):null),this.dispatchEvent(new lh(this.J))},n.Ga=function(){return Z(this.J)},n.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:gh(this).options.apiKey,authDomain:gh(this).options.authDomain,appName:gh(this).name,currentUser:vh(this)&&vh(this).w()}},n.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},n.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.ic,this):null},n.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return fh(i,wa(i.a,o))}))},n.Xc=function(t){if(!Dr())return Ae(new R("operation-not-supported-in-this-environment"));var n=this,r=Yi(t.providerId),i=jr(),o=null;(!kr()||br())&&gh(this).options.authDomain&&t.isOAuthProvider&&(o=yu(gh(this).options.authDomain,gh(this).options.apiKey,gh(this).name,"signInViaPopup",t,null,i,e.default.SDK_VERSION||null,null,null,this.T(),this.R));var s=fr(o,r&&r.va,r&&r.ua);return bh(this,r=ch(this).then((function(e){return jl(e,s,"signInViaPopup",t,i,!!o,n.T())})).then((function(){return new Ee((function(t,e){n.na("signInViaPopup",null,new R("cancelled-popup-request"),n.g),n.f=t,n.C=e,n.g=i,n.c=Wl(n.b,n,"signInViaPopup",s,i)}))})).then((function(t){return s&&dr(s),t?$r(t):null})).o((function(t){throw s&&dr(s),t})))},n.Yc=function(t){if(!Dr())return Ae(new R("operation-not-supported-in-this-environment"));var e=this;return bh(this,ch(this).then((function(){return function(t){return oh(t,(function(){return t.b.set(th,t.c.F,t.a)}))}(e.i)})).then((function(){return Vl(e.b,"signInViaRedirect",t,void 0,e.T())})))},n.ra=function(){var t=this;return hh(this).then((function(e){return t.b&&Kl(t.b.b),e})).o((function(e){throw t.b&&Kl(t.b.b),e}))},n.dd=function(t){if(!t)return Ae(new R("null-user"));if(this.S!=t.tenantId)return Ae(new R("tenant-id-mismatch"));var e=this,n={};n.apiKey=gh(this).options.apiKey,n.authDomain=gh(this).options.authDomain,n.appName=gh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Js]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bc(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&_c(e,r),jc(e,t),e}(t,n,e.D,e.Ga());return bh(this,this.h.then((function(){if(gh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return vh(e)&&t.uid==vh(e).uid?(jc(vh(e),t),e.da(t)):(dh(e,r),Ac(r),e.da(r))})).then((function(){yh(e)})))},n.Bb=function(){var t=this;return bh(this,this.h.then((function(){return t.b&&Kl(t.b.b),vh(t)?(dh(t,null),rh(t.i).then((function(){yh(t)}))):xe()})))},n.Zc=function(){var t=this;return ih(this.i,gh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=vh(t)&&e){n=vh(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return jc(vh(t),e),vh(t).I();(vh(t)||e)&&(dh(t,e),e&&(Ac(e),e.ha=t.D),t.b&&kl(t.b,t),yh(t))}}))},n.da=function(t){return nh(this.i,t)},n.mc=function(){yh(this),this.da(vh(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(t){var e=this;return this.h.then((function(){return fh(e,xe(t))}))},n.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(vh(e))}))},n.Ac=function(t){var e=this;!function(t,e){t.N.push(e),bh(t,t.h.then((function(){!t.l&&X(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(mh(t)))})))}(this,(function(){t.next(vh(e))}))},n.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(vh(r)):"function"===typeof t.next&&t.next(vh(r))})),this.Pa(t,e,n)},n.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof t?t(vh(r)):"function"===typeof t.next&&t.next(vh(r))})),this.ib(t,e,n)},n.nc=function(t){var e=this;return bh(this,this.h.then((function(){return vh(e)?vh(e).I(t).then((function(t){return{accessToken:t}})):null})))},n.Tc=function(t){var e=this;return this.h.then((function(){return fh(e,ru(e.a,$a,{token:t}))})).then((function(t){var n=t.user;return Fc(n,"isAnonymous",!1),e.da(n),t}))},n.Uc=function(t,e){var n=this;return this.h.then((function(){return fh(n,ru(n.a,Ja,{email:t,password:e}))}))},n.dc=function(t,e){var n=this;return this.h.then((function(){return fh(n,ru(n.a,Sa,{email:t,password:e}))}))},n.ab=function(t){var e=this;return this.h.then((function(){return fh(e,t.ka(e.a))}))},n.Sc=function(t){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},n.Ab=function(){var t=this;return this.h.then((function(){var e=vh(t);if(e&&e.isAnonymous){var n=$r({providerId:null,isNewUser:!1});return $r({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return fh(t,t.a.Ab()).then((function(e){var n=e.user;return Fc(n,"isAnonymous",!0),t.da(n),e}))}))},n.getUid=function(){return vh(this)&&vh(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&vh(this)&&Sc(vh(this))},n.Pc=function(t){var e=this;z(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&vh(this)&&Rc(vh(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.s.push(t),bh(this,this.h.then((function(){e.l||X(e.s,t)&&t(mh(e))})))},n.removeAuthTokenListener=function(t){$(this.s,(function(e){return e==t}))},n.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(eh("local"),t.a,this.ja),this.b&&(Ll(this.b,this),Kl(this.b.b)),Promise.resolve()},n.hc=function(t){return bh(this,function(t,e){return ru(t,Ra,{identifier:e,continueUri:Ir()?cr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},n.Bc=function(t){return!!Io(t)},n.xb=function(t,e){var n=this;return bh(this,xe().then((function(){var t=new xi(e);if(!t.c)throw new R("argument-error",Ii+" must be true when sending sign in link to email");return Gi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},n.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},n.ob=function(t,e){return bh(this,this.a.ob(t,e).then((function(){})))},n.Sa=function(t){return bh(this,this.a.Sa(t).then((function(t){return new si(t)})))},n.kb=function(t){return bh(this,this.a.kb(t).then((function(){})))},n.wb=function(t,e){var n=this;return bh(this,xe().then((function(){return"undefined"===typeof e||gt(e)?{}:Gi(new xi(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},n.Wc=function(t,e){return bh(this,Zl(this,t,e,E(this.ab,this)))},n.Vc=function(t,e){var n=this;return bh(this,xe().then((function(){var r=e||cr(),i=Do(t,r);if(!(r=Io(r)))throw new R("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new R("tenant-id-mismatch");return n.ab(i)})))},wh.prototype.render=function(){},wh.prototype.reset=function(){},wh.prototype.getResponse=function(){},wh.prototype.execute=function(){};var Eh=null;function _h(t,e){return(e=Oh(e))&&t.a[e]||null}function Oh(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Th(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function Sh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Rh(){}function Ph(){}Ch.prototype.render=function(t,e){return this.a[this.b.toString()]=new Th(t,e),this.b++},Ch.prototype.reset=function(t){var e=_h(this,t);t=Oh(t),e&&t&&(e.delete(),delete this.a[t])},Ch.prototype.getResponse=function(t){return(t=_h(this,t))?t.getResponse():null},Ch.prototype.execute=function(t){(t=_h(this,t))&&t.execute()},Th.prototype.getResponse=function(){return Sh(this),this.b},Th.prototype.execute=function(){Sh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Th.prototype.delete=function(){Sh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Xr(Rh,"FACTOR_ID","phone"),Ph.prototype.g=function(){return Eh||(Eh=new Ch),xe(Eh)},Ph.prototype.c=function(){};var xh=null;function Ah(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Dh=new wt(Ot,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ih=new Wr(3e4,6e4);Ah.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new R("network-request-failed"))}),Ih.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new R("internal-error"));delete u[e.a]},xe(Hs(Pt(Dh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Ah.prototype.c=function(){this.b--};var Nh=null;function kh(t,e,n,r,i,o,s){if(Xr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(xh||(xh=new Ph),s=xh):(Nh||(Nh=new Ah),s=Nh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fh])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[jh],!u.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qs(t,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var l=this.a[Lh];this.a[Lh]=function(t){if(Gh(a,t),"function"===typeof l)l(t);else if("string"===typeof l){var e=xr(l,u);"function"===typeof e&&e(t)}};var c=this.a[Mh];this.a[Mh]=function(){if(Gh(a,null),"function"===typeof c)c();else if("string"===typeof c){var t=xr(c,u);"function"===typeof t&&t()}}}var Lh="callback",Mh="expired-callback",Fh="sitekey",jh="size";function Gh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Vh(t,e){return t.h.push(e),e.oa((function(){Q(t.h,e)})),e}function Wh(t){if(t.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bh(t,n,r){var i=!1;try{this.b=r||e.default.app()}catch(a){throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new R("invalid-api-key");r=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=e.default.SDK_VERSION?Rr(e.default.SDK_VERSION,s):null,kh.call(this,r,t,n,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),s,N(x),i)}function Hh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Uh.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");n=Uh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new R("argument-error",t+" failed: "+r)}(n=kh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Vh(this,xe().then((function(){if(Ir()&&!wr())return mr();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Va,{})})).then((function(e){t.a[Fh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},n.render=function(){Wh(this);var t=this;return Vh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ce(e);e=ge("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},n.verify=function(){Wh(this);var t=this;return Vh(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){$(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},n.reset=function(){Wh(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Wh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Bh,kh);var Uh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function zh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function qh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Kh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Yh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function Xh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Qh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function $h(t,e){return v(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function Jh(t){return v(t)&&"string"===typeof t.uid}function Zh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function tp(t,e){for(var n in e){var r=e[n].name;t[r]=rp(r,t[n],e[n].j)}}function ep(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_((function(t){return this[t]}),n),set:_((function(t,e,n,r){Hh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function np(t,e,n,r){t[e]=rp(e,n,r)}function rp(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Hh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}tp(sh.prototype,{kb:{name:"applyActionCode",j:[zh("code")]},Sa:{name:"checkActionCode",j:[zh("code")]},ob:{name:"confirmPasswordReset",j:[zh("code"),zh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[zh("email"),zh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[zh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[zh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(Kh(),Yh(),"nextOrObserver"),Yh("opt_error",!0),Yh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(Kh(),Yh(),"nextOrObserver"),Yh("opt_error",!0),Yh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[zh("email"),Zh(Kh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[zh("email"),Kh("actionCodeSettings")]},yb:{name:"setPersistence",j:[zh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Qh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Qh()]},Tc:{name:"signInWithCustomToken",j:[zh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[zh("email"),zh("password")]},Vc:{name:"signInWithEmailLink",j:[zh("email"),zh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bc)}},Xh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[zh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[zh("url"),Kh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[zh("code")]}}),ep(sh.prototype,{lc:{name:"languageCode",lb:Zh(zh(),Xh(),"languageCode")},ti:{name:"tenantId",lb:Zh(zh(),Xh(),"tenantId")}}),sh.Persistence=Zu,sh.Persistence.LOCAL="local",sh.Persistence.SESSION="session",sh.Persistence.NONE="none",tp(bc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[qh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[qh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Qh()]},rb:{name:"linkWithCredential",j:[Qh()]},Dc:{name:"linkWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qh()]},ub:{name:"reauthenticateWithCredential",j:[Qh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Zh(Kh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[zh(null,!0)]},cd:{name:"unlink",j:[zh("provider")]},Cb:{name:"updateEmail",j:[zh("email")]},Db:{name:"updatePassword",j:[zh("password")]},ed:{name:"updatePhoneNumber",j:[Qh("phone")]},Eb:{name:"updateProfile",j:[Kh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[zh("email"),Zh(Kh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]}}),tp(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tp(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tp(Ee.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ep($l.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:qh("appVerificationDisabledForTesting")}}),tp(Jl.prototype,{confirm:{name:"confirm",j:[zh("verificationCode")]}}),np(uo,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[vo,xo,ko,po],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Zh(zh(),Kh(),"json")]),np(Ao,"credential",(function(t,e){return new Po(t,e)}),[zh("email"),zh("password")]),tp(Po.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),tp(wo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),np(wo,"credential",Co,[Zh(zh(),Kh(),"token")]),np(Ao,"credentialWithLink",Do,[zh("email"),zh("emailLink")]),tp(Eo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),np(Eo,"credential",_o,[Zh(zh(),Kh(),"token")]),tp(Oo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),np(Oo,"credential",To,[Zh(zh(),Zh(Kh(),Xh()),"idToken"),Zh(zh(),Xh(),"accessToken",!0)]),tp(So.prototype,{Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),np(So,"credential",Ro,[Zh(zh(),Kh(),"token"),zh("secret",!0)]),tp(bo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},credential:{name:"credential",j:[Zh(zh(),Zh(Kh(),Xh()),"optionsOrIdToken"),Zh(zh(),Xh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),tp(fo.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),tp(co.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),np(Mo,"credential",Fo,[zh("verificationId"),zh("verificationCode")]),tp(Mo.prototype,{gb:{name:"verifyPhoneNumber",j:[Zh(zh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?$h(t.session,so)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?$h(t.session,ao)&&Jh(t.multiFactorHint):t.session&&t.multiFactorUid?$h(t.session,ao)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),tp(No.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),tp(R.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),tp(qo.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),tp(zo.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),tp(ic.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),tp(ec.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),tp(cc.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},zh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jh},zh(),"multiFactorInfoIdentifier")]}}),tp(Bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),np(wi,"parseLink",Pi,[zh("link")]),np(Rh,"assertion",(function(t){return new uc(t)}),[Qh("phone")]),function(){if("undefined"===typeof e.default||!e.default.INTERNAL||!e.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sh,AuthCredential:uo,Error:R};np(t,"EmailAuthProvider",Ao,[]),np(t,"FacebookAuthProvider",wo,[]),np(t,"GithubAuthProvider",Eo,[]),np(t,"GoogleAuthProvider",Oo,[]),np(t,"TwitterAuthProvider",So,[]),np(t,"OAuthProvider",bo,[zh("providerId")]),np(t,"SAMLAuthProvider",yo,[zh("providerId")]),np(t,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof sh)}}]),np(t,"RecaptchaVerifier",Bh,[Zh(zh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Kh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof e.default.app.App)}}]),np(t,"ActionCodeURL",wi,[]),np(t,"PhoneMultiFactorGenerator",Rh,[]),e.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new sh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),e.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.nc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.default.registerVersion("@firebase/auth","0.16.8"),e.default.INTERNAL.extendNamespace({User:bc})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(63))},function(t,e,n){"use strict";(function(t,e){var r=n(9),i=n(22),o=n(2),s=n(11),a=n(20),u="@firebase/database",l="0.10.6",c="";function h(t){c=t}var p=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),f=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new p(e)}}catch(n){}return new d},g=f("localStorage"),v=f("sessionStorage"),m=new a.Logger("@firebase/database"),y=function(){var t=1;return function(){return t++}}(),b=function(t){var e=Object(o.stringToByteArray)(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},w=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var s=e[i];Array.isArray(s)||s&&"object"===typeof s&&"number"===typeof s.length?r+=t.apply(null,s):r+="object"===typeof s?Object(o.stringify)(s):s,r+=" "}return r},C=null,E=!0,_=function(t,e){Object(o.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=a.LogLevel.VERBOSE,C=m.log.bind(m),e&&v.set("logging_enabled",!0)):"function"===typeof t?C=t:(C=null,v.remove("logging_enabled"))},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===E&&(E=!1,null===C&&!0===v.get("logging_enabled")&&_(!0)),C){var n=w.apply(null,t);C(n)}},T=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O.apply(void 0,Object(s.f)([t],Object(s.e)(e)))}},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+w.apply(void 0,Object(s.f)([],Object(s.e)(t)));m.error(n)},R=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+w.apply(void 0,Object(s.f)([],Object(s.e)(t)));throw m.error(n),new Error(n)},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+w.apply(void 0,Object(s.f)([],Object(s.e)(t)));m.warn(n)},x=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",D="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===A||e===D)return-1;if(e===A||t===D)return 1;var n=V(t),r=V(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},k=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.stringify)(e))},L=function t(e){if("object"!==typeof e||null===e)return Object(o.stringify)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",s=0;s<n.length;s++)0!==s&&(i+=","),i+=Object(o.stringify)(n[s]),i+=":",i+=t(e[n[s]]);return i+="}"},M=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function F(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j=function(t){Object(o.assert)(!x(t),"Invalid JSON number");var e,n,r,i,s;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),l="";for(s=0;s<64;s+=8){var c=parseInt(u.substr(s,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var G=new RegExp("^-?(0*)\\d{1,10}$"),V=function(t){if(G.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},W=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||"";throw P("Exception was thrown by user callback.",t),e}),Math.floor(0))}},B=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},H=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n.unref&&n.unref(),n},U=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null===e||void 0===e?void 0:e.getImmediate({optional:!0}),this.appCheck||null===e||void 0===e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){P('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),z=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(O("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',P(t)},t}(),q=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),K=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y="ac",X="websocket",Q="long_polling",$=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=g.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&g.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function J(t,e,n){var r;if(Object(o.assert)("string"===typeof e,"typeof type must == string"),Object(o.assert)("object"===typeof n,"typeof params must == object"),e===X)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==Q)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return F(n,(function(t,e){i.push(t+"="+e)})),r+i.join("&")}var Z=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.deepCopy)(this.counters_)},t}(),tt={},et={};function nt(t){var e=t.toString();return tt[e]||(tt[e]=new Z),tt[e]}var rt=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&W((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),it="pLPCommand",ot="pRTLPCB",st=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T(t),this.stats_=nt(e),this.urlFn=function(t){return a.appCheckToken&&(t[Y]=a.appCheckToken),J(e,Q,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new rt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(o.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new at((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(s.e)(t,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(s.e)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t[Y]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(o.isNodeSdk)()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.base64Encode)(e),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),at=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window[it+this.uniqueCallbackIdentifier]=e,window[ot+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))s='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){O("frame writing exception"),u.stack&&O(u.stack),O(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||O("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(o.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){O("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),ut=null;"undefined"!==typeof MozWebSocket?ut=MozWebSocket:"undefined"!==typeof WebSocket&&(ut=WebSocket);var lt=function(){function e(t,n,r,i,o,s,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T(this.connId),this.stats_=nt(n),this.connURL=e.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n,r){var i={v:"5"};return!Object(o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i[Y]=r),J(t,X,i)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,g.set("previous_websocket_failure",!0);try{if(Object(o.isNodeSdk)()){var i=this.nodeAdmin?"AdminNode":"Node",s={headers:{"User-Agent":"Firebase/5/"+c+"/"+t.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?s.headers.Authorization=this.authToken||"":s.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var a=Object({NODE_ENV:"production",PUBLIC_URL:""}),u=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;u&&(s.proxy={origin:u}),this.mySock=new ut(this.connURL,[],s)}else{s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new ut(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ut&&!e.forceDisallow_},e.previouslyFailed=function(){return g.isInMemoryStorage||!0===g.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){g.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.jsonEval)(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(Object(o.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=M(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ct=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[st,lt]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=lt&&lt.isAvailable(),o=i&&!lt.previouslyFailed();if(e.webSocketOnly&&(i||P("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[lt];else{var a=this.transports_=[];try{for(var u=Object(s.g)(t.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&a.push(c)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),ht=function(){function t(t,e,n,r,i,o,s,a,u,l){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T("c:"+this.id+":"),this.transportManager_=new ct(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=H((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=k("t",t),n=k("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=k("t",t),n=k("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=k("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?S("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&P("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),H((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):H((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(g.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),pt=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),dt=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(s.f)([],Object(s.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.assert)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),ft=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o.isMobileCordova)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(s.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(dt),gt=32,vt=768,mt=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function yt(){return new mt("")}function bt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function wt(t){return t.pieces_.length-t.pieceNum_}function Ct(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new mt(t.pieces_,e)}function Et(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _t(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function Ot(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new mt(e,0)}function Tt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof mt)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new mt(n,0)}function St(t){return t.pieceNum_>=t.pieces_.length}function Rt(t,e){var n=bt(t),r=bt(e);if(null===n)return e;if(n===r)return Rt(Ct(t),Ct(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Pt(t,e){for(var n=_t(t,0),r=_t(e,0),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function xt(t,e){if(wt(t)!==wt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function At(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(wt(t)>wt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Dt=function(t,e){this.errorPrefix_=e,this.parts_=_t(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.stringLength)(this.parts_[n]);It(this)};function It(t){if(t.byteLength_>vt)throw new Error(t.errorPrefix_+"has a key path longer than "+vt+" bytes ("+t.byteLength_+").");if(t.parts_.length>gt)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gt+") or object contains a cycle "+Nt(t))}function Nt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var kt,Lt,Mt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(s.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(dt),Ft=1e3,jt=3e5,Gt=function(t){function e(n,r,i,s,a,u,l,c){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=u,h.appCheckTokenProvider_=l,h.authOverride_=c,h.id=e.nextPersistentConnectionId_++,h.log_=T("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Ft,h.maxReconnectDelay_=jt,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!Object(o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Mt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&ft.getInstance().on("online",h.onOnline_,h),h}return Object(s.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.stringify)(i)),Object(o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.Deferred,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.assert)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&Object(o.contains)(t,"w")){var n=Object(o.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();P("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):S("Unrecognized action received from server: "+Object(o.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ft,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ft,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ft),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(s.b)(this,void 0,void 0,(function(){var t,n,r,i,a,u,l,c,h,p,d,f,g,v,m=this;return Object(s.d)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,r())},h=function(t){Object(o.assert)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)},this.realtime_={close:c,sendRequest:h},p=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)])];case 2:return d=s.e.apply(void 0,[y.sent(),2]),f=d[0],g=d[1],u?O("getToken() completed but was canceled"):(O("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=g&&g.token,l=new ht(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){P(t+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),a)),[3,4];case 3:return v=y.sent(),this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&P(v),c()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){O("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){O("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Ft,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return L(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new mt(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){O("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){O("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(s.g)(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,Object(s.g)(a.values())),l=u.next();!l.done;l=u.next()){var c=l.value;this.sendListen_(c)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+c.replace(/\./g,"-")]=1,Object(o.isMobileCordova)()?t["framework.cordova"]=1:Object(o.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ft.getInstance().currentlyOnline();return Object(o.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(pt),Vt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Wt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Vt(A,t),r=new Vt(A,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Vt.MIN},t}(),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return kt},set:function(t){kt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return I(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Vt.MIN},e.prototype.maxPost=function(){return new Vt(D,kt)},e.prototype.makePost=function(t,e){return Object(o.assert)("string"===typeof t,"KeyIndex indexValue must always be a string."),new Vt(t,kt)},e.prototype.toString=function(){return".key"},e}(Wt),Ht=new Bt,Ut=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),zt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Kt.EMPTY_NODE,this.right=null!=o?o:Kt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Kt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Kt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),qt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new zt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Kt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,zt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ut(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ut(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ut(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ut(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new qt,t}();function Yt(t,e){return I(t.name,e.name)}function Xt(t,e){return I(t,e)}var Qt,$t,Jt,Zt=function(t){return"number"===typeof t?"number:"+j(t):"string:"+t},te=function(t){if(t.isLeafNode()){var e=t.val();Object(o.assert)("string"===typeof e||"number"===typeof e||"object"===typeof e&&Object(o.contains)(e,".sv"),"Priority must be a string or number.")}else Object(o.assert)(t===Lt||t.isEmpty(),"priority of unexpected type.");Object(o.assert)(t===Lt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ee=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),te(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Qt},set:function(t){Qt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return St(e)?this:".priority"===bt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=bt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.assert)(".priority"!==r||1===wt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ct(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Zt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?j(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.assert)(i>=0,"Unknown leaf type: "+n),Object(o.assert)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var ne,re,ie=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Vt.MIN},e.prototype.maxPost=function(){return new Vt(D,new ee("[PRIORITY-POST]",Jt))},e.prototype.makePost=function(t,e){var n=$t(t);return new Vt(e,new ee("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Wt)),oe=Math.log(2),se=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/oe,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),ae=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,s=function(e,r){var i=o-e,s=o;o-=e;var u=function e(r,i){var o,s,a=i-r;if(0===a)return null;if(1===a)return o=t[r],s=n?n(o):o,new zt(s,o.node,zt.BLACK,null,null);var u=parseInt(a/2,10)+r,l=e(r,u),c=e(u+1,i);return o=t[u],s=n?n(o):o,new zt(s,o.node,zt.BLACK,l,c)}(i+1,s),l=t[i],c=n?n(l):l;a(new zt(c,l.node,r,null,u))},a=function(t){r?(r.left=t,r=t):(i=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),c=Math.pow(2,e.count-(u+1));l?s(c,zt.BLACK):(s(c,zt.BLACK),s(c,zt.RED))}return i}(new se(t.length));return new Kt(r||e,i)},ue={},le=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.assert)(ue&&ie,"ChildrenNode.ts has not been loaded"),ne=ne||new t({".priority":ue},{".priority":ie})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Kt?e:null},t.prototype.hasIndex=function(t){return Object(o.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.assert)(e!==Ht,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,u=n.getIterator(Vt.Wrap),l=u.getNext();l;)a=a||e.isDefinedOn(l.node),i.push(l),l=u.getNext();r=a?ae(i,e.getCompare()):ue;var c=e.toString(),h=Object(s.a)({},this.indexSet_);h[c]=e;var p=Object(s.a)({},this.indexes_);return p[c]=r,new t(p,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.map)(this.indexes_,(function(t,i){var s=Object(o.safeGet)(r.indexSet_,i);if(Object(o.assert)(s,"Missing index implementation for "+i),t===ue){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Vt.Wrap),l=u.getNext();l;)l.name!==e.name&&a.push(l),l=u.getNext();return a.push(e),ae(a,s.getCompare())}return ue}var c=n.get(e.name),h=t;return c&&(h=h.remove(new Vt(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.map)(this.indexes_,(function(t){if(t===ue)return t;var r=n.get(e.name);return r?t.remove(new Vt(e.name,r)):t})),this.indexSet_)},t}(),ce=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&te(this.priorityNode_),this.children_.isEmpty()&&Object(o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return re||(re=new t(new Kt(Xt),null,le.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||re},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?re:e},t.prototype.getChild=function(t){var e=bt(t);return null===e?this:this.getImmediateChild(e).getChild(Ct(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Vt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?re:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=bt(t);if(null===n)return e;Object(o.assert)(".priority"!==bt(t)||1===wt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ct(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ie,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Zt(this.getPriority().val())+":"),this.forEachChild(ie,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Vt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Vt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Vt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Vt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Vt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===he?-1:0},t.prototype.withIndex=function(e){if(e===Ht||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ht||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(ie),r=e.getIterator(ie),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ht?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),he=new(function(t){function e(){return t.call(this,new Kt(Xt),ce.EMPTY_NODE,le.Default)||this}return Object(s.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ce.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ce));Object.defineProperties(Vt,{MIN:{value:new Vt(A,ce.EMPTY_NODE)},MAX:{value:new Vt(D,he)}}),Bt.__EMPTY_NODE=ce.EMPTY_NODE,ee.__childrenNodeConstructor=ce,Lt=he,function(t){Jt=t}(he);var pe=!0;function de(t,e){if(void 0===e&&(e=null),null===t)return ce.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.assert)(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t)return new ee(t,de(e));if(t instanceof Array||!pe){var n=ce.EMPTY_NODE;return F(t,(function(e,r){if(Object(o.contains)(t,e)&&"."!==e.substring(0,1)){var i=de(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(de(e))}var r=[],i=!1;if(F(t,(function(t,e){if("."!==t.substring(0,1)){var n=de(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Vt(t,n)))}})),0===r.length)return ce.EMPTY_NODE;var s=ae(r,Yt,(function(t){return t.name}),Xt);if(i){var a=ae(r,ie.getCompare());return new ce(s,de(e),new le({".priority":a},{".priority":ie}))}return new ce(s,de(e),le.Default)}!function(t){$t=t}(de);var fe=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.assert)(!St(e)&&".priority"!==bt(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(s.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=de(t),r=ce.EMPTY_NODE.updateChild(this.indexPath_,n);return new Vt(e,r)},e.prototype.maxPost=function(){var t=ce.EMPTY_NODE.updateChild(this.indexPath_,he);return new Vt(D,t)},e.prototype.toString=function(){return _t(this.indexPath_,0).join("/")},e}(Wt),ge=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?I(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Vt.MIN},e.prototype.maxPost=function(){return Vt.MAX},e.prototype.makePost=function(t,e){var n=de(t);return new Vt(e,n)},e.prototype.toString=function(){return".value"},e}(Wt)),ve="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",me=function(){var t=0,e=[];return function(n){var r,i=n===t;t=n;var s=new Array(8);for(r=7;r>=0;r--)s[r]=ve.charAt(n%64),n=Math.floor(n/64);Object(o.assert)(0===n,"Cannot push at time == 0");var a=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=ve.charAt(e[r]);return Object(o.assert)(20===a.length,"nextPushId: Length should be 20."),a}}(),ye=function(t){if("2147483647"===t)return"-";var e=V(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return D;var o=n[i],s=ve.charAt(ve.indexOf(o)+1);return n[i]=s,n.slice(0,i+1).join("")},be=function(t){if("-2147483648"===t)return A;var e=V(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ve.charAt(ve.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function we(t){return{type:"value",snapshotNode:t}}function Ce(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ee(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function _e(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var Oe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){Object(o.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(Ee(e,a)):Object(o.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ce(e,n)):s.trackChildChange(_e(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(ie,(function(t,r){e.hasChild(t)||n.trackChildChange(Ee(t,r))})),e.isLeafNode()||e.forEachChild(ie,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(_e(e,r,i))}else n.trackChildChange(Ce(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ce.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Te=function(){function t(e){this.indexedFilter_=new Oe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Vt(e,n))||(n=ce.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ce.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(ce.EMPTY_NODE);var i=this;return e.forEachChild(ie,(function(t,e){i.matches(new Vt(t,e))||(r=r.updateImmediateChild(t,ce.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Se=function(){function t(t){this.rangedFilter_=new Te(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Vt(e,n))||(n=ce.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=ce.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=ce.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(ce.EMPTY_NODE);var a=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){s=i.getNext();!h&&l(a,s)<=0&&(h=!0),h&&o<this.limit_&&l(s,u)<=0?o++:r=r.updateImmediateChild(s.name,ce.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;Object(o.assert)(u.numChildren()===this.limit_,"");var l=new Vt(e,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(u.hasChild(e)){for(var p=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:s(d,l);if(h&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(_e(e,n,p)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ee(e,p));var g=u.updateImmediateChild(e,ce.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(Ce(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?t:h&&s(c,l)>=0?(null!=i&&(i.trackChildChange(Ee(c.name,c.node)),i.trackChildChange(Ce(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(c.name,ce.EMPTY_NODE)):t},t}(),Re=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ie}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:D},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ie},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Pe(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function xe(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ae(t,e){var n=t.copy();return n.index_=e,n}function De(t){var e,n={};return t.isDefault()?n:(t.index_===ie?e="$priority":t.index_===ge?e="$value":t.index_===Ht?e="$key":(Object(o.assert)(t.index_ instanceof fe,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.stringify)(e),t.startSet_&&(n.startAt=Object(o.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n)}function Ie(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ie&&(e.i=t.index_.toString()),e}var Ne=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=T("p:rest:"),o.listens_={},o}return Object(s.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var u=e.getListenId_(t,r),l={};this.listens_[u]=l;var c=De(t._queryParams);this.restRequest_(a+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(o.safeGet)(s.listens_,u)===l)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=De(t._queryParams),r=t._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=Object(s.e)(i,2),u=a[0],l=a[1];u&&u.accessToken&&(e.auth=u.accessToken),l&&l.token&&(e.ac=l.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.querystring)(e);r.log_("Sending REST request for "+c);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(o.jsonEval)(h.responseText)}catch(e){P("Failed to parse JSON response for "+c+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&P("Got unsuccessful REST response for "+c+" Status: "+h.status),n(h.status);n=null}},h.open("GET",c,!0),h.send()}))},e}(pt),ke=function(){function t(){this.rootNode_=ce.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Le(){return{value:null,children:new Map}}function Me(t,e,n){if(St(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=bt(e);t.children.has(r)||t.children.set(r,Le()),Me(t.children.get(r),e=Ct(e),n)}}function Fe(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){Fe(r,new mt(e.toString()+"/"+t),n)}))}var je,Ge=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(s.a)({},t);return this.last_&&F(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Ve=1e4,We=3e4,Be=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ge(t);var n=Ve+(We-Ve)*Math.random();H(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;F(e,(function(e,i){i>0&&Object(o.contains)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),H(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();function He(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(je||(je={}));var Ue,ze=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=je.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(St(this.path)){if(null!=this.affectedTree.value)return Object(o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new mt(e));return new t(yt(),n,this.revert)}return Object(o.assert)(bt(this.path)===e,"operationForChild called for unrelated child."),new t(Ct(this.path),this.affectedTree,this.revert)},t}(),qe=function(){function t(t,e){this.source=t,this.path=e,this.type=je.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return St(this.path)?new t(this.source,yt()):new t(this.source,Ct(this.path))},t}(),Ke=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=je.OVERWRITE}return t.prototype.operationForChild=function(e){return St(this.path)?new t(this.source,yt(),this.snap.getImmediateChild(e)):new t(this.source,Ct(this.path),this.snap)},t}(),Ye=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=je.MERGE}return t.prototype.operationForChild=function(e){if(St(this.path)){var n=this.children.subtree(new mt(e));return n.isEmpty()?null:n.value?new Ke(this.source,yt(),n.value):new t(this.source,yt(),n)}return Object(o.assert)(bt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ct(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Xe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(St(t))return this.isFullyInitialized()&&!this.filtered_;var e=bt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Qe=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};function $e(t,e,n,r,i,s){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.assertionError)("Should only compare child_ events.");var r=new Vt(e.childName,e.snapshotNode),i=new Vt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)})),a.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_),e)}(t,n,s);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function Je(t,e){return{eventCache:t,serverCache:e}}function Ze(t,e,n,r){return Je(new Xe(e,n,r),t.serverCache)}function tn(t,e,n,r){return Je(t.eventCache,new Xe(e,n,r))}function en(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function nn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var rn=function(){return Ue||(Ue=new Kt(N)),Ue},on=function(){function t(t,e){void 0===e&&(e=rn()),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return F(e,(function(t,e){n=n.set(new mt(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:yt(),value:this.value};if(St(t))return null;var n=bt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ct(t),e);return null!=i?{path:Tt(new mt(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(St(e))return this;var n=bt(e),r=this.children.get(n);return null!==r?r.subtree(Ct(e)):new t(null)},t.prototype.set=function(e,n){if(St(e))return new t(n,this.children);var r=bt(e),i=(this.children.get(r)||new t(null)).set(Ct(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(St(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=bt(e),r=this.children.get(n);if(r){var i=r.remove(Ct(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(St(t))return this.value;var e=bt(t),n=this.children.get(e);return n?n.get(Ct(t)):null},t.prototype.setTree=function(e,n){if(St(e))return n;var r=bt(e),i=(this.children.get(r)||new t(null)).setTree(Ct(e),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(yt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Tt(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,yt(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(St(t))return null;var i=bt(t),o=this.children.get(i);return o?o.findOnPath_(Ct(t),Tt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,yt(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(St(e))return this;this.value&&r(n,this.value);var i=bt(e),o=this.children.get(i);return o?o.foreachOnPath_(Ct(e),Tt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(yt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(Tt(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),sn=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new on(null))},t}();function an(t,e,n){if(St(e))return new sn(new on(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=Rt(i,e);return o=o.updateChild(s,n),new sn(t.writeTree_.set(i,o))}var a=new on(n),u=t.writeTree_.setTree(e,a);return new sn(u)}function un(t,e,n){var r=t;return F(n,(function(t,n){r=an(r,Tt(e,t),n)})),r}function ln(t,e){if(St(e))return sn.empty();var n=t.writeTree_.setTree(e,new on(null));return new sn(n)}function cn(t,e){return null!=hn(t,e)}function hn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Rt(n.path,e)):null}function pn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ie,(function(t,n){e.push(new Vt(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Vt(t,n.value))})),e}function dn(t,e){if(St(e))return t;var n=hn(t,e);return new sn(null!=n?new on(n):t.writeTree_.subtree(e))}function fn(t){return t.writeTree_.isEmpty()}function gn(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(o.assert)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=t(Tt(e,n),s,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(Tt(e,".priority"),i)),r}(yt(),t.writeTree_,e)}function vn(t,e){return xn(e,t)}function mn(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));Object(o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&yn(u,r.path)?i=!1:At(r.path,u.path)&&(s=!0)),a--}if(i){if(s)return function(t){t.visibleWrites=wn(t.allWrites,bn,yt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0;r.snap?t.visibleWrites=ln(t.visibleWrites,r.path):F(r.children,(function(e){t.visibleWrites=ln(t.visibleWrites,Tt(r.path,e))}));return!0}return!1}function yn(t,e){if(t.snap)return At(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&At(Tt(t.path,n),e))return!0;return!1}function bn(t){return t.visible}function wn(t,e,n){for(var r=sn.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,u=void 0;if(s.snap)At(n,a)?r=an(r,u=Rt(n,a),s.snap):At(a,n)&&(u=Rt(a,n),r=an(r,yt(),s.snap.getChild(u)));else{if(!s.children)throw Object(o.assertionError)("WriteRecord should have .snap or .children");if(At(n,a))r=un(r,u=Rt(n,a),s.children);else if(At(a,n))if(St(u=Rt(a,n)))r=un(r,yt(),s.children);else{var l=Object(o.safeGet)(s.children,bt(u));if(l){var c=l.getChild(Ct(u));r=an(r,yt(),c)}}}}}return r}function Cn(t,e,n,r,i){if(r||i){var o=dn(t.visibleWrites,e);if(!i&&fn(o))return n;if(i||null!=n||cn(o,yt())){return gn(wn(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(At(t.path,e)||At(e,t.path))}),e),n||ce.EMPTY_NODE)}return null}var s=hn(t.visibleWrites,e);if(null!=s)return s;var a=dn(t.visibleWrites,e);return fn(a)?n:null!=n||cn(a,yt())?gn(a,n||ce.EMPTY_NODE):null}function En(t,e,n,r){return Cn(t.writeTree,t.treePath,e,n,r)}function _n(t,e){return function(t,e,n){var r=ce.EMPTY_NODE,i=hn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ie,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=dn(t.visibleWrites,e);return n.forEachChild(ie,(function(t,e){var n=gn(dn(o,new mt(t)),e);r=r.updateImmediateChild(t,n)})),pn(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return pn(dn(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function On(t,e,n,r){return function(t,e,n,r,i){Object(o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Tt(e,n);if(cn(t.visibleWrites,s))return null;var a=dn(t.visibleWrites,s);return fn(a)?i.getChild(n):gn(a,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function Tn(t,e){return function(t,e){return hn(t.visibleWrites,e)}(t.writeTree,Tt(t.treePath,e))}function Sn(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,u=dn(t.visibleWrites,e),l=hn(u,yt());if(null!=l)a=l;else{if(null==n)return[];a=gn(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var c=[],h=s.getCompare(),p=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),d=p.getNext();d&&c.length<i;)0!==h(d,r)&&c.push(d),d=p.getNext();return c}(t.writeTree,t.treePath,e,n,r,i,o)}function Rn(t,e,n){return function(t,e,n,r){var i=Tt(e,n),o=hn(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?gn(dn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Pn(t,e){return xn(Tt(t.treePath,e),t.writeTree)}function xn(t,e){return{treePath:t,writeTree:e}}var An=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,_e(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,Ee(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,Ce(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(o.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,_e(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Dn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),In=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Xe(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nn(this.viewCache_),i=Sn(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();function Nn(t,e,n,r,i){var s,a,u=new An;if(n.type===je.OVERWRITE){var l=n;l.source.fromUser?s=Mn(t,e,l.path,l.snap,r,i,u):(Object(o.assert)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!St(l.path),s=Ln(t,e,l.path,l.snap,r,i,a,u))}else if(n.type===je.MERGE){var c=n;c.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach((function(r,u){var l=Tt(n,r);Fn(e,bt(l))&&(a=Mn(t,a,l,u,i,o,s))})),r.foreach((function(r,u){var l=Tt(n,r);Fn(e,bt(l))||(a=Mn(t,a,l,u,i,o,s))})),a}(t,e,c.path,c.children,r,i,u):(Object(o.assert)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=Gn(t,e,c.path,c.children,r,i,a,u))}else if(n.type===je.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,i,s){var a;if(null!=Tn(r,n))return e;var u=new In(r,e,i),l=e.eventCache.getNode(),c=void 0;if(St(n)||".priority"===bt(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=En(r,nn(e));else{var p=e.serverCache.getNode();Object(o.assert)(p instanceof ce,"serverChildren would be complete if leaf node"),h=_n(r,p)}h=h,c=t.filter.updateFullNode(l,h,s)}else{var d=bt(n),f=Rn(r,d,e.serverCache);null==f&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),(c=null!=f?t.filter.updateChild(l,d,f,Ct(n),u,s):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(l,d,ce.EMPTY_NODE,Ct(n),u,s):l).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=En(r,nn(e))).isLeafNode()&&(c=t.filter.updateFullNode(c,a,s))}return a=e.serverCache.isFullyInitialized()||null!=Tn(r,yt()),Ze(e,c,a,t.filter.filtersNodes())}(t,e,h.path,r,i,u):function(t,e,n,r,i,o,s){if(null!=Tn(i,n))return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(St(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ln(t,e,n,u.getNode().getChild(n),i,o,a,s);if(St(n)){var l=new on(null);return u.getNode().forEachChild(Ht,(function(t,e){l=l.set(new mt(t),e)})),Gn(t,e,n,l,i,o,a,s)}return e}var c=new on(null);return r.foreach((function(t,e){var r=Tt(n,t);u.isCompleteForPath(r)&&(c=c.set(t,u.getNode().getChild(r)))})),Gn(t,e,n,c,i,o,a,s)}(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==je.LISTEN_COMPLETE)throw Object(o.assertionError)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache,s=tn(e,o.getNode(),o.isFullyInitialized()||St(n),o.isFiltered());return kn(t,s,n,r,Dn,i)}(t,e,n.path,r,u)}var p=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=en(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(we(en(e)))}}(e,s,p),{viewCache:s,changes:p}}function kn(t,e,n,r,i,s){var a=e.eventCache;if(null!=Tn(r,n))return e;var u=void 0,l=void 0;if(St(n))if(Object(o.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var c=nn(e),h=_n(r,c instanceof ce?c:ce.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var p=En(r,nn(e));u=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{var d=bt(n);if(".priority"===d){Object(o.assert)(1===wt(n),"Can't have a priority with additional path components");var f=a.getNode(),g=On(r,n,f,l=e.serverCache.getNode());u=null!=g?t.filter.updatePriority(f,g):a.getNode()}else{var v=Ct(n),m=void 0;if(a.isCompleteForChild(d)){l=e.serverCache.getNode();var y=On(r,n,a.getNode(),l);m=null!=y?a.getNode().getImmediateChild(d).updateChild(v,y):a.getNode().getImmediateChild(d)}else m=Rn(r,d,e.serverCache);u=null!=m?t.filter.updateChild(a.getNode(),d,m,v,i,s):a.getNode()}}return Ze(e,u,a.isFullyInitialized()||St(n),t.filter.filtersNodes())}function Ln(t,e,n,r,i,o,s,a){var u,l=e.serverCache,c=s?t.filter:t.filter.getIndexedFilter();if(St(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var p=bt(n);if(!l.isCompleteForPath(n)&&wt(n)>1)return e;var d=Ct(n),f=l.getNode().getImmediateChild(p).updateChild(d,r);u=".priority"===p?c.updatePriority(l.getNode(),f):c.updateChild(l.getNode(),p,f,d,Dn,null)}var g=tn(e,u,l.isFullyInitialized()||St(n),c.filtersNodes());return kn(t,g,n,i,new In(i,g,o),a)}function Mn(t,e,n,r,i,o,s){var a,u,l=e.eventCache,c=new In(i,e,o);if(St(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Ze(e,u,!0,t.filter.filtersNodes());else{var h=bt(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ze(e,u,l.isFullyInitialized(),l.isFiltered());else{var p=Ct(n),d=l.getNode().getImmediateChild(h),f=void 0;if(St(p))f=r;else{var g=c.getCompleteChild(h);f=null!=g?".priority"===Et(p)&&g.getChild(Ot(p)).isEmpty()?g:g.updateChild(p,r):ce.EMPTY_NODE}if(d.equals(f))a=e;else a=Ze(e,t.filter.updateChild(l.getNode(),h,f,p,c,s),l.isFullyInitialized(),t.filter.filtersNodes())}}return a}function Fn(t,e){return t.eventCache.isCompleteForChild(e)}function jn(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function Gn(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,l=e;u=St(n)?r:new on(null).setTree(n,r);var c=e.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=jn(0,e.serverCache.getNode().getImmediateChild(n),r);l=Ln(t,l,new mt(n),u,i,o,s,a)}})),u.children.inorderTraversal((function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var h=jn(0,e.serverCache.getNode().getImmediateChild(n),r);l=Ln(t,l,new mt(n),h,i,o,s,a)}})),l}var Vn,Wn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Oe(r.getIndex()),o=(n=r).loadsAllData()?new Oe(n.getIndex()):n.hasLimit()?new Se(n):new Te(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,u=i.updateFullNode(ce.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(ce.EMPTY_NODE,a.getNode(),null),c=new Xe(u,s.isFullyInitialized(),i.filtersNodes()),h=new Xe(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Je(h,c),this.eventGenerator_=new Qe(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Bn(t,e){var n=nn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!St(e)&&!n.getImmediateChild(bt(e)).isEmpty())?n.getChild(e):null}function Hn(t){return 0===t.eventRegistrations_.length}function Un(t,e,n){var r=[];if(n){Object(o.assert)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(u)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function zn(t,e,n,r){e.type===je.MERGE&&null!==e.source.queryId&&(Object(o.assert)(nn(t.viewCache_),"We should always have a full cache before handling merges"),Object(o.assert)(en(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,s,a=t.viewCache_,u=Nn(t.processor_,a,e,n,r);return i=t.processor_,s=u.viewCache,Object(o.assert)(s.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.assert)(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.assert)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,qn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function qn(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))})),$e(t,i,"child_removed",e,r,n),$e(t,i,"child_added",e,r,n),$e(t,i,"child_moved",o,r,n),$e(t,i,"child_changed",e,r,n),$e(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,i)}var Kn,Yn=function(){this.views=new Map};function Xn(t,e,n,r){var i,a,u=e.source.queryId;if(null!==u){var l=t.views.get(u);return Object(o.assert)(null!=l,"SyncTree gave us an op for an invalid query."),zn(l,e,n,r)}var c=[];try{for(var h=Object(s.g)(t.views.values()),p=h.next();!p.done;p=h.next()){l=p.value;c=c.concat(zn(l,e,n,r))}}catch(d){i={error:d}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return c}function Qn(t,e,n,r,i){var o=e._queryIdentifier,s=t.views.get(o);if(!s){var a=En(n,i?r:null),u=!1;a?u=!0:r instanceof ce?(a=_n(n,r),u=!1):(a=ce.EMPTY_NODE,u=!1);var l=Je(new Xe(a,u,!1),new Xe(r,i,!1));return new Wn(e,l)}return s}function $n(t,e,n,r,i,o){var s=Qn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ie,(function(t,e){r.push(Ce(t,e))})),n.isFullyInitialized()&&r.push(we(n.getNode())),qn(t,r,n.getNode(),e)}(s,n)}function Jn(t,e,n,r){var i,a,u=e._queryIdentifier,l=[],c=[],h=rr(t);if("default"===u)try{for(var p=Object(s.g)(t.views.entries()),d=p.next();!d.done;d=p.next()){var f=Object(s.e)(d.value,2),g=f[0],v=f[1];c=c.concat(Un(v,n,r)),Hn(v)&&(t.views.delete(g),v.query._queryParams.loadsAllData()||l.push(v.query))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}else(v=t.views.get(u))&&(c=c.concat(Un(v,n,r)),Hn(v)&&(t.views.delete(u),v.query._queryParams.loadsAllData()||l.push(v.query)));return h&&!rr(t)&&l.push(new(Object(o.assert)(Vn,"Reference.ts has not been loaded"),Vn)(e._repo,e._path)),{removed:l,events:c}}function Zn(t){var e,n,r=[];try{for(var i=Object(s.g)(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function tr(t,e){var n,r,i=null;try{for(var o=Object(s.g)(t.views.values()),a=o.next();!a.done;a=o.next()){var u=a.value;i=i||Bn(u,e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function er(t,e){if(e._queryParams.loadsAllData())return ir(t);var n=e._queryIdentifier;return t.views.get(n)}function nr(t,e){return null!=er(t,e)}function rr(t){return null!=ir(t)}function ir(t){var e,n;try{for(var r=Object(s.g)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var or=1,sr=function(t){this.listenProvider_=t,this.syncPointTree_=new on(null),this.pendingWriteTree_={visibleWrites:sn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ar(t,e,n,r,i){return function(t,e,n,r,i){Object(o.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=an(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?gr(t,new Ke({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ur(t,e,n,r){!function(t,e,n,r){Object(o.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=un(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=on.fromObject(n);return gr(t,new Ye({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}function lr(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(mn(t.pendingWriteTree_,e)){var i=new on(null);return null!=r.snap?i=i.set(yt(),!0):F(r.children,(function(t){i=i.set(new mt(t),!0)})),gr(t,new ze(r.path,i,n))}return[]}function cr(t,e,n){return gr(t,new Ke({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function hr(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),s=[];if(o&&("default"===e._queryIdentifier||nr(o,e))){var a=Jn(o,e,n,r);0===o.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=a.removed;s=a.events;var l=-1!==u.findIndex((function(t){return t._queryParams.loadsAllData()})),c=t.syncPointTree_.findOnPath(i,(function(t,e){return rr(e)}));if(l&&!c){var h=t.syncPointTree_.subtree(i);if(!h.isEmpty())for(var p=function(t){return t.fold((function(t,e,n){if(e&&rr(e))return[ir(e)];var r=[];return e&&(r=Zn(e)),F(n,(function(t,e){r=r.concat(e)})),r}))}(h),d=0;d<p.length;++d){var f=p[d],g=f.query,v=vr(t,f);t.listenProvider_.startListening(Er(g),mr(t,g),v.hashFn,v.onComplete)}}if(!c&&u.length>0&&!r)if(l){t.listenProvider_.stopListening(Er(e),null)}else u.forEach((function(e){var n=t.queryToTagMap.get(yr(e));t.listenProvider_.stopListening(Er(e),n)}));!function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=yr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return s}function pr(t,e,n){var r=e._path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Rt(t,r);i=i||tr(e,n),s=s||rr(e)}));var a,u=t.syncPointTree_.get(r);(u?(s=s||rr(u),i=i||tr(u,yt())):(u=new Yn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i)?a=!0:(a=!1,i=ce.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=tr(e,yt());n&&(i=i.updateImmediateChild(t,n))})));var l=nr(u,e);if(!l&&!e._queryParams.loadsAllData()){var c=yr(e);Object(o.assert)(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=or++;t.queryToTagMap.set(c,h),t.tagToQueryMap.set(h,c)}var p=$n(u,e,n,vn(t.pendingWriteTree_,r),i,a);if(!l&&!s){var d=er(u,e);p=p.concat(function(t,e,n){var r=e._path,i=mr(t,e),s=vr(t,n),a=t.listenProvider_.startListening(Er(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)Object(o.assert)(!rr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(t,e,n){if(!St(t)&&e&&rr(e))return[ir(e).query];var r=[];return e&&(r=r.concat(Zn(e).map((function(t){return t.query})))),F(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<l.length;++c){var h=l[c];t.listenProvider_.stopListening(Er(h),mr(t,h))}return a}(t,e,d))}return p}function dr(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=tr(n,Rt(t,e));if(r)return r}));return Cn(r,e,i,n,!0)}function fr(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=Rt(t,n);r=r||tr(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||tr(i,yt()):(i=new Yn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new Xe(r,!0,!1):null;return function(t){return en(t.viewCache_)}(Qn(i,e,vn(t.pendingWriteTree_,e._path),o?s.getNode():ce.EMPTY_NODE,o))}function gr(t,e){return function t(e,n,r,i){if(St(e.path))return function t(e,n,r,i){var o=n.get(yt());null==r&&null!=o&&(r=tr(o,yt()));var s=[];n.children.inorderTraversal((function(n,o){var a=r?r.getImmediateChild(n):null,u=Pn(i,n),l=e.operationForChild(n);l&&(s=s.concat(t(l,o,a,u)))})),o&&(s=s.concat(Xn(o,e,i,r)));return s}(e,n,r,i);var o=n.get(yt());null==r&&null!=o&&(r=tr(o,yt()));var s=[],a=bt(e.path),u=e.operationForChild(a),l=n.children.get(a);if(l&&u){var c=r?r.getImmediateChild(a):null,h=Pn(i,a);s=s.concat(t(u,l,c,h))}return o&&(s=s.concat(Xn(o,e,i,r))),s}(e,t.syncPointTree_,null,vn(t.pendingWriteTree_,yt()))}function vr(t,e){var n=e.query,r=mr(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||ce.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=br(t,n);if(r){var i=wr(r),o=i.path,s=i.queryId,a=Rt(o,e);return Cr(t,o,new qe(He(s),a))}return[]}(t,n._path,r):function(t,e){return gr(t,new qe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return hr(t,n,null,i)}}}function mr(t,e){var n=yr(e);return t.queryToTagMap.get(n)}function yr(t){return t._path.toString()+"$"+t._queryIdentifier}function br(t,e){return t.tagToQueryMap.get(e)}function wr(t){var e=t.indexOf("$");return Object(o.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new mt(t.substr(0,e))}}function Cr(t,e,n){var r=t.syncPointTree_.get(e);return Object(o.assert)(r,"Missing sync point for query tag that we're tracking"),Xn(r,n,vn(t.pendingWriteTree_,e),null)}function Er(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(o.assert)(Kn,"Reference.ts has not been loaded"),Kn)(t._repo,t._path):t}var _r=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Or=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=Tt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return dr(this.syncTree_,this.path_)},t}(),Tr=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Sr=function(t,e,n){return t&&"object"===typeof t?(Object(o.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?Rr(t[".sv"],e,n):"object"===typeof t[".sv"]?Pr(t[".sv"],e):void Object(o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Rr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.assert)(!1,"Unexpected server value: "+t)}},Pr=function(t,e,n){t.hasOwnProperty("increment")||Object(o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!==typeof r&&Object(o.assert)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!==typeof s?r:s+r},xr=function(t,e,n,r){return Dr(e,new Or(n,t),r)},Ar=function(t,e,n){return Dr(t,new _r(e),n)};function Dr(t,e,n){var r,i=t.getPriority().val(),o=Sr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=Sr(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new ee(a,de(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new ee(o))),u.forEachChild(ie,(function(t,i){var o=Dr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var Ir=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function Nr(t,e){for(var n=e instanceof mt?e:new mt(e),r=t,i=bt(n);null!==i;){var s=Object(o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Ir(i,r,s),i=bt(n=Ct(n))}return r}function kr(t){return t.node.value}function Lr(t,e){t.node.value=e,Gr(t)}function Mr(t){return t.node.childCount>0}function Fr(t,e){F(t.node.children,(function(n,r){e(new Ir(n,t,r))}))}function jr(t){return new mt(null===t.parent?t.name:jr(t.parent)+"/"+t.name)}function Gr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===kr(t)&&!Mr(t)}(n),i=Object(o.contains)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Gr(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Gr(t))}(t.parent,t.name,t)}var Vr=/[\[\].#$\/\u0000-\u001F\u007F]/,Wr=/[\[\].#$\u0000-\u001F\u007F]/,Br=function(t){return"string"===typeof t&&0!==t.length&&!Vr.test(t)},Hr=function(t){return"string"===typeof t&&0!==t.length&&!Wr.test(t)},Ur=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!x(t)||t&&"object"===typeof t&&Object(o.contains)(t,".sv")},zr=function(t,e,n,r){r&&void 0===e||qr(Object(o.errorPrefix)(t,"value"),e,n)},qr=function t(e,n,r){var i=r instanceof mt?new Dt(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+Nt(i));if("function"===typeof n)throw new Error(e+"contains a function "+Nt(i)+" with contents = "+n.toString());if(x(n))throw new Error(e+"contains "+n.toString()+" "+Nt(i));if("string"===typeof n&&n.length>10485760/3&&Object(o.stringLength)(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Nt(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var s=!1,a=!1;if(F(n,(function(n,r){if(".value"===n)s=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!Br(n)))throw new Error(e+" contains an invalid key ("+n+") "+Nt(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(o.stringLength)(e),It(t)}(i,n),t(e,r,i),function(t){var e=t.parts_.pop();t.byteLength_-=Object(o.stringLength)(e),t.parts_.length>0&&(t.byteLength_-=1)}(i)})),s&&a)throw new Error(e+' contains ".value" child '+Nt(i)+" in addition to actual children.")}},Kr=function(t,e,n,r){if(!r||void 0!==e){var i=Object(o.errorPrefix)(t,"values");if(!e||"object"!==typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var s=[];F(e,(function(t,e){var r=new mt(t);if(qr(i,e,Tt(n,r)),".priority"===Et(r)&&!Ur(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=_t(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Br(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Pt);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&At(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,s)}},Yr=function(t,e,n){if(!n||void 0!==e){if(x(e))throw new Error(Object(o.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ur(e))throw new Error(Object(o.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Xr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Qr=function(t,e,n,r){if((!r||void 0!==n)&&!Br(n))throw new Error(Object(o.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},$r=function(t,e,n,r){if((!r||void 0!==n)&&!Hr(n))throw new Error(Object(o.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Jr=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$r(t,e,n,r)},Zr=function(t,e){if(".info"===bt(e))throw new Error(t+" failed = Can't modify data under /.info/")},ti=function(t,e){var n=e.path.toString();if("string"!==typeof e.repoInfo.host||0===e.repoInfo.host.length||!Br(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Hr(t)}(n))throw new Error(Object(o.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ei=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o.errorPrefix)(t,e)+"must be a boolean.")},ni=function(){this.eventLists_=[],this.recursionDepth_=0};function ri(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||xt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ii(t,e,n){ri(t,n),si(t,(function(t){return xt(t,e)}))}function oi(t,e,n){ri(t,n),si(t,(function(t){return At(t,e)||At(e,t)}))}function si(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i)e(i.path)?(ai(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}n&&(t.eventLists_=[]),t.recursionDepth_--}function ai(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();C&&O("event: "+n.toString()),W(r)}}}var ui="repo_interrupt",li=25,ci=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ni,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Le(),this.transactionQueueTree_=new Ir,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function hi(t,e,n){if(t.stats_=nt(t.repoInfo_),t.forceRestClient_||B())t.server_=new Ne(t.repoInfo_,(function(e,n,r,i){fi(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return gi(t,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Gt(t.repoInfo_,e,(function(e,n,r,i){fi(t,e,n,r,i)}),(function(e){gi(t,e)}),(function(e){!function(t,e){F(e,(function(e,n){vi(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=function(t,e){var n=t.toString();return et[n]||(et[n]=e()),et[n]}(t.repoInfo_,(function(){return new Be(t.stats_,t.server_)})),t.infoData_=new ke,t.infoSyncTree_=new sr({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=cr(t.infoSyncTree_,e._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),vi(t,"connected",!1),t.serverSyncTree_=new sr({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);oi(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function pi(t){var e=t.infoData_.getNode(new mt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function di(t){return Tr({timestamp:pi(t)})}function fi(t,e,n,r,i){t.dataUpdateCount++;var s=new mt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=Object(o.map)(n,(function(t){return de(t)}));a=function(t,e,n,r){var i=br(t,r);if(i){var o=wr(i),s=o.path,a=o.queryId,u=Rt(s,e),l=on.fromObject(n);return Cr(t,s,new Ye(He(a),u,l))}return[]}(t.serverSyncTree_,s,u,i)}else{var l=de(n);a=function(t,e,n,r){var i=br(t,r);if(null!=i){var o=wr(i),s=o.path,a=o.queryId,u=Rt(s,e);return Cr(t,s,new Ke(He(a),u,n))}return[]}(t.serverSyncTree_,s,l,i)}else if(r){var c=Object(o.map)(n,(function(t){return de(t)}));a=function(t,e,n){var r=on.fromObject(n);return gr(t,new Ye({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,c)}else{var h=de(n);a=cr(t.serverSyncTree_,s,h)}var p=s;a.length>0&&(p=Ri(t,s)),oi(t.eventQueue_,p,a)}function gi(t,e){vi(t,"connected",e),!1===e&&function(t){_i(t,"onDisconnectEvents");var e=di(t),n=Le();Fe(t.onDisconnect_,yt(),(function(r,i){var o=xr(r,i,t.serverSyncTree_,e);Me(n,r,o)}));var r=[];Fe(n,yt(),(function(e,n){r=r.concat(cr(t.serverSyncTree_,e,n));var i=Di(t,e);Ri(t,i)})),t.onDisconnect_=Le(),oi(t.eventQueue_,yt(),r)}(t)}function vi(t,e,n){var r=new mt("/.info/"+e),i=de(n);t.infoData_.updateSnapshot(r,i);var o=cr(t.infoSyncTree_,r,i);oi(t.eventQueue_,r,o)}function mi(t){return t.nextWriteId_++}function yi(t,e,n,r,i){_i(t,"set",{path:e.toString(),value:n,priority:r});var o=di(t),s=de(n,r),a=dr(t.serverSyncTree_,e),u=Ar(s,a,o),l=mi(t),c=ar(t.serverSyncTree_,e,u,l,!0);ri(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||P("set at "+e+" failed: "+n);var s=lr(t.serverSyncTree_,l,!o);oi(t.eventQueue_,e,s),Oi(t,i,n,r)}));var h=Di(t,e);Ri(t,h),oi(t.eventQueue_,h,[])}function bi(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&function t(e,n){if(St(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(ie,(function(t,n){Me(e,new mt(t),n)})),t(e,n)}if(e.children.size>0){var i=bt(n);if(n=Ct(n),e.children.has(i))t(e.children.get(i),n)&&e.children.delete(i);return 0===e.children.size}return!0}(t.onDisconnect_,e),Oi(t,n,r,i)}))}function wi(t,e,n,r){var i=de(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&Me(t.onDisconnect_,e,i),Oi(t,r,n,o)}))}function Ci(t,e,n){var r;r=".info"===bt(e._path)?hr(t.infoSyncTree_,e,n):hr(t.serverSyncTree_,e,n),ii(t.eventQueue_,e._path,r)}function Ei(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ui)}function _i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),O.apply(void 0,Object(s.f)([r],Object(s.e)(e)))}function Oi(t,e,n,r){e&&W((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function Ti(t,e,n){return dr(t.serverSyncTree_,e,n)||ce.EMPTY_NODE}function Si(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Ai(t,e),kr(e)){var n=xi(t,e);Object(o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=Ti(t,e,r),s=i,a=i.hash(),u=0;u<n.length;u++){var l=n[u];Object(o.assert)(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var c=Rt(e,l.path);s=s.updateChild(c,l.currentOutputSnapshotRaw)}var h=s.val(!0),p=e;t.server_.put(p.toString(),h,(function(r){_i(t,"transaction put response",{path:p.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(lr(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},a=0;a<n.length;a++)s(a);Ai(t,Nr(t.transactionQueueTree_,e)),Si(t,t.transactionQueueTree_),oi(t.eventQueue_,e,i);for(a=0;a<o.length;a++)W(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else{P("transaction at "+p.toString()+" failed: "+r);for(a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r}Ri(t,e)}}),a)}(t,jr(e),n)}else Mr(e)&&Fr(e,(function(e){Si(t,e)}))}function Ri(t,e){var n=Pi(t,e),r=jr(n);return function(t,e,n){if(0===e.length)return;for(var r=[],i=[],s=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),a=function(a){var u,l,c=e[a],h=Rt(n,c.path),p=!1;if(Object(o.assert)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)p=!0,u=c.abortReason,i=i.concat(lr(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=li)p=!0,u="maxretry",i=i.concat(lr(t.serverSyncTree_,c.currentWriteId,!0));else{var d=Ti(t,c.path,s);c.currentInputSnapshot=d;var f=e[a].update(d.val());if(void 0!==f){qr("transaction failed: Data returned ",f,c.path);var g=de(f);"object"===typeof f&&null!=f&&Object(o.contains)(f,".priority")||(g=g.updatePriority(d.getPriority()));var v=c.currentWriteId,m=di(t),y=Ar(g,d,m);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=y,c.currentWriteId=mi(t),s.splice(s.indexOf(v),1),i=(i=i.concat(ar(t.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(lr(t.serverSyncTree_,v,!0))}else p=!0,u="nodata",i=i.concat(lr(t.serverSyncTree_,c.currentWriteId,!0))}oi(t.eventQueue_,n,i),i=[],p&&(e[a].status=2,l=e[a].unwatcher,setTimeout(l,Math.floor(0)),e[a].onComplete&&("nodata"===u?r.push((function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)})):r.push((function(){return e[a].onComplete(new Error(u),!1,null)}))))},u=0;u<e.length;u++)a(u);Ai(t,t.transactionQueueTree_);for(u=0;u<r.length;u++)W(r[u]);Si(t,t.transactionQueueTree_)}(t,xi(t,n),r),r}function Pi(t,e){var n,r=t.transactionQueueTree_;for(n=bt(e);null!==n&&void 0===kr(r);)r=Nr(r,n),n=bt(e=Ct(e));return r}function xi(t,e){var n=[];return function t(e,n,r){var i=kr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);Fr(n,(function(n){t(e,n,r)}))}(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function Ai(t,e){var n=kr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Lr(e,n.length>0?n:void 0)}Fr(e,(function(e){Ai(t,e)}))}function Di(t,e){var n=jr(Pi(t,e)),r=Nr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=n?t:t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){Ii(t,e)})),Ii(t,r),function t(e,n,r,i){r&&!i&&n(e),Fr(e,(function(e){t(e,n,!0,i)})),r&&i&&n(e)}(r,(function(e){Ii(t,e)})),n}function Ii(t,e){var n=kr(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(o.assert)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(o.assert)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(lr(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Lr(e,void 0):n.length=s+1,oi(t.eventQueue_,jr(e),i);for(a=0;a<r.length;a++)W(r[a])}}var Ni=function(t,e){var n=ki(t),r=n.namespace;"firebase.com"===n.domain&&R(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||R("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&P("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new $(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new mt(n.pathString)}},ki=function(t){var e="",n="",r="",i="",o="",a=!0,u="https",l=443;if("string"===typeof t){var c=t.indexOf("//");c>=0&&(u=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var p=t.indexOf("?");-1===p&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,p)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(s.g)(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):P("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,p)));(c=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,l=parseInt(e.substring(c+1),10)):c=e.length;var f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}},Li=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.stringify)(this.snapshot.exportVal())},t}(),Mi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Fi=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),ji=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.Deferred;return bi(this._repo,this._path,t.wrapCallback((function(){}))),t.promise},t.prototype.remove=function(){Zr("OnDisconnect.remove",this._path);var t=new o.Deferred;return wi(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){Zr("OnDisconnect.set",this._path),zr("OnDisconnect.set",t,this._path,!1);var e=new o.Deferred;return wi(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){Zr("OnDisconnect.setWithPriority",this._path),zr("OnDisconnect.setWithPriority",t,this._path,!1),Yr("OnDisconnect.setWithPriority",e,!1);var n=new o.Deferred;return function(t,e,n,r,i){var o=de(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&Me(t.onDisconnect_,e,o),Oi(t,i,n,r)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){Zr("OnDisconnect.update",this._path),Kr("OnDisconnect.update",t,this._path,!1);var e=new o.Deferred;return function(t,e,n,r){if(Object(o.isEmpty)(n))return O("onDisconnect().update() called with empty data.  Don't do anything."),void Oi(t,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&F(n,(function(n,r){var i=de(r);Me(t.onDisconnect_,Tt(e,n),i)})),Oi(t,r,i,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),Gi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return St(this._path)?null:Et(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Hi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Ie(this._queryParams),e=L(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Ie(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(o.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,r=xt(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Vi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Wi(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ht){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==A)throw new Error(r);if("string"!==typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==D)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(t.getIndex()===ie){if(null!=e&&!Ur(e)||null!=n&&!Ur(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.assert)(t.getIndex()instanceof fe||t.getIndex()===ge,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Bi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Hi=function(t){function e(e,n){return t.call(this,e,n,new Re,!1)||this}return Object(s.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Ot(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Gi),Ui=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new mt(e),r=Ki(this.ref,e);return new t(this._node.getChild(n),r,ie)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return e(new t(i,Ki(n.ref,r),ie))}))},t.prototype.hasChild=function(t){var e=new mt(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function zi(t,e){return(t=Object(o.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?Ki(t._root,e):t._root}function qi(t,e){(t=Object(o.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=Ni(e,t._repo.repoInfo_.nodeAdmin);ti("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||R("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),zi(t,n.path.toString())}function Ki(t,e){return null===bt((t=Object(o.getModularInstance)(t))._path)?Jr("child","path",e,!1):$r("child","path",e,!1),new Hi(t._repo,Tt(t._path,e))}function Yi(t,e){t=Object(o.getModularInstance)(t),Zr("push",t._path),zr("push",e,t._path,!0);var n,r=pi(t._repo),i=me(r),s=Ki(t,i),a=Ki(t,i);return n=null!=e?Qi(a,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function Xi(t){return Zr("remove",t._path),Qi(t,null)}function Qi(t,e){t=Object(o.getModularInstance)(t),Zr("set",t._path),zr("set",e,t._path,!1);var n=new o.Deferred;return yi(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function $i(t,e){t=Object(o.getModularInstance)(t),Zr("setPriority",t._path),Yr("setPriority",e,!1);var n=new o.Deferred;return yi(t._repo,Tt(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function Ji(t,e,n){if(Zr("setWithPriority",t._path),zr("setWithPriority",e,t._path,!1),Yr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.Deferred;return yi(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function Zi(t,e){Kr("update",e,t._path,!1);var n=new o.Deferred;return function(t,e,n,r){_i(t,"update",{path:e.toString(),value:n});var i=!0,o=di(t),s={};if(F(n,(function(n,r){i=!1,s[n]=xr(Tt(e,n),de(r),t.serverSyncTree_,o)})),i)O("update() called with empty data.  Don't do anything."),Oi(t,r,"ok",void 0);else{var a=mi(t),u=ur(t.serverSyncTree_,e,s,a);ri(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||P("update at "+e+" failed: "+n);var s=lr(t.serverSyncTree_,a,!o),u=s.length>0?Ri(t,e):e;oi(t.eventQueue_,u,s),Oi(t,r,n,i)})),F(n,(function(n){var r=Di(t,Tt(e,n));Ri(t,r)})),oi(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}function to(t){return function(t,e){var n=fr(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=de(n).withIndex(e._queryParams.getIndex()),i=cr(t.serverSyncTree_,e._path,r);return ii(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return _i(t,"get for query "+Object(o.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=Object(o.getModularInstance)(t))._repo,t).then((function(e){return new Ui(e,new Hi(t._repo,t._path),t._queryParams.getIndex())}))}var eo=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Li("value",this,new Ui(t.snapshotNode,new Hi(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Mi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),no=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Mi(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.assert)(null!=t.childName,"Child events should have a childName.");var n=Ki(new Hi(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Li(t.type,this,new Ui(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function ro(t,e,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){Ci(t._repo,t,l),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var u=new Fi(n,o||void 0),l="value"===e?new eo(u):new no(e,u);return function(t,e,n){var r;r=".info"===bt(e._path)?pr(t.infoSyncTree_,e,n):pr(t.serverSyncTree_,e,n),ii(t.eventQueue_,e._path,r)}(t._repo,t,l),function(){return Ci(t._repo,t,l)}}function io(t,e,n,r){return ro(t,"value",e,n,r)}function oo(t,e,n,r){return ro(t,"child_added",e,n,r)}function so(t,e,n,r){return ro(t,"child_changed",e,n,r)}function ao(t,e,n,r){return ro(t,"child_moved",e,n,r)}function uo(t,e,n,r){return ro(t,"child_removed",e,n,r)}function lo(t,e,n){var r=null,i=n?new Fi(n):null;"value"===e?r=new eo(i):e&&(r=new no(e,i)),Ci(t._repo,t,r)}var co=function(){},ho=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s.c)(e,t),e.prototype._apply=function(t){zr("endAt",this._value,t._path,!0);var e=xe(t._queryParams,this._value,this._key);if(Bi(e),Wi(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gi(t._repo,t._path,e,t._orderByCalled)},e}(co);function po(t,e){return Qr("endAt","key",e,!0),new ho(t,e)}var fo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s.c)(e,t),e.prototype._apply=function(t){zr("endBefore",this._value,t._path,!1);var e=function(t,e,n){var r;return t.index_===Ht?("string"===typeof e&&(e=be(e)),r=xe(t,e,n)):r=xe(t,e,null==n?A:be(n)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(Bi(e),Wi(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gi(t._repo,t._path,e,t._orderByCalled)},e}(co);function go(t,e){return Qr("endBefore","key",e,!0),new fo(t,e)}var vo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s.c)(e,t),e.prototype._apply=function(t){zr("startAt",this._value,t._path,!0);var e=Pe(t._queryParams,this._value,this._key);if(Bi(e),Wi(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Gi(t._repo,t._path,e,t._orderByCalled)},e}(co);function mo(t,e){return void 0===t&&(t=null),Qr("startAt","key",e,!0),new vo(t,e)}var yo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s.c)(e,t),e.prototype._apply=function(t){zr("startAfter",this._value,t._path,!1);var e=function(t,e,n){var r;if(t.index_===Ht)"string"===typeof e&&(e=ye(e)),r=Pe(t,e,n);else{r=Pe(t,e,null==n?D:ye(n))}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Bi(e),Wi(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Gi(t._repo,t._path,e,t._orderByCalled)},e}(co);function bo(t,e){return Qr("startAfter","key",e,!0),new yo(t,e)}var wo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(s.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gi(t._repo,t._path,function(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(t._queryParams,this._limit),t._orderByCalled)},e}(co);function Co(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wo(t)}var Eo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(s.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gi(t._repo,t._path,function(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(t._queryParams,this._limit),t._orderByCalled)},e}(co);function _o(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Eo(t)}var Oo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(s.c)(e,t),e.prototype._apply=function(t){Vi(t,"orderByChild");var e=new mt(this._path);if(St(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new fe(e),r=Ae(t._queryParams,n);return Wi(r),new Gi(t._repo,t._path,r,!0)},e}(co);function To(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return $r("orderByChild","path",t,!1),new Oo(t)}var So=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype._apply=function(t){Vi(t,"orderByKey");var e=Ae(t._queryParams,Ht);return Wi(e),new Gi(t._repo,t._path,e,!0)},e}(co);function Ro(){return new So}var Po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype._apply=function(t){Vi(t,"orderByPriority");var e=Ae(t._queryParams,ie);return Wi(e),new Gi(t._repo,t._path,e,!0)},e}(co);function xo(){return new Po}var Ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype._apply=function(t){Vi(t,"orderByValue");var e=Ae(t._queryParams,ge);return Wi(e),new Gi(t._repo,t._path,e,!0)},e}(co);function Do(){return new Ao}var Io=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s.c)(e,t),e.prototype._apply=function(t){if(zr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ho(this._value,this._key)._apply(new vo(this._value,this._key)._apply(t))},e}(co);function No(t,e){return Qr("equalTo","key",e,!0),new Io(t,e)}function ko(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=Object(o.getModularInstance)(t);try{for(var u=Object(s.g)(r),l=u.next();!l.done;l=u.next()){a=l.value._apply(a)}}catch(c){e={error:c}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a}!function(t){Object(o.assert)(!Vn,"__referenceConstructor has already been defined"),Vn=t}(Hi),function(t){Object(o.assert)(!Kn,"__referenceConstructor has already been defined"),Kn=t}(Hi);var Lo="FIREBASE_DATABASE_EMULATOR_HOST",Mo={},Fo=!1;function jo(e,n,r,i,o){var s=i||e.options.databaseURL;void 0===s&&(e.options.projectId||R("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),O("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a,u=Ni(s,o),l=u.repoInfo,c=void 0;"undefined"!==typeof t&&(c=Object({NODE_ENV:"production",PUBLIC_URL:""})[Lo]),c?(a=!0,s="http://"+c+"?ns="+l.namespace,l=(u=Ni(s,o)).repoInfo):a=!u.repoInfo.secure;var h=o&&a?new q(q.OWNER):new z(e.name,e.options,n);ti("Invalid Firebase Database URL",u),St(u.path)||R("Database URL must point to the root of a Firebase Database (not including a child path).");var p=function(t,e,n,r){var i=Mo[e.name];i||(i={},Mo[e.name]=i);var o=i[t.toURLString()];o&&R("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ci(t,Fo,n,r),i[t.toURLString()]=o,o}(l,e,h,new U(e.name,r));return new Go(p,e)}var Go=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(hi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Hi(this._repo,yt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._checkNotDeleted("delete"),function(t,e){var n=Mo[e];n&&n[t.key]===t||R("Database "+e+"("+t.repoInfo_+") has already been deleted."),Ei(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&R("Cannot call "+t+" on a deleted database.")},t}();function Vo(t,e,n,r){void 0===r&&(r={}),(t=Object(o.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&R("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&R('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new q(q.OWNER);else if(r.mockUserToken){var a=Object(o.createMockUserToken)(r.mockUserToken,t.app.options.projectId);s=new q(a)}!function(t,e,n,r){t.repoInfo_=new $(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,s)}function Wo(t){(t=Object(o.getModularInstance)(t))._checkNotDeleted("goOffline"),Ei(t._repo)}function Bo(t){var e;(t=Object(o.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(ui)}var Ho={".sv":"timestamp"};var Uo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function zo(t,e,n){var r;if(t=Object(o.getModularInstance)(t),Zr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,s=new o.Deferred,a=io(t,(function(){}));return function(t,e,n,r,i,s){_i(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:y(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ti(t,e,void 0);a.currentInputSnapshot=u;var l=a.update(u.val());if(void 0===l)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{qr("transaction failed: Data returned ",l,a.path),a.status=0;var c=Nr(t.transactionQueueTree_,e),h=kr(c)||[];h.push(a),Lr(c,h);var p=void 0;if("object"===typeof l&&null!==l&&Object(o.contains)(l,".priority"))p=Object(o.safeGet)(l,".priority"),Object(o.assert)(Ur(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else p=(dr(t.serverSyncTree_,e)||ce.EMPTY_NODE).getPriority().val();var d=di(t),f=de(l,p),g=Ar(f,u,d);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=g,a.currentWriteId=mi(t);var v=ar(t.serverSyncTree_,e,g,a.currentWriteId,a.applyLocally);oi(t.eventQueue_,e,v),Si(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(function(e,n,r){var i=null;e?s.reject(e):(i=new Ui(r,new Hi(t._repo,t._path),ie),s.resolve(new Uo(n,i)))}),a,i),s.promise}var qo=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(o.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Object(o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(o.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Object(o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(o.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Object(o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Object(o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,P("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.validateCallback)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},t}(),Ko=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Yo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),$r("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),$r("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(o.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Object(o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Qo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Xo=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var s,a=this;Object(o.validateArgCount)("Query.on",2,4,arguments.length),Object(o.validateCallback)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),l=function(t,e){n.call(u.context,new Yo(a.database,t),e)};l.userCallback=n,l.context=u.context;var c=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(e){case"value":return io(this._delegate,l,c),n;case"child_added":return oo(this._delegate,l,c),n;case"child_removed":return uo(this._delegate,l,c),n;case"child_changed":return so(this._delegate,l,c),n;case"child_moved":return ao(this._delegate,l,c),n;default:throw new Error(Object(o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(o.validateArgCount)("Query.off",0,3,arguments.length),Xr("Query.off",t,!0),Object(o.validateCallback)("Query.off","callback",e,!0),Object(o.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,lo(this._delegate,t,r)}else lo(this._delegate,t)},t.prototype.get=function(){var t=this;return to(this._delegate).then((function(e){return new Yo(t.database,e)}))},t.prototype.once=function(e,n,r,i){var s=this;Object(o.validateArgCount)("Query.once",1,4,arguments.length),Object(o.validateCallback)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,l=function(t,e){var r=new Yo(s.database,t);n&&n.call(a.context,r,e),u.resolve(r)};l.userCallback=n,l.context=a.context;var c=function(t){a.cancel&&a.cancel.call(a.context,t),u.reject(t)};switch(e){case"value":io(this._delegate,l,c,{onlyOnce:!0});break;case"child_added":oo(this._delegate,l,c,{onlyOnce:!0});break;case"child_removed":uo(this._delegate,l,c,{onlyOnce:!0});break;case"child_changed":so(this._delegate,l,c,{onlyOnce:!0});break;case"child_moved":ao(this._delegate,l,c,{onlyOnce:!0});break;default:throw new Error(Object(o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return Object(o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,ko(this._delegate,Co(e)))},t.prototype.limitToLast=function(e){return Object(o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,ko(this._delegate,_o(e)))},t.prototype.orderByChild=function(e){return Object(o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,ko(this._delegate,To(e)))},t.prototype.orderByKey=function(){return Object(o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,ko(this._delegate,Ro()))},t.prototype.orderByPriority=function(){return Object(o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,ko(this._delegate,xo()))},t.prototype.orderByValue=function(){return Object(o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,ko(this._delegate,Do()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,ko(this._delegate,mo(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,ko(this._delegate,bo(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,ko(this._delegate,po(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,ko(this._delegate,go(e,n)))},t.prototype.equalTo=function(e,n){return Object(o.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,ko(this._delegate,No(e,n)))},t.prototype.toString=function(){return Object(o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(o.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,Object(o.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error(Object(o.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Qo(this.database,new Hi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Qo=function(t){function e(e,n){var r=t.call(this,e,new Gi(n._repo,n._path,new Re,!1))||this;return r.database=e,r._delegate=n,r}return Object(s.c)(e,t),e.prototype.getKey=function(){return Object(o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof t&&(t=String(t)),new e(this.database,Ki(this._delegate,t))},e.prototype.getParent=function(){Object(o.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(o.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(o.validateArgCount)("Reference.set",1,2,arguments.length),Object(o.validateCallback)("Reference.set","onComplete",e,!0);var n=Qi(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Object(o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,P("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Zr("Reference.update",this._delegate._path),Object(o.validateCallback)("Reference.update","onComplete",e,!0);var i=Zi(this._delegate,t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},e.prototype.setWithPriority=function(t,e,n){Object(o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Ji(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Object(o.validateArgCount)("Reference.remove",0,1,arguments.length),Object(o.validateCallback)("Reference.remove","onComplete",t,!0);var e=Xi(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Object(o.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(o.validateCallback)("Reference.transaction","transactionUpdate",t,!1),Object(o.validateCallback)("Reference.transaction","onComplete",e,!0),ei("Reference.transaction","applyLocally",n,!0);var i=zo(this._delegate,t,{applyLocally:n}).then((function(t){return new Ko(t.committed,new Yo(r.database,t.snapshot))}));return e&&i.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),i},e.prototype.setPriority=function(t,e){Object(o.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(o.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=$i(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Object(o.validateArgCount)("Reference.push",0,2,arguments.length),Object(o.validateCallback)("Reference.push","onComplete",n,!0);var i=Yi(this._delegate,t),s=i.then((function(t){return new e(r.database,t)}));n&&s.then((function(){return n(null)}),(function(t){return n(t)}));var a=new e(this.database,i);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Zr("Reference.onDisconnect",this._delegate._path),new qo(new ji(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Xo),$o=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),Vo(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(o.validateArgCount)("database.ref",0,1,arguments.length),t instanceof Qo){var e=qi(this._delegate,t.toString());return new Qo(this,e)}e=zi(this._delegate,t);return new Qo(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(o.validateArgCount)(e,1,1,arguments.length);var n=qi(this._delegate,t);return new Qo(this,n)},t.prototype.goOffline=function(){return Object(o.validateArgCount)("database.goOffline",0,0,arguments.length),Wo(this._delegate)},t.prototype.goOnline=function(){return Object(o.validateArgCount)("database.goOnline",0,0,arguments.length),Bo(this._delegate)},t.ServerValue={TIMESTAMP:Ho,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}();var Jo=Object.freeze({__proto__:null,forceLongPolling:function(){lt.forceDisallow(),st.forceAllow()},forceWebSockets:function(){st.forceDisallow()},isWebSocketsAvailable:function(){return lt.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Ge(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);F(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){var n,r;t.stats_.incrementCounter(e),n=t.statsReporter_,r=e,n.statsToReport_[r]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,o=t.customAuthImpl,s=t.namespace,a=t.nodeAdmin,u=void 0!==a&&a;h(r);var l=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return l.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new $o(jo(e,l,void 0,n,u),e),namespace:s}}}),Zo=Gt;Gt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Gt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var ts=ht,es=$,ns=Object.freeze({__proto__:null,DataConnection:Zo,RealTimeConnection:ts,hijackHash:function(t){var e=Gt.prototype.put;return Gt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Gt.prototype.put=e}},ConnectionTarget:es,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){Fo=t}(t)}}),rs=$o.ServerValue;!function(t){h(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new $o(jo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Qo,Query:Xo,Database:$o,DataSnapshot:Yo,enableLogging:_,INTERNAL:Jo,ServerValue:rs,TEST_ACCESS:ns}).setMultipleInstances(!0));t.registerVersion(u,l),Object(o.isNodeSdk)()&&(e.exports=n)}(r.default)}).call(this,n(147),n(205)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";var r=n(9),i=n(22),o=n(207),s=n(2),a=n(20);function u(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var l,c=u(r),h=((l={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",l["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",l["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",l["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",l["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",l["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",l["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",l["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",l["recaptcha-error"]="ReCAPTCHA error.",l),p=new s.ErrorFactory("appCheck","AppCheck",h),d=new Map,f={activated:!1,tokenObservers:[]},g={enabled:!1};function v(t){return d.get(t)||f}function m(t,e){d.set(t,e)}function y(){return g}function b(){return self.grecaptcha}function w(t){if(!v(t).activated)throw p.create("use-before-activation",{appName:t.name})}var C="https://www.google.com/recaptcha/api.js";function E(t,e){var n=v(t),r=new s.Deferred;m(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,a=document.createElement("div");a.id=i,a.style.display="none",document.body.appendChild(a);var u=b();return u?u.ready((function(){O(t,e,u,i),r.resolve(u)})):function(t){var e=document.createElement("script");e.src=""+C,e.onload=t,document.head.appendChild(e)}((function(){var n=b();if(!n)throw new Error("no recaptcha");n.ready((function(){O(t,e,n,i),r.resolve(n)}))})),r.promise}function _(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:return w(t),[4,v(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise((function(n,r){var i=v(t).reCAPTCHAState;e.ready((function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function O(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),s=v(t);m(t,o.__assign(o.__assign({},s),{reCAPTCHAState:o.__assign(o.__assign({},s.reCAPTCHAState),{widgetId:i})}))}var T="https://content-firebaseappcheck.googleapis.com/v1beta",S="exchangeRecaptchaToken",R="exchangeDebugToken",P={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},x=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new s.Deferred,[4,(r=this.getNextRun(t),new Promise((function(t){setTimeout(t,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new s.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function A(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,(function(){var t,i,s,a,u,l,c,h,d,f;return o.__generator(this,(function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,s)];case 2:return a=o.sent(),[3,4];case 3:throw u=o.sent(),p.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==a.status)throw p.create("fetch-status-error",{httpStatus:a.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,a.json()];case 6:return l=o.sent(),[3,8];case 7:throw c=o.sent(),p.create("fetch-parse-error",{originalErrorMessage:c.message});case 8:if(!(h=l.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw p.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+l.ttl});return d=1e3*Number(h[1]),f=Date.now(),[2,{token:l.attestationToken,expireTimeMillis:f+d,issuedAtTimeMillis:f}]}}))}))}function D(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:T+"/projects/"+r+"/apps/"+i+":"+S+"?key="+o,body:{recaptcha_token:e}}}function I(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:T+"/projects/"+r+"/apps/"+i+":"+R+"?key="+o,body:{debug_token:e}}}var N="firebase-app-check-database",k=1,L="firebase-app-check-store",M="debug-token",F=null;function j(){return F||(F=new Promise((function(t,e){try{var n=indexedDB.open(N,k);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(p.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(L,{keyPath:"compositeKey"})}}}catch(r){e(p.create("storage-open",{originalErrorMessage:r.message}))}})))}function G(t){return W(B(t))}function V(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,j()];case 1:return n=o.sent(),r=n.transaction(L,"readwrite"),i=r.objectStore(L),s=i.put({compositeKey:t,value:e}),[2,new Promise((function(t,e){s.onsuccess=function(e){t()},r.onerror=function(t){var n;e(p.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function W(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,j()];case 1:return e=o.sent(),n=e.transaction(L,"readonly"),r=n.objectStore(L),i=r.get(t),[2,new Promise((function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(p.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function B(t){return t.options.appId+"-"+t.name}var H=new a.Logger("@firebase/app-check");function U(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!s.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,G(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),H.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}}))}))}function z(t,e){return s.isIndexedDBAvailable()?function(t,e){return V(B(t),e)}(t,e).catch((function(t){H.warn("Failed to write token to indexeddb. Error: "+t)})):Promise.resolve()}function q(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,W(M)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),(r=e,V(M,r)).catch((function(t){return H.warn("Failed to persist debug token to indexeddb. Error: "+t)})),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r}))}))}function K(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){if((t=y()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var Y={error:"UNKNOWN_ERROR"};function X(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,u,l,c,h,d,f,g,b,C,E,O;return o.__generator(this,(function(T){switch(T.label){case 0:return w(t),r=v(t),i=r.token,a=void 0,i?[3,2]:[4,U(t)];case 1:(u=T.sent())&&Z(u)&&(i=u,m(t,o.__assign(o.__assign({},r),{token:i})),J(t,{token:i.token})),T.label=2;case 2:return!n&&i&&Z(i)?[2,{token:i.token}]:y().enabled?(c=A,h=I,d=[t],[4,K()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,d.concat([T.sent()])),e])];case 4:return l=T.sent(),[4,z(t,l)];case 5:return T.sent(),m(t,o.__assign(o.__assign({},r),{token:l})),[2,{token:l.token}];case 6:return T.trys.push([6,12,,13]),r.customProvider?[4,r.customProvider.getToken()]:[3,8];case 7:return f=T.sent(),g=s.issuedAtTime(f.token),b=null!==g&&g<Date.now()&&g>0?1e3*g:Date.now(),i=o.__assign(o.__assign({},f),{issuedAtTimeMillis:b}),[3,11];case 8:return[4,_(t).catch((function(t){throw p.create("recaptcha-error")}))];case 9:return C=T.sent(),[4,A(D(t,C),e)];case 10:i=T.sent(),T.label=11;case 11:return[3,13];case 12:return E=T.sent(),H.error(E),a=E,[3,13];case 13:return i?[3,14]:(O=function(t){return{token:(e=Y,s.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(a),[3,16]);case 14:return O={token:i.token},m(t,o.__assign(o.__assign({},r),{token:i})),[4,z(t,i)];case 15:T.sent(),T.label=16;case 16:return J(t,O),[2,O]}}))}))}function Q(t,e,n,r,i){var s=v(t),a={next:r,error:i,type:n},u=o.__assign(o.__assign({},s),{tokenObservers:o.__spreadArray(o.__spreadArray([],s.tokenObservers),[a])});if(!u.tokenRefresher){var l=function(t,e){var n=this;return new x((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return v(t).token?[3,2]:[4,X(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,X(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var e=v(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),P.RETRIAL_MIN_WAIT,P.RETRIAL_MAX_WAIT)}(t,e);u.tokenRefresher=l}if(u.tokenRefresher.isRunning()||!0!==s.isTokenAutoRefreshEnabled||u.tokenRefresher.start(),s.token&&Z(s.token)){var c=s.token;Promise.resolve().then((function(){return r({token:c.token})})).catch((function(){}))}m(t,u)}function $(t,e){var n=v(t),r=n.tokenObservers.filter((function(t){return t.next!==e}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(t,o.__assign(o.__assign({},n),{tokenObservers:r}))}function J(t,e){for(var n=0,r=v(t).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(o){}}}function Z(t){return t.expireTimeMillis-Date.now()>0}function tt(t,e){return{app:t,activate:function(e,n){return function(t,e,n){var r=v(t);if(r.activated)throw p.create("already-activated",{appName:t.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"===typeof e?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,m(t,i),i.siteKey&&E(t,i.siteKey).catch((function(){}))}(t,e,n)},setTokenAutoRefreshEnabled:function(e){return function(t,e){var n=v(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),m(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(t,e)},getToken:function(n){return function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,X(t,e,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(t,e,n)},onTokenChanged:function(n,r,i){return function(t,e,n,r,i){var o=function(){},s=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?s=n.error.bind(n):r&&(s=r),Q(t,e,"EXTERNAL",o,s),function(){return $(t,o)}}(t,e,n,r)},INTERNAL:{delete:function(){for(var e=0,n=v(t).tokenObservers;e<n.length;e++){var r=n[e];$(t,r.next)}return Promise.resolve()}}}}var et="@firebase/app-check",nt="0.2.0",rt="appCheck",it="app-check-internal";!function(t){t.INTERNAL.registerComponent(new i.Component(rt,(function(t){return tt(t.getProvider("app").getImmediate(),t.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(t,e,n){t.getProvider(it).initialize()}))),t.INTERNAL.registerComponent(new i.Component(it,(function(t){return function(t,e){return{getToken:function(n){return X(t,e,n)},addTokenListener:function(n){return Q(t,e,"INTERNAL",n)},removeTokenListener:function(e){return $(t,e)}}}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(et,nt)}(c.default),function(){var t=s.getGlobal();if("string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=y();e.enabled=!0;var n=new s.Deferred;e.token=n,"string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(q())}}()},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return p})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__spreadArray",(function(){return y})),n.d(e,"__await",(function(){return b})),n.d(e,"__asyncGenerator",(function(){return w})),n.d(e,"__asyncDelegator",(function(){return C})),n.d(e,"__asyncValues",(function(){return E})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return T})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return R})),n.d(e,"__classPrivateFieldSet",(function(){return P}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var p=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function d(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||p(e,t,n)}function f(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function w(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof b?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){a("next",t)}function l(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function C(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var O=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&p(e,t,n);return O(e,t),e}function S(t){return t&&t.__esModule?t:{default:t}}function R(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function P(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),s=new R(r||[]);return o._invoke=function(t,e,n){var r=c;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=O(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,s),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=u;var c="suspendedStart",h="suspendedYield",p="executing",d="completed",f={};function g(){}function v(){}function m(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==n&&r.call(w,o)&&(y=w);var C=m.prototype=g.prototype=Object.create(y);function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function _(t){var e;this._invoke=function(n,i){function o(){return new Promise((function(e,o){!function e(n,i,o,s){var a=l(t[n],t,i);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"===typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,o,s)}),(function(t){e("throw",t,o,s)})):Promise.resolve(c).then((function(t){u.value=t,o(u)}),(function(t){return e("throw",t,o,s)}))}s(a.arg)}(n,i,e,o)}))}return e=e?e.then(o,o):o()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:x}}function x(){return{value:e,done:!0}}return v.prototype=C.constructor=m,m.constructor=v,m[a]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},E(_.prototype),_.prototype[s]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,r,i){var o=new _(u(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(C),C[a]="Generator",C[o]=function(){return this},C.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";var r=n(35),i=n(168),o=n(210),s=n(174);function a(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=a(n(171));u.Axios=o,u.create=function(t){return a(s(u.defaults,t))},u.Cancel=n(175),u.CancelToken=n(223),u.isCancel=n(170),u.all=function(t){return Promise.all(t)},u.spread=n(224),u.isAxiosError=n(225),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";var r=n(35),i=n(169),o=n(211),s=n(212),a=n(174);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(a(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,r){return this.request(a(r||{},{method:t,url:e,data:n}))}})),t.exports=u},function(t,e,n){"use strict";var r=n(35);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(35),i=n(213),o=n(170),s=n(171);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return a(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(35);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(35);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(173);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(35);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(219),i=n(220);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(35),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},function(t,e,n){"use strict";var r=n(35);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(175);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";t.exports=function(t){return"object"===typeof t&&!0===t.isAxiosError}}]]);
//# sourceMappingURL=2.a713e52b.chunk.js.map